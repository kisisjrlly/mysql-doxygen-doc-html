<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/key.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('key_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">key.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__base_8h_source.html">my_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__inttypes_8h_source.html">my_inttypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="key__spec_8h_source.html">sql/key_spec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__plugin__ref_8h_source.html">sql/sql_plugin_ref.h</a>&quot;</code><br />
</div>
<p><a href="key_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFOREIGN__KEY.html">FOREIGN_KEY</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKEY__PART__INFO.html">KEY_PART_INFO</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classKEY.html">KEY</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a478f3c576fdb65b5f049cdde724da3ed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#a478f3c576fdb65b5f049cdde724da3ed">REC_PER_KEY_UNKNOWN</a>&#160;&#160;&#160;-1.0f</td></tr>
<tr class="memdesc:a478f3c576fdb65b5f049cdde724da3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">If an entry for a key part in KEY::rec_per_key_float[] has this value, then the storage engine has not provided a value for it and the rec_per_key value for this key part is unknown.  <a href="#a478f3c576fdb65b5f049cdde724da3ed">More...</a><br /></td></tr>
<tr class="separator:a478f3c576fdb65b5f049cdde724da3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae3df3cc545a855f3d712ce9476da6a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#a8ae3df3cc545a855f3d712ce9476da6a">IN_MEMORY_ESTIMATE_UNKNOWN</a>&#160;&#160;&#160;-1.0</td></tr>
<tr class="memdesc:a8ae3df3cc545a855f3d712ce9476da6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the "in memory estimate" for a table (in ha_statistics.table_in_mem_estimate) or index (in KEY::m_in_memory_estimate) is not known or not set by the storage engine, then it should have the following value.  <a href="#a8ae3df3cc545a855f3d712ce9476da6a">More...</a><br /></td></tr>
<tr class="separator:a8ae3df3cc545a855f3d712ce9476da6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae7bdcd45e9cabd5fc086674768553c14"><td class="memItemLeft" align="right" valign="top">typedef float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#ae7bdcd45e9cabd5fc086674768553c14">rec_per_key_t</a></td></tr>
<tr class="memdesc:ae7bdcd45e9cabd5fc086674768553c14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data type for records per key estimates that are stored in the KEY::rec_per_key_float[] array.  <a href="#ae7bdcd45e9cabd5fc086674768553c14">More...</a><br /></td></tr>
<tr class="separator:ae7bdcd45e9cabd5fc086674768553c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa0299450628810422a8de01f9c9a39fa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#aa0299450628810422a8de01f9c9a39fa">find_ref_key</a> (<a class="el" href="classKEY.html">KEY</a> *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> key_count, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="structrecord.html">record</a>, <a class="el" href="classField.html">Field</a> *field, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *<a class="el" href="mi__test1_8cc.html#ae8c61f1c9b2c2ce361a5ea70ad97b577">key_length</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *keypart)</td></tr>
<tr class="separator:aa0299450628810422a8de01f9c9a39fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97724196cd645daae9ba18f5d9741bde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#a97724196cd645daae9ba18f5d9741bde">key_copy</a> (<a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *to_key, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *from_record, const <a class="el" href="classKEY.html">KEY</a> *key_info, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mi__test1_8cc.html#ae8c61f1c9b2c2ce361a5ea70ad97b577">key_length</a>)</td></tr>
<tr class="memdesc:a97724196cd645daae9ba18f5d9741bde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy part of a record that forms a key or key prefix to a buffer.  <a href="#a97724196cd645daae9ba18f5d9741bde">More...</a><br /></td></tr>
<tr class="separator:a97724196cd645daae9ba18f5d9741bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eec724989f9d8c46ea7158e31a026ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#a4eec724989f9d8c46ea7158e31a026ef">key_restore</a> (<a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *to_record, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *from_key, const <a class="el" href="classKEY.html">KEY</a> *key_info, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mi__test1_8cc.html#ae8c61f1c9b2c2ce361a5ea70ad97b577">key_length</a>)</td></tr>
<tr class="memdesc:a4eec724989f9d8c46ea7158e31a026ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore a key from some buffer to record.  <a href="#a4eec724989f9d8c46ea7158e31a026ef">More...</a><br /></td></tr>
<tr class="separator:a4eec724989f9d8c46ea7158e31a026ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7381ff74621b5ffaf4fb6fbf9940455"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#af7381ff74621b5ffaf4fb6fbf9940455">key_cmp_if_same</a> (const <a class="el" href="structTABLE.html">TABLE</a> *table, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mi__test1_8cc.html#ae8c61f1c9b2c2ce361a5ea70ad97b577">key_length</a>)</td></tr>
<tr class="memdesc:af7381ff74621b5ffaf4fb6fbf9940455"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare if a key has changed.  <a href="#af7381ff74621b5ffaf4fb6fbf9940455">More...</a><br /></td></tr>
<tr class="separator:af7381ff74621b5ffaf4fb6fbf9940455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf7a39c196b139214c26ce8b5ff38989"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#adf7a39c196b139214c26ce8b5ff38989">key_unpack</a> (<a class="el" href="classString.html">String</a> *to, <a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="classKEY.html">KEY</a> *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="separator:adf7a39c196b139214c26ce8b5ff38989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7448b6d2163e72e300850d4087fc2aeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#a7448b6d2163e72e300850d4087fc2aeb">field_unpack</a> (<a class="el" href="classString.html">String</a> *to, <a class="el" href="classField.html">Field</a> *field, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> max_length, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> prefix_key)</td></tr>
<tr class="memdesc:a7448b6d2163e72e300850d4087fc2aeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpack a field and append it.  <a href="#a7448b6d2163e72e300850d4087fc2aeb">More...</a><br /></td></tr>
<tr class="separator:a7448b6d2163e72e300850d4087fc2aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7517c188bec5b15de9527d3503a7d0ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#a7517c188bec5b15de9527d3503a7d0ee">is_key_used</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx, const <a class="el" href="structMY__BITMAP.html">MY_BITMAP</a> *fields)</td></tr>
<tr class="separator:a7517c188bec5b15de9527d3503a7d0ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cea0636b95e59e32d6cd8b93d2d107"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#a38cea0636b95e59e32d6cd8b93d2d107">key_cmp</a> (<a class="el" href="classKEY__PART__INFO.html">KEY_PART_INFO</a> *key_part, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mi__test1_8cc.html#ae8c61f1c9b2c2ce361a5ea70ad97b577">key_length</a>)</td></tr>
<tr class="memdesc:a38cea0636b95e59e32d6cd8b93d2d107"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare key in record buffer to a given key.  <a href="#a38cea0636b95e59e32d6cd8b93d2d107">More...</a><br /></td></tr>
<tr class="separator:a38cea0636b95e59e32d6cd8b93d2d107"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93181503311c7e12da46d3feb9f2b0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#aa93181503311c7e12da46d3feb9f2b0f">key_cmp2</a> (<a class="el" href="classKEY__PART__INFO.html">KEY_PART_INFO</a> *key_part, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="mi__test2_8cc.html#a39586bf0934bc10a56cedbf340aded85">key1</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> key1_length, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="mi__test2_8cc.html#af8cb0fe63d8fb11a50d3dc772d004576">key2</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> key2_length)</td></tr>
<tr class="memdesc:aa93181503311c7e12da46d3feb9f2b0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two given keys.  <a href="#aa93181503311c7e12da46d3feb9f2b0f">More...</a><br /></td></tr>
<tr class="separator:aa93181503311c7e12da46d3feb9f2b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0af7a98b4dcf348d984c2f93734f9a35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="key_8h.html#a0af7a98b4dcf348d984c2f93734f9a35">key_rec_cmp</a> (<a class="el" href="classKEY.html">KEY</a> **key_info, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *a, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *b)</td></tr>
<tr class="memdesc:a0af7a98b4dcf348d984c2f93734f9a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two records in index order.  <a href="#a0af7a98b4dcf348d984c2f93734f9a35">More...</a><br /></td></tr>
<tr class="separator:a0af7a98b4dcf348d984c2f93734f9a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8ae3df3cc545a855f3d712ce9476da6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ae3df3cc545a855f3d712ce9476da6a">&#9670;&nbsp;</a></span>IN_MEMORY_ESTIMATE_UNKNOWN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IN_MEMORY_ESTIMATE_UNKNOWN&#160;&#160;&#160;-1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the "in memory estimate" for a table (in ha_statistics.table_in_mem_estimate) or index (in KEY::m_in_memory_estimate) is not known or not set by the storage engine, then it should have the following value. </p>

</div>
</div>
<a id="a478f3c576fdb65b5f049cdde724da3ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a478f3c576fdb65b5f049cdde724da3ed">&#9670;&nbsp;</a></span>REC_PER_KEY_UNKNOWN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REC_PER_KEY_UNKNOWN&#160;&#160;&#160;-1.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If an entry for a key part in KEY::rec_per_key_float[] has this value, then the storage engine has not provided a value for it and the rec_per_key value for this key part is unknown. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ae7bdcd45e9cabd5fc086674768553c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7bdcd45e9cabd5fc086674768553c14">&#9670;&nbsp;</a></span>rec_per_key_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef float <a class="el" href="key_8h.html#ae7bdcd45e9cabd5fc086674768553c14">rec_per_key_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data type for records per key estimates that are stored in the KEY::rec_per_key_float[] array. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7448b6d2163e72e300850d4087fc2aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7448b6d2163e72e300850d4087fc2aeb">&#9670;&nbsp;</a></span>field_unpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void field_unpack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classField.html">Field</a> *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>max_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>prefix_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unpack a field and append it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">to</td><td>String to append the field contents to. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">field</td><td>Field to unpack. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">max_length</td><td>Maximum length of field to unpack or 0 for unlimited. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">prefix_key</td><td>The field is used as a prefix key. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa0299450628810422a8de01f9c9a39fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0299450628810422a8de01f9c9a39fa">&#9670;&nbsp;</a></span>find_ref_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_ref_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classKEY.html">KEY</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classField.html">Field</a> *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *&#160;</td>
          <td class="paramname"><em>keypart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7517c188bec5b15de9527d3503a7d0ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7517c188bec5b15de9527d3503a7d0ee">&#9670;&nbsp;</a></span>is_key_used()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_key_used </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structMY__BITMAP.html">MY_BITMAP</a> *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a38cea0636b95e59e32d6cd8b93d2d107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38cea0636b95e59e32d6cd8b93d2d107">&#9670;&nbsp;</a></span>key_cmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int key_cmp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classKEY__PART__INFO.html">KEY_PART_INFO</a> *&#160;</td>
          <td class="paramname"><em>key_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare key in record buffer to a given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_part</td><td>Key part handler </td></tr>
    <tr><td class="paramname">key</td><td>Key to compare to value in table-&gt;record[0] </td></tr>
    <tr><td class="paramname">key_length</td><td>length of 'key'</td></tr>
  </table>
  </dd>
</dl>
<p>The function compares given key and key in record buffer, part by part, using info from key_part arg. Since callers expect before/after rather than lesser/greater, result depends on the HA_REVERSE_SORT flag of the key part. E.g. For ASC key part and two keys, 'A' and 'Z', -1 will be returned. For same keys, but DESC key part, 1 will be returned.</p>
<dl class="section return"><dt>Returns</dt><dd>The return value is SIGN(key_in_row - range_key):<ul>
<li>0 Key is equal to record's key</li>
<li>-1 Key is before record's key</li>
<li>1 Key is after record's key</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>: keep this function and key_cmp2() in sync </dd></dl>

</div>
</div>
<a id="aa93181503311c7e12da46d3feb9f2b0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa93181503311c7e12da46d3feb9f2b0f">&#9670;&nbsp;</a></span>key_cmp2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int key_cmp2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classKEY__PART__INFO.html">KEY_PART_INFO</a> *&#160;</td>
          <td class="paramname"><em>key_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>key1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key1_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>key2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key2_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare two given keys. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_part</td><td>Key part handler </td></tr>
    <tr><td class="paramname">key1</td><td>Key to be compared with key2 </td></tr>
    <tr><td class="paramname">key1_length</td><td>length of 'key1' </td></tr>
    <tr><td class="paramname">key2</td><td>Key to be compared with key1 </td></tr>
    <tr><td class="paramname">key2_length</td><td>length of 'key2'</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The return value is an integral value that takes into account ASC/DESC order of keyparts and indicates the relationship between the two keys:<ul>
<li>0 key1 equal to key2</li>
<li>-1 Key1 before Key2</li>
<li>1 Key1 after Key2 </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>: keep this function and key_cmp() in sync</dd></dl>
<p>Below comparison code is under the assumption that key1_length and key2_length are same and key1_length, key2_length are non zero value. </p><dl class="section see"><dt>See also</dt><dd>key_cmp() </dd></dl>

</div>
</div>
<a id="af7381ff74621b5ffaf4fb6fbf9940455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7381ff74621b5ffaf4fb6fbf9940455">&#9670;&nbsp;</a></span>key_cmp_if_same()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> key_cmp_if_same </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare if a key has changed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>TABLE </td></tr>
    <tr><td class="paramname">key</td><td>key to compare to row </td></tr>
    <tr><td class="paramname">idx</td><td>Index used </td></tr>
    <tr><td class="paramname">key_length</td><td>Length of key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In theory we could just call field-&gt;cmp() for all field types, but as we are only interested if a key has changed (not if the key is larger or smaller than the previous value) we can do things a bit faster by using memcmp() instead.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If key is equal </td></tr>
    <tr><td class="paramname">1</td><td>Key has changed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97724196cd645daae9ba18f5d9741bde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97724196cd645daae9ba18f5d9741bde">&#9670;&nbsp;</a></span>key_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void key_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>to_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>from_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classKEY.html">KEY</a> *&#160;</td>
          <td class="paramname"><em>key_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy part of a record that forms a key or key prefix to a buffer. </p>
<p>The function takes a complete table record (as e.g. retrieved by handler::index_read()), and a description of an index on the same table, and extracts the first key_length bytes of the record which are part of a key into to_key. If length == 0 then copy all bytes from the record that form a key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_key</td><td>buffer that will be used as a key </td></tr>
    <tr><td class="paramname">from_record</td><td>full record to be copied from </td></tr>
    <tr><td class="paramname">key_info</td><td>descriptor of the index </td></tr>
    <tr><td class="paramname">key_length</td><td>specifies length of all keyparts that will be copied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0af7a98b4dcf348d984c2f93734f9a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0af7a98b4dcf348d984c2f93734f9a35">&#9670;&nbsp;</a></span>key_rec_cmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int key_rec_cmp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classKEY.html">KEY</a> **&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>first_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>second_rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare two records in index order. </p>
<p>This method is set-up such that it can be called directly from the priority queue and it is attempted to be optimised as much as possible since this will be called O(N * log N) times while performing a merge sort in various places in the code.</p>
<p>We retrieve the pointer to table-&gt;record[0] using the fact that key_parts have an offset making it possible to calculate the start of the record. We need to get the diff to the compared record since none of the records being compared are stored in table-&gt;record[0].</p>
<p>We first check for NULL values, if there are no NULL values we use a compare method that gets two field pointers and a max length and return the result of the comparison.</p>
<p>key is a null terminated array, since in some cases (clustered primary key) it must compare more than one index. We only compare the fields that are specified in table-&gt;read_set and stop at the first non set field. The first must be set!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Null terminated array of index information </td></tr>
    <tr><td class="paramname">first_rec</td><td>Pointer to record compare with </td></tr>
    <tr><td class="paramname">second_rec</td><td>Pointer to record compare against first_rec</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return value is less, equal or greater than 0 if first rec is sorted before, same or after second rec. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Keys are equal </td></tr>
    <tr><td class="paramname">-1</td><td>second_rec is after first_rec </td></tr>
    <tr><td class="paramname">+1</td><td>first_rec is after second_rec </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4eec724989f9d8c46ea7158e31a026ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eec724989f9d8c46ea7158e31a026ef">&#9670;&nbsp;</a></span>key_restore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void key_restore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>to_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>from_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classKEY.html">KEY</a> *&#160;</td>
          <td class="paramname"><em>key_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore a key from some buffer to record. </p>
<p>This function converts a key into record format. It can be used in cases when we want to return a key as a result row.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to_record</td><td>record buffer where the key will be restored to </td></tr>
    <tr><td class="paramname">from_key</td><td>buffer that contains a key </td></tr>
    <tr><td class="paramname">key_info</td><td>descriptor of the index </td></tr>
    <tr><td class="paramname">key_length</td><td>specifies length of all keyparts that will be restored </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adf7a39c196b139214c26ce8b5ff38989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf7a39c196b139214c26ce8b5ff38989">&#9670;&nbsp;</a></span>key_unpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void key_unpack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classKEY.html">KEY</a> *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="key_8h.html">key.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
