<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql-common/net_serv.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('net__serv_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">net_serv.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file is the net layer API for the MySQL client/server protocol.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;<a class="el" href="log__builtins_8h_source.html">mysql/components/services/log_builtins.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="my__byteorder_8h_source.html">my_byteorder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__compiler_8h_source.html">my_compiler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__io_8h_source.html">my_io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__macros_8h_source.html">my_macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql_8h_source.html">mysql.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="service__mysql__alloc_8h_source.html">mysql/service_mysql_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__async_8h_source.html">mysql_async.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__com_8h_source.html">mysql_com.h</a>&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="violite_8h_source.html">violite.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__memory__key_8h_source.html">sql/psi_memory_key.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__com__server_8h_source.html">mysql_com_server.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af55a2f55a817a51ed17d4f1d9a21e4bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#af55a2f55a817a51ed17d4f1d9a21e4bb">thd_increment_bytes_sent</a> (size_t length)</td></tr>
<tr class="separator:af55a2f55a817a51ed17d4f1d9a21e4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d9382dfc3c1110cfd42f2cefef0c21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a83d9382dfc3c1110cfd42f2cefef0c21">thd_increment_bytes_received</a> (size_t length)</td></tr>
<tr class="separator:a83d9382dfc3c1110cfd42f2cefef0c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae329ddb39970a14c6f1af6a3f0933208"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ae329ddb39970a14c6f1af6a3f0933208">net_write_buff</a> (<a class="el" href="structNET.html">NET</a> *net, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *packet, size_t len)</td></tr>
<tr class="memdesc:ae329ddb39970a14c6f1af6a3f0933208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Caching the data in a local buffer before sending it.  <a href="#ae329ddb39970a14c6f1af6a3f0933208">More...</a><br /></td></tr>
<tr class="separator:ae329ddb39970a14c6f1af6a3f0933208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f9e4e863b4de43853b92eb05beba52"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a46f9e4e863b4de43853b92eb05beba52">compress_packet</a> (<a class="el" href="structNET.html">NET</a> *net, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *packet, size_t *length)</td></tr>
<tr class="memdesc:a46f9e4e863b4de43853b92eb05beba52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress and encapsulate a packet into a compressed packet.  <a href="#a46f9e4e863b4de43853b92eb05beba52">More...</a><br /></td></tr>
<tr class="separator:a46f9e4e863b4de43853b92eb05beba52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f9704fd5a6f3bf651ebef3995ed4b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structNET__EXTENSION.html">NET_EXTENSION</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#aa2f9704fd5a6f3bf651ebef3995ed4b2">net_extension_init</a> ()</td></tr>
<tr class="separator:aa2f9704fd5a6f3bf651ebef3995ed4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ad9b7ba8cf0f474f19282dfcc0d08a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a5ad9b7ba8cf0f474f19282dfcc0d08a9">net_extension_free</a> (<a class="el" href="structNET.html">NET</a> *net)</td></tr>
<tr class="separator:a5ad9b7ba8cf0f474f19282dfcc0d08a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dfd7b75bed4c6670c715e018785224a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmysql__compress__context.html">mysql_compress_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a9dfd7b75bed4c6670c715e018785224a">compress_context</a> (<a class="el" href="structNET.html">NET</a> *net)</td></tr>
<tr class="memdesc:a9dfd7b75bed4c6670c715e018785224a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the appropiate compression_context based on caller.  <a href="#a9dfd7b75bed4c6670c715e018785224a">More...</a><br /></td></tr>
<tr class="separator:a9dfd7b75bed4c6670c715e018785224a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60681e408e07879e493136ca107f244"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ab60681e408e07879e493136ca107f244">my_net_init</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="structVio.html">Vio</a> *vio)</td></tr>
<tr class="memdesc:ab60681e408e07879e493136ca107f244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init with packet info.  <a href="#ab60681e408e07879e493136ca107f244">More...</a><br /></td></tr>
<tr class="separator:ab60681e408e07879e493136ca107f244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab71978513c49175a28c7ef3334a82250"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ab71978513c49175a28c7ef3334a82250">net_end</a> (<a class="el" href="structNET.html">NET</a> *net)</td></tr>
<tr class="separator:ab71978513c49175a28c7ef3334a82250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae702a4a20c52d8a27915df79e916c2fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ae702a4a20c52d8a27915df79e916c2fd">net_claim_memory_ownership</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> claim)</td></tr>
<tr class="separator:ae702a4a20c52d8a27915df79e916c2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b34f13d760582e92a41a92064f3f97d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a0b34f13d760582e92a41a92064f3f97d">net_realloc</a> (<a class="el" href="structNET.html">NET</a> *net, size_t length)</td></tr>
<tr class="memdesc:a0b34f13d760582e92a41a92064f3f97d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realloc the packet buffer.  <a href="#a0b34f13d760582e92a41a92064f3f97d">More...</a><br /></td></tr>
<tr class="separator:a0b34f13d760582e92a41a92064f3f97d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fba7ce3e60589885cb6d9e1c8da0167"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a0fba7ce3e60589885cb6d9e1c8da0167">net_clear</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_buffer)</td></tr>
<tr class="memdesc:a0fba7ce3e60589885cb6d9e1c8da0167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear (reinitialize) the NET structure for a new command.  <a href="#a0fba7ce3e60589885cb6d9e1c8da0167">More...</a><br /></td></tr>
<tr class="separator:a0fba7ce3e60589885cb6d9e1c8da0167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b9ce95260a6d450d6f206557417a0cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a9b9ce95260a6d450d6f206557417a0cb">net_flush</a> (<a class="el" href="structNET.html">NET</a> *net)</td></tr>
<tr class="memdesc:a9b9ce95260a6d450d6f206557417a0cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush write_buffer if not empty.  <a href="#a9b9ce95260a6d450d6f206557417a0cb">More...</a><br /></td></tr>
<tr class="separator:a9b9ce95260a6d450d6f206557417a0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61bc146760f53ba007e5059be2375e6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ad61bc146760f53ba007e5059be2375e6">net_should_retry</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *retry_count)</td></tr>
<tr class="memdesc:ad61bc146760f53ba007e5059be2375e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a I/O operation should be retried later.  <a href="#ad61bc146760f53ba007e5059be2375e6">More...</a><br /></td></tr>
<tr class="separator:ad61bc146760f53ba007e5059be2375e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e6746b3afc1af46613f240ebba01ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a17e6746b3afc1af46613f240ebba01ae">my_net_write</a> (<a class="el" href="structNET.html">NET</a> *net, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *packet, size_t len)</td></tr>
<tr class="memdesc:a17e6746b3afc1af46613f240ebba01ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a logical packet with packet header.  <a href="#a17e6746b3afc1af46613f240ebba01ae">More...</a><br /></td></tr>
<tr class="separator:a17e6746b3afc1af46613f240ebba01ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31a5e8143b0e756718284d0617ab4f6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ac31a5e8143b0e756718284d0617ab4f6">reset_packet_write_state</a> (<a class="el" href="structNET.html">NET</a> *net)</td></tr>
<tr class="separator:ac31a5e8143b0e756718284d0617ab4f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f617dd5ff55edc21933efbb1d5c67a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a09f617dd5ff55edc21933efbb1d5c67a">begin_packet_write_state</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="el" href="version__token_8cc.html#a9e0992eae3950adccaf4847fbff4231d">command</a>, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *packet, size_t packet_len, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *optional_prefix, size_t prefix_len)</td></tr>
<tr class="separator:a09f617dd5ff55edc21933efbb1d5c67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ec74d2da655303b857a7713c534579"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ab7ec74d2da655303b857a7713c534579">net_write_vector_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, ssize_t *res)</td></tr>
<tr class="separator:ab7ec74d2da655303b857a7713c534579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c120ef62a4b9b70e3bdedb489ddc4d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a09c120ef62a4b9b70e3bdedb489ddc4d">net_write_command_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="el" href="version__token_8cc.html#a9e0992eae3950adccaf4847fbff4231d">command</a>, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *prefix, size_t prefix_len, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *packet, size_t packet_len, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *res)</td></tr>
<tr class="memdesc:a09c120ef62a4b9b70e3bdedb489ddc4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a command to the server in asynchronous way.  <a href="#a09c120ef62a4b9b70e3bdedb489ddc4d">More...</a><br /></td></tr>
<tr class="separator:a09c120ef62a4b9b70e3bdedb489ddc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1446d3869886d9a8e9c9a7e59948e2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#af1446d3869886d9a8e9c9a7e59948e2c">my_net_write_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *packet, size_t len, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *res)</td></tr>
<tr class="separator:af1446d3869886d9a8e9c9a7e59948e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ebb333556ad9d7a58daee60df9e57c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a0ebb333556ad9d7a58daee60df9e57c1">net_write_command</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> <a class="el" href="version__token_8cc.html#a9e0992eae3950adccaf4847fbff4231d">command</a>, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *header, size_t head_len, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *packet, size_t len)</td></tr>
<tr class="memdesc:a0ebb333556ad9d7a58daee60df9e57c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a command to the server.  <a href="#a0ebb333556ad9d7a58daee60df9e57c1">More...</a><br /></td></tr>
<tr class="separator:a0ebb333556ad9d7a58daee60df9e57c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e1216f636f07f49260e1a35e84db66e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a8e1216f636f07f49260e1a35e84db66e">net_write_raw_loop</a> (<a class="el" href="structNET.html">NET</a> *net, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *buf, size_t <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>)</td></tr>
<tr class="memdesc:a8e1216f636f07f49260e1a35e84db66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a determined number of bytes to a network handler.  <a href="#a8e1216f636f07f49260e1a35e84db66e">More...</a><br /></td></tr>
<tr class="separator:a8e1216f636f07f49260e1a35e84db66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbed321bde6dff80b1807918fb2641d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#afbed321bde6dff80b1807918fb2641d3">net_write_packet</a> (<a class="el" href="structNET.html">NET</a> *net, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *packet, size_t length)</td></tr>
<tr class="memdesc:afbed321bde6dff80b1807918fb2641d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a MySQL protocol packet to the network handler.  <a href="#afbed321bde6dff80b1807918fb2641d3">More...</a><br /></td></tr>
<tr class="separator:afbed321bde6dff80b1807918fb2641d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57785b796ea8a5eff80c280a48002ed9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a57785b796ea8a5eff80c280a48002ed9">net_read_raw_loop</a> (<a class="el" href="structNET.html">NET</a> *net, size_t <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>)</td></tr>
<tr class="memdesc:a57785b796ea8a5eff80c280a48002ed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a determined number of bytes from a network handler.  <a href="#a57785b796ea8a5eff80c280a48002ed9">More...</a><br /></td></tr>
<tr class="separator:a57785b796ea8a5eff80c280a48002ed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7045c6002af42d313190656fb4f5b238"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a7045c6002af42d313190656fb4f5b238">net_read_packet_header</a> (<a class="el" href="structNET.html">NET</a> *net)</td></tr>
<tr class="memdesc:a7045c6002af42d313190656fb4f5b238"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the header of a packet.  <a href="#a7045c6002af42d313190656fb4f5b238">More...</a><br /></td></tr>
<tr class="separator:a7045c6002af42d313190656fb4f5b238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020563f5dea0148b2d0ec8d6363585fa"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a020563f5dea0148b2d0ec8d6363585fa">net_read_available</a> (<a class="el" href="structNET.html">NET</a> *net, size_t <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>)</td></tr>
<tr class="separator:a020563f5dea0148b2d0ec8d6363585fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ba4a171fc535ce3cf7759f23956b7e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#af7ba4a171fc535ce3cf7759f23956b7e">net_read_data_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, size_t <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *err_ptr)</td></tr>
<tr class="separator:af7ba4a171fc535ce3cf7759f23956b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b107ee3cb793a00e4f1f1cce72a9a4e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a4b107ee3cb793a00e4f1f1cce72a9a4e">net_read_packet_header_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *err_ptr)</td></tr>
<tr class="separator:a4b107ee3cb793a00e4f1f1cce72a9a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeb9ff93bcda6033fbd7fcf254740974"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#afeb9ff93bcda6033fbd7fcf254740974">net_read_packet_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *ret)</td></tr>
<tr class="separator:afeb9ff93bcda6033fbd7fcf254740974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ec43d255a410b80b7ae76b4e9aaecd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a06ec43d255a410b80b7ae76b4e9aaecd">net_read_init_offsets</a> (<a class="el" href="structNET.html">NET</a> *net, size_t &amp;start_of_packet, size_t &amp;first_packet_offset, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> &amp;multi_byte_packet, size_t &amp;buf_length)</td></tr>
<tr class="memdesc:a06ec43d255a410b80b7ae76b4e9aaecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the offsets.  <a href="#a06ec43d255a410b80b7ae76b4e9aaecd">More...</a><br /></td></tr>
<tr class="separator:a06ec43d255a410b80b7ae76b4e9aaecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7070baaa562df8d39849b45182d65e7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#af7070baaa562df8d39849b45182d65e7">net_read_process_buffer</a> (<a class="el" href="structNET.html">NET</a> *net, size_t &amp;start_of_packet, size_t &amp;buf_length, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> &amp;multi_byte_packet, size_t &amp;first_packet_offset)</td></tr>
<tr class="memdesc:af7070baaa562df8d39849b45182d65e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the payload length in the packet, if it is found to multipacket omit the packet header of the subsequent packets.  <a href="#af7070baaa562df8d39849b45182d65e7">More...</a><br /></td></tr>
<tr class="separator:af7070baaa562df8d39849b45182d65e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91edc7491692459a6b94f4ae44446635"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a91edc7491692459a6b94f4ae44446635">net_read_update_offsets</a> (<a class="el" href="structNET.html">NET</a> *net, size_t start_of_packet, size_t first_packet_offset, size_t buf_length, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> multi_byte_packet)</td></tr>
<tr class="memdesc:a91edc7491692459a6b94f4ae44446635"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the offsets in the NET structure after reading the current packet.  <a href="#a91edc7491692459a6b94f4ae44446635">More...</a><br /></td></tr>
<tr class="separator:a91edc7491692459a6b94f4ae44446635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9bf1776d32f9171bf1d67617480b1b8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ab9bf1776d32f9171bf1d67617480b1b8">net_read_compressed_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *len_ptr)</td></tr>
<tr class="separator:ab9bf1776d32f9171bf1d67617480b1b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87e98e47823d5d9cb4cd2e7fdf994bcb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a87e98e47823d5d9cb4cd2e7fdf994bcb">net_read_uncompressed_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *len_ptr)</td></tr>
<tr class="memdesc:a87e98e47823d5d9cb4cd2e7fdf994bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the usual packet that is not compressed asynchronously.  <a href="#a87e98e47823d5d9cb4cd2e7fdf994bcb">More...</a><br /></td></tr>
<tr class="separator:a87e98e47823d5d9cb4cd2e7fdf994bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99810b7f34e2a52d8e5939d3977cd3d7"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a99810b7f34e2a52d8e5939d3977cd3d7">net_read_packet</a> (<a class="el" href="structNET.html">NET</a> *net, size_t *complen)</td></tr>
<tr class="memdesc:a99810b7f34e2a52d8e5939d3977cd3d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one (variable-length) MySQL protocol packet.  <a href="#a99810b7f34e2a52d8e5939d3977cd3d7">More...</a><br /></td></tr>
<tr class="separator:a99810b7f34e2a52d8e5939d3977cd3d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a830b91a0beaa109eb2de3fe92c90218d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a830b91a0beaa109eb2de3fe92c90218d">my_net_read_nonblocking</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *len_ptr)</td></tr>
<tr class="separator:a830b91a0beaa109eb2de3fe92c90218d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac999e9f5a250e9861553875d2a2030ad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#ac999e9f5a250e9861553875d2a2030ad">net_read_uncompressed_packet</a> (<a class="el" href="structNET.html">NET</a> *net, size_t &amp;len)</td></tr>
<tr class="memdesc:ac999e9f5a250e9861553875d2a2030ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one packet to net-&gt;buff + net-&gt;where_b.  <a href="#ac999e9f5a250e9861553875d2a2030ad">More...</a><br /></td></tr>
<tr class="separator:ac999e9f5a250e9861553875d2a2030ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f733e593553361fea31b27374c98ed"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a50f733e593553361fea31b27374c98ed">net_read_compressed_packet</a> (<a class="el" href="structNET.html">NET</a> *net, size_t &amp;len)</td></tr>
<tr class="separator:a50f733e593553361fea31b27374c98ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95459c0280e24b9aacd761d0cc6ad749"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a95459c0280e24b9aacd761d0cc6ad749">my_net_read</a> (<a class="el" href="structNET.html">NET</a> *net)</td></tr>
<tr class="memdesc:a95459c0280e24b9aacd761d0cc6ad749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a packet from the client/server and return it without the internal package header.  <a href="#a95459c0280e24b9aacd761d0cc6ad749">More...</a><br /></td></tr>
<tr class="separator:a95459c0280e24b9aacd761d0cc6ad749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813a0a36437c4c7f62b50fbb86617220"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a813a0a36437c4c7f62b50fbb86617220">my_net_set_read_timeout</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> timeout)</td></tr>
<tr class="separator:a813a0a36437c4c7f62b50fbb86617220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2256fff5962624fac7e47f8aec12402c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#a2256fff5962624fac7e47f8aec12402c">my_net_set_write_timeout</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> timeout)</td></tr>
<tr class="separator:a2256fff5962624fac7e47f8aec12402c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af20929dfb183a79591633069097e8159"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="net__serv_8cc.html#af20929dfb183a79591633069097e8159">my_net_set_retry_count</a> (<a class="el" href="structNET.html">NET</a> *net, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> retry_count)</td></tr>
<tr class="separator:af20929dfb183a79591633069097e8159"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file is the net layer API for the MySQL client/server protocol. </p>
<p>Write and read of logical packets to/from socket.</p>
<p>Writes are cached into net_buffer_length big packets. Read packets are reallocated dynamicly when reading big packets. Each logical packet has the following pre-info: 3 byte length &amp; 1 byte package-number. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a09f617dd5ff55edc21933efbb1d5c67a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f617dd5ff55edc21933efbb1d5c67a">&#9670;&nbsp;</a></span>begin_packet_write_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int begin_packet_write_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>packet_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>optional_prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>prefix_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9dfd7b75bed4c6670c715e018785224a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dfd7b75bed4c6670c715e018785224a">&#9670;&nbsp;</a></span>compress_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structmysql__compress__context.html">mysql_compress_context</a>* compress_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the appropiate compression_context based on caller. </p>
<p>If the caller is server then fetch is fromthe server extension structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>[in] NET structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">mysql_compress_context</td><td>structure pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46f9e4e863b4de43853b92eb05beba52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f9e4e863b4de43853b92eb05beba52">&#9670;&nbsp;</a></span>compress_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> * compress_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress and encapsulate a packet into a compressed packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">net</td><td>NET handler. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">packet</td><td>The packet to compress. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">length</td><td>Length of the packet.</td></tr>
  </table>
  </dd>
</dl>
<p>See <a class="el" href="page_protocol_basic_compression_packet.html#sect_protocol_basic_compression_packet_header">Compressed Packet Header</a> for a description of the header structure.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the (new) compressed packet. </dd></dl>

</div>
</div>
<a id="ab60681e408e07879e493136ca107f244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab60681e408e07879e493136ca107f244">&#9670;&nbsp;</a></span>my_net_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> my_net_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structVio.html">Vio</a> *&#160;</td>
          <td class="paramname"><em>vio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init with packet info. </p>

</div>
</div>
<a id="a95459c0280e24b9aacd761d0cc6ad749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95459c0280e24b9aacd761d0cc6ad749">&#9670;&nbsp;</a></span>my_net_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> my_net_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a packet from the client/server and return it without the internal package header. </p>
<p>If the packet is the first packet of a multi-packet packet (which is indicated by the length of the packet = 0xffffff) then all sub packets are read and concatenated.</p>
<p>If the packet was compressed, its uncompressed and the length of the uncompressed packet is returned.</p>
<dl class="section return"><dt>Returns</dt><dd>The function returns the length of the found packet or packet_error. net-&gt;read_pos points to the read data. </dd></dl>

</div>
</div>
<a id="a830b91a0beaa109eb2de3fe92c90218d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a830b91a0beaa109eb2de3fe92c90218d">&#9670;&nbsp;</a></span>my_net_read_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> my_net_read_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *&#160;</td>
          <td class="paramname"><em>len_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a813a0a36437c4c7f62b50fbb86617220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813a0a36437c4c7f62b50fbb86617220">&#9670;&nbsp;</a></span>my_net_set_read_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void my_net_set_read_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af20929dfb183a79591633069097e8159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af20929dfb183a79591633069097e8159">&#9670;&nbsp;</a></span>my_net_set_retry_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void my_net_set_retry_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>retry_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2256fff5962624fac7e47f8aec12402c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2256fff5962624fac7e47f8aec12402c">&#9670;&nbsp;</a></span>my_net_set_write_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void my_net_set_write_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a17e6746b3afc1af46613f240ebba01ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17e6746b3afc1af46613f240ebba01ae">&#9670;&nbsp;</a></span>my_net_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> my_net_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a logical packet with packet header. </p>
<p>Format: Packet length (3 bytes), packet number (1 byte) When compression is used, a 3 byte compression length is added.</p>
<dl class="section note"><dt>Note</dt><dd>If compression is used, the original packet is modified! </dd></dl>

</div>
</div>
<a id="af1446d3869886d9a8e9c9a7e59948e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1446d3869886d9a8e9c9a7e59948e2c">&#9670;&nbsp;</a></span>my_net_write_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> my_net_write_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae702a4a20c52d8a27915df79e916c2fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae702a4a20c52d8a27915df79e916c2fd">&#9670;&nbsp;</a></span>net_claim_memory_ownership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void net_claim_memory_ownership </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>claim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0fba7ce3e60589885cb6d9e1c8da0167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fba7ce3e60589885cb6d9e1c8da0167">&#9670;&nbsp;</a></span>net_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void net_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>check_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear (reinitialize) the NET structure for a new command. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Performs debug checking of the socket buffer to ensure that the protocol sequence is correct.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>NET handler </td></tr>
    <tr><td class="paramname">check_buffer</td><td>Whether to check the socket buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab71978513c49175a28c7ef3334a82250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71978513c49175a28c7ef3334a82250">&#9670;&nbsp;</a></span>net_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void net_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5ad9b7ba8cf0f474f19282dfcc0d08a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ad9b7ba8cf0f474f19282dfcc0d08a9">&#9670;&nbsp;</a></span>net_extension_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void net_extension_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa2f9704fd5a6f3bf651ebef3995ed4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f9704fd5a6f3bf651ebef3995ed4b2">&#9670;&nbsp;</a></span>net_extension_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structNET__EXTENSION.html">NET_EXTENSION</a>* net_extension_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b9ce95260a6d450d6f206557417a0cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b9ce95260a6d450d6f206557417a0cb">&#9670;&nbsp;</a></span>net_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_flush </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush write_buffer if not empty. </p>

</div>
</div>
<a id="a020563f5dea0148b2d0ec8d6363585fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a020563f5dea0148b2d0ec8d6363585fa">&#9670;&nbsp;</a></span>net_read_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> net_read_available </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9bf1776d32f9171bf1d67617480b1b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9bf1776d32f9171bf1d67617480b1b8">&#9670;&nbsp;</a></span>net_read_compressed_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> net_read_compressed_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *&#160;</td>
          <td class="paramname"><em>len_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a50f733e593553361fea31b27374c98ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50f733e593553361fea31b27374c98ed">&#9670;&nbsp;</a></span>net_read_compressed_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void net_read_compressed_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af7ba4a171fc535ce3cf7759f23956b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ba4a171fc535ce3cf7759f23956b7e">&#9670;&nbsp;</a></span>net_read_data_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> net_read_data_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>err_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a06ec43d255a410b80b7ae76b4e9aaecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ec43d255a410b80b7ae76b4e9aaecd">&#9670;&nbsp;</a></span>net_read_init_offsets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void net_read_init_offsets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>start_of_packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>first_packet_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> &amp;&#160;</td>
          <td class="paramname"><em>multi_byte_packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>buf_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the offsets. </p>
<p>If it is first packet then initialize the offsets from the beginning else initialize the offsets after the data last read in the old packet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">net</td><td>NET structure. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">start_of_packet</td><td>Starting offset of the packet to be read. In multipackets, points to the next header that will be erased. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">first_packet_offset</td><td>Starting offset of the packet to read. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">multi_byte_packet</td><td>Flag that indicate if packet is multibyte </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf_length</td><td>End of readable byte. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a99810b7f34e2a52d8e5939d3977cd3d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99810b7f34e2a52d8e5939d3977cd3d7">&#9670;&nbsp;</a></span>net_read_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t net_read_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>complen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read one (variable-length) MySQL protocol packet. </p>
<p>A MySQL packet consists of a header and a payload.</p>
<dl class="section remark"><dt>Remarks</dt><dd>Reads one packet to net-&gt;buff + net-&gt;where_b. </dd>
<dd>
Long packets are handled by my_net_read(). </dd>
<dd>
The network buffer is expanded if necessary.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The length of the packet, or <code>packet_error</code> on error. </dd></dl>

</div>
</div>
<a id="a7045c6002af42d313190656fb4f5b238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7045c6002af42d313190656fb4f5b238">&#9670;&nbsp;</a></span>net_read_packet_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_read_packet_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the header of a packet. </p>
<p>The MySQL protocol packet header consists of the length, in bytes, of the payload (packet data) and a serial number.</p>
<dl class="section remark"><dt>Remarks</dt><dd>The encoded length is the length of the packet payload, which does not include the packet header.</dd>
<dd>
The serial number is used to ensure that the packets are received in order. If the packet serial number does not match the expected value, a error is returned.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>NET handler.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error, false on success. </dd></dl>

</div>
</div>
<a id="a4b107ee3cb793a00e4f1f1cce72a9a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b107ee3cb793a00e4f1f1cce72a9a4e">&#9670;&nbsp;</a></span>net_read_packet_header_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> net_read_packet_header_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>err_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afeb9ff93bcda6033fbd7fcf254740974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeb9ff93bcda6033fbd7fcf254740974">&#9670;&nbsp;</a></span>net_read_packet_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> net_read_packet_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *&#160;</td>
          <td class="paramname"><em>ret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af7070baaa562df8d39849b45182d65e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7070baaa562df8d39849b45182d65e7">&#9670;&nbsp;</a></span>net_read_process_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_read_process_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>start_of_packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>buf_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> &amp;&#160;</td>
          <td class="paramname"><em>multi_byte_packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>first_packet_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the payload length in the packet, if it is found to multipacket omit the packet header of the subsequent packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">net</td><td>NET structures </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">start_of_packet</td><td>In multipackets, points to the next header that will be erased </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf_length</td><td>End of readable byte </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">multi_byte_packet</td><td>Flag that indicate if packet is multibyte </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">first_packet_offset</td><td>Starting offset of the packet to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The last packet read </td></tr>
    <tr><td class="paramname">false</td><td>Otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a57785b796ea8a5eff80c280a48002ed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57785b796ea8a5eff80c280a48002ed9">&#9670;&nbsp;</a></span>net_read_raw_loop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_read_raw_loop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a determined number of bytes from a network handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>NET handler. </td></tr>
    <tr><td class="paramname">count</td><td>The number of bytes to read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error, false on success. </dd></dl>

</div>
</div>
<a id="a87e98e47823d5d9cb4cd2e7fdf994bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87e98e47823d5d9cb4cd2e7fdf994bcb">&#9670;&nbsp;</a></span>net_read_uncompressed_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> net_read_uncompressed_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> *&#160;</td>
          <td class="paramname"><em>len_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the usual packet that is not compressed asynchronously. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">net</td><td>NET structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len_ptr</td><td>length of the packet read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status of the reads. </dd></dl>

</div>
</div>
<a id="ac999e9f5a250e9861553875d2a2030ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac999e9f5a250e9861553875d2a2030ad">&#9670;&nbsp;</a></span>net_read_uncompressed_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void net_read_uncompressed_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads one packet to net-&gt;buff + net-&gt;where_b. </p>
<p>If the packet is the first packet of a multi-packet packet (which is indicated by the length of the packet = 0xffffff) then all sub packets are read and concatenated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">net</td><td>NET structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>length of the packet read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a91edc7491692459a6b94f4ae44446635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91edc7491692459a6b94f4ae44446635">&#9670;&nbsp;</a></span>net_read_update_offsets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> net_read_update_offsets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>start_of_packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>first_packet_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>multi_byte_packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the offsets in the NET structure after reading the current packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">net</td><td>NET structure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_of_packet</td><td>In multipackets, points to the next header that will be erased. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">first_packet_offset</td><td>Starting offset of the packet to read. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_length</td><td>End of readable byte. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">multi_byte_packet</td><td>Flag that indicate if packet is multibyte </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0b34f13d760582e92a41a92064f3f97d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b34f13d760582e92a41a92064f3f97d">&#9670;&nbsp;</a></span>net_realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_realloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realloc the packet buffer. </p>

</div>
</div>
<a id="ad61bc146760f53ba007e5059be2375e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61bc146760f53ba007e5059be2375e6">&#9670;&nbsp;</a></span>net_should_retry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_should_retry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *&#160;</td>
          <td class="paramname"><em>retry_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether a I/O operation should be retried later. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>NET handler. </td></tr>
    <tr><td class="paramname">retry_count</td><td>Maximum number of interrupted operations.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Operation should be retried. </td></tr>
    <tr><td class="paramname">false</td><td>Operation should not be retried. Fatal error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae329ddb39970a14c6f1af6a3f0933208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae329ddb39970a14c6f1af6a3f0933208">&#9670;&nbsp;</a></span>net_write_buff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_write_buff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Caching the data in a local buffer before sending it. </p>
<p>Fill up net-&gt;buffer and send it to the client when full.</p>
<p>If the rest of the to-be-sent-packet is bigger than buffer, send it in one big block (to avoid copying to internal buffer). If not, copy the rest of the data to the buffer and return without sending data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>Network handler </td></tr>
    <tr><td class="paramname">packet</td><td>Packet to send </td></tr>
    <tr><td class="paramname">len</td><td>Length of packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The cached buffer can be sent as it is with 'net_flush()'. In this code we have to be careful to not send a packet longer than MAX_PACKET_LENGTH to net_write_packet() if we are using the compressed protocol as we store the length of the compressed packet in 3 bytes.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>ok </td></tr>
    <tr><td class="paramname">1</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ebb333556ad9d7a58daee60df9e57c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ebb333556ad9d7a58daee60df9e57c1">&#9670;&nbsp;</a></span>net_write_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_write_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>head_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a command to the server. </p>
<p>The reason for having both header and packet is so that libmysql can easy add a header to a special command (like prepared statements) without having to re-alloc the string.</p>
<p>As the command is part of the first data packet, we have to do some data juggling to put the command in there, without having to create a new packet.</p>
<p>This function will split big packets into sub-packets if needed. (Each sub packet can only be 2^24 bytes)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>NET handler </td></tr>
    <tr><td class="paramname">command</td><td>Command in MySQL server (enum enum_server_command) </td></tr>
    <tr><td class="paramname">header</td><td>Header to write after command </td></tr>
    <tr><td class="paramname">head_len</td><td>Length of header </td></tr>
    <tr><td class="paramname">packet</td><td>Query or parameter to query </td></tr>
    <tr><td class="paramname">len</td><td>Length of packet</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>ok </td></tr>
    <tr><td class="paramname">1</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a09c120ef62a4b9b70e3bdedb489ddc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09c120ef62a4b9b70e3bdedb489ddc4d">&#9670;&nbsp;</a></span>net_write_command_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> net_write_command_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>prefix_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>packet_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a command to the server in asynchronous way. </p>
<p>This function will first populate all headers in NET::async_write_headers, followed by payload in NET::async_write_vector. Once header and payload is populated in NET, were call net_write_vector_nonblocking to send the packets to server in an asynchronous way. </p>

</div>
</div>
<a id="afbed321bde6dff80b1807918fb2641d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbed321bde6dff80b1807918fb2641d3">&#9670;&nbsp;</a></span>net_write_packet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_write_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a MySQL protocol packet to the network handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>NET handler. </td></tr>
    <tr><td class="paramname">packet</td><td>The packet to write. </td></tr>
    <tr><td class="paramname">length</td><td>Length of the packet.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>The packet might be encapsulated into a compressed packet.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true on error, false on success. </dd></dl>

</div>
</div>
<a id="a8e1216f636f07f49260e1a35e84db66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1216f636f07f49260e1a35e84db66e">&#9670;&nbsp;</a></span>net_write_raw_loop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> net_write_raw_loop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a determined number of bytes to a network handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">net</td><td>NET handler. </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer containing the data to be written. </td></tr>
    <tr><td class="paramname">count</td><td>The length, in bytes, of the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error, false on success. </dd></dl>

</div>
</div>
<a id="ab7ec74d2da655303b857a7713c534579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7ec74d2da655303b857a7713c534579">&#9670;&nbsp;</a></span>net_write_vector_nonblocking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="plugin__auth__common_8h.html#a2ada025e0b1b63919d9f63889e729dd8">net_async_status</a> net_write_vector_nonblocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ssize_t *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac31a5e8143b0e756718284d0617ab4f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31a5e8143b0e756718284d0617ab4f6">&#9670;&nbsp;</a></span>reset_packet_write_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void reset_packet_write_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNET.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a83d9382dfc3c1110cfd42f2cefef0c21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d9382dfc3c1110cfd42f2cefef0c21">&#9670;&nbsp;</a></span>thd_increment_bytes_received()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thd_increment_bytes_received </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af55a2f55a817a51ed17d4f1d9a21e4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55a2f55a817a51ed17d4f1d9a21e4bb">&#9670;&nbsp;</a></span>thd_increment_bytes_sent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thd_increment_bytes_sent </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_2913283c2c056fd02c15e43c30113359.html">sql-common</a></li><li class="navelem"><a class="el" href="net__serv_8cc.html">net_serv.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
