<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/sp.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sp_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sp.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sp_8h_source.html">sql/sp.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__ctype_8h_source.html">m_ctype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__string_8h_source.html">m_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__alloc_8h_source.html">my_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__base_8h_source.html">my_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__loglevel_8h_source.html">my_loglevel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__psi__config_8h_source.html">my_psi_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sqlcommand_8h_source.html">my_sqlcommand.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__builtins_8h_source.html">mysql/components/services/log_builtins.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__shared_8h_source.html">mysql/components/services/log_shared.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__statement__bits_8h_source.html">mysql/components/services/psi_statement_bits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__sp_8h_source.html">mysql/psi/mysql_sp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__base_8h_source.html">mysql/psi/psi_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__com_8h_source.html">mysql_com.h</a>&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="auth__acls_8h_source.html">sql/auth/auth_acls.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="auth__common_8h_source.html">sql/auth/auth_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__security__ctx_8h_source.html">sql/auth/sql_security_ctx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="binlog_8h_source.html">sql/binlog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dictionary__client_8h_source.html">sql/dd/cache/dictionary_client.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd__routine_8h_source.html">sql/dd/dd_routine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd__utility_8h_source.html">sql/dd/dd_utility.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__type_8h_source.html">sql/dd/string_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="function_8h_source.html">sql/dd/types/function.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="procedure_8h_source.html">sql/dd/types/procedure.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="types_2routine_8h_source.html">sql/dd/types/routine.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="types_2schema_8h_source.html">sql/dd/types/schema.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2dd_2types_2trigger_8h_source.html">sql/dd/types/trigger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd__sp_8h_source.html">sql/dd_sp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd__sql__view_8h_source.html">sql/dd_sql_view.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd__table__share_8h_source.html">sql/dd_table_share.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug__sync_8h_source.html">sql/debug_sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="error__handler_8h_source.html">sql/error_handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2field_8h_source.html">sql/field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2handler_8h_source.html">sql/handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock_8h_source.html">sql/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__event_8h_source.html">sql/log_event.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mdl_8h_source.html">sql/mdl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysqld_8h_source.html">sql/mysqld.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2protocol_8h_source.html">sql/protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__memory__key_8h_source.html">sql/psi_memory_key.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="set__var_8h_source.html">sql/set_var.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sp__cache_8h_source.html">sql/sp_cache.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sp__head_8h_source.html">sql/sp_head.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sp__pcontext_8h_source.html">sql/sp_pcontext.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__class_8h_source.html">sql/sql_class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__const_8h_source.html">sql/sql_const.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__db_8h_source.html">sql/sql_db.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__digest__stream_8h_source.html">sql/sql_digest_stream.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__error_8h_source.html">sql/sql_error.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__list_8h_source.html">sql/sql_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__parse_8h_source.html">sql/sql_parse.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__show_8h_source.html">sql/sql_show.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__table_8h_source.html">sql/sql_table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="strfunc_8h_source.html">sql/strfunc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system__variables_8h_source.html">sql/system_variables.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2table_8h_source.html">sql/table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thd__raii_8h_source.html">sql/thd_raii.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thr__malloc_8h_source.html">sql/thr_malloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transaction_8h_source.html">sql/transaction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transaction__info_8h_source.html">sql/transaction_info.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__string_8h_source.html">sql_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="template__utils_8h_source.html">template_utils.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBad__db__error__handler.html">Bad_db_error_handler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2c0bfb44e4f0225856c2a5725a00cc08"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a2c0bfb44e4f0225856c2a5725a00cc08">SP_TYPE_STRING</a>(type)&#160;&#160;&#160;(type == <a class="el" href="group__GROUP__PARSER.html#gga9e3ffdbaa8d88485570eaf514d3808e5a6a72a6a776662a244f82d31e9274a07b">enum_sp_type::FUNCTION</a> ? &quot;FUNCTION&quot; : &quot;PROCEDURE&quot;)</td></tr>
<tr class="separator:a2c0bfb44e4f0225856c2a5725a00cc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a71316828ecc648f584975111db30f735"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a71316828ecc648f584975111db30f735">create_string</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classString.html">String</a> *buf, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, const char *db, size_t dblen, const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, size_t namelen, const char *params, size_t paramslen, const char *returns, size_t returnslen, const char *body, size_t bodylen, <a class="el" href="structst__sp__chistics.html">st_sp_chistics</a> *chistics, const <a class="el" href="lex__string_8h.html#a01c5da2ec635d24c374ba1a995dbe2aa">LEX_CSTRING</a> &amp;definer_user, const <a class="el" href="lex__string_8h.html#a01c5da2ec635d24c374ba1a995dbe2aa">LEX_CSTRING</a> &amp;definer_host, <a class="el" href="dd__event_8h.html#a20f7f65896651c6fcc973f518670c5a8">sql_mode_t</a> <a class="el" href="mysqlslap_8cc.html#a4a10d996a9b7a3526612df94bf767289">sql_mode</a>)</td></tr>
<tr class="memdesc:a71316828ecc648f584975111db30f735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates the CREATE...  <a href="#a71316828ecc648f584975111db30f735">More...</a><br /></td></tr>
<tr class="separator:a71316828ecc648f584975111db30f735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5265135207facb729304b13dd19ef987"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a5265135207facb729304b13dd19ef987">load_charset</a> (<a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *<a class="el" href="client__plugin_8cc.html#a7d0fe2f135db987da18cea87b4778737">mem_root</a>, <a class="el" href="classField.html">Field</a> *field, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *dflt_cs, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> **cs)</td></tr>
<tr class="separator:a5265135207facb729304b13dd19ef987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0678f42b6cd6c1cdd021ef97409e910"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#ae0678f42b6cd6c1cdd021ef97409e910">load_collation</a> (<a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *<a class="el" href="client__plugin_8cc.html#a7d0fe2f135db987da18cea87b4778737">mem_root</a>, <a class="el" href="classField.html">Field</a> *field, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *dflt_cl, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> **cl)</td></tr>
<tr class="separator:ae0678f42b6cd6c1cdd021ef97409e910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2a0054a4604a4f552fa09a5f122fcf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a6d2a0054a4604a4f552fa09a5f122fcf">lock_routine_name</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, const <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, <a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a> mdl_lock_type)</td></tr>
<tr class="memdesc:a6d2a0054a4604a4f552fa09a5f122fcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire Shared MDL lock on the routine object.  <a href="#a6d2a0054a4604a4f552fa09a5f122fcf">More...</a><br /></td></tr>
<tr class="separator:a6d2a0054a4604a4f552fa09a5f122fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22a8e532baed4af3fc5e4478e03fdc3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#ab22a8e532baed4af3fc5e4478e03fdc3">recursion_level_error</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classsp__head.html">sp_head</a> *sp)</td></tr>
<tr class="memdesc:ab22a8e532baed4af3fc5e4478e03fdc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return appropriate error about recursion limit reaching.  <a href="#ab22a8e532baed4af3fc5e4478e03fdc3">More...</a><br /></td></tr>
<tr class="separator:ab22a8e532baed4af3fc5e4478e03fdc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5398fd664d795049d09b22b831a3cd0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#ab5398fd664d795049d09b22b831a3cd0">db_find_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, const <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, <a class="el" href="classsp__head.html">sp_head</a> **sphp)</td></tr>
<tr class="memdesc:ab5398fd664d795049d09b22b831a3cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find routine definition in data dictionary table and create corresponding sp_head object for it.  <a href="#ab5398fd664d795049d09b22b831a3cd0">More...</a><br /></td></tr>
<tr class="separator:ab5398fd664d795049d09b22b831a3cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ce7806a45b2dacd4ce59231b8d5ecf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classsp__head.html">sp_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#ad1ce7806a45b2dacd4ce59231b8d5ecf">sp_compile</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classString.html">String</a> *defstr, <a class="el" href="dd__event_8h.html#a20f7f65896651c6fcc973f518670c5a8">sql_mode_t</a> <a class="el" href="mysqlslap_8cc.html#a4a10d996a9b7a3526612df94bf767289">sql_mode</a>, <a class="el" href="classStored__program__creation__ctx.html">Stored_program_creation_ctx</a> *creation_ctx)</td></tr>
<tr class="memdesc:ad1ce7806a45b2dacd4ce59231b8d5ecf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function parses input strings and returns SP structure.  <a href="#ad1ce7806a45b2dacd4ce59231b8d5ecf">More...</a><br /></td></tr>
<tr class="separator:ad1ce7806a45b2dacd4ce59231b8d5ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6071fe5cbe128b3aedc0e8921da5ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a6f6071fe5cbe128b3aedc0e8921da5ac">db_load_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, const char *sp_db, size_t sp_db_len, const char *<a class="el" href="classsp__name.html">sp_name</a>, size_t sp_name_len, <a class="el" href="classsp__head.html">sp_head</a> **sphp, <a class="el" href="dd__event_8h.html#a20f7f65896651c6fcc973f518670c5a8">sql_mode_t</a> <a class="el" href="mysqlslap_8cc.html#a4a10d996a9b7a3526612df94bf767289">sql_mode</a>, const char *params, const char *returns, const char *body, <a class="el" href="structst__sp__chistics.html">st_sp_chistics</a> *sp_chistics, const char *definer_user, const char *definer_host, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> created, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> modified, <a class="el" href="classStored__program__creation__ctx.html">Stored_program_creation_ctx</a> *creation_ctx)</td></tr>
<tr class="separator:a6f6071fe5cbe128b3aedc0e8921da5ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a269b6a337400944020cd4a363c90188e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a269b6a337400944020cd4a363c90188e">create_routine_precheck</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classsp__head.html">sp_head</a> *sp)</td></tr>
<tr class="memdesc:a269b6a337400944020cd4a363c90188e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Precheck for create routine statement.  <a href="#a269b6a337400944020cd4a363c90188e">More...</a><br /></td></tr>
<tr class="separator:a269b6a337400944020cd4a363c90188e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27977816751bc6989e8a844256f79401"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a27977816751bc6989e8a844256f79401">sp_create_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classsp__head.html">sp_head</a> *sp, const <a class="el" href="structLEX__USER.html">LEX_USER</a> *definer)</td></tr>
<tr class="memdesc:a27977816751bc6989e8a844256f79401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a stored routine.  <a href="#a27977816751bc6989e8a844256f79401">More...</a><br /></td></tr>
<tr class="separator:a27977816751bc6989e8a844256f79401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b645d12661289219135fbc11eeeba20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a1b645d12661289219135fbc11eeeba20">sp_drop_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>)</td></tr>
<tr class="memdesc:a1b645d12661289219135fbc11eeeba20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drops a stored routine.  <a href="#a1b645d12661289219135fbc11eeeba20">More...</a><br /></td></tr>
<tr class="separator:a1b645d12661289219135fbc11eeeba20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34511a4105ba53ae969d0ee18190b20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#aa34511a4105ba53ae969d0ee18190b20">sp_update_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, <a class="el" href="structst__sp__chistics.html">st_sp_chistics</a> *chistics)</td></tr>
<tr class="memdesc:aa34511a4105ba53ae969d0ee18190b20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates(Alter) a stored routine.  <a href="#aa34511a4105ba53ae969d0ee18190b20">More...</a><br /></td></tr>
<tr class="separator:aa34511a4105ba53ae969d0ee18190b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd62be2011ef7d17da6811c927ebdc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a7fd62be2011ef7d17da6811c927ebdc0">lock_db_routines</a> (<a class="el" href="classTHD.html">THD</a> *thd, const <a class="el" href="classdd_1_1Schema.html">dd::Schema</a> &amp;schema)</td></tr>
<tr class="memdesc:a7fd62be2011ef7d17da6811c927ebdc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires exclusive metadata lock on all stored routines in the given database.  <a href="#a7fd62be2011ef7d17da6811c927ebdc0">More...</a><br /></td></tr>
<tr class="separator:a7fd62be2011ef7d17da6811c927ebdc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad959b78b92a617d1e6223f11a8dcf0c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#ad959b78b92a617d1e6223f11a8dcf0c7">sp_drop_db_routines</a> (<a class="el" href="classTHD.html">THD</a> *thd, const <a class="el" href="classdd_1_1Schema.html">dd::Schema</a> &amp;schema)</td></tr>
<tr class="memdesc:ad959b78b92a617d1e6223f11a8dcf0c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop all routines in database 'db'.  <a href="#ad959b78b92a617d1e6223f11a8dcf0c7">More...</a><br /></td></tr>
<tr class="separator:ad959b78b92a617d1e6223f11a8dcf0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446274a06a1bbe215ec6238656c7f793"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a446274a06a1bbe215ec6238656c7f793">show_create_routine_from_dd_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, <a class="el" href="classsp__name.html">sp_name</a> *sp, const <a class="el" href="classdd_1_1Routine.html">dd::Routine</a> *routine)</td></tr>
<tr class="memdesc:a446274a06a1bbe215ec6238656c7f793"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare show create routine output from the DD routine object.  <a href="#a446274a06a1bbe215ec6238656c7f793">More...</a><br /></td></tr>
<tr class="separator:a446274a06a1bbe215ec6238656c7f793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9917a1ed5c14b54536da229cdacfb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a5b9917a1ed5c14b54536da229cdacfb9">sp_show_create_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>)</td></tr>
<tr class="memdesc:a5b9917a1ed5c14b54536da229cdacfb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement SHOW CREATE statement for stored routines.  <a href="#a5b9917a1ed5c14b54536da229cdacfb9">More...</a><br /></td></tr>
<tr class="separator:a5b9917a1ed5c14b54536da229cdacfb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63619f6b29e05a4ed4d58244c58f2d57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__head.html">sp_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a63619f6b29e05a4ed4d58244c58f2d57">sp_find_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, <a class="el" href="classsp__cache.html">sp_cache</a> **cp, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> cache_only)</td></tr>
<tr class="memdesc:a63619f6b29e05a4ed4d58244c58f2d57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain object representing stored procedure/function by its name from stored procedures cache and looking into data dictionary if needed.  <a href="#a63619f6b29e05a4ed4d58244c58f2d57">More...</a><br /></td></tr>
<tr class="separator:a63619f6b29e05a4ed4d58244c58f2d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b025569f3af22c3ae41ea7964aca796"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__head.html">sp_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a6b025569f3af22c3ae41ea7964aca796">sp_setup_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, <a class="el" href="classsp__cache.html">sp_cache</a> **cp)</td></tr>
<tr class="memdesc:a6b025569f3af22c3ae41ea7964aca796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup a cached routine for execution.  <a href="#a6b025569f3af22c3ae41ea7964aca796">More...</a><br /></td></tr>
<tr class="separator:a6b025569f3af22c3ae41ea7964aca796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e5e53dd0be50797dad3c5f99002458"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a42e5e53dd0be50797dad3c5f99002458">sp_exist_routines</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *routines, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_proc)</td></tr>
<tr class="memdesc:a42e5e53dd0be50797dad3c5f99002458"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is used by sql_acl.cc:mysql_routine_grant() and is used to find the routines in 'routines'.  <a href="#a42e5e53dd0be50797dad3c5f99002458">More...</a><br /></td></tr>
<tr class="separator:a42e5e53dd0be50797dad3c5f99002458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0917dac92c3763e0752305a31a2a7009"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a0917dac92c3763e0752305a31a2a7009">sp_add_used_routine</a> (<a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *prelocking_ctx, <a class="el" href="classQuery__arena.html">Query_arena</a> *arena, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, size_t <a class="el" href="mi__test1_8cc.html#ae8c61f1c9b2c2ce361a5ea70ad97b577">key_length</a>, size_t db_length, const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, size_t name_length, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *belong_to_view)</td></tr>
<tr class="memdesc:a0917dac92c3763e0752305a31a2a7009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Auxilary function that adds new element to the set of stored routines used by statement.  <a href="#a0917dac92c3763e0752305a31a2a7009">More...</a><br /></td></tr>
<tr class="separator:a0917dac92c3763e0752305a31a2a7009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b8657487660caf97dab8988f7a068a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a1b8657487660caf97dab8988f7a068a1">sp_add_used_routine</a> (<a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *prelocking_ctx, <a class="el" href="classQuery__arena.html">Query_arena</a> *arena, <a class="el" href="classSroutine__hash__entry.html#ab41a557980d2c2b6fefb3842962e4fa8">Sroutine_hash_entry::entry_type</a> type, const char *db, size_t db_length, const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, size_t name_length, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> lowercase_db, <a class="el" href="sp_8h.html#a4b78f70512f21b45c769132b5d6c9dc8">Sp_name_normalize_type</a> name_normalize_type, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> own_routine, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *belong_to_view)</td></tr>
<tr class="memdesc:a1b8657487660caf97dab8988f7a068a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add routine or trigger which is used by statement to the set of stored routines used by this statement.  <a href="#a1b8657487660caf97dab8988f7a068a1">More...</a><br /></td></tr>
<tr class="separator:a1b8657487660caf97dab8988f7a068a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a30809a9bc0d0dcf1cce4fc6e0cc325"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a4a30809a9bc0d0dcf1cce4fc6e0cc325">sp_remove_not_own_routines</a> (<a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *prelocking_ctx)</td></tr>
<tr class="memdesc:a4a30809a9bc0d0dcf1cce4fc6e0cc325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove routines which are only indirectly used by statement from the set of routines used by this statement.  <a href="#a4a30809a9bc0d0dcf1cce4fc6e0cc325">More...</a><br /></td></tr>
<tr class="separator:a4a30809a9bc0d0dcf1cce4fc6e0cc325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5ab03254c585655952ce9fa61b2432"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a9c5ab03254c585655952ce9fa61b2432">sp_update_stmt_used_routines</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *prelocking_ctx, <a class="el" href="classmalloc__unordered__map.html">malloc_unordered_map</a>&lt; std::string, <a class="el" href="classSroutine__hash__entry.html">Sroutine_hash_entry</a> *&gt; *src, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *belong_to_view)</td></tr>
<tr class="memdesc:a9c5ab03254c585655952ce9fa61b2432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add contents of hash representing set of routines to the set of routines used by statement.  <a href="#a9c5ab03254c585655952ce9fa61b2432">More...</a><br /></td></tr>
<tr class="separator:a9c5ab03254c585655952ce9fa61b2432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09154308f2185bf3b45679965d2624bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a09154308f2185bf3b45679965d2624bb">sp_update_stmt_used_routines</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *prelocking_ctx, <a class="el" href="classSQL__I__List.html">SQL_I_List</a>&lt; <a class="el" href="classSroutine__hash__entry.html">Sroutine_hash_entry</a> &gt; *src, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *belong_to_view)</td></tr>
<tr class="memdesc:a09154308f2185bf3b45679965d2624bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add contents of list representing set of routines to the set of routines used by statement.  <a href="#a09154308f2185bf3b45679965d2624bb">More...</a><br /></td></tr>
<tr class="separator:a09154308f2185bf3b45679965d2624bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acafabc1acacc2a428608ec8ef69ac51f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#acafabc1acacc2a428608ec8ef69ac51f">sp_cache_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classSroutine__hash__entry.html">Sroutine_hash_entry</a> *rt, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> lookup_only, <a class="el" href="classsp__head.html">sp_head</a> **sp)</td></tr>
<tr class="memdesc:acafabc1acacc2a428608ec8ef69ac51f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper wrapper around sp_cache_routine() to use from prelocking until 'sp_name' is eradicated as a class.  <a href="#acafabc1acacc2a428608ec8ef69ac51f">More...</a><br /></td></tr>
<tr class="separator:acafabc1acacc2a428608ec8ef69ac51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa96d69ce9772bbe2305a52289c9619d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#aa96d69ce9772bbe2305a52289c9619d9">sp_cache_routine</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> type, const <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> lookup_only, <a class="el" href="classsp__head.html">sp_head</a> **sp)</td></tr>
<tr class="memdesc:aa96d69ce9772bbe2305a52289c9619d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure that routine is present in cache by loading it from the data dictionary if needed.  <a href="#aa96d69ce9772bbe2305a52289c9619d9">More...</a><br /></td></tr>
<tr class="separator:aa96d69ce9772bbe2305a52289c9619d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e6ba5f6299d0201f14b88b3ad184b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__head.html">sp_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a51e6ba5f6299d0201f14b88b3ad184b2">sp_load_for_information_schema</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="lex__string_8h.html#a01c5da2ec635d24c374ba1a995dbe2aa">LEX_CSTRING</a> db_name, const <a class="el" href="classdd_1_1Routine.html">dd::Routine</a> *routine, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *free_sp_head)</td></tr>
<tr class="memdesc:a51e6ba5f6299d0201f14b88b3ad184b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function loads sp_head struct for information schema purposes (used for I_S ROUTINES &amp; PARAMETERS tables).  <a href="#a51e6ba5f6299d0201f14b88b3ad184b2">More...</a><br /></td></tr>
<tr class="separator:a51e6ba5f6299d0201f14b88b3ad184b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0fca801f6ac48160130eae1fbce00f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__head.html">sp_head</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#ae0fca801f6ac48160130eae1fbce00f1">sp_start_parsing</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a> sp_type, <a class="el" href="classsp__name.html">sp_name</a> *<a class="el" href="classsp__name.html">sp_name</a>)</td></tr>
<tr class="memdesc:ae0fca801f6ac48160130eae1fbce00f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start parsing of a stored program.  <a href="#ae0fca801f6ac48160130eae1fbce00f1">More...</a><br /></td></tr>
<tr class="separator:ae0fca801f6ac48160130eae1fbce00f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad599dea529f7c0ac88d5221a5128beae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#ad599dea529f7c0ac88d5221a5128beae">sp_finish_parsing</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:ad599dea529f7c0ac88d5221a5128beae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish parsing of a stored program.  <a href="#ad599dea529f7c0ac88d5221a5128beae">More...</a><br /></td></tr>
<tr class="separator:ad599dea529f7c0ac88d5221a5128beae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cfc231d65e9d877dc65bb4895d0998f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a0cfc231d65e9d877dc65bb4895d0998f">sp_map_result_type</a> (enum <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> type)</td></tr>
<tr class="separator:a0cfc231d65e9d877dc65bb4895d0998f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891b58ab2d84e52d72a2db59b9694beb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classItem.html#a6b718f9918eb7a5b2d4572cc1a231005">Item::Type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a891b58ab2d84e52d72a2db59b9694beb">sp_map_item_type</a> (enum <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> type)</td></tr>
<tr class="separator:a891b58ab2d84e52d72a2db59b9694beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efb96f703b40ba79a23869393a1f4de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a4efb96f703b40ba79a23869393a1f4de">sp_get_flags_for_command</a> (<a class="el" href="structLEX.html">LEX</a> *lex)</td></tr>
<tr class="separator:a4efb96f703b40ba79a23869393a1f4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e247cb4b291bd4c8fb4aee4ec407311"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a0e247cb4b291bd4c8fb4aee4ec407311">sp_check_name</a> (<a class="el" href="lex__string_8h.html#a1fb89d4ad1109660fb2b796efdb3933e">LEX_STRING</a> *ident)</td></tr>
<tr class="memdesc:a0e247cb4b291bd4c8fb4aee4ec407311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the name 'ident' is ok.  <a href="#a0e247cb4b291bd4c8fb4aee4ec407311">More...</a><br /></td></tr>
<tr class="separator:a0e247cb4b291bd4c8fb4aee4ec407311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc75a60b28cd8d3d89c6198002fa91c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classItem.html">Item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#abc75a60b28cd8d3d89c6198002fa91c3">sp_prepare_func_item</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> **it_addr)</td></tr>
<tr class="memdesc:abc75a60b28cd8d3d89c6198002fa91c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare an Item for evaluation (call of fix_fields).  <a href="#abc75a60b28cd8d3d89c6198002fa91c3">More...</a><br /></td></tr>
<tr class="separator:abc75a60b28cd8d3d89c6198002fa91c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16165ce53d4cd0ec0c01197b9aa99b2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a16165ce53d4cd0ec0c01197b9aa99b2b">sp_eval_expr</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classField.html">Field</a> *result_field, <a class="el" href="classItem.html">Item</a> **expr_item_ptr)</td></tr>
<tr class="memdesc:a16165ce53d4cd0ec0c01197b9aa99b2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate an expression and store the result in the field.  <a href="#a16165ce53d4cd0ec0c01197b9aa99b2b">More...</a><br /></td></tr>
<tr class="separator:a16165ce53d4cd0ec0c01197b9aa99b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d3ed27dfb44d8e1f2c130cfffcba02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classString.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sp_8cc.html#a93d3ed27dfb44d8e1f2c130cfffcba02">sp_get_item_value</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> *item, <a class="el" href="classString.html">String</a> *str)</td></tr>
<tr class="memdesc:a93d3ed27dfb44d8e1f2c130cfffcba02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string representation of the Item value.  <a href="#a93d3ed27dfb44d8e1f2c130cfffcba02">More...</a><br /></td></tr>
<tr class="separator:a93d3ed27dfb44d8e1f2c130cfffcba02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2c0bfb44e4f0225856c2a5725a00cc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c0bfb44e4f0225856c2a5725a00cc08">&#9670;&nbsp;</a></span>SP_TYPE_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SP_TYPE_STRING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type</td><td>)</td>
          <td>&#160;&#160;&#160;(type == <a class="el" href="group__GROUP__PARSER.html#gga9e3ffdbaa8d88485570eaf514d3808e5a6a72a6a776662a244f82d31e9274a07b">enum_sp_type::FUNCTION</a> ? &quot;FUNCTION&quot; : &quot;PROCEDURE&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a269b6a337400944020cd4a363c90188e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a269b6a337400944020cd4a363c90188e">&#9670;&nbsp;</a></span>create_routine_precheck()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> create_routine_precheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__head.html">sp_head</a> *&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Precheck for create routine statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">sp</td><td>Stored routine object to store.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success. </td></tr>
    <tr><td class="paramname">true</td><td>Error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a71316828ecc648f584975111db30f735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71316828ecc648f584975111db30f735">&#9670;&nbsp;</a></span>create_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> create_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dblen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>paramslen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>returns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>returnslen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>body</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>bodylen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structst__sp__chistics.html">st_sp_chistics</a> *&#160;</td>
          <td class="paramname"><em>chistics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="lex__string_8h.html#a01c5da2ec635d24c374ba1a995dbe2aa">LEX_CSTRING</a> &amp;&#160;</td>
          <td class="paramname"><em>definer_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="lex__string_8h.html#a01c5da2ec635d24c374ba1a995dbe2aa">LEX_CSTRING</a> &amp;&#160;</td>
          <td class="paramname"><em>definer_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dd__event_8h.html#a20f7f65896651c6fcc973f518670c5a8">sql_mode_t</a>&#160;</td>
          <td class="paramname"><em>sql_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates the CREATE... </p>
<p>string from the table information.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true on success, false on (alloc) failure. </dd></dl>

</div>
</div>
<a id="ab5398fd664d795049d09b22b831a3cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5398fd664d795049d09b22b831a3cd0">&#9670;&nbsp;</a></span>db_find_routine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a> db_find_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__head.html">sp_head</a> **&#160;</td>
          <td class="paramname"><em>sphp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find routine definition in data dictionary table and create corresponding sp_head object for it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramname">type</td><td>Type of routine (PROCEDURE/...) </td></tr>
    <tr><td class="paramname">name</td><td>Name of routine </td></tr>
    <tr><td class="paramname">sphp</td><td>Out parameter in which pointer to created sp_head object is returned (0 in case of error).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function may damage current LEX during execution, so it is good idea to create temporary LEX and make it active before calling it.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SP_OK</td><td>Success </td></tr>
    <tr><td class="paramname">non-SP_OK</td><td>Error (one of special codes like SP_DOES_NOT_EXISTS) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f6071fe5cbe128b3aedc0e8921da5ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f6071fe5cbe128b3aedc0e8921da5ac">&#9670;&nbsp;</a></span>db_load_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a> db_load_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sp_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sp_db_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sp_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sp_name_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__head.html">sp_head</a> **&#160;</td>
          <td class="paramname"><em>sphp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dd__event_8h.html#a20f7f65896651c6fcc973f518670c5a8">sql_mode_t</a>&#160;</td>
          <td class="paramname"><em>sql_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>returns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>body</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structst__sp__chistics.html">st_sp_chistics</a> *&#160;</td>
          <td class="paramname"><em>sp_chistics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>definer_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>definer_host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>&#160;</td>
          <td class="paramname"><em>created</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>&#160;</td>
          <td class="paramname"><em>modified</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStored__program__creation__ctx.html">Stored_program_creation_ctx</a> *&#160;</td>
          <td class="paramname"><em>creation_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5265135207facb729304b13dd19ef987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5265135207facb729304b13dd19ef987">&#9670;&nbsp;</a></span>load_charset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> load_charset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *&#160;</td>
          <td class="paramname"><em>mem_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classField.html">Field</a> *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *&#160;</td>
          <td class="paramname"><em>dflt_cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> **&#160;</td>
          <td class="paramname"><em>cs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae0678f42b6cd6c1cdd021ef97409e910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0678f42b6cd6c1cdd021ef97409e910">&#9670;&nbsp;</a></span>load_collation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> load_collation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *&#160;</td>
          <td class="paramname"><em>mem_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classField.html">Field</a> *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *&#160;</td>
          <td class="paramname"><em>dflt_cl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> **&#160;</td>
          <td class="paramname"><em>cl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7fd62be2011ef7d17da6811c927ebdc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd62be2011ef7d17da6811c927ebdc0">&#9670;&nbsp;</a></span>lock_db_routines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> lock_db_routines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Schema.html">dd::Schema</a> &amp;&#160;</td>
          <td class="paramname"><em>schema</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquires exclusive metadata lock on all stored routines in the given database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handler </td></tr>
    <tr><td class="paramname">schema</td><td>Schema object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success </td></tr>
    <tr><td class="paramname">true</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6d2a0054a4604a4f552fa09a5f122fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d2a0054a4604a4f552fa09a5f122fcf">&#9670;&nbsp;</a></span>lock_routine_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> lock_routine_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a>&#160;</td>
          <td class="paramname"><em>mdl_lock_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquire Shared MDL lock on the routine object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramname">type</td><td>Type of the routine (enum_sp_type::PROCEDURE/...) </td></tr>
    <tr><td class="paramname">name</td><td>Name of the routine </td></tr>
    <tr><td class="paramname">mdl_lock_type</td><td>Type of MDL lock be acquired on the routine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success </td></tr>
    <tr><td class="paramname">true</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab22a8e532baed4af3fc5e4478e03fdc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22a8e532baed4af3fc5e4478e03fdc3">&#9670;&nbsp;</a></span>recursion_level_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void recursion_level_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__head.html">sp_head</a> *&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return appropriate error about recursion limit reaching. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handle </td></tr>
    <tr><td class="paramname">sp</td><td>The stored procedure executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>For functions and triggers we return error about prohibited recursion. For stored procedures we return about reaching recursion limit. </dd></dl>

</div>
</div>
<a id="a446274a06a1bbe215ec6238656c7f793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a446274a06a1bbe215ec6238656c7f793">&#9670;&nbsp;</a></span>show_create_routine_from_dd_routine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> show_create_routine_from_dd_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Routine.html">dd::Routine</a> *&#160;</td>
          <td class="paramname"><em>routine</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare show create routine output from the DD routine object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Thread handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Stored routine type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sp</td><td>Stored routine name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">routine</td><td>Routine object read for the routine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>on success </td></tr>
    <tr><td class="paramname">true</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0917dac92c3763e0752305a31a2a7009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0917dac92c3763e0752305a31a2a7009">&#9670;&nbsp;</a></span>sp_add_used_routine() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sp_add_used_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *&#160;</td>
          <td class="paramname"><em>prelocking_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQuery__arena.html">Query_arena</a> *&#160;</td>
          <td class="paramname"><em>arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>key_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>db_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>name_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>belong_to_view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Auxilary function that adds new element to the set of stored routines used by statement. </p>
<p>The elements of Query_tables_list::sroutines set are accessed on prepared statement re-execution. Because of this we have to allocate memory for both hash element and copy of its key in persistent arena.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prelocking_ctx</td><td>Prelocking context of the statement </td></tr>
    <tr><td class="paramname">arena</td><td>Arena in which memory for new element will be allocated </td></tr>
    <tr><td class="paramname">key</td><td>Key for the hash representing set </td></tr>
    <tr><td class="paramname">key_length</td><td>Key length. </td></tr>
    <tr><td class="paramname">db_length</td><td>Length of db name component in the key. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the routine. </td></tr>
    <tr><td class="paramname">name_length</td><td>Length of the routine name. </td></tr>
    <tr><td class="paramname">belong_to_view</td><td>Uppermost view which uses this routine (0 if routine is not used by view)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Will also add element to end of 'Query_tables_list::sroutines_list' list.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>new element was added. </td></tr>
    <tr><td class="paramname">false</td><td>element was not added (because it is already present in the set). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b8657487660caf97dab8988f7a068a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b8657487660caf97dab8988f7a068a1">&#9670;&nbsp;</a></span>sp_add_used_routine() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sp_add_used_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *&#160;</td>
          <td class="paramname"><em>prelocking_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQuery__arena.html">Query_arena</a> *&#160;</td>
          <td class="paramname"><em>arena</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSroutine__hash__entry.html#ab41a557980d2c2b6fefb3842962e4fa8">Sroutine_hash_entry::entry_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>db_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>name_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>lowercase_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sp_8h.html#a4b78f70512f21b45c769132b5d6c9dc8">Sp_name_normalize_type</a>&#160;</td>
          <td class="paramname"><em>name_normalize_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>own_routine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>belong_to_view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add routine or trigger which is used by statement to the set of stored routines used by this statement. </p>
<p>To be friendly towards prepared statements one should pass persistent arena as second argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prelocking_ctx</td><td>Prelocking context of the statement </td></tr>
    <tr><td class="paramname">arena</td><td>Arena in which memory for new element of the set will be allocated </td></tr>
    <tr><td class="paramname">type</td><td>Routine type (one of FUNCTION/PROCEDURE/ TRIGGER ...) </td></tr>
    <tr><td class="paramname">db</td><td>Database name </td></tr>
    <tr><td class="paramname">db_length</td><td>Database name length </td></tr>
    <tr><td class="paramname">name</td><td>Routine name </td></tr>
    <tr><td class="paramname">name_length</td><td>Routine name length </td></tr>
    <tr><td class="paramname">lowercase_db</td><td>Indicates whether db needs to be lowercased when constructing key. </td></tr>
    <tr><td class="paramname">name_normalize_type</td><td>Indicates if names needs to be normalized (lowercased / accent needs to be removed). </td></tr>
    <tr><td class="paramname">own_routine</td><td>Indicates whether routine is explicitly or implicitly used. </td></tr>
    <tr><td class="paramname">belong_to_view</td><td>Uppermost view which uses this routine (nullptr if routine is not used by view)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Will also add element to end of 'Query_tables_list::sroutines_list' list (and will take into account if this is an explicitly used routine).</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">True</td><td>- new element was added. </td></tr>
    <tr><td class="paramname">False</td><td>- element was not added (because it is already present in the set). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acafabc1acacc2a428608ec8ef69ac51f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acafabc1acacc2a428608ec8ef69ac51f">&#9670;&nbsp;</a></span>sp_cache_routine() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a> sp_cache_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSroutine__hash__entry.html">Sroutine_hash_entry</a> *&#160;</td>
          <td class="paramname"><em>rt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>lookup_only</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__head.html">sp_head</a> **&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A helper wrapper around sp_cache_routine() to use from prelocking until 'sp_name' is eradicated as a class. </p>

</div>
</div>
<a id="aa96d69ce9772bbe2305a52289c9619d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa96d69ce9772bbe2305a52289c9619d9">&#9670;&nbsp;</a></span>sp_cache_routine() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a> sp_cache_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>lookup_only</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__head.html">sp_head</a> **&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ensure that routine is present in cache by loading it from the data dictionary if needed. </p>
<p>If the routine is present but old, reload it. Emit an appropriate error if there was a problem during loading.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Type of object (FUNCTION or PROCEDURE). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Name of routine. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lookup_only</td><td>Only check that the routine is in the cache. If it's not, don't try to load. If it is present, but old, don't try to reload. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">sp</td><td>Pointer to sp_head object for routine, NULL if routine was not found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SP_OK</td><td>Either routine is found and was successfully loaded into cache or it does not exist. </td></tr>
    <tr><td class="paramname">non-SP_OK</td><td>Error while loading routine from DD table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e247cb4b291bd4c8fb4aee4ec407311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e247cb4b291bd4c8fb4aee4ec407311">&#9670;&nbsp;</a></span>sp_check_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sp_check_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="lex__string_8h.html#a1fb89d4ad1109660fb2b796efdb3933e">LEX_STRING</a> *&#160;</td>
          <td class="paramname"><em>ident</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that the name 'ident' is ok. </p>
<p>It's assumed to be an 'ident' from the parser, so we only have to check length and trailing spaces. The former is a standard requirement (and 'show status' assumes a non-empty name), the latter is a mysql:ism as trailing spaces are removed by get_field().</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>bad name </td></tr>
    <tr><td class="paramname">false</td><td>name is ok </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1ce7806a45b2dacd4ce59231b8d5ecf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1ce7806a45b2dacd4ce59231b8d5ecf">&#9670;&nbsp;</a></span>sp_compile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classsp__head.html">sp_head</a>* sp_compile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>defstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dd__event_8h.html#a20f7f65896651c6fcc973f518670c5a8">sql_mode_t</a>&#160;</td>
          <td class="paramname"><em>sql_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStored__program__creation__ctx.html">Stored_program_creation_ctx</a> *&#160;</td>
          <td class="paramname"><em>creation_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function parses input strings and returns SP structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Thread handler </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defstr</td><td>CREATE... string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_mode</td><td>SQL mode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">creation_ctx</td><td>Creation context of stored routines</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Pointer</td><td>on sp_head struct Success </td></tr>
    <tr><td class="paramname">NULL</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27977816751bc6989e8a844256f79401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27977816751bc6989e8a844256f79401">&#9670;&nbsp;</a></span>sp_create_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sp_create_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__head.html">sp_head</a> *&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structLEX__USER.html">LEX_USER</a> *&#160;</td>
          <td class="paramname"><em>definer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a stored routine. </p>
<p>Atomicity: The operation to create a stored routine is atomic/crash-safe. Changes to the Data-dictionary and writing event to binlog are part of the same transaction. All the changes are done as part of the same transaction or do not have any side effects on the operation failure. Data-dictionary, stored routines and table definition caches are in sync with operation state. Cache do not contain any stale/incorrect data in case of failure. In case of crash, there won't be any discrepancy between the data-dictionary table and the binary log.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">sp</td><td>Stored routine object to store. </td></tr>
    <tr><td class="paramname">definer</td><td>Definer of the SP.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>success </td></tr>
    <tr><td class="paramname">true</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad959b78b92a617d1e6223f11a8dcf0c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad959b78b92a617d1e6223f11a8dcf0c7">&#9670;&nbsp;</a></span>sp_drop_db_routines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a> sp_drop_db_routines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Schema.html">dd::Schema</a> &amp;&#160;</td>
          <td class="paramname"><em>schema</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drop all routines in database 'db'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">schema</td><td>Schema object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">SP_OK</td><td>Success </td></tr>
    <tr><td class="paramname">non-SP_OK</td><td>Error (Other constants are used to indicate errors) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b645d12661289219135fbc11eeeba20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b645d12661289219135fbc11eeeba20">&#9670;&nbsp;</a></span>sp_drop_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sp_8h.html#a902954e98e902d7e050c6a61f3aa9b71">enum_sp_return_code</a> sp_drop_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drops a stored routine. </p>
<p>Atomicity: The operation to drop a stored routine is atomic/crash-safe. Changes to the Data-dictionary and writing event to binlog are part of the same transaction. All the changes are done as part of the same transaction or do not have any side effects on the operation failure. Data-dictionary, stored routines and table definition caches are in sync with operation state. Cache do not contain any stale/incorrect data in case of failure. In case of crash, there won't be any discrepancy between the data-dictionary table and the binary log.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">type</td><td>Stored routine type (PROCEDURE or FUNCTION) </td></tr>
    <tr><td class="paramname">name</td><td>Stored routine name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. SP_OK is returned on success. Other SP_ constants are used to indicate about errors. </dd></dl>

</div>
</div>
<a id="a16165ce53d4cd0ec0c01197b9aa99b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16165ce53d4cd0ec0c01197b9aa99b2b">&#9670;&nbsp;</a></span>sp_eval_expr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sp_eval_expr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classField.html">Field</a> *&#160;</td>
          <td class="paramname"><em>result_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>expr_item_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate an expression and store the result in the field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>current thread object </td></tr>
    <tr><td class="paramname">result_field</td><td>the field to store the result </td></tr>
    <tr><td class="paramname">expr_item_ptr</td><td>the root item of the expression</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>on success </td></tr>
    <tr><td class="paramname">true</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42e5e53dd0be50797dad3c5f99002458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e5e53dd0be50797dad3c5f99002458">&#9670;&nbsp;</a></span>sp_exist_routines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sp_exist_routines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>routines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_proc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is used by sql_acl.cc:mysql_routine_grant() and is used to find the routines in 'routines'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handler </td></tr>
    <tr><td class="paramname">routines</td><td>List of needles in the hay stack </td></tr>
    <tr><td class="paramname">is_proc</td><td>Indicates whether routines in the list are procedures or functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Found. </td></tr>
    <tr><td class="paramname">true</td><td>Not found </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63619f6b29e05a4ed4d58244c58f2d57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63619f6b29e05a4ed4d58244c58f2d57">&#9670;&nbsp;</a></span>sp_find_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__head.html">sp_head</a>* sp_find_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__cache.html">sp_cache</a> **&#160;</td>
          <td class="paramname"><em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>cache_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain object representing stored procedure/function by its name from stored procedures cache and looking into data dictionary if needed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread context </td></tr>
    <tr><td class="paramname">type</td><td>type of object (FUNCTION or PROCEDURE) </td></tr>
    <tr><td class="paramname">name</td><td>name of procedure </td></tr>
    <tr><td class="paramname">cp</td><td>hash to look routine in </td></tr>
    <tr><td class="paramname">cache_only</td><td>if true perform cache-only lookup (Don't look in data dictionary)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NonNULL</td><td>pointer to sp_head object for the procedure </td></tr>
    <tr><td class="paramname">NULL</td><td>in case of error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad599dea529f7c0ac88d5221a5128beae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad599dea529f7c0ac88d5221a5128beae">&#9670;&nbsp;</a></span>sp_finish_parsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sp_finish_parsing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish parsing of a stored program. </p>
<p>This is a counterpart of sp_start_parsing().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4efb96f703b40ba79a23869393a1f4de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efb96f703b40ba79a23869393a1f4de">&#9670;&nbsp;</a></span>sp_get_flags_for_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> sp_get_flags_for_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLEX.html">LEX</a> *&#160;</td>
          <td class="paramname"><em>lex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lex</td><td>LEX-object, representing an SQL-statement inside SP.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a combination of:<ul>
<li>sp_head::MULTI_RESULTS: added if the 'cmd' is a command that might result in multiple result sets being sent back.</li>
<li>sp_head::CONTAINS_DYNAMIC_SQL: added if 'cmd' is one of PREPARE, EXECUTE, DEALLOCATE. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a93d3ed27dfb44d8e1f2c130cfffcba02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d3ed27dfb44d8e1f2c130cfffcba02">&#9670;&nbsp;</a></span>sp_get_item_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classString.html">String</a>* sp_get_item_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a string representation of the Item value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">item</td><td>The item to evaluate </td></tr>
    <tr><td class="paramname">str</td><td>String buffer for representation of the value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If the item has a string result type, the string is escaped according to its character set.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>on error </td></tr>
    <tr><td class="paramname">non-NULL</td><td>a pointer to valid a valid string on success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51e6ba5f6299d0201f14b88b3ad184b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51e6ba5f6299d0201f14b88b3ad184b2">&#9670;&nbsp;</a></span>sp_load_for_information_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__head.html">sp_head</a>* sp_load_for_information_schema </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lex__string_8h.html#a01c5da2ec635d24c374ba1a995dbe2aa">LEX_CSTRING</a>&#160;</td>
          <td class="paramname"><em>db_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Routine.html">dd::Routine</a> *&#160;</td>
          <td class="paramname"><em>routine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>free_sp_head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function loads sp_head struct for information schema purposes (used for I_S ROUTINES &amp; PARAMETERS tables). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>thread handler </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">db_name</td><td>DB name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">routine</td><td>dd::Routine object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">free_sp_head</td><td>returns 1 if we need to free sp_head struct otherwise returns 0</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer on sp_head struct </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a891b58ab2d84e52d72a2db59b9694beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891b58ab2d84e52d72a2db59b9694beb">&#9670;&nbsp;</a></span>sp_map_item_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classItem.html#a6b718f9918eb7a5b2d4572cc1a231005">Item::Type</a> sp_map_item_type </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Item::Type code corresponding to the RETURN-field type code. </dd></dl>

</div>
</div>
<a id="a0cfc231d65e9d877dc65bb4895d0998f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cfc231d65e9d877dc65bb4895d0998f">&#9670;&nbsp;</a></span>sp_map_result_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> sp_map_result_type </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>Item_result code corresponding to the RETURN-field type code. </dd></dl>

</div>
</div>
<a id="abc75a60b28cd8d3d89c6198002fa91c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc75a60b28cd8d3d89c6198002fa91c3">&#9670;&nbsp;</a></span>sp_prepare_func_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classItem.html">Item</a>* sp_prepare_func_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>it_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare an Item for evaluation (call of fix_fields). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handler </td></tr>
    <tr><td class="paramname">it_addr</td><td>pointer on item reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>error </td></tr>
    <tr><td class="paramname">non-NULL</td><td>prepared item </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a30809a9bc0d0dcf1cce4fc6e0cc325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a30809a9bc0d0dcf1cce4fc6e0cc325">&#9670;&nbsp;</a></span>sp_remove_not_own_routines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sp_remove_not_own_routines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *&#160;</td>
          <td class="paramname"><em>prelocking_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove routines which are only indirectly used by statement from the set of routines used by this statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prelocking_ctx</td><td>Prelocking context of the statement </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6b025569f3af22c3ae41ea7964aca796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b025569f3af22c3ae41ea7964aca796">&#9670;&nbsp;</a></span>sp_setup_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__head.html">sp_head</a>* sp_setup_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__cache.html">sp_cache</a> **&#160;</td>
          <td class="paramname"><em>cp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup a cached routine for execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread context </td></tr>
    <tr><td class="paramname">type</td><td>type of object (FUNCTION or PROCEDURE) </td></tr>
    <tr><td class="paramname">name</td><td>name of procedure </td></tr>
    <tr><td class="paramname">cp</td><td>hash to look routine in</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NonNULL</td><td>pointer to sp_head object for the procedure </td></tr>
    <tr><td class="paramname">NULL</td><td>in case of error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b9917a1ed5c14b54536da229cdacfb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b9917a1ed5c14b54536da229cdacfb9">&#9670;&nbsp;</a></span>sp_show_create_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sp_show_create_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implement SHOW CREATE statement for stored routines. </p>
<p>The operation finds the stored routine object specified by name and then calls show_create_routine_from_dd_routine().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">type</td><td>Stored routine type (PROCEDURE or FUNCTION) </td></tr>
    <tr><td class="paramname">name</td><td>Stored routine name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>on success </td></tr>
    <tr><td class="paramname">true</td><td>on error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0fca801f6ac48160130eae1fbce00f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0fca801f6ac48160130eae1fbce00f1">&#9670;&nbsp;</a></span>sp_start_parsing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__head.html">sp_head</a>* sp_start_parsing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>sp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>sp_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start parsing of a stored program. </p>
<p>This function encapsulates all the steps necessary to initialize sp_head to start parsing SP.</p>
<p>Every successful call of sp_start_parsing() must finish with sp_finish_parsing().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">sp_type</td><td>The stored program type </td></tr>
    <tr><td class="paramname">sp_name</td><td>The stored progam name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>properly initialized sp_head-instance in case of success, or NULL is case of out-of-memory error. </dd></dl>

</div>
</div>
<a id="aa34511a4105ba53ae969d0ee18190b20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa34511a4105ba53ae969d0ee18190b20">&#9670;&nbsp;</a></span>sp_update_routine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sp_update_routine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga9e3ffdbaa8d88485570eaf514d3808e5">enum_sp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__name.html">sp_name</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structst__sp__chistics.html">st_sp_chistics</a> *&#160;</td>
          <td class="paramname"><em>chistics</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates(Alter) a stored routine. </p>
<p>Atomicity: The operation to Update(Alter) a stored routine is atomic/crash-safe. Changes to the Data-dictionary and writing event to binlog are part of the same transaction. All the changes are done as part of the same transaction or do not have any side effects on the operation failure. Data-dictionary and stored routines caches caches are in sync with operation state. Cache do not contain any stale/incorrect data in case of failure. In case of crash, there won't be any discrepancy between the data-dictionary table and the binary log.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">type</td><td>Stored routine type (PROCEDURE or FUNCTION) </td></tr>
    <tr><td class="paramname">name</td><td>Stored routine name. </td></tr>
    <tr><td class="paramname">chistics</td><td>New values of stored routine attributes to write.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success. </td></tr>
    <tr><td class="paramname">true</td><td>Error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c5ab03254c585655952ce9fa61b2432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5ab03254c585655952ce9fa61b2432">&#9670;&nbsp;</a></span>sp_update_stmt_used_routines() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sp_update_stmt_used_routines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *&#160;</td>
          <td class="paramname"><em>prelocking_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmalloc__unordered__map.html">malloc_unordered_map</a>&lt; std::string, <a class="el" href="classSroutine__hash__entry.html">Sroutine_hash_entry</a> *&gt; *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>belong_to_view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add contents of hash representing set of routines to the set of routines used by statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramname">prelocking_ctx</td><td>Prelocking context of the statement </td></tr>
    <tr><td class="paramname">src</td><td>Hash representing set from which routines will be added </td></tr>
    <tr><td class="paramname">belong_to_view</td><td>Uppermost view which uses these routines, 0 if none</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It will also add elements to end of 'Query_tables_list::sroutines_list' list. </dd></dl>

</div>
</div>
<a id="a09154308f2185bf3b45679965d2624bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09154308f2185bf3b45679965d2624bb">&#9670;&nbsp;</a></span>sp_update_stmt_used_routines() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sp_update_stmt_used_routines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQuery__tables__list.html">Query_tables_list</a> *&#160;</td>
          <td class="paramname"><em>prelocking_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSQL__I__List.html">SQL_I_List</a>&lt; <a class="el" href="classSroutine__hash__entry.html">Sroutine_hash_entry</a> &gt; *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>belong_to_view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add contents of list representing set of routines to the set of routines used by statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramname">prelocking_ctx</td><td>Prelocking context of the statement </td></tr>
    <tr><td class="paramname">src</td><td>List representing set from which routines will be added </td></tr>
    <tr><td class="paramname">belong_to_view</td><td>Uppermost view which uses these routines, 0 if none</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It will also add elements to end of 'Query_tables_list::sroutines_list' list. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="sp_8cc.html">sp.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
