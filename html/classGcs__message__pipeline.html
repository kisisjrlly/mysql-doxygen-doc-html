<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Gcs_message_pipeline Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classGcs__message__pipeline.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classGcs__message__pipeline-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Gcs_message_pipeline Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the pipeline that an outgoing or incoming message has to go through when being sent to or received from the group respectively.  
 <a href="classGcs__message__pipeline.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="gcs__message__stages_8h_source.html">gcs_message_stages.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a49ce526f57b1c9005aef3ad7ecd72736"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a49ce526f57b1c9005aef3ad7ecd72736">Gcs_message_pipeline</a> ()</td></tr>
<tr class="separator:a49ce526f57b1c9005aef3ad7ecd72736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6c4a138c29d742f198522dde41adbea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#ae6c4a138c29d742f198522dde41adbea">Gcs_message_pipeline</a> (<a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;<a class="el" href="ctype-mb_8cc.html#a6bc6b007533335efe02bafff799ec64c">p</a>)=delete</td></tr>
<tr class="separator:ae6c4a138c29d742f198522dde41adbea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b48b6389c17c3b00baf46b9914442fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a1b48b6389c17c3b00baf46b9914442fd">operator=</a> (const <a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;<a class="el" href="ctype-mb_8cc.html#a6bc6b007533335efe02bafff799ec64c">p</a>)=delete</td></tr>
<tr class="separator:a1b48b6389c17c3b00baf46b9914442fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f77b02aff4b6dd926f7f58f29040fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a37f77b02aff4b6dd926f7f58f29040fb">Gcs_message_pipeline</a> (<a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;&amp;<a class="el" href="ctype-mb_8cc.html#a6bc6b007533335efe02bafff799ec64c">p</a>)=delete</td></tr>
<tr class="separator:a37f77b02aff4b6dd926f7f58f29040fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ecdb4a856d20e4a394e96a40325842"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#af7ecdb4a856d20e4a394e96a40325842">operator=</a> (<a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;&amp;<a class="el" href="ctype-mb_8cc.html#a6bc6b007533335efe02bafff799ec64c">p</a>)=delete</td></tr>
<tr class="separator:af7ecdb4a856d20e4a394e96a40325842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6791f243e8c9bb0c231aebac266ba4a9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a6791f243e8c9bb0c231aebac266ba4a9">~Gcs_message_pipeline</a> ()</td></tr>
<tr class="separator:a6791f243e8c9bb0c231aebac266ba4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbf7716fb2f9409b89257c09bee6775"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, std::vector&lt; <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a8dbf7716fb2f9409b89257c09bee6775">process_outgoing</a> (<a class="el" href="classGcs__message__data.html">Gcs_message_data</a> const &amp;msg_data, <a class="el" href="gcs__internal__message__headers_8h.html#a97f49ed4714e185b87ca9ab82286c836">Cargo_type</a> cargo) const</td></tr>
<tr class="memdesc:a8dbf7716fb2f9409b89257c09bee6775"><td class="mdescLeft">&#160;</td><td class="mdescRight">This member function SHALL be called by the message sender.  <a href="#a8dbf7716fb2f9409b89257c09bee6775">More...</a><br /></td></tr>
<tr class="separator:a8dbf7716fb2f9409b89257c09bee6775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5acc0523c6aaaaaea3d26828d1b9c3"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="gcs__message__stages_8h.html#ad47dafd358f1d15cde0a0b4db7fd46cc">Gcs_pipeline_incoming_result</a>, <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a1b5acc0523c6aaaaaea3d26828d1b9c3">process_incoming</a> (<a class="el" href="classGcs__packet.html">Gcs_packet</a> &amp;&amp;packet) const</td></tr>
<tr class="memdesc:a1b5acc0523c6aaaaaea3d26828d1b9c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This member function SHALL be called by the receiver thread to process the packet through the stages it was processed when it was sent.  <a href="#a1b5acc0523c6aaaaaea3d26828d1b9c3">More...</a><br /></td></tr>
<tr class="separator:a1b5acc0523c6aaaaaea3d26828d1b9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4e99ac6077f667ccad424b49264184"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a3c4e99ac6077f667ccad424b49264184">update_members_information</a> (const <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &amp;me, const <a class="el" href="classGcs__xcom__nodes.html">Gcs_xcom_nodes</a> &amp;xcom_nodes) const</td></tr>
<tr class="memdesc:a3c4e99ac6077f667ccad424b49264184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the list of members in the group as this may be required by some stages in the communication pipeline.  <a href="#a3c4e99ac6077f667ccad424b49264184">More...</a><br /></td></tr>
<tr class="separator:a3c4e99ac6077f667ccad424b49264184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedeed67507400f5b7e7c20caf8817c45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gcs__xcom__synode_8h.html#ab22e12290848ea37f1fbcaf2eed01995">Gcs_xcom_synode_set</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#aedeed67507400f5b7e7c20caf8817c45">get_snapshot</a> () const</td></tr>
<tr class="separator:aedeed67507400f5b7e7c20caf8817c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c81fc88fe1e006daca96a2ed7eb2a0"><td class="memTemplParams" colspan="2">template&lt;class T , class... Args&gt; </td></tr>
<tr class="memitem:ac5c81fc88fe1e006daca96a2ed7eb2a0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#ac5c81fc88fe1e006daca96a2ed7eb2a0">register_stage</a> (Args... args)</td></tr>
<tr class="memdesc:ac5c81fc88fe1e006daca96a2ed7eb2a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a stage to be used by the pipeline.  <a href="#ac5c81fc88fe1e006daca96a2ed7eb2a0">More...</a><br /></td></tr>
<tr class="separator:ac5c81fc88fe1e006daca96a2ed7eb2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ee46f55dbdaf54693654df00e4b5123"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a8ee46f55dbdaf54693654df00e4b5123">contains_stage</a> (<a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> code) const</td></tr>
<tr class="memdesc:a8ee46f55dbdaf54693654df00e4b5123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a stage is registered or not.  <a href="#a8ee46f55dbdaf54693654df00e4b5123">More...</a><br /></td></tr>
<tr class="separator:a8ee46f55dbdaf54693654df00e4b5123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04f65eddcd304036511f0c7d60dfdcf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGcs__message__stage.html">Gcs_message_stage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#ae04f65eddcd304036511f0c7d60dfdcf">get_stage</a> (<a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> code) const</td></tr>
<tr class="separator:ae04f65eddcd304036511f0c7d60dfdcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8fc3b86002ac0d5b5a7073d509488b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#afb8fc3b86002ac0d5b5a7073d509488b">register_pipeline</a> (std::initializer_list&lt; <a class="el" href="gcs__message__stages_8h.html#a6f90bfebdcbf0da4c7239ab0111cd1b4">Gcs_pair_version_stages</a> &gt; stages)</td></tr>
<tr class="memdesc:afb8fc3b86002ac0d5b5a7073d509488b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register the stages per version that form the different pipelines.  <a href="#afb8fc3b86002ac0d5b5a7073d509488b">More...</a><br /></td></tr>
<tr class="separator:afb8fc3b86002ac0d5b5a7073d509488b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fcebd3c61f8760844594bffde8d8017"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a2fcebd3c61f8760844594bffde8d8017">contains_pipeline</a> (<a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> pipeline_version) const</td></tr>
<tr class="memdesc:a2fcebd3c61f8760844594bffde8d8017"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a pipeline version is registered or not.  <a href="#a2fcebd3c61f8760844594bffde8d8017">More...</a><br /></td></tr>
<tr class="separator:a2fcebd3c61f8760844594bffde8d8017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6117813ec5317b352e2fc564dcaf7b0a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="gcs__message__stages_8h.html#a767de76c85329603db0cb5188efc9a12">Gcs_stages_list</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a6117813ec5317b352e2fc564dcaf7b0a">get_pipeline</a> (<a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> pipeline_version) const</td></tr>
<tr class="separator:a6117813ec5317b352e2fc564dcaf7b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae421e5ad90e1125d14b2b2c23af5745"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#aae421e5ad90e1125d14b2b2c23af5745">cleanup</a> ()</td></tr>
<tr class="memdesc:aae421e5ad90e1125d14b2b2c23af5745"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean all data structures and objects created.  <a href="#aae421e5ad90e1125d14b2b2c23af5745">More...</a><br /></td></tr>
<tr class="separator:aae421e5ad90e1125d14b2b2c23af5745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af05febf429b60cdaefa2a65d2cfbe04d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#af05febf429b60cdaefa2a65d2cfbe04d">set_version</a> (<a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> pipeline_version)</td></tr>
<tr class="memdesc:af05febf429b60cdaefa2a65d2cfbe04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the pipeline version in use.  <a href="#af05febf429b60cdaefa2a65d2cfbe04d">More...</a><br /></td></tr>
<tr class="separator:af05febf429b60cdaefa2a65d2cfbe04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e2c1e5b2054bdf6ee1e7725fa1a7ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a71e2c1e5b2054bdf6ee1e7725fa1a7ee">get_version</a> () const</td></tr>
<tr class="memdesc:a71e2c1e5b2054bdf6ee1e7725fa1a7ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the pipeline version in use.  <a href="#a71e2c1e5b2054bdf6ee1e7725fa1a7ee">More...</a><br /></td></tr>
<tr class="separator:a71e2c1e5b2054bdf6ee1e7725fa1a7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1f3ac64b1337948f8f0ee965a92d8fc9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="gcs__message__stages_8h.html#a767de76c85329603db0cb5188efc9a12">Gcs_stages_list</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a1f3ac64b1337948f8f0ee965a92d8fc9">retrieve_pipeline</a> (<a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> pipeline_version) const</td></tr>
<tr class="memdesc:a1f3ac64b1337948f8f0ee965a92d8fc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the stages associated with a pipeline version.  <a href="#a1f3ac64b1337948f8f0ee965a92d8fc9">More...</a><br /></td></tr>
<tr class="separator:a1f3ac64b1337948f8f0ee965a92d8fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7c8817e0302e0f2b1237054d8c3870"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGcs__message__stage.html">Gcs_message_stage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#abb7c8817e0302e0f2b1237054d8c3870">retrieve_stage</a> (<a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> stage_code) const</td></tr>
<tr class="memdesc:abb7c8817e0302e0f2b1237054d8c3870"><td class="mdescLeft">&#160;</td><td class="mdescRight">This member function SHALL retrive the associated stage if there is any, otherwise a null pointer is returned.  <a href="#abb7c8817e0302e0f2b1237054d8c3870">More...</a><br /></td></tr>
<tr class="separator:abb7c8817e0302e0f2b1237054d8c3870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b6b474cbd4716518c7e4cb73e18aaa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGcs__message__stage.html">Gcs_message_stage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a48b6b474cbd4716518c7e4cb73e18aaa">retrieve_stage</a> (const <a class="el" href="classGcs__packet.html">Gcs_packet</a> &amp;<a class="el" href="ctype-mb_8cc.html#a6bc6b007533335efe02bafff799ec64c">p</a>) const</td></tr>
<tr class="memdesc:a48b6b474cbd4716518c7e4cb73e18aaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This member function SHALL retrive the current stage type code of a packet.  <a href="#a48b6b474cbd4716518c7e4cb73e18aaa">More...</a><br /></td></tr>
<tr class="separator:a48b6b474cbd4716518c7e4cb73e18aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14651b21f3808487f3e26c3beb19579f"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, std::vector&lt; <a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a14651b21f3808487f3e26c3beb19579f">get_stages_to_apply</a> (<a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> const &amp;pipeline_version, uint64_t const &amp;original_payload_size) const</td></tr>
<tr class="memdesc:a14651b21f3808487f3e26c3beb19579f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out which stages should be applied to an outgoing message.  <a href="#a14651b21f3808487f3e26c3beb19579f">More...</a><br /></td></tr>
<tr class="separator:a14651b21f3808487f3e26c3beb19579f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c503e37206d7085a16e6e78e328998"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a10c503e37206d7085a16e6e78e328998">create_packet</a> (<a class="el" href="gcs__internal__message__headers_8h.html#a97f49ed4714e185b87ca9ab82286c836">Cargo_type</a> const &amp;cargo, <a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> const &amp;current_version, uint64_t const &amp;original_payload_size, std::vector&lt; <a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> &gt; const &amp;stages_to_apply) const</td></tr>
<tr class="memdesc:a10c503e37206d7085a16e6e78e328998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a packet for a message with size original_payload_size and type cargo, that will go through the stages stages_to_apply from pipeline version current_version.  <a href="#a10c503e37206d7085a16e6e78e328998">More...</a><br /></td></tr>
<tr class="separator:a10c503e37206d7085a16e6e78e328998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c170b8a9220b09e15cdd9081c4cc29"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, std::vector&lt; <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#af5c170b8a9220b09e15cdd9081c4cc29">apply_stages</a> (<a class="el" href="classGcs__packet.html">Gcs_packet</a> &amp;&amp;packet, std::vector&lt; <a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> &gt; const &amp;stages) const</td></tr>
<tr class="memdesc:af5c170b8a9220b09e15cdd9081c4cc29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the given stages to the given outgoing packet.  <a href="#af5c170b8a9220b09e15cdd9081c4cc29">More...</a><br /></td></tr>
<tr class="separator:af5c170b8a9220b09e15cdd9081c4cc29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5bccb502f3dd7765f53d3f0c16bb3af"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, std::vector&lt; <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#ab5bccb502f3dd7765f53d3f0c16bb3af">apply_stage</a> (std::vector&lt; <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; &amp;&amp;packets, <a class="el" href="classGcs__message__stage.html">Gcs_message_stage</a> &amp;stage) const</td></tr>
<tr class="memdesc:ab5bccb502f3dd7765f53d3f0c16bb3af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the given stage to the given outgoing packet.  <a href="#ab5bccb502f3dd7765f53d3f0c16bb3af">More...</a><br /></td></tr>
<tr class="separator:ab5bccb502f3dd7765f53d3f0c16bb3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b4e36202a7dbbc0607df16d10279e4"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="gcs__message__stages_8h.html#ad47dafd358f1d15cde0a0b4db7fd46cc">Gcs_pipeline_incoming_result</a>, <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a57b4e36202a7dbbc0607df16d10279e4">revert_stage</a> (<a class="el" href="classGcs__packet.html">Gcs_packet</a> &amp;&amp;packet, <a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> const &amp;stage_code) const</td></tr>
<tr class="memdesc:a57b4e36202a7dbbc0607df16d10279e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Revert the given stage to the given incoming packet.  <a href="#a57b4e36202a7dbbc0607df16d10279e4">More...</a><br /></td></tr>
<tr class="separator:a57b4e36202a7dbbc0607df16d10279e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4603d19ae30b11212d991c1a47c1c5f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gcs__message__stages_8h.html#aab43ce4367dda289441614e6ccfaaa72">Gcs_map_type_handler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#a4603d19ae30b11212d991c1a47c1c5f5">m_handlers</a></td></tr>
<tr class="memdesc:a4603d19ae30b11212d991c1a47c1c5f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The registered stages.  <a href="#a4603d19ae30b11212d991c1a47c1c5f5">More...</a><br /></td></tr>
<tr class="separator:a4603d19ae30b11212d991c1a47c1c5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08c3f452e964c46ebc984155523a9ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gcs__message__stages_8h.html#a5cb330909613f518e84e000fe37c9d8f">Gcs_map_version_stages</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#ab08c3f452e964c46ebc984155523a9ec">m_pipelines</a></td></tr>
<tr class="memdesc:ab08c3f452e964c46ebc984155523a9ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the pre-assembled outgoing pipelines for the different versions that are currently supported, meaning that the stages are traversed in the given order.  <a href="#ab08c3f452e964c46ebc984155523a9ec">More...</a><br /></td></tr>
<tr class="separator:ab08c3f452e964c46ebc984155523a9ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac62737b542583519fdf812b6112a4a35"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGcs__message__pipeline.html#ac62737b542583519fdf812b6112a4a35">m_pipeline_version</a></td></tr>
<tr class="memdesc:ac62737b542583519fdf812b6112a4a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pipeline version in use.  <a href="#ac62737b542583519fdf812b6112a4a35">More...</a><br /></td></tr>
<tr class="separator:ac62737b542583519fdf812b6112a4a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the pipeline that an outgoing or incoming message has to go through when being sent to or received from the group respectively. </p>
<p>The message pipeline has stages registered and these are assembled in an outgoing pipeline. Then outgoing messages always have to traverse this pipeline. For incoming messages, the pipeline is built on the fly, according to the information contained in the message stage headers.</p>
<p>The following rules are always enforced to guarantee safety:</p>
<p>. A node always knows how to process protocol versions in the domain [initial version, max-version-known(node)] by keeping a complete versioned pipeline for the entire domain</p>
<p>. Every time the pipeline or a message changes, the protocol version is incremented and new pipeline version is also created accordingly with new codes for all the stages</p>
<p>. Running group can upgrade, but never downgrade, its protocol unless a user explicitly request to downgrade it</p>
<p>. Older nodes attempting to join a group running a newer protocol will discard all messages because the messages will either: (a) contain an unknown cargo type, or (b) contain an unknown type code</p>
<p>&mdash; Adding a new stage &mdash;</p>
<p>If a developer needs to add a new stage to the pipeline, the header protocol version number has to be incremented and the pipeline stage updated as follows:</p>
<p>Gcs_message_old_stage *old_stage = pipeline.register_stage&lt;Gcs_message_old_stage&gt;(); Gcs_message_modified_old_stage *modified_old_stage = pipeline.register_stage&lt;Gcs_message_modified_old_stage&gt;(); Gcs_message_new_stage *new_stage = pipeline.register_stage&lt;Gcs_message_new_stage&gt;();</p>
<p>pipeline.register_pipeline( { { 1, {old_stage-&gt;get_stage_code()} }, { X, {modified_old_stage-&gt;get_stage_code(), new_stage-&gt;get_stage_code()} } });</p>
<p>where X is the header protocol version after the update.</p>
<p>Note that the difference between the two old stages is only the type code.</p>
<p>&mdash; Changing stage format &mdash;</p>
<p>If a developer needs to change any stage format, i.e. replace an existing stage of the pipeline, the header protocol version number has to be incremented and the pipeline stage updated as follows:</p>
<p>Gcs_message_old_stage *old_stage = pipeline.register_stage&lt;Gcs_message_old_stage&gt;(); Gcs_message_new_stage *new_stage = pipeline.register_stage&lt;Gcs_message_new_stage&gt;();</p>
<p>pipeline.register_pipeline( { { 1, {old_stage-&gt;get_stage_code()} }, { X, {new_stage-&gt;get_stage_code()} } });</p>
<p>where X is the header protocol version after the update.</p>
<p>Note that a new pipeline stage with a unique type code has to be created. Besides, every message will carry the current protocol version in use and this information is available as part of the fixed header and can be read by any stage in order to decide how the message content shall be interpreted.</p>
<p>&mdash; Changing Cargo &mdash;</p>
<p>If a developer needs to change a cargo format or create a new one, a new cargo type must always be created as the current cargo types are not prepared to be extended and the header protocol version number has to be incremented and the pipeline stage updated as follows:</p>
<p>Gcs_message_old_stage *old_stage = pipeline.register_stage&lt;Gcs_message_old_stage&gt;(); Gcs_message_modified_old_stage *modified_old_stage = pipeline.register_stage&lt;Gcs_message_modified_old_stage&gt;();</p>
<p>pipeline.register_pipeline( { { 1, {old_stage-&gt;get_stage_code()} }, { X, {modified_old_stage-&gt;get_stage_code()} } });</p>
<p>where X is the header protocol version after the update.</p>
<p>Although the cargo type has no direct relation to the message pipeline stages, increasing the protocol version number will allow nodes to decide if versions are compatible. Note that the difference between the two old stages is only the type code. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a49ce526f57b1c9005aef3ad7ecd72736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49ce526f57b1c9005aef3ad7ecd72736">&#9670;&nbsp;</a></span>Gcs_message_pipeline() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Gcs_message_pipeline::Gcs_message_pipeline </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae6c4a138c29d742f198522dde41adbea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6c4a138c29d742f198522dde41adbea">&#9670;&nbsp;</a></span>Gcs_message_pipeline() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Gcs_message_pipeline::Gcs_message_pipeline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a37f77b02aff4b6dd926f7f58f29040fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f77b02aff4b6dd926f7f58f29040fb">&#9670;&nbsp;</a></span>Gcs_message_pipeline() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Gcs_message_pipeline::Gcs_message_pipeline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6791f243e8c9bb0c231aebac266ba4a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6791f243e8c9bb0c231aebac266ba4a9">&#9670;&nbsp;</a></span>~Gcs_message_pipeline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Gcs_message_pipeline::~Gcs_message_pipeline </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab5bccb502f3dd7765f53d3f0c16bb3af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5bccb502f3dd7765f53d3f0c16bb3af">&#9670;&nbsp;</a></span>apply_stage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, std::vector&lt; <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; &gt; Gcs_message_pipeline::apply_stage </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>packets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGcs__message__stage.html">Gcs_message_stage</a> &amp;&#160;</td>
          <td class="paramname"><em>stage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply the given stage to the given outgoing packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packets</td><td>The packet to transform </td></tr>
    <tr><td class="paramname">stage</td><td>The stage to apply </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">{true,_}</td><td>If there was an error applying the stage </td></tr>
    <tr><td class="paramname">{false,P}</td><td>If the stage was successfully applied, and produced the set of transformed packets P </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af5c170b8a9220b09e15cdd9081c4cc29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5c170b8a9220b09e15cdd9081c4cc29">&#9670;&nbsp;</a></span>apply_stages()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, std::vector&lt; <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; &gt; Gcs_message_pipeline::apply_stages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGcs__packet.html">Gcs_packet</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>stages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply the given stages to the given outgoing packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>The packet to transform </td></tr>
    <tr><td class="paramname">stages</td><td>The stages to apply </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">{true,_}</td><td>If there was an error applying the stages </td></tr>
    <tr><td class="paramname">{false,P}</td><td>If the stages were successfully applied, and produced the set of transformed packets P </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae421e5ad90e1125d14b2b2c23af5745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae421e5ad90e1125d14b2b2c23af5745">&#9670;&nbsp;</a></span>cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Gcs_message_pipeline::cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean all data structures and objects created. </p>

</div>
</div>
<a id="a2fcebd3c61f8760844594bffde8d8017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fcebd3c61f8760844594bffde8d8017">&#9670;&nbsp;</a></span>contains_pipeline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Gcs_message_pipeline::contains_pipeline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a>&#160;</td>
          <td class="paramname"><em>pipeline_version</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether a pipeline version is registered or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipeline_version</td><td>Pipeline version </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether a pipeline version is registered or not. </dd></dl>

</div>
</div>
<a id="a8ee46f55dbdaf54693654df00e4b5123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee46f55dbdaf54693654df00e4b5123">&#9670;&nbsp;</a></span>contains_stage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Gcs_message_pipeline::contains_stage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether a stage is registered or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">code</td><td>Stage code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether a stage is registered or not. </dd></dl>

</div>
</div>
<a id="a10c503e37206d7085a16e6e78e328998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10c503e37206d7085a16e6e78e328998">&#9670;&nbsp;</a></span>create_packet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; Gcs_message_pipeline::create_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__internal__message__headers_8h.html#a97f49ed4714e185b87ca9ab82286c836">Cargo_type</a> const &amp;&#160;</td>
          <td class="paramname"><em>cargo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> const &amp;&#160;</td>
          <td class="paramname"><em>current_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t const &amp;&#160;</td>
          <td class="paramname"><em>original_payload_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>stages_to_apply</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a packet for a message with size original_payload_size and type cargo, that will go through the stages stages_to_apply from pipeline version current_version. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cargo</td><td>The message type </td></tr>
    <tr><td class="paramname">current_version</td><td>The pipeline version </td></tr>
    <tr><td class="paramname">original_payload_size</td><td>The payload size </td></tr>
    <tr><td class="paramname">stages_to_apply</td><td>The stages that will be applied to the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">{true,_}</td><td>If there was an error creating the packet </td></tr>
    <tr><td class="paramname">{false,P}</td><td>If successful, and created packet P </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6117813ec5317b352e2fc564dcaf7b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6117813ec5317b352e2fc564dcaf7b0a">&#9670;&nbsp;</a></span>get_pipeline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="gcs__message__stages_8h.html#a767de76c85329603db0cb5188efc9a12">Gcs_stages_list</a>&amp; Gcs_message_pipeline::get_pipeline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a>&#160;</td>
          <td class="paramname"><em>pipeline_version</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aedeed67507400f5b7e7c20caf8817c45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedeed67507400f5b7e7c20caf8817c45">&#9670;&nbsp;</a></span>get_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gcs__xcom__synode_8h.html#ab22e12290848ea37f1fbcaf2eed01995">Gcs_xcom_synode_set</a> Gcs_message_pipeline::get_snapshot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae04f65eddcd304036511f0c7d60dfdcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae04f65eddcd304036511f0c7d60dfdcf">&#9670;&nbsp;</a></span>get_stage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGcs__message__stage.html">Gcs_message_stage</a>&amp; Gcs_message_pipeline::get_stage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a>&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a14651b21f3808487f3e26c3beb19579f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14651b21f3808487f3e26c3beb19579f">&#9670;&nbsp;</a></span>get_stages_to_apply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, std::vector&lt; <a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> &gt; &gt; Gcs_message_pipeline::get_stages_to_apply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> const &amp;&#160;</td>
          <td class="paramname"><em>pipeline_version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t const &amp;&#160;</td>
          <td class="paramname"><em>original_payload_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find out which stages should be applied to an outgoing message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipeline_version</td><td>The pipeline version to use </td></tr>
    <tr><td class="paramname">original_payload_size</td><td>The size of the outgoing message </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">{true,_}</td><td>If there was an error </td></tr>
    <tr><td class="paramname">{false,S}</td><td>If successful, and the message should go through the sequence of stages S </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a71e2c1e5b2054bdf6ee1e7725fa1a7ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e2c1e5b2054bdf6ee1e7725fa1a7ee">&#9670;&nbsp;</a></span>get_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a> Gcs_message_pipeline::get_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the pipeline version in use. </p>

</div>
</div>
<a id="a1b48b6389c17c3b00baf46b9914442fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b48b6389c17c3b00baf46b9914442fd">&#9670;&nbsp;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a>&amp; Gcs_message_pipeline::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af7ecdb4a856d20e4a394e96a40325842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ecdb4a856d20e4a394e96a40325842">&#9670;&nbsp;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a>&amp; Gcs_message_pipeline::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1b5acc0523c6aaaaaea3d26828d1b9c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b5acc0523c6aaaaaea3d26828d1b9c3">&#9670;&nbsp;</a></span>process_incoming()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="gcs__message__stages_8h.html#ad47dafd358f1d15cde0a0b4db7fd46cc">Gcs_pipeline_incoming_result</a>, <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; Gcs_message_pipeline::process_incoming </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGcs__packet.html">Gcs_packet</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This member function SHALL be called by the receiver thread to process the packet through the stages it was processed when it was sent. </p>
<p>This reverts the effect on the receiving end.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>The packet to process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">{ERROR,_}</td><td>If there was an error in the pipeline </td></tr>
    <tr><td class="paramname">{OK_NO_PACKET,NP}</td><td>If the pipeline was successful, but produced no packet </td></tr>
    <tr><td class="paramname">{OK_PACKET,P}</td><td>If the pipeline was successful, and produced the packet P </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8dbf7716fb2f9409b89257c09bee6775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbf7716fb2f9409b89257c09bee6775">&#9670;&nbsp;</a></span>process_outgoing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>, std::vector&lt; <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; &gt; Gcs_message_pipeline::process_outgoing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGcs__message__data.html">Gcs_message_data</a> const &amp;&#160;</td>
          <td class="paramname"><em>msg_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gcs__internal__message__headers_8h.html#a97f49ed4714e185b87ca9ab82286c836">Cargo_type</a>&#160;</td>
          <td class="paramname"><em>cargo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This member function SHALL be called by the message sender. </p>
<p>It makes the message go through the pipeline of stages before it is actually handed over to the group communication engine.</p>
<p>Note that the fragmentation layer may produce more than one packet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg_data</td><td>Message data to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cargo</td><td>The cargo type of the message to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">{true,_}</td><td>If there was an error in the pipeline </td></tr>
    <tr><td class="paramname">{false,P}</td><td>If the pipeline was successful, and produced the set of transformed packets P </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb8fc3b86002ac0d5b5a7073d509488b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8fc3b86002ac0d5b5a7073d509488b">&#9670;&nbsp;</a></span>register_pipeline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Gcs_message_pipeline::register_pipeline </td>
          <td>(</td>
          <td class="paramtype">std::initializer_list&lt; <a class="el" href="gcs__message__stages_8h.html#a6f90bfebdcbf0da4c7239ab0111cd1b4">Gcs_pair_version_stages</a> &gt;&#160;</td>
          <td class="paramname"><em>stages</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register the stages per version that form the different pipelines. </p>
<p>This method must be called after registering all the desired stages using register_stage.</p>
<p>This method must only be called on an unregistered pipeline. If you want to reuse the pipeline, new calls to this method must be preceded by calls to cleanup and register_stage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stages</td><td>Initialization list that contains a mapping between a version and the associated pipeline stages.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true otherwise. </dd></dl>

</div>
</div>
<a id="ac5c81fc88fe1e006daca96a2ed7eb2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c81fc88fe1e006daca96a2ed7eb2a0">&#9670;&nbsp;</a></span>register_stage()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Gcs_message_pipeline::register_stage </td>
          <td>(</td>
          <td class="paramtype">Args...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a stage to be used by the pipeline. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Stage class type </td></tr>
    <tr><td class="paramname">Args</td><td>Type of Parameters to the stage constructor </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>Parameters to the stage constructor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f3ac64b1337948f8f0ee965a92d8fc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f3ac64b1337948f8f0ee965a92d8fc9">&#9670;&nbsp;</a></span>retrieve_pipeline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="gcs__message__stages_8h.html#a767de76c85329603db0cb5188efc9a12">Gcs_stages_list</a> * Gcs_message_pipeline::retrieve_pipeline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a>&#160;</td>
          <td class="paramname"><em>pipeline_version</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the stages associated with a pipeline version. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipeline_version</td><td>Pipeline version </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb7c8817e0302e0f2b1237054d8c3870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb7c8817e0302e0f2b1237054d8c3870">&#9670;&nbsp;</a></span>retrieve_stage() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGcs__message__stage.html">Gcs_message_stage</a> * Gcs_message_pipeline::retrieve_stage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a>&#160;</td>
          <td class="paramname"><em>stage_code</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This member function SHALL retrive the associated stage if there is any, otherwise a null pointer is returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stage_code</td><td>unique stage code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48b6b474cbd4716518c7e4cb73e18aaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b6b474cbd4716518c7e4cb73e18aaa">&#9670;&nbsp;</a></span>retrieve_stage() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGcs__message__stage.html">Gcs_message_stage</a>* Gcs_message_pipeline::retrieve_stage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGcs__packet.html">Gcs_packet</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This member function SHALL retrive the current stage type code of a packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>the packet to process. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a57b4e36202a7dbbc0607df16d10279e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b4e36202a7dbbc0607df16d10279e4">&#9670;&nbsp;</a></span>revert_stage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="gcs__message__stages_8h.html#ad47dafd358f1d15cde0a0b4db7fd46cc">Gcs_pipeline_incoming_result</a>, <a class="el" href="classGcs__packet.html">Gcs_packet</a> &gt; Gcs_message_pipeline::revert_stage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGcs__packet.html">Gcs_packet</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gcs__internal__message__headers_8h.html#ac0ca5caa54f70d4fe2b3f517370570a5">Stage_code</a> const &amp;&#160;</td>
          <td class="paramname"><em>stage_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Revert the given stage to the given incoming packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packet</td><td>The packet to transform </td></tr>
    <tr><td class="paramname">stage_code</td><td>The stage to revert </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">{ERROR,_}</td><td>If there was an error in the stage </td></tr>
    <tr><td class="paramname">{OK_NO_PACKET,NP}</td><td>If the stage was successfully reverted, but produced no packet </td></tr>
    <tr><td class="paramname">{OK_PACKET,P}</td><td>If the stage was successfully reverted, and produced the packet P </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af05febf429b60cdaefa2a65d2cfbe04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af05febf429b60cdaefa2a65d2cfbe04d">&#9670;&nbsp;</a></span>set_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Gcs_message_pipeline::set_version </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a>&#160;</td>
          <td class="paramname"><em>pipeline_version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the pipeline version in use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pipeline_version</td><td>Pipeline version. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if successfully set, true otherwise </dd></dl>

</div>
</div>
<a id="a3c4e99ac6077f667ccad424b49264184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c4e99ac6077f667ccad424b49264184">&#9670;&nbsp;</a></span>update_members_information()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Gcs_message_pipeline::update_members_information </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &amp;&#160;</td>
          <td class="paramname"><em>me</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classGcs__xcom__nodes.html">Gcs_xcom_nodes</a> &amp;&#160;</td>
          <td class="paramname"><em>xcom_nodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the list of members in the group as this may be required by some stages in the communication pipeline. </p>
<p>By default though, the call is simply ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">me</td><td>The local member identifier. </td></tr>
    <tr><td class="paramname">xcom_nodes</td><td>List of members in the group. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4603d19ae30b11212d991c1a47c1c5f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4603d19ae30b11212d991c1a47c1c5f5">&#9670;&nbsp;</a></span>m_handlers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gcs__message__stages_8h.html#aab43ce4367dda289441614e6ccfaaa72">Gcs_map_type_handler</a> Gcs_message_pipeline::m_handlers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The registered stages. </p>
<p>These are all stages that are known by this version of MySQL GCS. This needs to contain an instance of all possible stages, since it needs to handle cross-version communication. </p>

</div>
</div>
<a id="ac62737b542583519fdf812b6112a4a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac62737b542583519fdf812b6112a4a35">&#9670;&nbsp;</a></span>m_pipeline_version</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="gcs__types_8h.html#ae715da8d58f9bc393566e42448d17260">Gcs_protocol_version</a>&gt; Gcs_message_pipeline::m_pipeline_version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The pipeline version in use. </p>

</div>
</div>
<a id="ab08c3f452e964c46ebc984155523a9ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab08c3f452e964c46ebc984155523a9ec">&#9670;&nbsp;</a></span>m_pipelines</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gcs__message__stages_8h.html#a5cb330909613f518e84e000fe37c9d8f">Gcs_map_version_stages</a> Gcs_message_pipeline::m_pipelines</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the pre-assembled outgoing pipelines for the different versions that are currently supported, meaning that the stages are traversed in the given order. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>plugin/group_replication/libmysqlgcs/src/bindings/xcom/<a class="el" href="gcs__message__stages_8h_source.html">gcs_message_stages.h</a></li>
<li>plugin/group_replication/libmysqlgcs/src/bindings/xcom/<a class="el" href="gcs__message__stages_8cc.html">gcs_message_stages.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classGcs__message__pipeline.html">Gcs_message_pipeline</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
