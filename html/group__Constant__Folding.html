<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Query Optimizer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__Constant__Folding.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Query Optimizer</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga26ca7d23c96fa1a81879ac6193e88297"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> { <br />
&#160;&#160;<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297a08cb6872ddfd8937f4eea1afdc4b9cf4">RP_OUTSIDE_HIGH</a>, 
<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297a3da7c38cead1ba7a0a4ad026e86b4473">RP_OUTSIDE_LOW</a>, 
<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297a34ac376cccf1e8f50033e49daf52ab31">RP_ON_MIN</a>, 
<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297acc3bdd1a76d50cc761a68ba48887fd0e">RP_ON_MAX</a>, 
<br />
&#160;&#160;<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297a7ea141a9451ea974963b31f951f45c05">RP_INSIDE</a>, 
<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297a248439129f356530256f38428952dc4d">RP_INSIDE_TRUNCATED</a>, 
<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297adcd53e277070473736e13f54ef6fb43f">RP_INSIDE_YEAR_HOLE</a>, 
<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297a0c0a06913fbc8586288d860748599e1d">RP_ROUNDED_DOWN</a>, 
<br />
&#160;&#160;<a class="el" href="group__Constant__Folding.html#gga26ca7d23c96fa1a81879ac6193e88297a13784ed00ec98d365afc80994ec4f69e">RP_ROUNDED_UP</a>
<br />
 }<tr class="memdesc:ga26ca7d23c96fa1a81879ac6193e88297"><td class="mdescLeft">&#160;</td><td class="mdescRight">fold_condition uses analyze_field_constant to analyze constants in comparisons expressions with a view to fold the expression.  <a href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga26ca7d23c96fa1a81879ac6193e88297"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4acf50c5df305b7e59468f2fd923ac51"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga4acf50c5df305b7e59468f2fd923ac51">round_fold_or_convert_dec</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> **const_val, <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *place, <a class="el" href="classItem__field.html">Item_field</a> *f, <a class="el" href="classmy__decimal.html">my_decimal</a> *d, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> up, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *discount_equal)</td></tr>
<tr class="memdesc:ga4acf50c5df305b7e59468f2fd923ac51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minion of analyze_int_field_constant.  <a href="#ga4acf50c5df305b7e59468f2fd923ac51">More...</a><br /></td></tr>
<tr class="separator:ga4acf50c5df305b7e59468f2fd923ac51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd923876f79b111f8994377954bc3b88"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#gacd923876f79b111f8994377954bc3b88">fold_or_convert_dec</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> **const_val, <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *place, <a class="el" href="classItem__field.html">Item_field</a> *f, <a class="el" href="classmy__decimal.html">my_decimal</a> *d)</td></tr>
<tr class="memdesc:gacd923876f79b111f8994377954bc3b88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minion of analyze_int_field_constant.  <a href="#gacd923876f79b111f8994377954bc3b88">More...</a><br /></td></tr>
<tr class="separator:gacd923876f79b111f8994377954bc3b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90af0e6cceefb80940606cbbe6fc09c2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga90af0e6cceefb80940606cbbe6fc09c2">analyze_int_field_constant</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem__field.html">Item_field</a> *f, <a class="el" href="classItem.html">Item</a> **const_val, <a class="el" href="classItem__func.html#a44783465b41db99f2cff936cb7b6e70b">Item_func::Functype</a> ft, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> left_has_field, <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *place, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *discount_equal)</td></tr>
<tr class="memdesc:ga90af0e6cceefb80940606cbbe6fc09c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minion of analyze_field_constant for integer type fields.  <a href="#ga90af0e6cceefb80940606cbbe6fc09c2">More...</a><br /></td></tr>
<tr class="separator:ga90af0e6cceefb80940606cbbe6fc09c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga660880f143f162c06c8847ccb905c756"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga660880f143f162c06c8847ccb905c756">analyze_decimal_field_constant</a> (<a class="el" href="classTHD.html">THD</a> *thd, const <a class="el" href="classItem__field.html">Item_field</a> *f, <a class="el" href="classItem.html">Item</a> **const_val, <a class="el" href="classItem__func.html#a44783465b41db99f2cff936cb7b6e70b">Item_func::Functype</a> ft, <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *place, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *negative)</td></tr>
<tr class="memdesc:ga660880f143f162c06c8847ccb905c756"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minion of analyze_field_constant for decimal type fields.  <a href="#ga660880f143f162c06c8847ccb905c756">More...</a><br /></td></tr>
<tr class="separator:ga660880f143f162c06c8847ccb905c756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga178077f9607bbd346aa0141a77e05a2b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga178077f9607bbd346aa0141a77e05a2b">analyze_real_field_constant</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem__field.html">Item_field</a> *f, <a class="el" href="classItem.html">Item</a> **const_val, <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *place)</td></tr>
<tr class="memdesc:ga178077f9607bbd346aa0141a77e05a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minion of analyze_field_constant for real type fields.  <a href="#ga178077f9607bbd346aa0141a77e05a2b">More...</a><br /></td></tr>
<tr class="separator:ga178077f9607bbd346aa0141a77e05a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga915f31a7e00c7bf4db339fd7331a80f9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga915f31a7e00c7bf4db339fd7331a80f9">analyze_year_field_constant</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> **const_val, <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *place)</td></tr>
<tr class="memdesc:ga915f31a7e00c7bf4db339fd7331a80f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minion of analyze_field_constant for YEAR type fields.  <a href="#ga915f31a7e00c7bf4db339fd7331a80f9">More...</a><br /></td></tr>
<tr class="separator:ga915f31a7e00c7bf4db339fd7331a80f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f7cccb403212551e16ab929ef7ee20a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga9f7cccb403212551e16ab929ef7ee20a">analyze_timestamp_field_constant</a> (<a class="el" href="classTHD.html">THD</a> *thd, const <a class="el" href="classItem__field.html">Item_field</a> *f, <a class="el" href="classItem.html">Item</a> **const_val, <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *place)</td></tr>
<tr class="memdesc:ga9f7cccb403212551e16ab929ef7ee20a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minion of analyze_field_constant for TIMESTAMP, DATETIME, DATE fields.  <a href="#ga9f7cccb403212551e16ab929ef7ee20a">More...</a><br /></td></tr>
<tr class="separator:ga9f7cccb403212551e16ab929ef7ee20a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9dbd12d532a87a19d040b552cb3e996a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga9dbd12d532a87a19d040b552cb3e996a">analyze_time_field_constant</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> **const_val)</td></tr>
<tr class="separator:ga9dbd12d532a87a19d040b552cb3e996a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga80a5e5a11a49ff69000bdc3694982f38"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga80a5e5a11a49ff69000bdc3694982f38">analyze_field_constant</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem__field.html">Item_field</a> *f, <a class="el" href="classItem.html">Item</a> **const_val, <a class="el" href="classItem__func.html">Item_func</a> *func, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> left_has_field, <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *place, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *discount_equal, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *negative)</td></tr>
<tr class="memdesc:ga80a5e5a11a49ff69000bdc3694982f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Analyze a constant's placement within (or without) the type range of the field f.  <a href="#ga80a5e5a11a49ff69000bdc3694982f38">More...</a><br /></td></tr>
<tr class="separator:ga80a5e5a11a49ff69000bdc3694982f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd5ce069196ddd07bbb28eb7961fdec3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#gacd5ce069196ddd07bbb28eb7961fdec3">fold_or_simplify</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> *ref_or_field, <a class="el" href="classItem__func.html#a44783465b41db99f2cff936cb7b6e70b">Item_func::Functype</a> ft, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> always_true, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> manifest_result, <a class="el" href="classItem.html">Item</a> **retcond, <a class="el" href="classItem.html#ab74b339b7c522a3a7aa2b8e4e8123a1b">Item::cond_result</a> *cond_value)</td></tr>
<tr class="memdesc:gacd5ce069196ddd07bbb28eb7961fdec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">We have found that the constant's value makes the predicate always true or false (modulo field nullability), so simplify or remove the condition according to this table:  <a href="#gacd5ce069196ddd07bbb28eb7961fdec3">More...</a><br /></td></tr>
<tr class="separator:gacd5ce069196ddd07bbb28eb7961fdec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2447069759c14399480cf5b24b72fb73"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga2447069759c14399480cf5b24b72fb73">fold_arguments</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem__func.html">Item_func</a> *func)</td></tr>
<tr class="separator:ga2447069759c14399480cf5b24b72fb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdb25179aacdbd3e799e0653b791877b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#gafdb25179aacdbd3e799e0653b791877b">fold_arguments</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem__cond.html">Item_cond</a> *cond)</td></tr>
<tr class="memdesc:gafdb25179aacdbd3e799e0653b791877b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call fold_condition on all the conditions's arguments.  <a href="#gafdb25179aacdbd3e799e0653b791877b">More...</a><br /></td></tr>
<tr class="separator:gafdb25179aacdbd3e799e0653b791877b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59786e6b0d74adba6d6976d5c5815c07"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga59786e6b0d74adba6d6976d5c5815c07">map_less_to_greater</a> (<a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> place)</td></tr>
<tr class="memdesc:ga59786e6b0d74adba6d6976d5c5815c07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch places of low, high, max and min.  <a href="#ga59786e6b0d74adba6d6976d5c5815c07">More...</a><br /></td></tr>
<tr class="separator:ga59786e6b0d74adba6d6976d5c5815c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4712338c4678afb26eb322737699f549"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga4712338c4678afb26eb322737699f549">adjust_cmp_op</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem__func.html">Item_func</a> *func, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> left_has_field, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> inverse, <a class="el" href="classItem.html">Item</a> *ref_or_field, <a class="el" href="classItem.html">Item</a> *c, <a class="el" href="classItem.html">Item</a> **retcond)</td></tr>
<tr class="memdesc:ga4712338c4678afb26eb322737699f549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possibly change comparison operator because we have rounded the constant in some direction.  <a href="#ga4712338c4678afb26eb322737699f549">More...</a><br /></td></tr>
<tr class="separator:ga4712338c4678afb26eb322737699f549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5557c6763e4db4a993b77445c46b4635"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga5557c6763e4db4a993b77445c46b4635">simplify_to_equal</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> *ref_or_field, <a class="el" href="classItem.html">Item</a> *c, <a class="el" href="classItem.html">Item</a> **retcond, <a class="el" href="classItem.html#ab74b339b7c522a3a7aa2b8e4e8123a1b">Item::cond_result</a> *cond_value)</td></tr>
<tr class="memdesc:ga5557c6763e4db4a993b77445c46b4635"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace condition in retcond with "=" (i.e. Item_func_eq) and set cond_value to Item::COND_OK.  <a href="#ga5557c6763e4db4a993b77445c46b4635">More...</a><br /></td></tr>
<tr class="separator:ga5557c6763e4db4a993b77445c46b4635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga540ecb3b9793c84736805305c14eca83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Constant__Folding.html#ga540ecb3b9793c84736805305c14eca83">fold_condition</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classItem.html">Item</a> *cond, <a class="el" href="classItem.html">Item</a> **retcond, <a class="el" href="classItem.html#ab74b339b7c522a3a7aa2b8e4e8123a1b">Item::cond_result</a> *cond_value, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> manifest_result)</td></tr>
<tr class="memdesc:ga540ecb3b9793c84736805305c14eca83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fold boolean condition {=, &lt;&gt;, &gt;, &gt;=, &lt;, &lt;=, &lt;=&gt;} involving constants and fields (or references to fields), possibly determining if the condition is always true or false based on type range of the field, or possibly simplifying &gt;=, &lt;= to = if constant lies on the range border.  <a href="#ga540ecb3b9793c84736805305c14eca83">More...</a><br /></td></tr>
<tr class="separator:ga540ecb3b9793c84736805305c14eca83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga26ca7d23c96fa1a81879ac6193e88297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26ca7d23c96fa1a81879ac6193e88297">&#9670;&nbsp;</a></span>Range_placement</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fold_condition uses analyze_field_constant to analyze constants in comparisons expressions with a view to fold the expression. </p>
<p>The analysis will determine the range characteristic of the constant, as represented by one value of this set. In the simple case, if the constant is within the range of the field to which it is being compared, the value used is RP_INSIDE. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297a08cb6872ddfd8937f4eea1afdc4b9cf4"></a>RP_OUTSIDE_HIGH&#160;</td><td class="fielddoc"><p>The constant is larger than the highest value in the range. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297a3da7c38cead1ba7a0a4ad026e86b4473"></a>RP_OUTSIDE_LOW&#160;</td><td class="fielddoc"><p>The constant is lower than the lowest value in the range. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297a34ac376cccf1e8f50033e49daf52ab31"></a>RP_ON_MIN&#160;</td><td class="fielddoc"><p>The constant has the value of the lowest value in the range. </p>
<p>Only used for integer types and the YEAR type. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297acc3bdd1a76d50cc761a68ba48887fd0e"></a>RP_ON_MAX&#160;</td><td class="fielddoc"><p>The constant has the value of the highest value in the range. </p>
<p>Only used for integer types and the YEAR type. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297a7ea141a9451ea974963b31f951f45c05"></a>RP_INSIDE&#160;</td><td class="fielddoc"><p>The constant has a value within the range, but that is <em>not</em> on one of the borders if applicable for the type, cf. </p>
<p>RP_ON_MIN and RP_ON_MAX. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297a248439129f356530256f38428952dc4d"></a>RP_INSIDE_TRUNCATED&#160;</td><td class="fielddoc"><p>The constant has a value within the range, but was truncated. </p>
<p>Used for DECIMAL if the constant has more precision in the fraction than the field and for floating point underflow. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297adcd53e277070473736e13f54ef6fb43f"></a>RP_INSIDE_YEAR_HOLE&#160;</td><td class="fielddoc"><p>The YEAR type has a discontinuous range {0} U [1901, 2155]. </p>
<p>If the constant is larger than 0, but less than 1901, we represent that with this value. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297a0c0a06913fbc8586288d860748599e1d"></a>RP_ROUNDED_DOWN&#160;</td><td class="fielddoc"><p>The constant has been rounded down, i.e. to the left on the number line, due to restriction on field length (FLOAT or DOUBLE) or because we have a FLOAT type and the constant given has a mantissa with more significant digits than allowed for FLOAT. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga26ca7d23c96fa1a81879ac6193e88297a13784ed00ec98d365afc80994ec4f69e"></a>RP_ROUNDED_UP&#160;</td><td class="fielddoc"><p>The constant has been rounded up, i.e. to the right on the number line, due to restriction on field length (FLOAT or DOUBLE) or because we have a FLOAT type and the constant given has a mantissa with more significant digits than allowed for FLOAT. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4712338c4678afb26eb322737699f549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4712338c4678afb26eb322737699f549">&#9670;&nbsp;</a></span>adjust_cmp_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> adjust_cmp_op </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__func.html">Item_func</a> *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>left_has_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>inverse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>ref_or_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>retcond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Possibly change comparison operator because we have rounded the constant in some direction. </p>
<p>Depending on the case, we change: </p><pre>
       &lt;      to        &lt;=
       &gt;      to        &gt;=
       &lt;=     to        &lt;
       &gt;=     to        &gt;
</pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>session thread </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">func</td><td>the comparison operator </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">left_has_field</td><td>true if &lt;field&gt; &lt;cmp&gt; &lt;const&gt;, false if inverse </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inverse</td><td>invert the logic </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ref_or_field</td><td>the field or a ref to it </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>the constant </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">retcond</td><td>the resulting condition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga660880f143f162c06c8847ccb905c756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga660880f143f162c06c8847ccb905c756">&#9670;&nbsp;</a></span>analyze_decimal_field_constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> analyze_decimal_field_constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classItem__field.html">Item_field</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__func.html#a44783465b41db99f2cff936cb7b6e70b">Item_func::Functype</a>&#160;</td>
          <td class="paramname"><em>ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *&#160;</td>
          <td class="paramname"><em>place</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>negative</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minion of analyze_field_constant for decimal type fields. </p>
<p>Analyze a constant's placement within (or without) the type range of the field f. Also normalize the given constant to the type of the field if applicable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>the session context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">f</td><td>the decimal typed field </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">const_val</td><td>a pointer to an item tree pointer containing the constant (at execution time). May be modified if we replace or fold the constant. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ft</td><td>the function type of the comparison </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">place</td><td>the placement of the const_val relative to the range of f </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">negative</td><td>true if the constant is has a (minus) sign </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga80a5e5a11a49ff69000bdc3694982f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga80a5e5a11a49ff69000bdc3694982f38">&#9670;&nbsp;</a></span>analyze_field_constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> analyze_field_constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__field.html">Item_field</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__func.html">Item_func</a> *&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>left_has_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *&#160;</td>
          <td class="paramname"><em>place</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>discount_equal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>negative</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Analyze a constant's placement within (or without) the type range of the field f. </p>
<p>Also normalize the given constant to the type of the field if applicable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>the session context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">f</td><td>the field </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">const_val</td><td>a pointer to an item tree pointer containing the constant (at execution time). May be modified if we replace or fold the constant. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">func</td><td>the function of the comparison </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">left_has_field</td><td>the field is the left operand </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">place</td><td>the placement of the const_val relative to the range of f </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">discount_equal</td><td>set to true: caller should replace GE with GT or LE with LT. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">negative</td><td>true if the constant (decimal) is has a (minus) sign </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga90af0e6cceefb80940606cbbe6fc09c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90af0e6cceefb80940606cbbe6fc09c2">&#9670;&nbsp;</a></span>analyze_int_field_constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> analyze_int_field_constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__field.html">Item_field</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__func.html#a44783465b41db99f2cff936cb7b6e70b">Item_func::Functype</a>&#160;</td>
          <td class="paramname"><em>ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>left_has_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *&#160;</td>
          <td class="paramname"><em>place</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>discount_equal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minion of analyze_field_constant for integer type fields. </p>
<p>Analyze a constant's placement within (or without) the type range of the field f. Also normalize the given constant to the type of the field if applicable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>the session context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">f</td><td>the integer typed field </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">const_val</td><td>a pointer to an item tree pointer containing the constant (at execution time). May be modified if we replace or fold the constant. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ft</td><td>the function type of the comparison </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">left_has_field</td><td>the field is the left operand </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">place</td><td>the placement of the const_val relative to the range of f </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">discount_equal</td><td>set to true: caller should replace GE with GT or LE with LT. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga178077f9607bbd346aa0141a77e05a2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga178077f9607bbd346aa0141a77e05a2b">&#9670;&nbsp;</a></span>analyze_real_field_constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> analyze_real_field_constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__field.html">Item_field</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *&#160;</td>
          <td class="paramname"><em>place</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minion of analyze_field_constant for real type fields. </p>
<p>Analyze a constant's placement within (or without) the type range of the field f. Also normalize the given constant to the type of the field if applicable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>the session context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">f</td><td>the real (FLOAT, DOUBLE) typed field </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">const_val</td><td>a pointer to an item tree pointer containing the constant (at execution time). May be modified if we replace or fold the constant. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">place</td><td>the placement of the const_val relative to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga9dbd12d532a87a19d040b552cb3e996a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9dbd12d532a87a19d040b552cb3e996a">&#9670;&nbsp;</a></span>analyze_time_field_constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> analyze_time_field_constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga9f7cccb403212551e16ab929ef7ee20a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f7cccb403212551e16ab929ef7ee20a">&#9670;&nbsp;</a></span>analyze_timestamp_field_constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> analyze_timestamp_field_constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classItem__field.html">Item_field</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *&#160;</td>
          <td class="paramname"><em>place</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minion of analyze_field_constant for TIMESTAMP, DATETIME, DATE fields. </p>
<p>Analyze a constant's placement within (or without) the type range of the field f. Also normalize the given constant to the type of the field if applicable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>the session context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">f</td><td>the field </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">const_val</td><td>a pointer to an item tree pointer containing the constant (at execution time). May be modified if we replace or fold the constant. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">place</td><td>the placement of the const_val relative to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga915f31a7e00c7bf4db339fd7331a80f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga915f31a7e00c7bf4db339fd7331a80f9">&#9670;&nbsp;</a></span>analyze_year_field_constant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> analyze_year_field_constant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *&#160;</td>
          <td class="paramname"><em>place</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minion of analyze_field_constant for YEAR type fields. </p>
<p>Analyze a constant's placement within (or without) the type range of the field f. Also normalize the given constant to the type of the field if applicable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>the session context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">const_val</td><td>a pointer to an item tree pointer containing the constant (at execution time). May be modified if we replace or fold the constant. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">place</td><td>the placement of the const_val relative to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga2447069759c14399480cf5b24b72fb73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2447069759c14399480cf5b24b72fb73">&#9670;&nbsp;</a></span>fold_arguments() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> fold_arguments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__func.html">Item_func</a> *&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="gafdb25179aacdbd3e799e0653b791877b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdb25179aacdbd3e799e0653b791877b">&#9670;&nbsp;</a></span>fold_arguments() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> fold_arguments </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__cond.html">Item_cond</a> *&#160;</td>
          <td class="paramname"><em>cond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call fold_condition on all the conditions's arguments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>the session state </td></tr>
    <tr><td class="paramname">cond</td><td>the condition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga540ecb3b9793c84736805305c14eca83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga540ecb3b9793c84736805305c14eca83">&#9670;&nbsp;</a></span>fold_condition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> fold_condition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>cond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>retcond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html#ab74b339b7c522a3a7aa2b8e4e8123a1b">Item::cond_result</a> *&#160;</td>
          <td class="paramname"><em>cond_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>manifest_result</em> = <code><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fold boolean condition {=, &lt;&gt;, &gt;, &gt;=, &lt;, &lt;=, &lt;=&gt;} involving constants and fields (or references to fields), possibly determining if the condition is always true or false based on type range of the field, or possibly simplifying &gt;=, &lt;= to = if constant lies on the range border. </p>
<p>Also fold such conditions if they are present as arguments of other functions in the same way, except there we replace the arguments with manifest FALSE or field &lt;&gt; field to exclude NULLs if the field is nullable, cf. ignore_unknown().</p>
<p>The constants are always converted to constants of the type of the field, no widening of the field type in therefore necessary after this folding for comparison to occur. When converting constants to decimal (when the field is a decimal), the constant will receive the same number of fractional decimals as the field. If decimal constant fraction truncation occurs, the comparison {GT,GE,LT,LE} logic is adjusted to preserve semantics without widening the field's type.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>session state </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cond</td><td>the condition to handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">retcond</td><td>condition after const removal </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cond_value</td><td>resulting value of the condition<ul>
<li>COND_OK: condition must be evaluated (e.g int == 3)</li>
<li>COND_TRUE: always true (e.g signed tinyint &lt; 128)</li>
<li>COND_FALSE: always false (e.g unsigned tinyint &lt; 0)</li>
</ul>
</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">manifest_result</td><td>For IS NOT NULL on a not nullable item, if true, return item TRUE (1), else remove condition and return COND_TRUE. For cmp items, this is determined by Item_bool_func2::ignore_unknown. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if success, true if error </dd></dl>

</div>
</div>
<a id="gacd923876f79b111f8994377954bc3b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd923876f79b111f8994377954bc3b88">&#9670;&nbsp;</a></span>fold_or_convert_dec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> fold_or_convert_dec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *&#160;</td>
          <td class="paramname"><em>place</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__field.html">Item_field</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmy__decimal.html">my_decimal</a> *&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minion of analyze_int_field_constant. </p>
<p>Analyze decimal d. Convert decimal constant d to int if d has a zero fraction part and is within integer range. If it can't be converted to int, it is out of range, and we set place accordingly. If it has a non-zero fraction part, we fold. Used for = and &lt;&gt;.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>the session context </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">const_val</td><td>the constant we are folding </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">place</td><td>the range placement of the constant as analyzed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>the field the constant is being compared to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>the decimal value of the constant</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="gacd5ce069196ddd07bbb28eb7961fdec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd5ce069196ddd07bbb28eb7961fdec3">&#9670;&nbsp;</a></span>fold_or_simplify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> fold_or_simplify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>ref_or_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__func.html#a44783465b41db99f2cff936cb7b6e70b">Item_func::Functype</a>&#160;</td>
          <td class="paramname"><em>ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>always_true</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>manifest_result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>retcond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html#ab74b339b7c522a3a7aa2b8e4e8123a1b">Item::cond_result</a> *&#160;</td>
          <td class="paramname"><em>cond_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We have found that the constant's value makes the predicate always true or false (modulo field nullability), so simplify or remove the condition according to this table: </p>
<pre>
always_true == true</pre><pre>                 !top_level_item        top_level_item
              ------------------------------------------
   nullable   |  IF(NULL, NULL, 1)  |   IS NOT NULL    |
  !nullable   |  TRUE (1)           |   COND_TRUE      |
              ------------------------------------------</pre><pre>always_true == false</pre><pre>                 !top_level_item        top_level_item
              ------------------------------------------
   nullable   |  field &lt;&gt; field [*] |   COND_FALSE     |
  !nullable   |  FALSE (0)          |   COND_FALSE     |
              ------------------------------------------</pre><pre>[*] for the "&lt;=&gt;" operator, we fold to FALSE (0) in this case.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>current session context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ref_or_field</td><td>a field (that is being being compared to a constant) or a ref to such a field. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ft</td><td>function type </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">always_true</td><td>true if the predicate is found to be always true </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">manifest_result</td><td>true if we should create an item to represent the truth value (and replace the condition with it) instead of returning nullptr in *cond_value and {Item::COND_TRUE, Item::COND_FALSE} in *cond_value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">retcond</td><td>a pointer to the condition altered by this method </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cond_value</td><td>the resulting condition value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga59786e6b0d74adba6d6976d5c5815c07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59786e6b0d74adba6d6976d5c5815c07">&#9670;&nbsp;</a></span>map_less_to_greater()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> map_less_to_greater </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a>&#160;</td>
          <td class="paramname"><em>place</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch places of low, high, max and min. </p>

</div>
</div>
<a id="ga4acf50c5df305b7e59468f2fd923ac51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4acf50c5df305b7e59468f2fd923ac51">&#9670;&nbsp;</a></span>round_fold_or_convert_dec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> round_fold_or_convert_dec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>const_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Constant__Folding.html#ga26ca7d23c96fa1a81879ac6193e88297">Range_placement</a> *&#160;</td>
          <td class="paramname"><em>place</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem__field.html">Item_field</a> *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmy__decimal.html">my_decimal</a> *&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>up</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>discount_equal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Minion of analyze_int_field_constant. </p>
<p>Round up or down decimal d, then convert constant to int if possible. If d has a fraction part, set discount_equal. If it can't be converted to int, it is out of range, and we fold by setting place accordingly.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>the session context </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">const_val</td><td>the constant we are folding </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">place</td><td>the range placement of the constant as analyzed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>the field the constant is being compared to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>the decimal value of the constant </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">up</td><td>true if we are to round up, else we round down </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">discount_equal</td><td>set to true of d has a non-zero fraction part</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
<a id="ga5557c6763e4db4a993b77445c46b4635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5557c6763e4db4a993b77445c46b4635">&#9670;&nbsp;</a></span>simplify_to_equal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> simplify_to_equal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>ref_or_field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> **&#160;</td>
          <td class="paramname"><em>retcond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html#ab74b339b7c522a3a7aa2b8e4e8123a1b">Item::cond_result</a> *&#160;</td>
          <td class="paramname"><em>cond_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace condition in retcond with "=" (i.e. Item_func_eq) and set cond_value to Item::COND_OK. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>session context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ref_or_field</td><td>the field being compared to a constant in the retcond </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">c</td><td>the constant being compared to a field in the retcond </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">retcond</td><td>the comparison condition </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cond_value</td><td>the resulting condition value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on error </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
