<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/handler/p_s.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('p__s_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">p_s.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>InnoDB performance_schema tables interface to MySQL.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="p__s_8h_source.html">storage/innobase/handler/p_s.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &quot;<a class="el" href="lock0iter_8h_source.html">lock0iter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock0lock_8h_source.html">lock0lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__table_8h_source.html">sql_table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2table_8h_source.html">table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0i__s_8h_source.html">trx0i_s.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0sys_8h_source.html">trx0sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__io_8h_source.html">my_io.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnodb__trx__scan__state.html">Innodb_trx_scan_state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of a given scan.  <a href="classInnodb__trx__scan__state.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnodb__data__lock__iterator.html">Innodb_data_lock_iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inspect data locks for the innodb storage engine.  <a href="classInnodb__data__lock__iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInnodb__data__lock__wait__iterator.html">Innodb_data_lock_wait_iterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inspect data lock waits for the innodb storage engine.  <a href="classInnodb__data__lock__wait__iterator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a815adf16e377170a9e4700030467f7e3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a815adf16e377170a9e4700030467f7e3">scan_pass</a> { <a class="el" href="p__s_8cc.html#a815adf16e377170a9e4700030467f7e3a8384f13b8ef4c82b5072d83f898571bc">INIT_SCANNING</a>, 
<a class="el" href="p__s_8cc.html#a815adf16e377170a9e4700030467f7e3a69a6e2ee6940c04e32029de59d2a8cb4">SCANNING_RW_TRX_LIST</a>, 
<a class="el" href="p__s_8cc.html#a815adf16e377170a9e4700030467f7e3af183799424e4a09a335ac91d5bf5044c">SCANNING_MYSQL_TRX_LIST</a>, 
<a class="el" href="p__s_8cc.html#a815adf16e377170a9e4700030467f7e3a9db212711b6206bcea744f37b916f07b">DONE_SCANNING</a>
 }<tr class="memdesc:a815adf16e377170a9e4700030467f7e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass of a given scan.  <a href="p__s_8cc.html#a815adf16e377170a9e4700030467f7e3">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a815adf16e377170a9e4700030467f7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5c9b94a12bed2c4ef0e7476b64486c0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a5c9b94a12bed2c4ef0e7476b64486c0d">get_next_trx</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> read_write)</td></tr>
<tr class="separator:a5c9b94a12bed2c4ef0e7476b64486c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27b09d3c778377513f20fdf6f8e85ec4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a27b09d3c778377513f20fdf6f8e85ec4">discard_trx</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> read_write)</td></tr>
<tr class="memdesc:a27b09d3c778377513f20fdf6f8e85ec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a transaction should be discarded.  <a href="#a27b09d3c778377513f20fdf6f8e85ec4">More...</a><br /></td></tr>
<tr class="separator:a27b09d3c778377513f20fdf6f8e85ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7069195731f511e68767365ec55803"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#aeb7069195731f511e68767365ec55803">fetch_trx_in_trx_list</a> (uint64_t filter_trx_immutable_id, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> read_write, trx_ut_list_t *trx_list)</td></tr>
<tr class="memdesc:aeb7069195731f511e68767365ec55803"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a transaction in a TRX LIST.  <a href="#aeb7069195731f511e68767365ec55803">More...</a><br /></td></tr>
<tr class="separator:aeb7069195731f511e68767365ec55803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ef9b68461f6813dd4c4087b54368da"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a09ef9b68461f6813dd4c4087b54368da">alloc_identifier</a> (<a class="el" href="classPSI__server__data__lock__container.html">PSI_server_data_lock_container</a> *<a class="el" href="innodb__config_8h.html#a030ecaa2a61b422a8ca7422403ad8c77">container</a>, std::string &amp;id_str, size_t *id_length)</td></tr>
<tr class="memdesc:a09ef9b68461f6813dd4c4087b54368da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate identifier in performance schema container.  <a href="#a09ef9b68461f6813dd4c4087b54368da">More...</a><br /></td></tr>
<tr class="separator:a09ef9b68461f6813dd4c4087b54368da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada42a8fc86738c001700303da7340cfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#ada42a8fc86738c001700303da7340cfa">parse_table_path</a> (<a class="el" href="classPSI__server__data__lock__container.html">PSI_server_data_lock_container</a> *<a class="el" href="innodb__config_8h.html#a030ecaa2a61b422a8ca7422403ad8c77">container</a>, const char *table_path, size_t table_path_length, const char **table_schema, size_t *table_schema_length, const char **table_name, size_t *table_name_length, const char **partition_name, size_t *partition_name_length, const char **subpartition_name, size_t *subpartition_name_length)</td></tr>
<tr class="memdesc:ada42a8fc86738c001700303da7340cfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a table path string.  <a href="#ada42a8fc86738c001700303da7340cfa">More...</a><br /></td></tr>
<tr class="separator:ada42a8fc86738c001700303da7340cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63748a16bb0c350e78791692f976f526"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a63748a16bb0c350e78791692f976f526">print_table_lock_id</a> (const <a class="el" href="structlock__t.html">lock_t</a> *lock, char *lock_id, size_t lock_id_size)</td></tr>
<tr class="memdesc:a63748a16bb0c350e78791692f976f526"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a table lock id.  <a href="#a63748a16bb0c350e78791692f976f526">More...</a><br /></td></tr>
<tr class="separator:a63748a16bb0c350e78791692f976f526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01fd28c5dcb63758f1c02b0a79372844"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a01fd28c5dcb63758f1c02b0a79372844">print_record_lock_id</a> (const <a class="el" href="structlock__t.html">lock_t</a> *lock, ulint heap_no, char *lock_id, size_t lock_id_size)</td></tr>
<tr class="memdesc:a01fd28c5dcb63758f1c02b0a79372844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a record lock id.  <a href="#a01fd28c5dcb63758f1c02b0a79372844">More...</a><br /></td></tr>
<tr class="separator:a01fd28c5dcb63758f1c02b0a79372844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac359d56bb2d9587a3b5647a51e45dc45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#ac359d56bb2d9587a3b5647a51e45dc45">print_lock_id</a> (const <a class="el" href="structlock__t.html">lock_t</a> *lock, ulint heap_no, char *lock_id, size_t lock_id_size)</td></tr>
<tr class="memdesc:ac359d56bb2d9587a3b5647a51e45dc45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a lock id.  <a href="#ac359d56bb2d9587a3b5647a51e45dc45">More...</a><br /></td></tr>
<tr class="separator:ac359d56bb2d9587a3b5647a51e45dc45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3266e6f5145347aadb0aea66f65e0d36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a3266e6f5145347aadb0aea66f65e0d36">scan_lock_id</a> (const char *lock_id, uint64_t *<a class="el" href="trx0trx_8h.html#a5d0f7f590f17ab052505bbb43ce0c25b">trx_immutable_id</a>, uint64_t *lock_immutable_id, ulint *heap_id)</td></tr>
<tr class="memdesc:a3266e6f5145347aadb0aea66f65e0d36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan a lock id string and extract information necessary to find a row by primary key.  <a href="#a3266e6f5145347aadb0aea66f65e0d36">More...</a><br /></td></tr>
<tr class="separator:a3266e6f5145347aadb0aea66f65e0d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a355c8235a1957d8a87d1b788eecd6a1a"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a355c8235a1957d8a87d1b788eecd6a1a">g_engine</a> = &quot;INNODB&quot;</td></tr>
<tr class="separator:a355c8235a1957d8a87d1b788eecd6a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46b916344a6bd86442b2ae1fff510090"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="p__s_8cc.html#a46b916344a6bd86442b2ae1fff510090">g_engine_length</a> = 6</td></tr>
<tr class="separator:a46b916344a6bd86442b2ae1fff510090"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>InnoDB performance_schema tables interface to MySQL. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a815adf16e377170a9e4700030467f7e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a815adf16e377170a9e4700030467f7e3">&#9670;&nbsp;</a></span>scan_pass</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="p__s_8cc.html#a815adf16e377170a9e4700030467f7e3">scan_pass</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pass of a given scan. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a815adf16e377170a9e4700030467f7e3a8384f13b8ef4c82b5072d83f898571bc"></a>INIT_SCANNING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a815adf16e377170a9e4700030467f7e3a69a6e2ee6940c04e32029de59d2a8cb4"></a>SCANNING_RW_TRX_LIST&#160;</td><td class="fielddoc"><p>Scan the RW trx list. </p>
<dl class="section see"><dt>See also</dt><dd>trx_sys_t::rw_trx_list </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="a815adf16e377170a9e4700030467f7e3af183799424e4a09a335ac91d5bf5044c"></a>SCANNING_MYSQL_TRX_LIST&#160;</td><td class="fielddoc"><p>Scan the MySQL trx list. </p>
<dl class="section see"><dt>See also</dt><dd>trx_t::mysql_trx_list </dd></dl>
</td></tr>
<tr><td class="fieldname"><a id="a815adf16e377170a9e4700030467f7e3a9db212711b6206bcea744f37b916f07b"></a>DONE_SCANNING&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a09ef9b68461f6813dd4c4087b54368da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ef9b68461f6813dd4c4087b54368da">&#9670;&nbsp;</a></span>alloc_identifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* alloc_identifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPSI__server__data__lock__container.html">PSI_server_data_lock_container</a> *&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>id_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>id_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate identifier in performance schema container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">container</td><td>The container to fill </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id_str</td><td>The identifier string </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">id_length</td><td>The identifier string length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string allocated in the performance schema container. </dd></dl>

</div>
</div>
<a id="a27b09d3c778377513f20fdf6f8e85ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27b09d3c778377513f20fdf6f8e85ec4">&#9670;&nbsp;</a></span>discard_trx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> discard_trx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>read_write</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a transaction should be discarded. </p>
<p>Transactions present in any TRX LIST that have not started yet are discarded, when inspecting data locks. Transactions present in the MySQL TRX LIST, that are writing data and have an id, are also discarded. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>Transaction to evaluate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_write</td><td>True if trx is in the RW TRX list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the trx should be discarded </dd></dl>

</div>
</div>
<a id="aeb7069195731f511e68767365ec55803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb7069195731f511e68767365ec55803">&#9670;&nbsp;</a></span>fetch_trx_in_trx_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="structtrx__t.html">trx_t</a>* fetch_trx_in_trx_list </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>filter_trx_immutable_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>read_write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">trx_ut_list_t *&#160;</td>
          <td class="paramname"><em>trx_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find a transaction in a TRX LIST. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filter_trx_immutable_id</td><td>The transaction immutable id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_write</td><td>True for the RW TRX LIST </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trx_list</td><td>The transaction list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The transaction when found, or NULL </dd></dl>

</div>
</div>
<a id="a5c9b94a12bed2c4ef0e7476b64486c0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c9b94a12bed2c4ef0e7476b64486c0d">&#9670;&nbsp;</a></span>get_next_trx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__t.html">trx_t</a>* get_next_trx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>read_write</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ada42a8fc86738c001700303da7340cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada42a8fc86738c001700303da7340cfa">&#9670;&nbsp;</a></span>parse_table_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parse_table_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPSI__server__data__lock__container.html">PSI_server_data_lock_container</a> *&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>table_path_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>table_schema</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>table_schema_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>table_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>table_name_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>partition_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>partition_name_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>subpartition_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>subpartition_name_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a table path string. </p>
<p>Isolate the table schema, name, partition and sub partition from a table path string. Convert these strings and store them in the performance schema container. </p><dl class="section note"><dt>Note</dt><dd>String returned are not zero terminated. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">container</td><td>The container to fill </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table_path</td><td>The table path string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table_path_length</td><td>The table path string length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">table_schema</td><td>The table schema </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">table_schema_length</td><td>The table schema length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">table_name</td><td>The table name </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">table_name_length</td><td>The table name length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">partition_name</td><td>Partition name </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">partition_name_length</td><td>Partition name length </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">subpartition_name</td><td>Sub partition name </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">subpartition_name_length</td><td>Sub partition name length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac359d56bb2d9587a3b5647a51e45dc45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac359d56bb2d9587a3b5647a51e45dc45">&#9670;&nbsp;</a></span>print_lock_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_lock_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlock__t.html">lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>heap_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lock_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lock_id_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a lock id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock</td><td>The lock to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heap_no</td><td>Lock heap number </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lock_id</td><td>Printing buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_id_size</td><td>Printing buffer length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a01fd28c5dcb63758f1c02b0a79372844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01fd28c5dcb63758f1c02b0a79372844">&#9670;&nbsp;</a></span>print_record_lock_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_record_lock_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlock__t.html">lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>heap_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lock_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lock_id_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a record lock id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock</td><td>The lock to print </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heap_no</td><td>Lock heap number </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lock_id</td><td>Printing buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_id_size</td><td>Printing buffer length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63748a16bb0c350e78791692f976f526"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63748a16bb0c350e78791692f976f526">&#9670;&nbsp;</a></span>print_table_lock_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_table_lock_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlock__t.html">lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lock_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lock_id_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a table lock id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock</td><td>The lock to print </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">lock_id</td><td>Printing buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_id_size</td><td>Printing buffer length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3266e6f5145347aadb0aea66f65e0d36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3266e6f5145347aadb0aea66f65e0d36">&#9670;&nbsp;</a></span>scan_lock_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int scan_lock_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lock_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>trx_immutable_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>lock_immutable_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>heap_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scan a lock id string and extract information necessary to find a row by primary key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_id</td><td>The lock id string to parse </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">trx_immutable_id</td><td>The immutable id of lock-&gt;trx </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">lock_immutable_id</td><td>The immutable id of lock </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">heap_id</td><td>The heap number found, for record locks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The type of lock found. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOCK_TABLE</td><td>Table lock </td></tr>
    <tr><td class="paramname">LOCK_REC</td><td>Record lock </td></tr>
    <tr><td class="paramname">0</td><td>Format error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a355c8235a1957d8a87d1b788eecd6a1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a355c8235a1957d8a87d1b788eecd6a1a">&#9670;&nbsp;</a></span>g_engine</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* g_engine = &quot;INNODB&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a46b916344a6bd86442b2ae1fff510090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46b916344a6bd86442b2ae1fff510090">&#9670;&nbsp;</a></span>g_engine_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t g_engine_length = 6</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_e3dbcb4c59dff57aadc278c62af915a5.html">handler</a></li><li class="navelem"><a class="el" href="p__s_8cc.html">p_s.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
