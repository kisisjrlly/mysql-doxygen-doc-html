<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/page0page.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page0page_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">page0page.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="page0page_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Copyright (c) 1994, 2020, Oracle and/or its affiliates. All Rights Reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">This program is free software; you can redistribute it and/or modify it under</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">the terms of the GNU General Public License, version 2.0, as published by the</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">Free Software Foundation.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">This program is also distributed with certain software (including but not</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">limited to OpenSSL) that is licensed under separate terms, as designated in a</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">particular file or component or in included license documentation. The authors</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">of MySQL hereby grant you an additional permission to link the program and</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">your derivative works with the separately licensed software that they have</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">included with MySQL.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">FOR A PARTICULAR PURPOSE. See the GNU General Public License, version 2.0,</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">for more details.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">You should have received a copy of the GNU General Public License along with</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">this program; if not, write to the Free Software Foundation, Inc.,</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">51 Franklin St, Fifth Floor, Boston, MA 02110-1301  USA</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">*****************************************************************************/</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/** @file include/page0page.h</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> Index page routines</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> Created 2/2/1994 Heikki Tuuri</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> *******************************************************/</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#ifndef page0page_h</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#define page0page_h</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;univ.i&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="buf0buf_8h.html">buf0buf.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="data0data_8h.html">data0data.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict0dict_8h.html">dict0dict.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fil0fil_8h.html">fil0fil.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fsp0fsp_8h.html">fsp0fsp.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mtr0mtr_8h.html">mtr0mtr.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="page0types_8h.html">page0types.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rem0rec_8h.html">rem0rec.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#ifdef UNIV_MATERIALIZE</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#undef UNIV_INLINE</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#define UNIV_INLINE</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/*                      PAGE DIRECTORY</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">                        ==============</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">   59</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> <a class="code" href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">page_dir_slot_t</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="page0page_8h.html#a40477b41f068294f957379e5f4499aa9">   60</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">page_dir_slot_t</a> <a class="code" href="page0page_8h.html#a40477b41f068294f957379e5f4499aa9">page_dir_t</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/* Offset of the directory start down from the page end. We call the</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">slot with the highest file address directory start, as it points to</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">the first record in the list of records. */</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="page0page_8h.html#ae2a50f86563ff25b0f8eda1ad3d50a06">   65</a></span>&#160;<span class="preprocessor">#define PAGE_DIR FIL_PAGE_DATA_END</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/* We define a slot in the page directory as two bytes */</span></div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="page0page_8h.html#aaa81317370355d23fd600f35f4948cec">   68</a></span>&#160;<span class="preprocessor">#define PAGE_DIR_SLOT_SIZE 2</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">/* The offset of the physically lower end of the directory, counted from</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">page end, when the page is empty */</span></div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="page0page_8h.html#ac3dd356ffb3c8130c1e537de27c70734">   72</a></span>&#160;<span class="preprocessor">#define PAGE_EMPTY_DIR_START (PAGE_DIR + 2 * PAGE_DIR_SLOT_SIZE)</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">/* The maximum and minimum number of records owned by a directory slot. The</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">number may drop below the minimum in the first and the last slot in the</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">directory. */</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="page0page_8h.html#a3e1ed2afb3fd0343181b0effe4bea786">   77</a></span>&#160;<span class="preprocessor">#define PAGE_DIR_SLOT_MAX_N_OWNED 8</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="page0page_8h.html#a69839c153de489a3c8ff5b1b656f55d4">   78</a></span>&#160;<span class="preprocessor">#define PAGE_DIR_SLOT_MIN_N_OWNED 4</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">/* The infimum and supremum records are omitted from the compressed page.</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">On compress, we compare that the records are there, and on uncompress we</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">restore the records. */</span><span class="comment"></span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">/** Extra bytes of an infimum record */</span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="page0page_8h.html#a45f6454b70db57b32fbb62e6c708deab">   84</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> <a class="code" href="page0page_8h.html#a45f6454b70db57b32fbb62e6c708deab">infimum_extra</a>[] = {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    0x01,          <span class="comment">/* info_bits=0, n_owned=1 */</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    0x00, 0x02     <span class="comment">/* heap_no=0, status=2 */</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">/* ?, ?     */</span> <span class="comment">/* next=(first user rec, or supremum) */</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;};<span class="comment"></span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">/** Data bytes of an infimum record */</span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="page0page_8h.html#abeb3a28f26f09ddca40650276842bf5a">   90</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> <a class="code" href="page0page_8h.html#abeb3a28f26f09ddca40650276842bf5a">infimum_data</a>[] = {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    0x69, 0x6e, 0x66, 0x69, 0x6d, 0x75, 0x6d, 0x00 <span class="comment">/* &quot;infimum\0&quot; */</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;};<span class="comment"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">/** Extra bytes and data bytes of a supremum record */</span></div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="page0page_8h.html#a088094b7e1b7b1a11f59eb92294be3e1">   94</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> <a class="code" href="page0page_8h.html#a088094b7e1b7b1a11f59eb92294be3e1">supremum_extra_data</a>[] = {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">/* 0x0?, */</span> <span class="comment">/* info_bits=0, n_owned=1..8 */</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    0x00,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    0x0b, <span class="comment">/* heap_no=1, status=3 */</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    0x00,</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    0x00, <span class="comment">/* next=0 */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    0x73,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    0x75,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    0x70,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    0x72,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    0x65,</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    0x6d,</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    0x75,</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    0x6d <span class="comment">/* &quot;supremum&quot; */</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;};</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">/** Gets the start of a page.</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">@param[in]  ptr     pointer to page frame</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">@return start of the page */</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="page0page_8h.html#adb82a9b39fbac8729373a80bc132fcf9">page_align</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/** Gets the offset within a page.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">@param[in]  ptr     pointer to page frame</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">@return offset from the start of the page */</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;ulint <a class="code" href="page0page_8h.html#a1bb10117d8dad8205888409cd91e456c">page_offset</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/** Returns the max trx id field value. */</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<a class="code" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="code" href="page0page_8h.html#a7d697b3fb3da2ab0e80fc625a3a80481">page_get_max_trx_id</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/** Sets the max trx id field value.</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">@param[in,out] block Page</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">@param[in,out] page_zip Compressed page, or NULL</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">@param[in] trx_id Transaction id</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">@param[in,out] mtr Mini-transaction, or NULL */</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a06e84fb2afa186e78c33d470d9784071">page_set_max_trx_id</a>(<a class="code" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip,</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                         <a class="code" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id, <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">/** Sets the max trx id field value if trx_id is bigger than the previous</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">value.</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">@param[in,out]  block           Page</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">@param[in,out]  page_zip        Compressed page whose uncompressed part will</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">                                be updated, or NULL</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">@param[in]      trx_id          Transaction id</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">@param[in,out]  mtr             Mini-transaction */</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#ab0b9e0621a4bdc8f73cc363d20693d2a">page_update_max_trx_id</a>(<a class="code" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                            <a class="code" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id, <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/** Returns the RTREE SPLIT SEQUENCE NUMBER (FIL_RTREE_SPLIT_SEQ_NUM).</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">@param[in]      page    page</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">@return SPLIT SEQUENCE NUMBER */</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<a class="code" href="gis0type_8h.html#af781a0703fdaf74eba694a393d8583de">node_seq_t</a> <a class="code" href="page0page_8h.html#ac7ffab439ab2fd67c3212ae9bccec937">page_get_ssn_id</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">/** Sets the RTREE SPLIT SEQUENCE NUMBER field value</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">@param[in,out]  block           Page</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">@param[in,out]  page_zip        Compressed page whose uncompressed part will</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">                                be updated, or NULL</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">@param[in]      ssn_id          Split sequence id</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">@param[in,out]  mtr             Mini-transaction */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#ac9fd08d0ffcb35df8c8ad34126c5f339">page_set_ssn_id</a>(<a class="code" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip,</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                     <a class="code" href="gis0type_8h.html#af781a0703fdaf74eba694a393d8583de">node_seq_t</a> ssn_id, <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">/** Reads the given header field.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">@param[in]      page    page</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">@param[in]      field   PAGE_N_DIR_SLOTS, ... */</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;ulint <a class="code" href="page0page_8h.html#a801ef671975a89f07955d7f4104e6ae1">page_header_get_field</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, ulint field);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">/** Sets the given header field.</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">@param[in,out]  page            page</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">@param[in,out]  page_zip        compressed page whose uncompressed part will</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">                                be updated, or NULL</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">@param[in]      field           PAGE_N_DIR_SLOTS, ...</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">@param[in]      val             value */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a821789f9d874708d7981518b52447ecf">page_header_set_field</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, ulint field,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                           ulint val);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">/** Returns the offset stored in the given header field.</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"> @return offset from the start of the page, or 0 */</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;ulint <a class="code" href="page0page_8h.html#a62840d156edb5a2d28587a0fb2d5f2c0">page_header_get_offs</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                           ulint field)        <span class="comment">/*!&lt; in: PAGE_FREE, ... */</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/** Returns the pointer stored in the given header field, or NULL. */</span></div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="page0page_8h.html#a38e8b9e13b02998392351ce72599ad36">  185</a></span>&#160;<span class="preprocessor">#define page_header_get_ptr(page, field)          \</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">  (page_header_get_offs(page, field)              \</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="preprocessor">       ? page + page_header_get_offs(page, field) \</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">       : NULL)</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/** Sets the pointer stored in the given header field.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">@param[in,out]  page            page</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">@param[in,out]  page_zip        compressed page whose uncompressed part will</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">                                be updated, or NULL</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">@param[in,out]  field           PAGE_FREE, ...</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">@param[in]      ptr             pointer or NULL */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a6d8c9dd23db81e0b6416485f2b55ee59">page_header_set_ptr</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, ulint field,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                         <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#ifndef UNIV_HOTBACKUP</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/** Resets the last insert info field in the page header. Writes to mlog about</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">this operation.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">@param[in]      page            page</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">@param[in,out]  page_zip        compressed page whose uncompressed part will</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">                                be updated, or NULL</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">@param[in]      mtr             mtr */</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a51ff440550aee9b930cab2273fbfc78a">page_header_reset_last_insert</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                   <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !UNIV_HOTBACKUP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">/** Gets the offset of the first record on the page.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"> @return offset of the first record in record list, relative from page */</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;ulint <a class="code" href="page0page_8h.html#ad2c8a02225cafeaa1f270c1d1302debc">page_get_infimum_offset</a>(</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: page which must have record(s) */</span><span class="comment"></span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">/** Gets the offset of the last record on the page.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> @return offset of the last record in record list, relative from page */</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;ulint <a class="code" href="page0page_8h.html#a8c418c48ad61c99daafe537990d55726">page_get_supremum_offset</a>(</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: page which must have record(s) */</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="page0page_8h.html#a41cf2327c26d50a236abcef32c758246">  222</a></span>&#160;<span class="preprocessor">#define page_get_infimum_rec(page) ((page) + page_get_infimum_offset(page))</span></div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="page0page_8h.html#a7d3a52e3b1f8d2fbd6b056dccd2c269e">  223</a></span>&#160;<span class="preprocessor">#define page_get_supremum_rec(page) ((page) + page_get_supremum_offset(page))</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">/** Returns the nth record of the record list.</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"> This is the inverse function of page_rec_get_n_recs_before().</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"> @return nth record */</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#ad94c87af8ded7c04c2b9dbdb855c7ee7">page_rec_get_nth_const</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                    ulint nth)          <span class="comment">/*!&lt; in: nth record */</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/** Returns the nth record of the record list.</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">This is the inverse function of page_rec_get_n_recs_before().</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">@param[in]      page    page</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">@param[in]      nth     nth record</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">@return nth record */</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#af7c58dffe7f941030251012509cd579b">page_rec_get_nth</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, ulint nth)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">#ifndef UNIV_HOTBACKUP</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">/** Returns the middle record of the records on the page. If there is an</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"> even number of records in the list, returns the first record of the</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> upper half-list.</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment"> @return middle record */</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#a64cfbd2064cb676cbdca971923dffd40">page_get_middle_rec</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !UNIV_HOTBACKUP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">/** Gets the page number.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment"> @return page number */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<a class="code" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> <a class="code" href="page0page_8h.html#abd0436a97b4a0d335885d9fdd1e6dffa">page_get_page_no</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: page */</span><span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">/** Gets the tablespace identifier.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment"> @return space id */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<a class="code" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> <a class="code" href="page0page_8h.html#ad2f36dc0b9ac8519b4b2ff022d8fbd63">page_get_space_id</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">/** Gets the space id and page number identifying the page.</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"> @return page number */</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<a class="code" href="classpage__id__t.html">page_id_t</a> <a class="code" href="page0page_8h.html#a621b79868037c6dfc961971724276be5">page_get_page_id</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">/** Gets the number of user records on page (the infimum and supremum records</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment"> are not user records).</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"> @return number of user records */</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;ulint <a class="code" href="page0page_8h.html#a23dbabd2124540c6fb89568b95d957de">page_get_n_recs</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page */</span><span class="comment"></span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">/** Returns the number of records before the given record in chain.</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"> The number includes infimum and supremum records.</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"> This is the inverse function of page_rec_get_nth().</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"> @return number of records */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;ulint <a class="code" href="page0page_8h.html#a2901b1c86520b12d6b0945b3448f40f6">page_rec_get_n_recs_before</a>(</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: the physical record */</span><span class="comment"></span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">/** Gets the number of records in the heap.</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"> @return number of user records */</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;ulint <a class="code" href="page0page_8h.html#a57eb1546633fef3f6135cffa4a77cf87">page_dir_get_n_heap</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">/** Sets the number of records in the heap.</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">@param[in,out]  page            index page</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">@param[in,out]  page_zip        compressed page whose uncompressed part will</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">                                be updated, or NULL. Note that the size of the</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">                                dense page directory in the compressed page</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">                                trailer is n_heap * PAGE_ZIP_DIR_SLOT_SIZE.</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">@param[in]      n_heap          number of records*/</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#ae8a36e9bffe51ff843aa804cd09b56c1">page_dir_set_n_heap</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, ulint n_heap);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/** Gets the number of dir slots in directory.</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment"> @return number of slots */</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;ulint <a class="code" href="page0page_8h.html#ac0bd451f4acb52136082b752ad2cbc9d">page_dir_get_n_slots</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">/** Sets the number of dir slots in directory.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">@param[in,out]  page            page</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">@param[in,out]  page_zip        compressed page whose uncompressed part will</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">                                be updated, or NULL</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">@param[in]      n_slots         number of slots */</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#aad00f7d08cf05c2c15b71f87a5937843">page_dir_set_n_slots</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip,</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                          ulint n_slots);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#ifdef UNIV_DEBUG</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">/** Gets pointer to nth directory slot.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">@param[in]      page    index page</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">@param[in]      n       position</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">@return pointer to dir slot */</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<a class="code" href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">page_dir_slot_t</a> *<a class="code" href="page0page_8h.html#a5a68ad5ae2adf0b48476d2858a75b3e5">page_dir_get_nth_slot</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, ulint <a class="code" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="preprocessor">#else </span><span class="comment">/* UNIV_DEBUG */</span><span class="preprocessor"></span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="preprocessor">#define page_dir_get_nth_slot(page, n) \</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="preprocessor">  ((page) + (UNIV_PAGE_SIZE - PAGE_DIR - (n + 1) * PAGE_DIR_SLOT_SIZE))</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* UNIV_DEBUG */</span><span class="preprocessor"></span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">/** Used to check the consistency of a record on a page.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"> @return true if succeed */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;ibool <a class="code" href="page0page_8h.html#a6d41a7979d8befe0dbc79c4df0e2700a">page_rec_check</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: record */</span><span class="comment"></span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">/** Gets the record pointed to by a directory slot.</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"> @return pointer to record */</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#a7ea15615a3900ad48dbea1f3226aabea">page_dir_slot_get_rec</a>(</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">const</span> <a class="code" href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">page_dir_slot_t</a> *slot); <span class="comment">/*!&lt; in: directory slot */</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">/** This is used to set the record offset in a directory slot.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">@param[in]      rec     record on the page</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">@param[in]      slot    directory slot */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#ab16d46b5b5f266ea0221ecfde1fd1133">page_dir_slot_set_rec</a>(<a class="code" href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">page_dir_slot_t</a> *slot, <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">/** Gets the number of records owned by a directory slot.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"> @return number of records */</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;ulint <a class="code" href="page0page_8h.html#a67e2594d6bb6c66faa281bc45a6c839b">page_dir_slot_get_n_owned</a>(</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keyword">const</span> <a class="code" href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">page_dir_slot_t</a> *slot); <span class="comment">/*!&lt; in: page directory slot */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">/** This is used to set the owned records field of a directory slot.</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">@param[in,out]  slot            directory slot</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">@param[in,out]  page_zip        compressed page, or NULL</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">@param[in]      n               number of records owned by the slot */</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a62d6ba8e729da9b0e6b9e510e122e6f0">page_dir_slot_set_n_owned</a>(<a class="code" href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">page_dir_slot_t</a> *slot, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip,</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                               ulint <a class="code" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">/** Calculates the space reserved for directory slots of a given</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> number of records. The exact value is a fraction number</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"> n * PAGE_DIR_SLOT_SIZE / PAGE_DIR_SLOT_MIN_N_OWNED, and it is</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment"> rounded upwards to an integer. */</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;ulint <a class="code" href="page0page_8h.html#a1fcd7af7e44c42c31538db96e3b24852">page_dir_calc_reserved_space</a>(ulint n_recs); <span class="comment">/*!&lt; in: number of records */</span><span class="comment"></span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">/** Looks for the directory slot which owns the given record.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"> @return the directory slot number */</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;ulint <a class="code" href="page0page_8h.html#a2325882bdff90a9315207eb6fcfba109">page_dir_find_owner_slot</a>(</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: the physical record */</span><span class="comment"></span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/** Determine whether the page is in new-style compact format.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"> @return nonzero if the page is in compact format, zero if it is in</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"> old-style format */</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;ulint <a class="code" href="page0page_8h.html#a84498b8178988dbaccd7a9020ba1f590">page_is_comp</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page */</span><span class="comment"></span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">/** TRUE if the record is on a page in compact format.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> @return nonzero if in compact format */</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;ulint <a class="code" href="page0page_8h.html#ad831a187a3c192715e563555d8bd2f4e">page_rec_is_comp</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: record */</span><span class="comment"></span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">/** Returns the heap number of a record.</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> @return heap number */</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;ulint <a class="code" href="page0page_8h.html#ab5b7eaf86d65cc091f0f7693d91e01a2">page_rec_get_heap_no</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: the physical record */</span><span class="comment"></span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">/** Determine whether the page is a B-tree leaf.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment"> @return true if the page is a B-tree leaf (PAGE_LEVEL = 0) */</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#a205836131b13fa9e5d804fc9fadc4cb8">page_is_leaf</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    MY_ATTRIBUTE((warn_unused_result));<span class="comment"></span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">/** Determine whether the page is empty.</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> @return true if the page is empty (PAGE_N_RECS = 0) */</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#a7f98d6d7523b079ee44848c49de420c9">page_is_empty</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    MY_ATTRIBUTE((warn_unused_result));<span class="comment"></span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">/** Determine whether a page is an index root page.</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">@param[in]      page    page frame</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">@return true if the page is a root page of an index */</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#ae36f66417d003c1d5f32441b45fed6fd">page_is_root</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) MY_ATTRIBUTE((warn_unused_result));<span class="comment"></span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">/** Determine whether the page contains garbage.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment"> @return true if the page contains garbage (PAGE_GARBAGE is not 0) */</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#a76e4cbeaf2f3c4d355e9de3bb696cfe1">page_has_garbage</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">/** Gets the pointer to the next record on the page.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">@param[in]      rec     pointer to record</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">@param[in]      comp    nonzero=compact page layout</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">@return pointer to next record */</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#a814fde3a507b1ee879cdf11a1ab3ef2d">page_rec_get_next_low</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, ulint comp);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">/** Gets the pointer to the next record on the page.</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"> @return pointer to next record */</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#affb4f0cfa5a0943dedbd1c7da3f6a03c">page_rec_get_next</a>(<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: pointer to record */</span><span class="comment"></span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">/** Gets the pointer to the next record on the page.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment"> @return pointer to next record */</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#ac4cb2175b9b46c057a0f3269cde60c1e">page_rec_get_next_const</a>(</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: pointer to record */</span><span class="comment"></span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">/** Gets the pointer to the next non delete-marked record on the page.</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"> If all subsequent records are delete-marked, then this function</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment"> will return the supremum record.</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment"> @return pointer to next non delete-marked record or pointer to supremum */</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#a54346e04309090d8da108f4da4e40364">page_rec_get_next_non_del_marked</a>(</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: pointer to record */</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">/** Sets the pointer to the next record on the page.</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">@param[in]      rec     pointer to record, must not be page supremum</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">@param[in]      next    pointer to next record, must not be page infimum */</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#af89d0b4e224656d6ada0d6bb5da8d38b">page_rec_set_next</a>(<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *next);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/** Gets the pointer to the previous record.</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> @return pointer to previous record */</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#aacba3acde95850dc1243bda445c57364">page_rec_get_prev_const</a>(</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: pointer to record, must not be page</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">                       infimum */</span><span class="comment"></span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">/** Gets the pointer to the previous record.</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment"> @return pointer to previous record */</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#af1d0478ab4f7a67498a6426a8e9c947a">page_rec_get_prev</a>(<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: pointer to record,</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">                                      must not be page infimum */</span><span class="comment"></span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">/** TRUE if the record is a user record on the page.</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">@param[in]  offset      record offset on page</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">@return true if a user record */</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;ibool <a class="code" href="page0page_8h.html#a8112a4415b6d687937d5fe81a4683938">page_rec_is_user_rec_low</a>(ulint offset);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">/** TRUE if the record is the supremum record on a page.</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">@param[in]  offset      record offset on page</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">@return true if the supremum record */</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;ibool <a class="code" href="page0page_8h.html#aa858bc951b21d56576ac022a663d30a6">page_rec_is_supremum_low</a>(ulint offset);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">/** TRUE if the record is the infimum record on a page.</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">@param[in]  offset      record offset on page</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">@return true if the infimum record */</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;ibool <a class="code" href="page0page_8h.html#afcda726605b3355e96099bd4c6be8322">page_rec_is_infimum_low</a>(ulint offset);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">/** TRUE if the record is a user record on the page.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"> @return true if a user record */</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;ibool <a class="code" href="page0page_8h.html#af6d68edd4f9c9d4551d75b0bcc8c984e">page_rec_is_user_rec</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec) <span class="comment">/*!&lt; in: record */</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    MY_ATTRIBUTE((warn_unused_result));<span class="comment"></span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">/** TRUE if the record is the supremum record on a page.</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment"> @return true if the supremum record */</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;ibool <a class="code" href="page0page_8h.html#a8401d2746f3351ca5e0bb9bf16207b38">page_rec_is_supremum</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec) <span class="comment">/*!&lt; in: record */</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">/** TRUE if the record is the infimum record on a page.</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<span class="comment"> @return true if the infimum record */</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;ibool <a class="code" href="page0page_8h.html#a334d5c3b8cfe7bd73b96354895a49dec">page_rec_is_infimum</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec) <span class="comment">/*!&lt; in: record */</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">/** true if the record is the first user record on a page.</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment"> @return true if the first user record */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#a2204f3b0d8ac682e5de39f26e89facee">page_rec_is_first</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,   <span class="comment">/*!&lt; in: record */</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                       <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">/** true if the record is the second user record on a page.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment"> @return true if the second user record */</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#a5662ad3b8626fdedcaeb96682721c351">page_rec_is_second</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,   <span class="comment">/*!&lt; in: record */</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                        <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">/** true if the record is the last user record on a page.</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"> @return true if the last user record */</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#ac08caaafdc15d593acc1f415983c44a5">page_rec_is_last</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,   <span class="comment">/*!&lt; in: record */</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;                      <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">/** true if distance between the records (measured in number of times we have to</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">move to the next record) is at most the specified value</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">@param[in]  left_rec    lefter record</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">@param[in]  right_rec   righter record</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">@param[in]  val         specified value to compare</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">@return true if the distance is smaller than the value */</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#a6c34e1a5c7d0e4a6d9296135ffa727f0">page_rec_distance_is_at_most</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *left_rec, <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *right_rec,</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                                  ulint val) MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">/** true if the record is the second last user record on a page.</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment"> @return true if the second last user record */</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#a6a714270d7638b0e44e6af0648ec1b9c">page_rec_is_second_last</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,   <span class="comment">/*!&lt; in: record */</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                             <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>) <span class="comment">/*!&lt; in: page */</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">/** Looks for the record which owns the given record.</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"> @return the owner record */</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#a42bd4154bbc78ae6cb608d5adaafc251">page_rec_find_owner_rec</a>(<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: the physical record */</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="preprocessor">#ifndef UNIV_HOTBACKUP</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">/** Write a 32-bit field in a data dictionary record.</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">@param[in,out]  rec     Record to update</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">@param[in]      i       Index of the field to update</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">@param[in]      val     Value to write</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">@param[in,out]  mtr     Mini-transaction */</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#ae6c2f08746cdb36fcc9576fc7840f702">page_rec_write_field</a>(<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, ulint i, ulint val, <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !UNIV_HOTBACKUP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">/** Returns the maximum combined size of records which can be inserted on top</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">of record heap.</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">@param[in]      page    index page</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">@param[in]      n_recs  number of records</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">@return maximum combined size for inserted records */</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;ulint <a class="code" href="page0page_8h.html#a4718992648443ffbc6c5d2ee72892dd1">page_get_max_insert_size</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, ulint n_recs);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">/** Returns the maximum combined size of records which can be inserted on top</span></div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">of record heap if page is first reorganized.</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">@param[in]      page    index page</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">@param[in]      n_recs  number of records</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">@return maximum combined size for inserted records */</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;ulint <a class="code" href="page0page_8h.html#af553181a7ed095c9993f6a560137a599">page_get_max_insert_size_after_reorganize</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>,</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                                ulint n_recs);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="comment">/** Calculates free space if a page is emptied.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">@param[in]  comp    nonzero=compact page format</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">@return free space */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;ulint <a class="code" href="page0page_8h.html#ad44ebc68c6817914671f6f8a9cea03b6">page_get_free_space_of_empty</a>(ulint comp);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">/** Returns the base extra size of a physical record.  This is the</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment"> size of the fixed header, independent of the record size.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment"> @return REC_N_NEW_EXTRA_BYTES or REC_N_OLD_EXTRA_BYTES */</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;ulint <a class="code" href="page0page_8h.html#add6fdfaba5d8b57434ca6f2207742fd1">page_rec_get_base_extra_size</a>(</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec); <span class="comment">/*!&lt; in: physical record */</span><span class="comment"></span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/** Returns the sum of the sizes of the records in the record list</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"> excluding the infimum and supremum records.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment"> @return data in bytes */</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;ulint <a class="code" href="page0page_8h.html#aa83f38500bff14e637eb3c559714c573">page_get_data_size</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">/** Allocates a block of memory from the head of the free list of an index</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;<span class="comment">page.</span></div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;<span class="comment">@param[in,out]  page            index page</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">@param[in,out]  page_zip        compressed page with enough space available</span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">                                for inserting the record, or NULL</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">@param[in]      next_rec        pointer to the new head of the free record</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">                                list</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">@param[in]      need            number of bytes allocated */</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a22ba6fc9e8a0c32f5fba3b898c6f329c">page_mem_alloc_free</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip,</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                         <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *next_rec, ulint need);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">/** Allocates a block of memory from the heap of an index page.</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"> @return pointer to start of allocated buffer, or NULL if allocation fails */</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="page0page_8h.html#a46ac8cb379e12fe9e370971538cf8329">page_mem_alloc_heap</a>(</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>,             <span class="comment">/*!&lt; in/out: index page */</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <span class="comment">/*!&lt; in/out: compressed page with enough</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">                             space available for inserting the record,</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">                             or NULL */</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    ulint need,               <span class="comment">/*!&lt; in: total number of bytes needed */</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    ulint *heap_no);          <span class="comment">/*!&lt; out: this contains the heap number</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">                             of the allocated record</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">                             if allocation succeeds */</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">/** Puts a record to free list.</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">@param[in,out]  page            index page</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">@param[in,out]  page_zip        compressed page, or NULL</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">@param[in]      rec             pointer to the (origin of) record</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">@param[in]      index           index of rec</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">@param[in]      offsets         array returned by rec_get_offsets() */</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a144fc72f7048b680761afc5e820b2230">page_mem_free</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                   <span class="keyword">const</span> <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <span class="keyword">const</span> ulint *offsets);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">/** Create an uncompressed B-tree or R-tree or SDI index page.</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">@param[in]      block           A buffer block where the page is created</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">@param[in]      mtr             Mini-transaction handle</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">@param[in]      comp            nonzero=compact page format</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">@param[in]      page_type       Page type</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">@return pointer to the page */</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="page0page_8h.html#a95963c4bcaa213267860e22ed4d4a5e3">page_create</a>(<a class="code" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="code" href="structmtr__t.html">mtr_t</a> *mtr, ulint comp,</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    <a class="code" href="fil0fil_8h.html#a28736d878c89fb4395c9bc86f4530dfc">page_type_t</a> page_type);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">/** Create a compressed B-tree index page.</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">@param[in,out]  block           Buffer frame where the page is created</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">@param[in]      index           Index of the page, or NULL when applying</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">                                TRUNCATE log record during recovery</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">@param[in]      level           The B-tree level of the page</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">@param[in]      max_trx_id      PAGE_MAX_TRX_ID</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">@param[in]      mtr             Mini-transaction handle</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">@param[in]      page_type       Page type to be created. Only FIL_PAGE_INDEX,</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">                                FIL_PAGE_RTREE, FIL_PAGE_SDI allowed</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment">@return pointer to the page */</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="page0page_8h.html#acec47e3c857b40bde0b227767fdda94e">page_create_zip</a>(<a class="code" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, ulint level,</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                        <a class="code" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> max_trx_id, <a class="code" href="structmtr__t.html">mtr_t</a> *mtr, <a class="code" href="fil0fil_8h.html#a28736d878c89fb4395c9bc86f4530dfc">page_type_t</a> page_type);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">/** Empty a previously created B-tree index page.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">@param[in,out] block B-tree block</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">@param[in] index The index of the page</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">@param[in,out] mtr Mini-transaction */</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a1eee2a48c31ebcb42962e697e0f5ba7a">page_create_empty</a>(<a class="code" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">/** Differs from page_copy_rec_list_end, because this function does not</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment"> touch the lock table and max trx id on page or compress the page.</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;<span class="comment"> IMPORTANT: The caller will have to update IBUF_BITMAP_FREE</span></div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"> if new_block is a compressed leaf page in a secondary index.</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment"> This has to be done either within the same mini-transaction,</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment"> or by invoking ibuf_reset_free_bits() before mtr_commit(). */</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a73b8beba64717ee9c1da9a2976e19743">page_copy_rec_list_end_no_locks</a>(</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *new_block, <span class="comment">/*!&lt; in: index page to copy to */</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,     <span class="comment">/*!&lt; in: index page of rec */</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,             <span class="comment">/*!&lt; in: record on page */</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>,    <span class="comment">/*!&lt; in: record descriptor */</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);            <span class="comment">/*!&lt; in: mtr */</span><span class="comment"></span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">/** Copies records from page to new_page, from the given record onward,</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment"> including that record. Infimum and supremum records are not copied.</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"> The records are copied to the start of the record list on new_page.</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment"> IMPORTANT: The caller will have to update IBUF_BITMAP_FREE</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"> if new_block is a compressed leaf page in a secondary index.</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment"> This has to be done either within the same mini-transaction,</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment"> or by invoking ibuf_reset_free_bits() before mtr_commit().</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment"> @return pointer to the original successor of the infimum record on</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment"> new_page, or NULL on zip overflow (new_block will be decompressed) */</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#a055ddd1f76274ed4c7ab228d9c4625b3">page_copy_rec_list_end</a>(</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *new_block, <span class="comment">/*!&lt; in/out: index page to copy to */</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,     <span class="comment">/*!&lt; in: index page containing rec */</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,             <span class="comment">/*!&lt; in: record on page */</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>,    <span class="comment">/*!&lt; in: record descriptor */</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);            <span class="comment">/*!&lt; in: mtr */</span><span class="comment"></span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">/** Copies records from page to new_page, up to the given record, NOT</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment"> including that record. Infimum and supremum records are not copied.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment"> The records are copied to the end of the record list on new_page.</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment"> IMPORTANT: The caller will have to update IBUF_BITMAP_FREE</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment"> if new_block is a compressed leaf page in a secondary index.</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment"> This has to be done either within the same mini-transaction,</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"> or by invoking ibuf_reset_free_bits() before mtr_commit().</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment"> @return pointer to the original predecessor of the supremum record on</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment"> new_page, or NULL on zip overflow (new_block will be decompressed) */</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#a038507970d9851f41ed8226b98456705">page_copy_rec_list_start</a>(</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *new_block, <span class="comment">/*!&lt; in/out: index page to copy to */</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,     <span class="comment">/*!&lt; in: index page containing rec */</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,             <span class="comment">/*!&lt; in: record on page */</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>,    <span class="comment">/*!&lt; in: record descriptor */</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);            <span class="comment">/*!&lt; in: mtr */</span><span class="comment"></span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">/** Deletes records from a page from a given record onward, including that</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment"> record. The infimum and supremum records are not deleted. */</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a00f4c04e1a591589e4b204b87f57ab06">page_delete_rec_list_end</a>(</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,          <span class="comment">/*!&lt; in: pointer to record on page */</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,  <span class="comment">/*!&lt; in: buffer block of the page */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <span class="comment">/*!&lt; in: record descriptor */</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    ulint n_recs,        <span class="comment">/*!&lt; in: number of records to delete,</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">                         or ULINT_UNDEFINED if not known */</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    ulint size,          <span class="comment">/*!&lt; in: the sum of the sizes of the</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">                         records in the end of the chain to</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">                         delete, or ULINT_UNDEFINED if not known */</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);         <span class="comment">/*!&lt; in: mtr */</span><span class="comment"></span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">/** Deletes records from page, up to the given record, NOT including</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment"> that record. Infimum and supremum records are not deleted. */</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a87cc044b42f5cf92d5a17a37af727513">page_delete_rec_list_start</a>(</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,          <span class="comment">/*!&lt; in: record on page */</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,  <span class="comment">/*!&lt; in: buffer block of the page */</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <span class="comment">/*!&lt; in: record descriptor */</span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);         <span class="comment">/*!&lt; in: mtr */</span><span class="comment"></span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">/** Moves record list end to another page. Moved records include</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"> split_rec.</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment"> IMPORTANT: The caller will have to update IBUF_BITMAP_FREE</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment"> if new_block is a compressed leaf page in a secondary index.</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment"> This has to be done either within the same mini-transaction,</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment"> or by invoking ibuf_reset_free_bits() before mtr_commit().</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment"> @return true on success; false on compression failure (new_block will</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment"> be decompressed) */</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;ibool <a class="code" href="page0page_8h.html#aeef0034b46ee39f151f870324532e325">page_move_rec_list_end</a>(</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *new_block, <span class="comment">/*!&lt; in/out: index page where to move */</span></div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,     <span class="comment">/*!&lt; in: index page from where to move */</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *split_rec,       <span class="comment">/*!&lt; in: first record to move */</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>,    <span class="comment">/*!&lt; in: record descriptor */</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);            <span class="comment">/*!&lt; in: mtr */</span><span class="comment"></span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">/** Moves record list start to another page. Moved records do not include</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;<span class="comment"> split_rec.</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment"> IMPORTANT: The caller will have to update IBUF_BITMAP_FREE</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment"> if new_block is a compressed leaf page in a secondary index.</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment"> This has to be done either within the same mini-transaction,</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment"> or by invoking ibuf_reset_free_bits() before mtr_commit().</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment"> @return true on success; false on compression failure */</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;ibool <a class="code" href="page0page_8h.html#a3818369dcc50445ff078b38ffa8ea0a6">page_move_rec_list_start</a>(</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *new_block, <span class="comment">/*!&lt; in/out: index page where to move */</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,     <span class="comment">/*!&lt; in/out: page containing split_rec */</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *split_rec,       <span class="comment">/*!&lt; in: first record not to move */</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>,    <span class="comment">/*!&lt; in: record descriptor */</span></div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);            <span class="comment">/*!&lt; in: mtr */</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">/** Splits a directory slot which owns too many records.</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">@param[in,out] page Index page</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">@param[in,out] page_zip Compressed page whose uncompressed part will be written,</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">or null</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">@param[in] slot_no The directory slot */</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a73f9256ef21e5c60f5fefc52eb5b9422">page_dir_split_slot</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, ulint slot_no);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">/** Tries to balance the given directory slot with too few records with the</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment"> upper neighbor, so that there are at least the minimum number of records</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">owned by the slot; this may result in the merging of two slots.</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">@param[in,out] page Index page</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">@param[in,out] page_zip Compressed page, or null</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">@param[in] slot_no The directory slot */</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a3ff625ef54178ceb4c226ce7dd459da4">page_dir_balance_slot</a>(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="code" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip,</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                           ulint slot_no);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">/** Parses a log record of a record list end or start deletion.</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment"> @return end of log record or NULL */</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="page0page_8h.html#a419de42697bb062a8a0b34409284e50f">page_parse_delete_rec_list</a>(</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <a class="code" href="mtr0types_8h.html#a11a0f116bed9e1c33900d379901595d1">mlog_id_t</a> <a class="code" href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">type</a>,      <span class="comment">/*!&lt; in: MLOG_LIST_END_DELETE,</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">                         MLOG_LIST_START_DELETE,</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">                         MLOG_COMP_LIST_END_DELETE or</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">                         MLOG_COMP_LIST_START_DELETE */</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr,           <span class="comment">/*!&lt; in: buffer */</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr,       <span class="comment">/*!&lt; in: buffer end */</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,  <span class="comment">/*!&lt; in/out: buffer block or NULL */</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <span class="comment">/*!&lt; in: record descriptor */</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <a class="code" href="structmtr__t.html">mtr_t</a> *mtr);         <span class="comment">/*!&lt; in: mtr or NULL */</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">/** Parses a redo log record of creating a page.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">@param[in,out]  block           buffer block, or NULL</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">@param[in]      comp            nonzero=compact page format</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">@param[in]      page_type       page type (FIL_PAGE_INDEX, FIL_PAGE_RTREE</span></div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">                                or FIL_PAGE_SDI) */</span></div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a55ac9db558396cbea97a7fee8e475ebd">page_parse_create</a>(<a class="code" href="structbuf__block__t.html">buf_block_t</a> *block, ulint comp, <a class="code" href="fil0fil_8h.html#a28736d878c89fb4395c9bc86f4530dfc">page_type_t</a> page_type);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="preprocessor">#ifndef UNIV_HOTBACKUP</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">/** Prints record contents including the data relevant only in</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment"> the index page context.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">@param[in] rec Physical record</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">@param[in] offsets Record descriptor */</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a98672b272fd86986aa1d23444aecfe79">page_rec_print</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, <span class="keyword">const</span> ulint *offsets);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="preprocessor">#ifdef UNIV_BTR_PRINT</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">/** This is used to print the contents of the directory for</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"> debugging purposes. */</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="keywordtype">void</span> page_dir_print(<a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    ulint pr_n);  <span class="comment">/*!&lt; in: print n first and n last entries */</span><span class="comment"></span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">/** This is used to print the contents of the page record list for</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"> debugging purposes. */</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="keywordtype">void</span> page_print_list(</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,  <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <span class="comment">/*!&lt; in: dictionary index of the page */</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    ulint pr_n);         <span class="comment">/*!&lt; in: print n first and n last entries */</span><span class="comment"></span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">/** Prints the info in a page header. */</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="keywordtype">void</span> page_header_print(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page */</span><span class="comment"></span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">/** This is used to print the contents of the page for</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"> debugging purposes. */</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="keywordtype">void</span> page_print(<a class="code" href="structbuf__block__t.html">buf_block_t</a> *block,  <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <span class="comment">/*!&lt; in: dictionary index of the page */</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                ulint dn,            <span class="comment">/*!&lt; in: print dn first and last entries</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">                                     in directory */</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                ulint rn);           <span class="comment">/*!&lt; in: print rn first and last records</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">                                     in directory */</span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="preprocessor">#endif                               </span><span class="comment">/* UNIV_BTR_PRINT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="preprocessor">#endif                               </span><span class="comment">/* !UNIV_HOTBACKUP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">/** The following is used to validate a record on a page. This function</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment"> differs from rec_validate as it can also check the n_owned field and</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment"> the heap_no field.</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment"> @return true if ok */</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;ibool <a class="code" href="page0page_8h.html#a6233cd5a6d072dd28c98f3901abd0d0f">page_rec_validate</a>(</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec,      <span class="comment">/*!&lt; in: physical record */</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keyword">const</span> ulint *offsets); <span class="comment">/*!&lt; in: array returned by rec_get_offsets() */</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="preprocessor">#ifdef UNIV_DEBUG</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">/** Checks that the first directory slot points to the infimum record and</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment"> the last to the supremum. This function is intended to track if the</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment"> bug fixed in 4.0.14 has caused corruption to users&#39; databases. */</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a334f00eb0981521f2ff858cf15c9c784">page_check_dir</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="preprocessor">#endif                                   </span><span class="comment">/* UNIV_DEBUG */</span><span class="preprocessor"></span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">/** This function checks the consistency of an index page when we do not</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"> know the index. This is also resilient so that this should never crash</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment"> even if the page is total garbage.</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment"> @return true if ok */</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;ibool <a class="code" href="page0page_8h.html#a21f068a66e9b3207f3b8b7a05562f351">page_simple_validate_old</a>(</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page in ROW_FORMAT=REDUNDANT */</span><span class="comment"></span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">/** This function checks the consistency of an index page when we do not</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment"> know the index. This is also resilient so that this should never crash</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment"> even if the page is total garbage.</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment"> @return true if ok */</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;ibool <a class="code" href="page0page_8h.html#a2c12f41f6d2ad11209d8483a87121816">page_simple_validate_new</a>(</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>); <span class="comment">/*!&lt; in: index page in ROW_FORMAT!=REDUNDANT */</span><span class="comment"></span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">/** This function checks the consistency of an index page.</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment"> @return true if ok */</span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;ibool <a class="code" href="page0page_8h.html#ad59d1d3e5fe40dce0bf4fc3b6a51b669">page_validate</a>(</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>,   <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>); <span class="comment">/*!&lt; in: data dictionary index containing</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">                          the page record type definition */</span><span class="comment"></span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">/** Looks in the page record list for a record with the given heap number.</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment"> @return record, NULL if not found */</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#abb93b584764cf47b84cf3be583c3624e">page_find_rec_with_heap_no</a>(</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <span class="comment">/*!&lt; in: index page */</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    ulint heap_no);     <span class="comment">/*!&lt; in: heap number */</span><span class="comment"></span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">/** Get the last non-delete-marked record on a page.</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">@param[in]      page    index tree leaf page</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">@return the last record, not delete-marked</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">@retval infimum record if all records are delete-marked */</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="page0page_8h.html#a5cd61e0850096f84f31b65ce295a5663">page_find_rec_last_not_deleted</a>(<span class="keyword">const</span> <a class="code" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="code" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">/** Issue a warning when the checksum that is stored in the page is valid,</span></div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;<span class="comment">but different than the global setting innodb_checksum_algorithm.</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">@param[in]      curr_algo       current checksum algorithm</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">@param[in]      page_checksum   page valid checksum</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">@param[in]      page_id         page identifier */</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="keywordtype">void</span> <a class="code" href="page0page_8h.html#a7122407ba8a43c15052f299c90860cc7">page_warn_strict_checksum</a>(<a class="code" href="buf0types_8h.html#acaf8bfcdca6f89c133a00e41f1596cdd">srv_checksum_algorithm_t</a> curr_algo,</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                               <a class="code" href="buf0types_8h.html#acaf8bfcdca6f89c133a00e41f1596cdd">srv_checksum_algorithm_t</a> page_checksum,</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                               <span class="keyword">const</span> <a class="code" href="classpage__id__t.html">page_id_t</a> &amp;page_id);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">/** Check that a page_size is correct for InnoDB.</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">If correct, set the associated page_size_shift which is the power of 2</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">for this page size.</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">@param[in]      page_size       Page Size to evaluate</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">@return an associated page_size_shift if valid, 0 if invalid. */</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="keyword">inline</span> <a class="code" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> <a class="code" href="page0page_8h.html#af24c6ff9f69432ad315e31893f0cc953">page_size_validate</a>(<a class="code" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> page_size);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">/** This function checks if the page in which record is present is a</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">non-leaf node of a spatial index.</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">param[in]       rec     Btree record</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">param[in]       index   index</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">@return TRUE if ok */</span></div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="page0page_8h.html#a4a25c051e243240c89ebbd2ba2636167">page_is_spatial_non_leaf</a>(<span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="preprocessor">#ifdef UNIV_MATERIALIZE</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="preprocessor">#undef UNIV_INLINE</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">#define UNIV_INLINE UNIV_INLINE_ORIGINAL</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor">#include &quot;page0page.ic&quot;</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="structpage__zip__des__t_html"><div class="ttname"><a href="structpage__zip__des__t.html">page_zip_des_t</a></div><div class="ttdoc">Compressed page descriptor. </div><div class="ttdef"><b>Definition:</b> page0types.h:197</div></div>
<div class="ttc" id="page0page_8h_html_a088094b7e1b7b1a11f59eb92294be3e1"><div class="ttname"><a href="page0page_8h.html#a088094b7e1b7b1a11f59eb92294be3e1">supremum_extra_data</a></div><div class="ttdeci">static const byte supremum_extra_data[]</div><div class="ttdoc">Extra bytes and data bytes of a supremum record. </div><div class="ttdef"><b>Definition:</b> page0page.h:94</div></div>
<div class="ttc" id="page0page_8h_html_a84498b8178988dbaccd7a9020ba1f590"><div class="ttname"><a href="page0page_8h.html#a84498b8178988dbaccd7a9020ba1f590">page_is_comp</a></div><div class="ttdeci">UNIV_INLINE ulint page_is_comp(const page_t *page)</div><div class="ttdoc">Determine whether the page is in new-style compact format. </div></div>
<div class="ttc" id="page0page_8h_html_a3ff625ef54178ceb4c226ce7dd459da4"><div class="ttname"><a href="page0page_8h.html#a3ff625ef54178ceb4c226ce7dd459da4">page_dir_balance_slot</a></div><div class="ttdeci">void page_dir_balance_slot(page_t *page, page_zip_des_t *page_zip, ulint slot_no)</div><div class="ttdoc">Tries to balance the given directory slot with too few records with the upper neighbor, so that there are at least the minimum number of records owned by the slot; this may result in the merging of two slots. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1357</div></div>
<div class="ttc" id="page0page_8h_html_a2901b1c86520b12d6b0945b3448f40f6"><div class="ttname"><a href="page0page_8h.html#a2901b1c86520b12d6b0945b3448f40f6">page_rec_get_n_recs_before</a></div><div class="ttdeci">ulint page_rec_get_n_recs_before(const rec_t *rec)</div><div class="ttdoc">Returns the number of records before the given record in chain. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1466</div></div>
<div class="ttc" id="page0page_8h_html_ad2c8a02225cafeaa1f270c1d1302debc"><div class="ttname"><a href="page0page_8h.html#ad2c8a02225cafeaa1f270c1d1302debc">page_get_infimum_offset</a></div><div class="ttdeci">UNIV_INLINE ulint page_get_infimum_offset(const page_t *page)</div><div class="ttdoc">Gets the offset of the first record on the page. </div></div>
<div class="ttc" id="page0page_8h_html_a621b79868037c6dfc961971724276be5"><div class="ttname"><a href="page0page_8h.html#a621b79868037c6dfc961971724276be5">page_get_page_id</a></div><div class="ttdeci">UNIV_INLINE page_id_t page_get_page_id(const page_t *page)</div><div class="ttdoc">Gets the space id and page number identifying the page. </div></div>
<div class="ttc" id="api0api_8h_html_a3a920291a017c14a72331c818adf2265"><div class="ttname"><a href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a></div><div class="ttdeci">uint32 page_no_t</div><div class="ttdoc">Page number. </div><div class="ttdef"><b>Definition:</b> api0api.h:57</div></div>
<div class="ttc" id="page0page_8h_html_ad44ebc68c6817914671f6f8a9cea03b6"><div class="ttname"><a href="page0page_8h.html#ad44ebc68c6817914671f6f8a9cea03b6">page_get_free_space_of_empty</a></div><div class="ttdeci">UNIV_INLINE ulint page_get_free_space_of_empty(ulint comp)</div><div class="ttdoc">Calculates free space if a page is emptied. </div></div>
<div class="ttc" id="page0page_8h_html_add6fdfaba5d8b57434ca6f2207742fd1"><div class="ttname"><a href="page0page_8h.html#add6fdfaba5d8b57434ca6f2207742fd1">page_rec_get_base_extra_size</a></div><div class="ttdeci">UNIV_INLINE ulint page_rec_get_base_extra_size(const rec_t *rec)</div><div class="ttdoc">Returns the base extra size of a physical record. </div></div>
<div class="ttc" id="fil0fil_8h_html"><div class="ttname"><a href="fil0fil_8h.html">fil0fil.h</a></div><div class="ttdoc">The low-level file system. </div></div>
<div class="ttc" id="page0page_8h_html_af24c6ff9f69432ad315e31893f0cc953"><div class="ttname"><a href="page0page_8h.html#af24c6ff9f69432ad315e31893f0cc953">page_size_validate</a></div><div class="ttdeci">ulong page_size_validate(ulong page_size)</div><div class="ttdoc">Check that a page_size is correct for InnoDB. </div></div>
<div class="ttc" id="page0page_8h_html_a419de42697bb062a8a0b34409284e50f"><div class="ttname"><a href="page0page_8h.html#a419de42697bb062a8a0b34409284e50f">page_parse_delete_rec_list</a></div><div class="ttdeci">byte * page_parse_delete_rec_list(mlog_id_t type, byte *ptr, byte *end_ptr, buf_block_t *block, dict_index_t *index, mtr_t *mtr)</div><div class="ttdoc">Parses a log record of a record list end or start deletion. </div><div class="ttdef"><b>Definition:</b> page0page.cc:826</div></div>
<div class="ttc" id="page0page_8h_html_a2204f3b0d8ac682e5de39f26e89facee"><div class="ttname"><a href="page0page_8h.html#a2204f3b0d8ac682e5de39f26e89facee">page_rec_is_first</a></div><div class="ttdeci">UNIV_INLINE bool page_rec_is_first(const rec_t *rec, const page_t *page)</div><div class="ttdoc">true if the record is the first user record on a page. </div></div>
<div class="ttc" id="structbuf__block__t_html"><div class="ttname"><a href="structbuf__block__t.html">buf_block_t</a></div><div class="ttdoc">The buffer control block structure. </div><div class="ttdef"><b>Definition:</b> buf0buf.h:1324</div></div>
<div class="ttc" id="classpage__id__t_html"><div class="ttname"><a href="classpage__id__t.html">page_id_t</a></div><div class="ttdoc">Page identifier. </div><div class="ttdef"><b>Definition:</b> buf0types.h:158</div></div>
<div class="ttc" id="page0page_8h_html_a821789f9d874708d7981518b52447ecf"><div class="ttname"><a href="page0page_8h.html#a821789f9d874708d7981518b52447ecf">page_header_set_field</a></div><div class="ttdeci">UNIV_INLINE void page_header_set_field(page_t *page, page_zip_des_t *page_zip, ulint field, ulint val)</div><div class="ttdoc">Sets the given header field. </div></div>
<div class="ttc" id="page0page_8h_html_a7122407ba8a43c15052f299c90860cc7"><div class="ttname"><a href="page0page_8h.html#a7122407ba8a43c15052f299c90860cc7">page_warn_strict_checksum</a></div><div class="ttdeci">void page_warn_strict_checksum(srv_checksum_algorithm_t curr_algo, srv_checksum_algorithm_t page_checksum, const page_id_t &amp;page_id)</div><div class="ttdoc">Issue a warning when the checksum that is stored in the page is valid, but different than the global ...</div><div class="ttdef"><b>Definition:</b> page0page.cc:2589</div></div>
<div class="ttc" id="page0page_8h_html_adb82a9b39fbac8729373a80bc132fcf9"><div class="ttname"><a href="page0page_8h.html#adb82a9b39fbac8729373a80bc132fcf9">page_align</a></div><div class="ttdeci">UNIV_INLINE page_t * page_align(const void *ptr)</div><div class="ttdoc">Gets the start of a page. </div></div>
<div class="ttc" id="page0page_8h_html_a23dbabd2124540c6fb89568b95d957de"><div class="ttname"><a href="page0page_8h.html#a23dbabd2124540c6fb89568b95d957de">page_get_n_recs</a></div><div class="ttdeci">UNIV_INLINE ulint page_get_n_recs(const page_t *page)</div><div class="ttdoc">Gets the number of user records on page (the infimum and supremum records are not user records)...</div></div>
<div class="ttc" id="mtr0types_8h_html_a11a0f116bed9e1c33900d379901595d1"><div class="ttname"><a href="mtr0types_8h.html#a11a0f116bed9e1c33900d379901595d1">mlog_id_t</a></div><div class="ttdeci">mlog_id_t</div><div class="ttdef"><b>Definition:</b> mtr0types.h:62</div></div>
<div class="ttc" id="page0page_8h_html_ae8a36e9bffe51ff843aa804cd09b56c1"><div class="ttname"><a href="page0page_8h.html#ae8a36e9bffe51ff843aa804cd09b56c1">page_dir_set_n_heap</a></div><div class="ttdeci">UNIV_INLINE void page_dir_set_n_heap(page_t *page, page_zip_des_t *page_zip, ulint n_heap)</div><div class="ttdoc">Sets the number of records in the heap. </div></div>
<div class="ttc" id="page0page_8h_html_acec47e3c857b40bde0b227767fdda94e"><div class="ttname"><a href="page0page_8h.html#acec47e3c857b40bde0b227767fdda94e">page_create_zip</a></div><div class="ttdeci">page_t * page_create_zip(buf_block_t *block, dict_index_t *index, ulint level, trx_id_t max_trx_id, mtr_t *mtr, page_type_t page_type)</div><div class="ttdoc">Create a compressed B-tree index page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:391</div></div>
<div class="ttc" id="page0page_8h_html_aa83f38500bff14e637eb3c559714c573"><div class="ttname"><a href="page0page_8h.html#aa83f38500bff14e637eb3c559714c573">page_get_data_size</a></div><div class="ttdeci">UNIV_INLINE ulint page_get_data_size(const page_t *page)</div><div class="ttdoc">Returns the sum of the sizes of the records in the record list excluding the infimum and supremum rec...</div></div>
<div class="ttc" id="page0page_8h_html_a334d5c3b8cfe7bd73b96354895a49dec"><div class="ttname"><a href="page0page_8h.html#a334d5c3b8cfe7bd73b96354895a49dec">page_rec_is_infimum</a></div><div class="ttdeci">UNIV_INLINE ibool page_rec_is_infimum(const rec_t *rec)</div><div class="ttdoc">TRUE if the record is the infimum record on a page. </div></div>
<div class="ttc" id="page0page_8h_html_a7d697b3fb3da2ab0e80fc625a3a80481"><div class="ttname"><a href="page0page_8h.html#a7d697b3fb3da2ab0e80fc625a3a80481">page_get_max_trx_id</a></div><div class="ttdeci">UNIV_INLINE trx_id_t page_get_max_trx_id(const page_t *page)</div><div class="ttdoc">Returns the max trx id field value. </div></div>
<div class="ttc" id="page0page_8h_html_a814fde3a507b1ee879cdf11a1ab3ef2d"><div class="ttname"><a href="page0page_8h.html#a814fde3a507b1ee879cdf11a1ab3ef2d">page_rec_get_next_low</a></div><div class="ttdeci">UNIV_INLINE const rec_t * page_rec_get_next_low(const rec_t *rec, ulint comp)</div><div class="ttdoc">Gets the pointer to the next record on the page. </div></div>
<div class="ttc" id="page0page_8h_html_a205836131b13fa9e5d804fc9fadc4cb8"><div class="ttname"><a href="page0page_8h.html#a205836131b13fa9e5d804fc9fadc4cb8">page_is_leaf</a></div><div class="ttdeci">UNIV_INLINE bool page_is_leaf(const page_t *page)</div><div class="ttdoc">Determine whether the page is a B-tree leaf. </div></div>
<div class="ttc" id="page0page_8h_html_a57eb1546633fef3f6135cffa4a77cf87"><div class="ttname"><a href="page0page_8h.html#a57eb1546633fef3f6135cffa4a77cf87">page_dir_get_n_heap</a></div><div class="ttdeci">UNIV_INLINE ulint page_dir_get_n_heap(const page_t *page)</div><div class="ttdoc">Gets the number of records in the heap. </div></div>
<div class="ttc" id="fsp0fsp_8h_html"><div class="ttname"><a href="fsp0fsp_8h.html">fsp0fsp.h</a></div><div class="ttdoc">File space management. </div></div>
<div class="ttc" id="page0page_8h_html_a7ea15615a3900ad48dbea1f3226aabea"><div class="ttname"><a href="page0page_8h.html#a7ea15615a3900ad48dbea1f3226aabea">page_dir_slot_get_rec</a></div><div class="ttdeci">UNIV_INLINE const rec_t * page_dir_slot_get_rec(const page_dir_slot_t *slot)</div><div class="ttdoc">Gets the record pointed to by a directory slot. </div></div>
<div class="ttc" id="page0page_8h_html_affb4f0cfa5a0943dedbd1c7da3f6a03c"><div class="ttname"><a href="page0page_8h.html#affb4f0cfa5a0943dedbd1c7da3f6a03c">page_rec_get_next</a></div><div class="ttdeci">UNIV_INLINE rec_t * page_rec_get_next(rec_t *rec)</div><div class="ttdoc">Gets the pointer to the next record on the page. </div></div>
<div class="ttc" id="page0types_8h_html"><div class="ttname"><a href="page0types_8h.html">page0types.h</a></div><div class="ttdoc">Index page routines. </div></div>
<div class="ttc" id="page0page_8h_html_a1fcd7af7e44c42c31538db96e3b24852"><div class="ttname"><a href="page0page_8h.html#a1fcd7af7e44c42c31538db96e3b24852">page_dir_calc_reserved_space</a></div><div class="ttdeci">UNIV_INLINE ulint page_dir_calc_reserved_space(ulint n_recs)</div><div class="ttdoc">Calculates the space reserved for directory slots of a given number of records. </div></div>
<div class="ttc" id="page0page_8h_html_a51ff440550aee9b930cab2273fbfc78a"><div class="ttname"><a href="page0page_8h.html#a51ff440550aee9b930cab2273fbfc78a">page_header_reset_last_insert</a></div><div class="ttdeci">UNIV_INLINE void page_header_reset_last_insert(page_t *page, page_zip_des_t *page_zip, mtr_t *mtr)</div><div class="ttdoc">Resets the last insert info field in the page header. </div></div>
<div class="ttc" id="data0data_8h_html"><div class="ttname"><a href="data0data_8h.html">data0data.h</a></div><div class="ttdoc">SQL data field and tuple. </div></div>
<div class="ttc" id="page0page_8h_html_abeb3a28f26f09ddca40650276842bf5a"><div class="ttname"><a href="page0page_8h.html#abeb3a28f26f09ddca40650276842bf5a">infimum_data</a></div><div class="ttdeci">static const byte infimum_data[]</div><div class="ttdoc">Data bytes of an infimum record. </div><div class="ttdef"><b>Definition:</b> page0page.h:90</div></div>
<div class="ttc" id="page0page_8h_html_a801ef671975a89f07955d7f4104e6ae1"><div class="ttname"><a href="page0page_8h.html#a801ef671975a89f07955d7f4104e6ae1">page_header_get_field</a></div><div class="ttdeci">UNIV_INLINE ulint page_header_get_field(const page_t *page, ulint field)</div><div class="ttdoc">Reads the given header field. </div></div>
<div class="ttc" id="page0page_8h_html_a76e4cbeaf2f3c4d355e9de3bb696cfe1"><div class="ttname"><a href="page0page_8h.html#a76e4cbeaf2f3c4d355e9de3bb696cfe1">page_has_garbage</a></div><div class="ttdeci">UNIV_INLINE bool page_has_garbage(const page_t *page)</div><div class="ttdoc">Determine whether the page contains garbage. </div></div>
<div class="ttc" id="page0page_8h_html_aad00f7d08cf05c2c15b71f87a5937843"><div class="ttname"><a href="page0page_8h.html#aad00f7d08cf05c2c15b71f87a5937843">page_dir_set_n_slots</a></div><div class="ttdeci">UNIV_INLINE void page_dir_set_n_slots(page_t *page, page_zip_des_t *page_zip, ulint n_slots)</div><div class="ttdoc">Sets the number of dir slots in directory. </div></div>
<div class="ttc" id="page0page_8h_html_a1bb10117d8dad8205888409cd91e456c"><div class="ttname"><a href="page0page_8h.html#a1bb10117d8dad8205888409cd91e456c">page_offset</a></div><div class="ttdeci">UNIV_INLINE ulint page_offset(const void *ptr)</div><div class="ttdoc">Gets the offset within a page. </div></div>
<div class="ttc" id="page0page_8h_html_ab16d46b5b5f266ea0221ecfde1fd1133"><div class="ttname"><a href="page0page_8h.html#ab16d46b5b5f266ea0221ecfde1fd1133">page_dir_slot_set_rec</a></div><div class="ttdeci">UNIV_INLINE void page_dir_slot_set_rec(page_dir_slot_t *slot, rec_t *rec)</div><div class="ttdoc">This is used to set the record offset in a directory slot. </div></div>
<div class="ttc" id="page0page_8h_html_af1d0478ab4f7a67498a6426a8e9c947a"><div class="ttname"><a href="page0page_8h.html#af1d0478ab4f7a67498a6426a8e9c947a">page_rec_get_prev</a></div><div class="ttdeci">UNIV_INLINE rec_t * page_rec_get_prev(rec_t *rec)</div><div class="ttdoc">Gets the pointer to the previous record. </div></div>
<div class="ttc" id="page0page_8h_html_a06e84fb2afa186e78c33d470d9784071"><div class="ttname"><a href="page0page_8h.html#a06e84fb2afa186e78c33d470d9784071">page_set_max_trx_id</a></div><div class="ttdeci">void page_set_max_trx_id(buf_block_t *block, page_zip_des_t *page_zip, trx_id_t trx_id, mtr_t *mtr)</div><div class="ttdoc">Sets the max trx id field value. </div><div class="ttdef"><b>Definition:</b> page0page.cc:196</div></div>
<div class="ttc" id="buf0types_8h_html_acaf8bfcdca6f89c133a00e41f1596cdd"><div class="ttname"><a href="buf0types_8h.html#acaf8bfcdca6f89c133a00e41f1596cdd">srv_checksum_algorithm_t</a></div><div class="ttdeci">srv_checksum_algorithm_t</div><div class="ttdoc">Alternatives for srv_checksum_algorithm, which can be changed by setting innodb_checksum_algorithm. </div><div class="ttdef"><b>Definition:</b> buf0types.h:102</div></div>
<div class="ttc" id="page0page_8h_html_a87cc044b42f5cf92d5a17a37af727513"><div class="ttname"><a href="page0page_8h.html#a87cc044b42f5cf92d5a17a37af727513">page_delete_rec_list_start</a></div><div class="ttdeci">void page_delete_rec_list_start(rec_t *rec, buf_block_t *block, dict_index_t *index, mtr_t *mtr)</div><div class="ttdoc">Deletes records from page, up to the given record, NOT including that record. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1069</div></div>
<div class="ttc" id="ctype-mb_8cc_html_adf406aa6822ceac22d62ef63cc2879c0"><div class="ttname"><a href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a></div><div class="ttdeci">int page</div><div class="ttdef"><b>Definition:</b> ctype-mb.cc:1234</div></div>
<div class="ttc" id="mysql_8cc_html_adfa69ae672499b1037123a1f17c5552b"><div class="ttname"><a href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a></div><div class="ttdeci">char * index(const char *, int c)</div><div class="ttdef"><b>Definition:</b> mysql.cc:2928</div></div>
<div class="ttc" id="page0page_8h_html_ab0b9e0621a4bdc8f73cc363d20693d2a"><div class="ttname"><a href="page0page_8h.html#ab0b9e0621a4bdc8f73cc363d20693d2a">page_update_max_trx_id</a></div><div class="ttdeci">UNIV_INLINE void page_update_max_trx_id(buf_block_t *block, page_zip_des_t *page_zip, trx_id_t trx_id, mtr_t *mtr)</div><div class="ttdoc">Sets the max trx id field value if trx_id is bigger than the previous value. </div></div>
<div class="ttc" id="dict0dict_8h_html"><div class="ttname"><a href="dict0dict_8h.html">dict0dict.h</a></div><div class="ttdoc">Data dictionary system. </div></div>
<div class="ttc" id="page0page_8h_html_aacba3acde95850dc1243bda445c57364"><div class="ttname"><a href="page0page_8h.html#aacba3acde95850dc1243bda445c57364">page_rec_get_prev_const</a></div><div class="ttdeci">UNIV_INLINE const rec_t * page_rec_get_prev_const(const rec_t *rec)</div><div class="ttdoc">Gets the pointer to the previous record. </div></div>
<div class="ttc" id="page0page_8h_html_af6d68edd4f9c9d4551d75b0bcc8c984e"><div class="ttname"><a href="page0page_8h.html#af6d68edd4f9c9d4551d75b0bcc8c984e">page_rec_is_user_rec</a></div><div class="ttdeci">UNIV_INLINE ibool page_rec_is_user_rec(const rec_t *rec)</div><div class="ttdoc">TRUE if the record is a user record on the page. </div></div>
<div class="ttc" id="page0page_8h_html_a8401d2746f3351ca5e0bb9bf16207b38"><div class="ttname"><a href="page0page_8h.html#a8401d2746f3351ca5e0bb9bf16207b38">page_rec_is_supremum</a></div><div class="ttdeci">UNIV_INLINE ibool page_rec_is_supremum(const rec_t *rec)</div><div class="ttdoc">TRUE if the record is the supremum record on a page. </div></div>
<div class="ttc" id="page0page_8h_html_a21f068a66e9b3207f3b8b7a05562f351"><div class="ttname"><a href="page0page_8h.html#a21f068a66e9b3207f3b8b7a05562f351">page_simple_validate_old</a></div><div class="ttdeci">ibool page_simple_validate_old(const page_t *page)</div><div class="ttdoc">This function checks the consistency of an index page when we do not know the index. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1760</div></div>
<div class="ttc" id="page0page_8h_html_a40477b41f068294f957379e5f4499aa9"><div class="ttname"><a href="page0page_8h.html#a40477b41f068294f957379e5f4499aa9">page_dir_t</a></div><div class="ttdeci">page_dir_slot_t page_dir_t</div><div class="ttdef"><b>Definition:</b> page0page.h:60</div></div>
<div class="ttc" id="page0page_8h_html_a055ddd1f76274ed4c7ab228d9c4625b3"><div class="ttname"><a href="page0page_8h.html#a055ddd1f76274ed4c7ab228d9c4625b3">page_copy_rec_list_end</a></div><div class="ttdeci">rec_t * page_copy_rec_list_end(buf_block_t *new_block, buf_block_t *block, rec_t *rec, dict_index_t *index, mtr_t *mtr)</div><div class="ttdoc">Copies records from page to new_page, from the given record onward, including that record...</div><div class="ttdef"><b>Definition:</b> page0page.cc:530</div></div>
<div class="ttc" id="page0page_8h_html_af89d0b4e224656d6ada0d6bb5da8d38b"><div class="ttname"><a href="page0page_8h.html#af89d0b4e224656d6ada0d6bb5da8d38b">page_rec_set_next</a></div><div class="ttdeci">UNIV_INLINE void page_rec_set_next(rec_t *rec, const rec_t *next)</div><div class="ttdoc">Sets the pointer to the next record on the page. </div></div>
<div class="ttc" id="rem0types_8h_html_a92caeffe2dc2fbe825a54aef9a163435"><div class="ttname"><a href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a></div><div class="ttdeci">byte rec_t</div><div class="ttdef"><b>Definition:</b> rem0types.h:39</div></div>
<div class="ttc" id="page0page_8h_html_a55ac9db558396cbea97a7fee8e475ebd"><div class="ttname"><a href="page0page_8h.html#a55ac9db558396cbea97a7fee8e475ebd">page_parse_create</a></div><div class="ttdeci">void page_parse_create(buf_block_t *block, ulint comp, page_type_t page_type)</div><div class="ttdoc">Parses a redo log record of creating a page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:363</div></div>
<div class="ttc" id="page0page_8h_html_ad831a187a3c192715e563555d8bd2f4e"><div class="ttname"><a href="page0page_8h.html#ad831a187a3c192715e563555d8bd2f4e">page_rec_is_comp</a></div><div class="ttdeci">UNIV_INLINE ulint page_rec_is_comp(const rec_t *rec)</div><div class="ttdoc">TRUE if the record is on a page in compact format. </div></div>
<div class="ttc" id="page0page_8h_html_afcda726605b3355e96099bd4c6be8322"><div class="ttname"><a href="page0page_8h.html#afcda726605b3355e96099bd4c6be8322">page_rec_is_infimum_low</a></div><div class="ttdeci">UNIV_INLINE ibool page_rec_is_infimum_low(ulint offset)</div><div class="ttdoc">TRUE if the record is the infimum record on a page. </div></div>
<div class="ttc" id="page0page_8h_html_ad2f36dc0b9ac8519b4b2ff022d8fbd63"><div class="ttname"><a href="page0page_8h.html#ad2f36dc0b9ac8519b4b2ff022d8fbd63">page_get_space_id</a></div><div class="ttdeci">UNIV_INLINE space_id_t page_get_space_id(const page_t *page)</div><div class="ttdoc">Gets the tablespace identifier. </div></div>
<div class="ttc" id="page0page_8h_html_a4718992648443ffbc6c5d2ee72892dd1"><div class="ttname"><a href="page0page_8h.html#a4718992648443ffbc6c5d2ee72892dd1">page_get_max_insert_size</a></div><div class="ttdeci">UNIV_INLINE ulint page_get_max_insert_size(const page_t *page, ulint n_recs)</div><div class="ttdoc">Returns the maximum combined size of records which can be inserted on top of record heap...</div></div>
<div class="ttc" id="page0page_8h_html_af553181a7ed095c9993f6a560137a599"><div class="ttname"><a href="page0page_8h.html#af553181a7ed095c9993f6a560137a599">page_get_max_insert_size_after_reorganize</a></div><div class="ttdeci">UNIV_INLINE ulint page_get_max_insert_size_after_reorganize(const page_t *page, ulint n_recs)</div><div class="ttdoc">Returns the maximum combined size of records which can be inserted on top of record heap if page is f...</div></div>
<div class="ttc" id="page0page_8h_html_a00f4c04e1a591589e4b204b87f57ab06"><div class="ttname"><a href="page0page_8h.html#a00f4c04e1a591589e4b204b87f57ab06">page_delete_rec_list_end</a></div><div class="ttdeci">void page_delete_rec_list_end(rec_t *rec, buf_block_t *block, dict_index_t *index, ulint n_recs, ulint size, mtr_t *mtr)</div><div class="ttdoc">Deletes records from a page from a given record onward, including that record. </div><div class="ttdef"><b>Definition:</b> page0page.cc:873</div></div>
<div class="ttc" id="page0page_8h_html_a45f6454b70db57b32fbb62e6c708deab"><div class="ttname"><a href="page0page_8h.html#a45f6454b70db57b32fbb62e6c708deab">infimum_extra</a></div><div class="ttdeci">static const byte infimum_extra[]</div><div class="ttdoc">Extra bytes of an infimum record. </div><div class="ttdef"><b>Definition:</b> page0page.h:84</div></div>
<div class="ttc" id="page0page_8h_html_ae6c2f08746cdb36fcc9576fc7840f702"><div class="ttname"><a href="page0page_8h.html#ae6c2f08746cdb36fcc9576fc7840f702">page_rec_write_field</a></div><div class="ttdeci">UNIV_INLINE void page_rec_write_field(rec_t *rec, ulint i, ulint val, mtr_t *mtr)</div><div class="ttdoc">Write a 32-bit field in a data dictionary record. </div></div>
<div class="ttc" id="fil0fil_8h_html_a28736d878c89fb4395c9bc86f4530dfc"><div class="ttname"><a href="fil0fil_8h.html#a28736d878c89fb4395c9bc86f4530dfc">page_type_t</a></div><div class="ttdeci">uint16_t page_type_t</div><div class="ttdef"><b>Definition:</b> fil0fil.h:990</div></div>
<div class="ttc" id="page0page_8h_html_a144fc72f7048b680761afc5e820b2230"><div class="ttname"><a href="page0page_8h.html#a144fc72f7048b680761afc5e820b2230">page_mem_free</a></div><div class="ttdeci">UNIV_INLINE void page_mem_free(page_t *page, page_zip_des_t *page_zip, rec_t *rec, const dict_index_t *index, const ulint *offsets)</div><div class="ttdoc">Puts a record to free list. </div></div>
<div class="ttc" id="page0page_8h_html_a038507970d9851f41ed8226b98456705"><div class="ttname"><a href="page0page_8h.html#a038507970d9851f41ed8226b98456705">page_copy_rec_list_start</a></div><div class="ttdeci">rec_t * page_copy_rec_list_start(buf_block_t *new_block, buf_block_t *block, rec_t *rec, dict_index_t *index, mtr_t *mtr)</div><div class="ttdoc">Copies records from page to new_page, up to the given record, NOT including that record. </div><div class="ttdef"><b>Definition:</b> page0page.cc:667</div></div>
<div class="ttc" id="page0page_8h_html_a8c418c48ad61c99daafe537990d55726"><div class="ttname"><a href="page0page_8h.html#a8c418c48ad61c99daafe537990d55726">page_get_supremum_offset</a></div><div class="ttdeci">UNIV_INLINE ulint page_get_supremum_offset(const page_t *page)</div><div class="ttdoc">Gets the offset of the last record on the page. </div></div>
<div class="ttc" id="page0page_8h_html_a6d8c9dd23db81e0b6416485f2b55ee59"><div class="ttname"><a href="page0page_8h.html#a6d8c9dd23db81e0b6416485f2b55ee59">page_header_set_ptr</a></div><div class="ttdeci">UNIV_INLINE void page_header_set_ptr(page_t *page, page_zip_des_t *page_zip, ulint field, const byte *ptr)</div><div class="ttdoc">Sets the pointer stored in the given header field. </div></div>
<div class="ttc" id="page0page_8h_html_a3818369dcc50445ff078b38ffa8ea0a6"><div class="ttname"><a href="page0page_8h.html#a3818369dcc50445ff078b38ffa8ea0a6">page_move_rec_list_start</a></div><div class="ttdeci">ibool page_move_rec_list_start(buf_block_t *new_block, buf_block_t *block, rec_t *split_rec, dict_index_t *index, mtr_t *mtr)</div><div class="ttdoc">Moves record list start to another page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1205</div></div>
<div class="ttc" id="namespacebinary__log_1_1transaction_1_1compression_html_a22a3b5d8096f4c73ced74c0b668df0be"><div class="ttname"><a href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">binary_log::transaction::compression::type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> base.h:36</div></div>
<div class="ttc" id="page0page_8h_html_a62d6ba8e729da9b0e6b9e510e122e6f0"><div class="ttname"><a href="page0page_8h.html#a62d6ba8e729da9b0e6b9e510e122e6f0">page_dir_slot_set_n_owned</a></div><div class="ttdeci">UNIV_INLINE void page_dir_slot_set_n_owned(page_dir_slot_t *slot, page_zip_des_t *page_zip, ulint n)</div><div class="ttdoc">This is used to set the owned records field of a directory slot. </div></div>
<div class="ttc" id="page0page_8h_html_ac7ffab439ab2fd67c3212ae9bccec937"><div class="ttname"><a href="page0page_8h.html#ac7ffab439ab2fd67c3212ae9bccec937">page_get_ssn_id</a></div><div class="ttdeci">UNIV_INLINE node_seq_t page_get_ssn_id(const page_t *page)</div><div class="ttdoc">Returns the RTREE SPLIT SEQUENCE NUMBER (FIL_RTREE_SPLIT_SEQ_NUM). </div></div>
<div class="ttc" id="page0page_8h_html_a2325882bdff90a9315207eb6fcfba109"><div class="ttname"><a href="page0page_8h.html#a2325882bdff90a9315207eb6fcfba109">page_dir_find_owner_slot</a></div><div class="ttdeci">ulint page_dir_find_owner_slot(const rec_t *rec)</div><div class="ttdoc">Looks for the directory slot which owns the given record. </div><div class="ttdef"><b>Definition:</b> page0page.cc:93</div></div>
<div class="ttc" id="page0page_8h_html_a46ac8cb379e12fe9e370971538cf8329"><div class="ttname"><a href="page0page_8h.html#a46ac8cb379e12fe9e370971538cf8329">page_mem_alloc_heap</a></div><div class="ttdeci">byte * page_mem_alloc_heap(page_t *page, page_zip_des_t *page_zip, ulint need, ulint *heap_no)</div><div class="ttdoc">Allocates a block of memory from the heap of an index page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:222</div></div>
<div class="ttc" id="page0page_8h_html_a22ba6fc9e8a0c32f5fba3b898c6f329c"><div class="ttname"><a href="page0page_8h.html#a22ba6fc9e8a0c32f5fba3b898c6f329c">page_mem_alloc_free</a></div><div class="ttdeci">UNIV_INLINE void page_mem_alloc_free(page_t *page, page_zip_des_t *page_zip, rec_t *next_rec, ulint need)</div><div class="ttdoc">Allocates a block of memory from the head of the free list of an index page. </div></div>
<div class="ttc" id="page0page_8h_html_a6c34e1a5c7d0e4a6d9296135ffa727f0"><div class="ttname"><a href="page0page_8h.html#a6c34e1a5c7d0e4a6d9296135ffa727f0">page_rec_distance_is_at_most</a></div><div class="ttdeci">UNIV_INLINE bool page_rec_distance_is_at_most(const rec_t *left_rec, const rec_t *right_rec, ulint val)</div><div class="ttdoc">true if distance between the records (measured in number of times we have to move to the next record)...</div></div>
<div class="ttc" id="page0page_8h_html_aa858bc951b21d56576ac022a663d30a6"><div class="ttname"><a href="page0page_8h.html#aa858bc951b21d56576ac022a663d30a6">page_rec_is_supremum_low</a></div><div class="ttdeci">UNIV_INLINE ibool page_rec_is_supremum_low(ulint offset)</div><div class="ttdoc">TRUE if the record is the supremum record on a page. </div></div>
<div class="ttc" id="page0page_8h_html_a01ee6ebf395c7106f7fa67ddc762c244"><div class="ttname"><a href="page0page_8h.html#a01ee6ebf395c7106f7fa67ddc762c244">page_dir_slot_t</a></div><div class="ttdeci">byte page_dir_slot_t</div><div class="ttdef"><b>Definition:</b> page0page.h:59</div></div>
<div class="ttc" id="api0api_8h_html_a02e9c11b4a9783f4b0b89fcf060f8f28"><div class="ttname"><a href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a></div><div class="ttdeci">uint32 space_id_t</div><div class="ttdoc">Tablespace identifier. </div><div class="ttdef"><b>Definition:</b> api0api.h:59</div></div>
<div class="ttc" id="page0page_8h_html_a6a714270d7638b0e44e6af0648ec1b9c"><div class="ttname"><a href="page0page_8h.html#a6a714270d7638b0e44e6af0648ec1b9c">page_rec_is_second_last</a></div><div class="ttdeci">UNIV_INLINE bool page_rec_is_second_last(const rec_t *rec, const page_t *page)</div><div class="ttdoc">true if the record is the second last user record on a page. </div></div>
<div class="ttc" id="trx0types_8h_html_a91afca43a639c098efe14a9069a1d4ec"><div class="ttname"><a href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a></div><div class="ttdeci">ib_id_t trx_id_t</div><div class="ttdoc">Transaction identifier (DB_TRX_ID, DATA_TRX_ID) </div><div class="ttdef"><b>Definition:</b> trx0types.h:144</div></div>
<div class="ttc" id="page0page_8h_html_ac9fd08d0ffcb35df8c8ad34126c5f339"><div class="ttname"><a href="page0page_8h.html#ac9fd08d0ffcb35df8c8ad34126c5f339">page_set_ssn_id</a></div><div class="ttdeci">UNIV_INLINE void page_set_ssn_id(buf_block_t *block, page_zip_des_t *page_zip, node_seq_t ssn_id, mtr_t *mtr)</div><div class="ttdoc">Sets the RTREE SPLIT SEQUENCE NUMBER field value. </div></div>
<div class="ttc" id="page0page_8h_html_a1eee2a48c31ebcb42962e697e0f5ba7a"><div class="ttname"><a href="page0page_8h.html#a1eee2a48c31ebcb42962e697e0f5ba7a">page_create_empty</a></div><div class="ttdeci">void page_create_empty(buf_block_t *block, dict_index_t *index, mtr_t *mtr)</div><div class="ttdoc">Empty a previously created B-tree index page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:430</div></div>
<div class="ttc" id="page0page_8h_html_a7f98d6d7523b079ee44848c49de420c9"><div class="ttname"><a href="page0page_8h.html#a7f98d6d7523b079ee44848c49de420c9">page_is_empty</a></div><div class="ttdeci">UNIV_INLINE bool page_is_empty(const page_t *page)</div><div class="ttdoc">Determine whether the page is empty. </div></div>
<div class="ttc" id="page0page_8h_html_af7c58dffe7f941030251012509cd579b"><div class="ttname"><a href="page0page_8h.html#af7c58dffe7f941030251012509cd579b">page_rec_get_nth</a></div><div class="ttdeci">UNIV_INLINE rec_t * page_rec_get_nth(page_t *page, ulint nth)</div><div class="ttdoc">Returns the nth record of the record list. </div></div>
<div class="ttc" id="page0page_8h_html_ad59d1d3e5fe40dce0bf4fc3b6a51b669"><div class="ttname"><a href="page0page_8h.html#ad59d1d3e5fe40dce0bf4fc3b6a51b669">page_validate</a></div><div class="ttdeci">ibool page_validate(const page_t *page, dict_index_t *index)</div><div class="ttdoc">This function checks the consistency of an index page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:2130</div></div>
<div class="ttc" id="page0page_8h_html_a8112a4415b6d687937d5fe81a4683938"><div class="ttname"><a href="page0page_8h.html#a8112a4415b6d687937d5fe81a4683938">page_rec_is_user_rec_low</a></div><div class="ttdeci">UNIV_INLINE ibool page_rec_is_user_rec_low(ulint offset)</div><div class="ttdoc">TRUE if the record is a user record on the page. </div></div>
<div class="ttc" id="page0page_8h_html_a6233cd5a6d072dd28c98f3901abd0d0f"><div class="ttname"><a href="page0page_8h.html#a6233cd5a6d072dd28c98f3901abd0d0f">page_rec_validate</a></div><div class="ttdeci">ibool page_rec_validate(const rec_t *rec, const ulint *offsets)</div><div class="ttdoc">The following is used to validate a record on a page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1690</div></div>
<div class="ttc" id="page0page_8h_html_ac4cb2175b9b46c057a0f3269cde60c1e"><div class="ttname"><a href="page0page_8h.html#ac4cb2175b9b46c057a0f3269cde60c1e">page_rec_get_next_const</a></div><div class="ttdeci">UNIV_INLINE const rec_t * page_rec_get_next_const(const rec_t *rec)</div><div class="ttdoc">Gets the pointer to the next record on the page. </div></div>
<div class="ttc" id="xcom__base_8cc_html_a76f11d9a0a47b94f72c2d0e77fb32240"><div class="ttname"><a href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> xcom_base.cc:442</div></div>
<div class="ttc" id="page0page_8h_html_abd0436a97b4a0d335885d9fdd1e6dffa"><div class="ttname"><a href="page0page_8h.html#abd0436a97b4a0d335885d9fdd1e6dffa">page_get_page_no</a></div><div class="ttdeci">UNIV_INLINE page_no_t page_get_page_no(const page_t *page)</div><div class="ttdoc">Gets the page number. </div></div>
<div class="ttc" id="page0page_8h_html_a73f9256ef21e5c60f5fefc52eb5b9422"><div class="ttname"><a href="page0page_8h.html#a73f9256ef21e5c60f5fefc52eb5b9422">page_dir_split_slot</a></div><div class="ttdeci">void page_dir_split_slot(page_t *page, page_zip_des_t *page_zip, ulint slot_no)</div><div class="ttdoc">Splits a directory slot which owns too many records. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1299</div></div>
<div class="ttc" id="page0page_8h_html_a6d41a7979d8befe0dbc79c4df0e2700a"><div class="ttname"><a href="page0page_8h.html#a6d41a7979d8befe0dbc79c4df0e2700a">page_rec_check</a></div><div class="ttdeci">UNIV_INLINE ibool page_rec_check(const rec_t *rec)</div><div class="ttdoc">Used to check the consistency of a record on a page. </div></div>
<div class="ttc" id="page0types_8h_html_ac84908ddc97c37107986280aa8f37897"><div class="ttname"><a href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a></div><div class="ttdeci">byte page_t</div><div class="ttdoc">Type of the index page. </div><div class="ttdef"><b>Definition:</b> page0types.h:148</div></div>
<div class="ttc" id="page0page_8h_html_abb93b584764cf47b84cf3be583c3624e"><div class="ttname"><a href="page0page_8h.html#abb93b584764cf47b84cf3be583c3624e">page_find_rec_with_heap_no</a></div><div class="ttdeci">const rec_t * page_find_rec_with_heap_no(const page_t *page, ulint heap_no)</div><div class="ttdoc">Looks in the page record list for a record with the given heap number. </div><div class="ttdef"><b>Definition:</b> page0page.cc:2466</div></div>
<div class="ttc" id="mtr0mtr_8h_html"><div class="ttname"><a href="mtr0mtr_8h.html">mtr0mtr.h</a></div><div class="ttdoc">Mini-transaction buffer. </div></div>
<div class="ttc" id="page0page_8h_html_a95963c4bcaa213267860e22ed4d4a5e3"><div class="ttname"><a href="page0page_8h.html#a95963c4bcaa213267860e22ed4d4a5e3">page_create</a></div><div class="ttdeci">page_t * page_create(buf_block_t *block, mtr_t *mtr, ulint comp, page_type_t page_type)</div><div class="ttdoc">Create an uncompressed B-tree or R-tree or SDI index page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:375</div></div>
<div class="ttc" id="page0page_8h_html_a67e2594d6bb6c66faa281bc45a6c839b"><div class="ttname"><a href="page0page_8h.html#a67e2594d6bb6c66faa281bc45a6c839b">page_dir_slot_get_n_owned</a></div><div class="ttdeci">UNIV_INLINE ulint page_dir_slot_get_n_owned(const page_dir_slot_t *slot)</div><div class="ttdoc">Gets the number of records owned by a directory slot. </div></div>
<div class="ttc" id="page0page_8h_html_a73b8beba64717ee9c1da9a2976e19743"><div class="ttname"><a href="page0page_8h.html#a73b8beba64717ee9c1da9a2976e19743">page_copy_rec_list_end_no_locks</a></div><div class="ttdeci">void page_copy_rec_list_end_no_locks(buf_block_t *new_block, buf_block_t *block, rec_t *rec, dict_index_t *index, mtr_t *mtr)</div><div class="ttdoc">Differs from page_copy_rec_list_end, because this function does not touch the lock table and max trx ...</div><div class="ttdef"><b>Definition:</b> page0page.cc:467</div></div>
<div class="ttc" id="page0page_8h_html_a42bd4154bbc78ae6cb608d5adaafc251"><div class="ttname"><a href="page0page_8h.html#a42bd4154bbc78ae6cb608d5adaafc251">page_rec_find_owner_rec</a></div><div class="ttdeci">UNIV_INLINE rec_t * page_rec_find_owner_rec(rec_t *rec)</div><div class="ttdoc">Looks for the record which owns the given record. </div></div>
<div class="ttc" id="page0page_8h_html_a2c12f41f6d2ad11209d8483a87121816"><div class="ttname"><a href="page0page_8h.html#a2c12f41f6d2ad11209d8483a87121816">page_simple_validate_new</a></div><div class="ttdeci">ibool page_simple_validate_new(const page_t *page)</div><div class="ttdoc">This function checks the consistency of an index page when we do not know the index. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1941</div></div>
<div class="ttc" id="page0page_8h_html_a4a25c051e243240c89ebbd2ba2636167"><div class="ttname"><a href="page0page_8h.html#a4a25c051e243240c89ebbd2ba2636167">page_is_spatial_non_leaf</a></div><div class="ttdeci">bool page_is_spatial_non_leaf(const rec_t *rec, dict_index_t *index)</div><div class="ttdoc">This function checks if the page in which record is present is a non-leaf node of a spatial index...</div><div class="ttdef"><b>Definition:</b> page0page.cc:2124</div></div>
<div class="ttc" id="page0page_8h_html_a5662ad3b8626fdedcaeb96682721c351"><div class="ttname"><a href="page0page_8h.html#a5662ad3b8626fdedcaeb96682721c351">page_rec_is_second</a></div><div class="ttdeci">UNIV_INLINE bool page_rec_is_second(const rec_t *rec, const page_t *page)</div><div class="ttdoc">true if the record is the second user record on a page. </div></div>
<div class="ttc" id="page0page_8h_html_a98672b272fd86986aa1d23444aecfe79"><div class="ttname"><a href="page0page_8h.html#a98672b272fd86986aa1d23444aecfe79">page_rec_print</a></div><div class="ttdeci">void page_rec_print(const rec_t *rec, const ulint *offsets)</div><div class="ttdoc">Prints record contents including the data relevant only in the index page context. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1525</div></div>
<div class="ttc" id="page0page_8h_html_ad94c87af8ded7c04c2b9dbdb855c7ee7"><div class="ttname"><a href="page0page_8h.html#ad94c87af8ded7c04c2b9dbdb855c7ee7">page_rec_get_nth_const</a></div><div class="ttdeci">const rec_t * page_rec_get_nth_const(const page_t *page, ulint nth)</div><div class="ttdoc">Returns the nth record of the record list. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1419</div></div>
<div class="ttc" id="libmysql_2authentication__win_2common_8h_html_a0c8186d9b9b7880309c27230bbb5e69d"><div class="ttname"><a href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a></div><div class="ttdeci">unsigned char byte</div><div class="ttdoc">Blob class. </div><div class="ttdef"><b>Definition:</b> common.h:159</div></div>
<div class="ttc" id="page0page_8h_html_ac0bd451f4acb52136082b752ad2cbc9d"><div class="ttname"><a href="page0page_8h.html#ac0bd451f4acb52136082b752ad2cbc9d">page_dir_get_n_slots</a></div><div class="ttdeci">UNIV_INLINE ulint page_dir_get_n_slots(const page_t *page)</div><div class="ttdoc">Gets the number of dir slots in directory. </div></div>
<div class="ttc" id="page0page_8h_html_ac08caaafdc15d593acc1f415983c44a5"><div class="ttname"><a href="page0page_8h.html#ac08caaafdc15d593acc1f415983c44a5">page_rec_is_last</a></div><div class="ttdeci">UNIV_INLINE bool page_rec_is_last(const rec_t *rec, const page_t *page)</div><div class="ttdoc">true if the record is the last user record on a page. </div></div>
<div class="ttc" id="page0page_8h_html_a64cfbd2064cb676cbdca971923dffd40"><div class="ttname"><a href="page0page_8h.html#a64cfbd2064cb676cbdca971923dffd40">page_get_middle_rec</a></div><div class="ttdeci">UNIV_INLINE rec_t * page_get_middle_rec(page_t *page)</div><div class="ttdoc">Returns the middle record of the records on the page. </div></div>
<div class="ttc" id="structmtr__t_html"><div class="ttname"><a href="structmtr__t.html">mtr_t</a></div><div class="ttdoc">Mini-transaction handle and buffer. </div><div class="ttdef"><b>Definition:</b> mtr0mtr.h:169</div></div>
<div class="ttc" id="page0page_8h_html_a62840d156edb5a2d28587a0fb2d5f2c0"><div class="ttname"><a href="page0page_8h.html#a62840d156edb5a2d28587a0fb2d5f2c0">page_header_get_offs</a></div><div class="ttdeci">UNIV_INLINE ulint page_header_get_offs(const page_t *page, ulint field)</div><div class="ttdoc">Returns the offset stored in the given header field. </div></div>
<div class="ttc" id="page0page_8h_html_ab5b7eaf86d65cc091f0f7693d91e01a2"><div class="ttname"><a href="page0page_8h.html#ab5b7eaf86d65cc091f0f7693d91e01a2">page_rec_get_heap_no</a></div><div class="ttdeci">UNIV_INLINE ulint page_rec_get_heap_no(const rec_t *rec)</div><div class="ttdoc">Returns the heap number of a record. </div></div>
<div class="ttc" id="page0page_8h_html_a5a68ad5ae2adf0b48476d2858a75b3e5"><div class="ttname"><a href="page0page_8h.html#a5a68ad5ae2adf0b48476d2858a75b3e5">page_dir_get_nth_slot</a></div><div class="ttdeci">UNIV_INLINE page_dir_slot_t * page_dir_get_nth_slot(const page_t *page, ulint n)</div><div class="ttdoc">Gets pointer to nth directory slot. </div></div>
<div class="ttc" id="buf0buf_8h_html"><div class="ttname"><a href="buf0buf_8h.html">buf0buf.h</a></div><div class="ttdoc">The database buffer pool high-level routines. </div></div>
<div class="ttc" id="my__inttypes_8h_html_a718b4eb2652c286f4d42dc18a8e71a1a"><div class="ttname"><a href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a></div><div class="ttdeci">unsigned long ulong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:48</div></div>
<div class="ttc" id="page0page_8h_html_a54346e04309090d8da108f4da4e40364"><div class="ttname"><a href="page0page_8h.html#a54346e04309090d8da108f4da4e40364">page_rec_get_next_non_del_marked</a></div><div class="ttdeci">UNIV_INLINE const rec_t * page_rec_get_next_non_del_marked(const rec_t *rec)</div><div class="ttdoc">Gets the pointer to the next non delete-marked record on the page. </div></div>
<div class="ttc" id="page0page_8h_html_ae36f66417d003c1d5f32441b45fed6fd"><div class="ttname"><a href="page0page_8h.html#ae36f66417d003c1d5f32441b45fed6fd">page_is_root</a></div><div class="ttdeci">UNIV_INLINE bool page_is_root(const page_t *page)</div><div class="ttdoc">Determine whether a page is an index root page. </div></div>
<div class="ttc" id="gis0type_8h_html_af781a0703fdaf74eba694a393d8583de"><div class="ttname"><a href="gis0type_8h.html#af781a0703fdaf74eba694a393d8583de">node_seq_t</a></div><div class="ttdeci">ib_uint32_t node_seq_t</div><div class="ttdef"><b>Definition:</b> gis0type.h:57</div></div>
<div class="ttc" id="page0page_8h_html_aeef0034b46ee39f151f870324532e325"><div class="ttname"><a href="page0page_8h.html#aeef0034b46ee39f151f870324532e325">page_move_rec_list_end</a></div><div class="ttdeci">ibool page_move_rec_list_end(buf_block_t *new_block, buf_block_t *block, rec_t *split_rec, dict_index_t *index, mtr_t *mtr)</div><div class="ttdoc">Moves record list end to another page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:1152</div></div>
<div class="ttc" id="page0page_8h_html_a5cd61e0850096f84f31b65ce295a5663"><div class="ttname"><a href="page0page_8h.html#a5cd61e0850096f84f31b65ce295a5663">page_find_rec_last_not_deleted</a></div><div class="ttdeci">const rec_t * page_find_rec_last_not_deleted(const page_t *page)</div><div class="ttdoc">Get the last non-delete-marked record on a page. </div><div class="ttdef"><b>Definition:</b> page0page.cc:2559</div></div>
<div class="ttc" id="page0page_8h_html_a334f00eb0981521f2ff858cf15c9c784"><div class="ttname"><a href="page0page_8h.html#a334f00eb0981521f2ff858cf15c9c784">page_check_dir</a></div><div class="ttdeci">void page_check_dir(const page_t *page)</div><div class="ttdoc">Checks that the first directory slot points to the infimum record and the last to the supremum...</div><div class="ttdef"><b>Definition:</b> page0page.cc:1733</div></div>
<div class="ttc" id="rem0rec_8h_html"><div class="ttname"><a href="rem0rec_8h.html">rem0rec.h</a></div><div class="ttdoc">Record manager. </div></div>
<div class="ttc" id="structdict__index__t_html"><div class="ttname"><a href="structdict__index__t.html">dict_index_t</a></div><div class="ttdoc">Data structure for an index. </div><div class="ttdef"><b>Definition:</b> dict0mem.h:886</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="page0page_8h.html">page0page.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
