<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/xa.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('xa_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">xa.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="xa_8h_source.html">sql/xa.h</a>&quot;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &quot;<a class="el" href="m__ctype_8h_source.html">m_ctype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__string_8h_source.html">m_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="map__helpers_8h_source.html">map_helpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__loglevel_8h_source.html">my_loglevel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__macros_8h_source.html">my_macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__psi__config_8h_source.html">my_psi_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__builtins_8h_source.html">mysql/components/services/log_builtins.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__mutex__bits_8h_source.html">mysql/components/services/mysql_mutex_bits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__mutex__bits_8h_source.html">mysql/components/services/psi_mutex_bits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="include_2mysql_2plugin_8h_source.html">mysql/plugin.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi_2mysql__mutex_8h_source.html">mysql/psi/mysql_mutex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__transaction_8h_source.html">mysql/psi/mysql_transaction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__base_8h_source.html">mysql/psi/psi_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="service__mysql__alloc_8h_source.html">mysql/service_mysql_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__com_8h_source.html">mysql_com.h</a>&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__security__ctx_8h_source.html">sql/auth/sql_security_ctx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="binlog_8h_source.html">sql/binlog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="clone__handler_8h_source.html">sql/clone_handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug__sync_8h_source.html">sql/debug_sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2handler_8h_source.html">sql/handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">sql/item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h_source.html">sql/log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mdl_8h_source.html">sql/mdl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mdl__context__backup_8h_source.html">sql/mdl_context_backup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysqld_8h_source.html">sql/mysqld.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2protocol_8h_source.html">sql/protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__memory__key_8h_source.html">sql/psi_memory_key.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="query__options_8h_source.html">sql/query_options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rpl__context_8h_source.html">sql/rpl_context.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rpl__gtid_8h_source.html">sql/rpl_gtid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rpl__slave__commit__order__manager_8h_source.html">sql/rpl_slave_commit_order_manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__class_8h_source.html">sql/sql_class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__const_8h_source.html">sql/sql_const.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__error_8h_source.html">sql/sql_error.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__list_8h_source.html">sql/sql_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__plugin_8h_source.html">sql/sql_plugin.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__table_8h_source.html">sql/sql_table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system__variables_8h_source.html">sql/system_variables.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tc__log_8h_source.html">sql/tc_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transaction_8h_source.html">sql/transaction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transaction__info_8h_source.html">sql/transaction_info.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__string_8h_source.html">sql_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="template__utils_8h_source.html">template_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thr__mutex_8h_source.html">thr_mutex.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtransaction__free__hash.html">transaction_free_hash</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxarecover__st.html">xarecover_st</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a380101a5d1d0fd2ba391f0bcf73da165"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a380101a5d1d0fd2ba391f0bcf73da165">attach_native_trx</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a380101a5d1d0fd2ba391f0bcf73da165"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function restores previously saved storage engine transaction context.  <a href="#a380101a5d1d0fd2ba391f0bcf73da165">More...</a><br /></td></tr>
<tr class="separator:a380101a5d1d0fd2ba391f0bcf73da165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7228870954c38591ac5f0d432a70b45"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#ab7228870954c38591ac5f0d432a70b45">transaction_cache_search</a> (<a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *xid)</td></tr>
<tr class="memdesc:ab7228870954c38591ac5f0d432a70b45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search information about XA transaction by a XID value.  <a href="#ab7228870954c38591ac5f0d432a70b45">More...</a><br /></td></tr>
<tr class="separator:ab7228870954c38591ac5f0d432a70b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b46743d9bb198662d8e34e1b7463c6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a45b46743d9bb198662d8e34e1b7463c6">transaction_cache_insert</a> (<a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *xid, <a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> *transaction)</td></tr>
<tr class="memdesc:a45b46743d9bb198662d8e34e1b7463c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert information about XA transaction into a cache indexed by XID.  <a href="#a45b46743d9bb198662d8e34e1b7463c6">More...</a><br /></td></tr>
<tr class="separator:a45b46743d9bb198662d8e34e1b7463c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3761c0dd76588aef087ea21868d60bf3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a3761c0dd76588aef087ea21868d60bf3">transaction_cache_insert_recovery</a> (<a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *xid)</td></tr>
<tr class="memdesc:a3761c0dd76588aef087ea21868d60bf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert information about XA transaction being recovered into a cache indexed by XID.  <a href="#a3761c0dd76588aef087ea21868d60bf3">More...</a><br /></td></tr>
<tr class="separator:a3761c0dd76588aef087ea21868d60bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a54241115b4cc7335793d41612df63"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a65a54241115b4cc7335793d41612df63">xacommit_handlerton</a> (<a class="el" href="classTHD.html">THD</a> *, <a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a> <a class="el" href="test__services__host__application__signal_8cc.html#a49308eac63cac1d140bf78a2ee88dbd0">plugin</a>, void *arg)</td></tr>
<tr class="separator:a65a54241115b4cc7335793d41612df63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a0c550624511eaea550b7727598cc70"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a4a0c550624511eaea550b7727598cc70">xarollback_handlerton</a> (<a class="el" href="classTHD.html">THD</a> *, <a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a> <a class="el" href="test__services__host__application__signal_8cc.html#a49308eac63cac1d140bf78a2ee88dbd0">plugin</a>, void *arg)</td></tr>
<tr class="separator:a4a0c550624511eaea550b7727598cc70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874dd360ec60b9d45119853051512fd8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a874dd360ec60b9d45119853051512fd8">ha_commit_or_rollback_by_xid</a> (<a class="el" href="classTHD.html">THD</a> *, <a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *xid, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="sql__cmd__srs_8cc.html#af8756202cf6ab572edb0e832014f1a5f">commit</a>)</td></tr>
<tr class="separator:a874dd360ec60b9d45119853051512fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747d3202db82077bf7158ce8477aae8d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a747d3202db82077bf7158ce8477aae8d">xarecover_create_mdl_backup</a> (<a class="el" href="sql_2handler_8h.html#a4b64a240df9636d1cdaf637e00a5c782">XA_recover_txn</a> &amp;txn, <a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *<a class="el" href="client__plugin_8cc.html#a7d0fe2f135db987da18cea87b4778737">mem_root</a>)</td></tr>
<tr class="separator:a747d3202db82077bf7158ce8477aae8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac83d22c9f7f908b692b5dd04bc1581a8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#ac83d22c9f7f908b692b5dd04bc1581a8">xarecover_handlerton</a> (<a class="el" href="classTHD.html">THD</a> *, <a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a> <a class="el" href="test__services__host__application__signal_8cc.html#a49308eac63cac1d140bf78a2ee88dbd0">plugin</a>, void *arg)</td></tr>
<tr class="separator:ac83d22c9f7f908b692b5dd04bc1581a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f4242f41be4678604b7292c83a5d95"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a92f4242f41be4678604b7292c83a5d95">ha_recover</a> (const <a class="el" href="classmem__root__unordered__set.html">mem_root_unordered_set</a>&lt; <a class="el" href="sql_2handler_8h.html#af2ad7ead8338f7616f7cf10026fdfe6d">my_xid</a> &gt; *commit_list)</td></tr>
<tr class="separator:a92f4242f41be4678604b7292c83a5d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f3b4052147b89f28b0b7afd10cfbd69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a0f3b4052147b89f28b0b7afd10cfbd69">xa_trans_force_rollback</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a0f3b4052147b89f28b0b7afd10cfbd69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rollback the active XA transaction.  <a href="#a0f3b4052147b89f28b0b7afd10cfbd69">More...</a><br /></td></tr>
<tr class="separator:a0f3b4052147b89f28b0b7afd10cfbd69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78116e36c6c1f575bf66a4bffa54b07f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a78116e36c6c1f575bf66a4bffa54b07f">cleanup_trans_state</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a78116e36c6c1f575bf66a4bffa54b07f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset some transaction state information and delete corresponding Transaction_ctx object from cache.  <a href="#a78116e36c6c1f575bf66a4bffa54b07f">More...</a><br /></td></tr>
<tr class="separator:a78116e36c6c1f575bf66a4bffa54b07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec3e2240460bca1a1b909b770fcda58"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a2ec3e2240460bca1a1b909b770fcda58">find_trn_for_recover_and_check_its_state</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structxid__t.html">xid_t</a> *xid_for_trn_in_recover, <a class="el" href="classXID__STATE.html">XID_STATE</a> *xid_state)</td></tr>
<tr class="memdesc:a2ec3e2240460bca1a1b909b770fcda58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find XA transaction in cache by its xid value.  <a href="#a2ec3e2240460bca1a1b909b770fcda58">More...</a><br /></td></tr>
<tr class="separator:a2ec3e2240460bca1a1b909b770fcda58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad934050159ca99b2075357dea9c6b0f8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#ad934050159ca99b2075357dea9c6b0f8">acquire_mandatory_metadata_locks</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structxid__t.html">xid_t</a> *external_xid)</td></tr>
<tr class="memdesc:ad934050159ca99b2075357dea9c6b0f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire Commit metadata lock and all locks acquired by a prepared XA transaction before server was shutdown or terminated.  <a href="#ad934050159ca99b2075357dea9c6b0f8">More...</a><br /></td></tr>
<tr class="separator:ad934050159ca99b2075357dea9c6b0f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a550258671c139d100951a47c9d529"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a52a550258671c139d100951a47c9d529">to_string</a> (const <a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> &amp;xid)</td></tr>
<tr class="separator:a52a550258671c139d100951a47c9d529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1e51471b9063a58c2ded8b59d6543e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a9b1e51471b9063a58c2ded8b59d6543e">init_transaction_cache_psi_keys</a> (void)</td></tr>
<tr class="separator:a9b1e51471b9063a58c2ded8b59d6543e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175a2ddd1bf250ff91804e0f60600c43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a175a2ddd1bf250ff91804e0f60600c43">transaction_cache_init</a> ()</td></tr>
<tr class="memdesc:a175a2ddd1bf250ff91804e0f60600c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a cache to store Transaction_ctx and a mutex to protect access to the cache.  <a href="#a175a2ddd1bf250ff91804e0f60600c43">More...</a><br /></td></tr>
<tr class="separator:a175a2ddd1bf250ff91804e0f60600c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af56152d484bdeb2c242cb45a675ca746"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#af56152d484bdeb2c242cb45a675ca746">transaction_cache_free</a> ()</td></tr>
<tr class="memdesc:af56152d484bdeb2c242cb45a675ca746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release resources occupied by transaction cache.  <a href="#af56152d484bdeb2c242cb45a675ca746">More...</a><br /></td></tr>
<tr class="separator:af56152d484bdeb2c242cb45a675ca746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd6a1e7c9c64e24ce00feae333978d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a9cd6a1e7c9c64e24ce00feae333978d1">create_and_insert_new_transaction</a> (<a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *xid, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_binlogged_arg)</td></tr>
<tr class="separator:a9cd6a1e7c9c64e24ce00feae333978d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f92361557a42e4ebe963d7041d5bf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a24f92361557a42e4ebe963d7041d5bf2">transaction_cache_detach</a> (<a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> *transaction)</td></tr>
<tr class="memdesc:a24f92361557a42e4ebe963d7041d5bf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transaction is marked in the cache as if it's recovered.  <a href="#a24f92361557a42e4ebe963d7041d5bf2">More...</a><br /></td></tr>
<tr class="separator:a24f92361557a42e4ebe963d7041d5bf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a737ac9353631aebf435ab82549417"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a09a737ac9353631aebf435ab82549417">transaction_cache_delete</a> (<a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> *transaction)</td></tr>
<tr class="memdesc:a09a737ac9353631aebf435ab82549417"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove information about transaction from a cache.  <a href="#a09a737ac9353631aebf435ab82549417">More...</a><br /></td></tr>
<tr class="separator:a09a737ac9353631aebf435ab82549417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb2b05a19f753d3cd0a4e9ce84e359e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a7eb2b05a19f753d3cd0a4e9ce84e359e">applier_reset_xa_trans</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a7eb2b05a19f753d3cd0a4e9ce84e359e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a specific to "slave" applier collection of standard cleanup actions to reset XA transaction state at the end of XA prepare rather than to do it at the transaction commit, see <code>ha_commit_one_phase</code>.  <a href="#a7eb2b05a19f753d3cd0a4e9ce84e359e">More...</a><br /></td></tr>
<tr class="separator:a7eb2b05a19f753d3cd0a4e9ce84e359e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16815c9f8ca7310b96aec5efa75002f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a16815c9f8ca7310b96aec5efa75002f3">detach_native_trx</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a> <a class="el" href="test__services__host__application__signal_8cc.html#a49308eac63cac1d140bf78a2ee88dbd0">plugin</a>, void *)</td></tr>
<tr class="memdesc:a16815c9f8ca7310b96aec5efa75002f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function detaches existing storage engines transaction context from thd.  <a href="#a16815c9f8ca7310b96aec5efa75002f3">More...</a><br /></td></tr>
<tr class="separator:a16815c9f8ca7310b96aec5efa75002f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6334555185db3e4cc42db96a06188bd4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a6334555185db3e4cc42db96a06188bd4">reattach_native_trx</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a> <a class="el" href="test__services__host__application__signal_8cc.html#a49308eac63cac1d140bf78a2ee88dbd0">plugin</a>, void *)</td></tr>
<tr class="memdesc:a6334555185db3e4cc42db96a06188bd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function reattaches existing storage engines transaction context to thd.  <a href="#a6334555185db3e4cc42db96a06188bd4">More...</a><br /></td></tr>
<tr class="separator:a6334555185db3e4cc42db96a06188bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4501ea534d814a5aef99a886164911a3"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a4501ea534d814a5aef99a886164911a3">MIN_XID_LIST_SIZE</a> = 128</td></tr>
<tr class="separator:a4501ea534d814a5aef99a886164911a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7804c519df2ed530e3b340c81eaadf79"><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a7804c519df2ed530e3b340c81eaadf79">MAX_XID_LIST_SIZE</a> = 1024 * 128</td></tr>
<tr class="separator:a7804c519df2ed530e3b340c81eaadf79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa69d891b714c986144d7f6e72ad73578"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#aa69d891b714c986144d7f6e72ad73578">inited</a> = <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:aa69d891b714c986144d7f6e72ad73578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5be91d98cf557f02d11052487b6aeb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a2b5be91d98cf557f02d11052487b6aeb">LOCK_transaction_cache</a></td></tr>
<tr class="separator:a2b5be91d98cf557f02d11052487b6aeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b787010f319b062f5fe53a112d3da73"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classmalloc__unordered__map.html">malloc_unordered_map</a>&lt; std::string, std::shared_ptr&lt; <a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a6b787010f319b062f5fe53a112d3da73">transaction_cache</a> {<a class="el" href="psi__memory__key_8h.html#a7eb12edc0d130f38c9044e3904ba4388">key_memory_XID</a>}</td></tr>
<tr class="separator:a6b787010f319b062f5fe53a112d3da73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394c1f63ff3da978dc321167ca3139ab"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a394c1f63ff3da978dc321167ca3139ab">MYSQL_XID_PREFIX_LEN</a> = 8</td></tr>
<tr class="separator:a394c1f63ff3da978dc321167ca3139ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330297d1fc1cbcbbcdafed81a1e7071c"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a330297d1fc1cbcbbcdafed81a1e7071c">MYSQL_XID_OFFSET</a> = <a class="el" href="xa_8cc.html#a394c1f63ff3da978dc321167ca3139ab">MYSQL_XID_PREFIX_LEN</a> + sizeof(<a class="el" href="mysqld_8h.html#ae1c6145ed404641a11a60c5212d229c1">server_id</a>)</td></tr>
<tr class="separator:a330297d1fc1cbcbbcdafed81a1e7071c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d5423871c833a90ed8e5d683a16f8e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a32d5423871c833a90ed8e5d683a16f8e">MYSQL_XID_GTRID_LEN</a> = <a class="el" href="xa_8cc.html#a330297d1fc1cbcbbcdafed81a1e7071c">MYSQL_XID_OFFSET</a> + sizeof(<a class="el" href="sql_2handler_8h.html#af2ad7ead8338f7616f7cf10026fdfe6d">my_xid</a>)</td></tr>
<tr class="separator:a32d5423871c833a90ed8e5d683a16f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbdc55835afc0c12f8cb4b3a8ddd860"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__psi__abi__mutex.html#gaab1542573f750448abe64c7dc3f3b819">PSI_mutex_key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a3cbdc55835afc0c12f8cb4b3a8ddd860">key_LOCK_transaction_cache</a></td></tr>
<tr class="separator:a3cbdc55835afc0c12f8cb4b3a8ddd860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff072c93e877637d717b6d4c050b03d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__psi__abi__mutex.html#gae85aba8881825be6e570cca2ba38da7e">PSI_mutex_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xa_8cc.html#a4ff072c93e877637d717b6d4c050b03d">transaction_cache_mutexes</a> []</td></tr>
<tr class="separator:a4ff072c93e877637d717b6d4c050b03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad934050159ca99b2075357dea9c6b0f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad934050159ca99b2075357dea9c6b0f8">&#9670;&nbsp;</a></span>acquire_mandatory_metadata_locks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> acquire_mandatory_metadata_locks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxid__t.html">xid_t</a> *&#160;</td>
          <td class="paramname"><em>external_xid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquire Commit metadata lock and all locks acquired by a prepared XA transaction before server was shutdown or terminated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramname">external_xid</td><td>XID value specified by XA COMMIT or XA ROLLBACK that corresponds to a XA transaction generated outside current session context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success </td></tr>
    <tr><td class="paramname">true</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7eb2b05a19f753d3cd0a4e9ce84e359e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb2b05a19f753d3cd0a4e9ce84e359e">&#9670;&nbsp;</a></span>applier_reset_xa_trans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> applier_reset_xa_trans </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a specific to "slave" applier collection of standard cleanup actions to reset XA transaction state at the end of XA prepare rather than to do it at the transaction commit, see <code>ha_commit_one_phase</code>. </p>
<p>THD of the slave applier is dissociated from a transaction object in engine that continues to exist there.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>current thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value of is_error() </dd></dl>

</div>
</div>
<a id="a380101a5d1d0fd2ba391f0bcf73da165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a380101a5d1d0fd2ba391f0bcf73da165">&#9670;&nbsp;</a></span>attach_native_trx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void attach_native_trx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function restores previously saved storage engine transaction context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a78116e36c6c1f575bf66a4bffa54b07f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78116e36c6c1f575bf66a4bffa54b07f">&#9670;&nbsp;</a></span>cleanup_trans_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_trans_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset some transaction state information and delete corresponding Transaction_ctx object from cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Current thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9cd6a1e7c9c64e24ce00feae333978d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cd6a1e7c9c64e24ce00feae333978d1">&#9670;&nbsp;</a></span>create_and_insert_new_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> create_and_insert_new_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_binlogged_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a16815c9f8ca7310b96aec5efa75002f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16815c9f8ca7310b96aec5efa75002f3">&#9670;&nbsp;</a></span>detach_native_trx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> detach_native_trx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a>&#160;</td>
          <td class="paramname"><em>plugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function detaches existing storage engines transaction context from thd. </p>
<p>Backup area to save it is provided to low level storage engine function.</p>
<p>is invoked by plugin_foreach() after trans_xa_start() for each storage engine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">plugin</td><td>Reference to handlerton</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true otherwise. </dd></dl>

</div>
</div>
<a id="a2ec3e2240460bca1a1b909b770fcda58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ec3e2240460bca1a1b909b770fcda58">&#9670;&nbsp;</a></span>find_trn_for_recover_and_check_its_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt;<a class="el" href="classTransaction__ctx.html">Transaction_ctx</a>&gt; find_trn_for_recover_and_check_its_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxid__t.html">xid_t</a> *&#160;</td>
          <td class="paramname"><em>xid_for_trn_in_recover</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classXID__STATE.html">XID_STATE</a> *&#160;</td>
          <td class="paramname"><em>xid_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find XA transaction in cache by its xid value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramname">xid_for_trn_in_recover</td><td>xid value to look for in transaction cache </td></tr>
    <tr><td class="paramname">xid_state</td><td>State of XA transaction in current session</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to an instance of Transaction_ctx corresponding to a xid in argument. If XA transaction not found returns nullptr and sets an error in DA to specify a reason of search failure. </dd></dl>

</div>
</div>
<a id="a874dd360ec60b9d45119853051512fd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874dd360ec60b9d45119853051512fd8">&#9670;&nbsp;</a></span>ha_commit_or_rollback_by_xid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> ha_commit_or_rollback_by_xid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>commit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a92f4242f41be4678604b7292c83a5d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f4242f41be4678604b7292c83a5d95">&#9670;&nbsp;</a></span>ha_recover()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ha_recover </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmem__root__unordered__set.html">mem_root_unordered_set</a>&lt; <a class="el" href="sql_2handler_8h.html#af2ad7ead8338f7616f7cf10026fdfe6d">my_xid</a> &gt; *&#160;</td>
          <td class="paramname"><em>commit_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b1e51471b9063a58c2ded8b59d6543e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1e51471b9063a58c2ded8b59d6543e">&#9670;&nbsp;</a></span>init_transaction_cache_psi_keys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_transaction_cache_psi_keys </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6334555185db3e4cc42db96a06188bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6334555185db3e4cc42db96a06188bd4">&#9670;&nbsp;</a></span>reattach_native_trx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> reattach_native_trx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a>&#160;</td>
          <td class="paramname"><em>plugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function reattaches existing storage engines transaction context to thd. </p>
<p>Backup area to save it is provided to low level storage engine function.</p>
<p>is invoked by plugin_foreach() after trans_xa_prepare() for each storage engine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">plugin</td><td>Reference to handlerton</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true otherwise. </dd></dl>

</div>
</div>
<a id="a52a550258671c139d100951a47c9d529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a550258671c139d100951a47c9d529">&#9670;&nbsp;</a></span>to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string to_string </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> &amp;&#160;</td>
          <td class="paramname"><em>xid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a09a737ac9353631aebf435ab82549417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a737ac9353631aebf435ab82549417">&#9670;&nbsp;</a></span>transaction_cache_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void transaction_cache_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove information about transaction from a cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Pointer to a Transaction_ctx that has to be removed from a cache. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a24f92361557a42e4ebe963d7041d5bf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f92361557a42e4ebe963d7041d5bf2">&#9670;&nbsp;</a></span>transaction_cache_detach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> transaction_cache_detach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transaction is marked in the cache as if it's recovered. </p>
<p>The method allows to sustain prepared transaction disconnection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Pointer to Transaction object that is replaced.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>operation result </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>success or a cache already contains XID_STATE for this XID value </td></tr>
    <tr><td class="paramname">true</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af56152d484bdeb2c242cb45a675ca746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af56152d484bdeb2c242cb45a675ca746">&#9670;&nbsp;</a></span>transaction_cache_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void transaction_cache_free </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release resources occupied by transaction cache. </p>

</div>
</div>
<a id="a175a2ddd1bf250ff91804e0f60600c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a175a2ddd1bf250ff91804e0f60600c43">&#9670;&nbsp;</a></span>transaction_cache_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> transaction_cache_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a cache to store Transaction_ctx and a mutex to protect access to the cache. </p>
<dl class="section return"><dt>Returns</dt><dd>result of initialization </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>success </td></tr>
    <tr><td class="paramname">true</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a45b46743d9bb198662d8e34e1b7463c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45b46743d9bb198662d8e34e1b7463c6">&#9670;&nbsp;</a></span>transaction_cache_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> transaction_cache_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> *&#160;</td>
          <td class="paramname"><em>transaction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert information about XA transaction into a cache indexed by XID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>Pointer to a XID structure that identifies a XA transaction. </td></tr>
    <tr><td class="paramname">transaction</td><td>Pointer to Transaction object that is inserted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>operation result </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>success or a cache already contains XID_STATE for this XID value </td></tr>
    <tr><td class="paramname">true</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3761c0dd76588aef087ea21868d60bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3761c0dd76588aef087ea21868d60bf3">&#9670;&nbsp;</a></span>transaction_cache_insert_recovery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> transaction_cache_insert_recovery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert information about XA transaction being recovered into a cache indexed by XID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>Pointer to a XID structure that identifies a XA transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>operation result </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>success or a cache already contains Transaction_ctx for this XID value </td></tr>
    <tr><td class="paramname">true</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab7228870954c38591ac5f0d432a70b45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7228870954c38591ac5f0d432a70b45">&#9670;&nbsp;</a></span>transaction_cache_search()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt; <a class="el" href="classTransaction__ctx.html">Transaction_ctx</a> &gt; transaction_cache_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search information about XA transaction by a XID value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xid</td><td>Pointer to a XID structure that identifies a XA transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a Transaction_ctx that describes the whole transaction including XA-specific information (XID_STATE). </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>failure </td></tr>
    <tr><td class="paramname">!=</td><td>NULL success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f3b4052147b89f28b0b7afd10cfbd69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f3b4052147b89f28b0b7afd10cfbd69">&#9670;&nbsp;</a></span>xa_trans_force_rollback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> xa_trans_force_rollback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rollback the active XA transaction. </p>
<dl class="section note"><dt>Note</dt><dd>Resets rm_error before calling ha_rollback(), so the thd-&gt;transaction.xid structure gets reset by ha_rollback() / THD::transaction::cleanup().</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true if the rollback failed, false otherwise. </dd></dl>

</div>
</div>
<a id="a65a54241115b4cc7335793d41612df63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a54241115b4cc7335793d41612df63">&#9670;&nbsp;</a></span>xacommit_handlerton()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> xacommit_handlerton </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a>&#160;</td>
          <td class="paramname"><em>plugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a747d3202db82077bf7158ce8477aae8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a747d3202db82077bf7158ce8477aae8d">&#9670;&nbsp;</a></span>xarecover_create_mdl_backup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> xarecover_create_mdl_backup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sql_2handler_8h.html#a4b64a240df9636d1cdaf637e00a5c782">XA_recover_txn</a> &amp;&#160;</td>
          <td class="paramname"><em>txn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *&#160;</td>
          <td class="paramname"><em>mem_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac83d22c9f7f908b692b5dd04bc1581a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac83d22c9f7f908b692b5dd04bc1581a8">&#9670;&nbsp;</a></span>xarecover_handlerton()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> xarecover_handlerton </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a>&#160;</td>
          <td class="paramname"><em>plugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4a0c550624511eaea550b7727598cc70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0c550624511eaea550b7727598cc70">&#9670;&nbsp;</a></span>xarollback_handlerton()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> xarollback_handlerton </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a>&#160;</td>
          <td class="paramname"><em>plugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa69d891b714c986144d7f6e72ad73578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa69d891b714c986144d7f6e72ad73578">&#9670;&nbsp;</a></span>inited</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> inited = <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3cbdc55835afc0c12f8cb4b3a8ddd860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cbdc55835afc0c12f8cb4b3a8ddd860">&#9670;&nbsp;</a></span>key_LOCK_transaction_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psi__abi__mutex.html#gaab1542573f750448abe64c7dc3f3b819">PSI_mutex_key</a> key_LOCK_transaction_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2b5be91d98cf557f02d11052487b6aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5be91d98cf557f02d11052487b6aeb">&#9670;&nbsp;</a></span>LOCK_transaction_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> LOCK_transaction_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7804c519df2ed530e3b340c81eaadf79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7804c519df2ed530e3b340c81eaadf79">&#9670;&nbsp;</a></span>MAX_XID_LIST_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int MAX_XID_LIST_SIZE = 1024 * 128</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4501ea534d814a5aef99a886164911a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4501ea534d814a5aef99a886164911a3">&#9670;&nbsp;</a></span>MIN_XID_LIST_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int MIN_XID_LIST_SIZE = 128</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a32d5423871c833a90ed8e5d683a16f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d5423871c833a90ed8e5d683a16f8e">&#9670;&nbsp;</a></span>MYSQL_XID_GTRID_LEN</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> MYSQL_XID_GTRID_LEN = <a class="el" href="xa_8cc.html#a330297d1fc1cbcbbcdafed81a1e7071c">MYSQL_XID_OFFSET</a> + sizeof(<a class="el" href="sql_2handler_8h.html#af2ad7ead8338f7616f7cf10026fdfe6d">my_xid</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a330297d1fc1cbcbbcdafed81a1e7071c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a330297d1fc1cbcbbcdafed81a1e7071c">&#9670;&nbsp;</a></span>MYSQL_XID_OFFSET</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> MYSQL_XID_OFFSET = <a class="el" href="xa_8cc.html#a394c1f63ff3da978dc321167ca3139ab">MYSQL_XID_PREFIX_LEN</a> + sizeof(<a class="el" href="mysqld_8h.html#ae1c6145ed404641a11a60c5212d229c1">server_id</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a394c1f63ff3da978dc321167ca3139ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a394c1f63ff3da978dc321167ca3139ab">&#9670;&nbsp;</a></span>MYSQL_XID_PREFIX_LEN</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> MYSQL_XID_PREFIX_LEN = 8</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6b787010f319b062f5fe53a112d3da73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b787010f319b062f5fe53a112d3da73">&#9670;&nbsp;</a></span>transaction_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmalloc__unordered__map.html">malloc_unordered_map</a>&lt;std::string, std::shared_ptr&lt;<a class="el" href="classTransaction__ctx.html">Transaction_ctx</a>&gt; &gt; transaction_cache {<a class="el" href="psi__memory__key_8h.html#a7eb12edc0d130f38c9044e3904ba4388">key_memory_XID</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ff072c93e877637d717b6d4c050b03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff072c93e877637d717b6d4c050b03d">&#9670;&nbsp;</a></span>transaction_cache_mutexes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psi__abi__mutex.html#gae85aba8881825be6e570cca2ba38da7e">PSI_mutex_info</a> transaction_cache_mutexes[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    {&amp;<a class="code" href="xa_8cc.html#a3cbdc55835afc0c12f8cb4b3a8ddd860">key_LOCK_transaction_cache</a>, <span class="stringliteral">&quot;LOCK_transaction_cache&quot;</span>, <a class="code" href="component__common_8h.html#a691825419b870b15270171abf9df134f">PSI_FLAG_SINGLETON</a>,</div><div class="line">     0, <a class="code" href="component__common_8h.html#a679b965465d040402db452656f4b4239">PSI_DOCUMENT_ME</a>}}</div><div class="ttc" id="xa_8cc_html_a3cbdc55835afc0c12f8cb4b3a8ddd860"><div class="ttname"><a href="xa_8cc.html#a3cbdc55835afc0c12f8cb4b3a8ddd860">key_LOCK_transaction_cache</a></div><div class="ttdeci">static PSI_mutex_key key_LOCK_transaction_cache</div><div class="ttdef"><b>Definition:</b> xa.cc:1471</div></div>
<div class="ttc" id="component__common_8h_html_a691825419b870b15270171abf9df134f"><div class="ttname"><a href="component__common_8h.html#a691825419b870b15270171abf9df134f">PSI_FLAG_SINGLETON</a></div><div class="ttdeci">#define PSI_FLAG_SINGLETON</div><div class="ttdoc">Singleton flag. </div><div class="ttdef"><b>Definition:</b> component_common.h:34</div></div>
<div class="ttc" id="component__common_8h_html_a679b965465d040402db452656f4b4239"><div class="ttname"><a href="component__common_8h.html#a679b965465d040402db452656f4b4239">PSI_DOCUMENT_ME</a></div><div class="ttdeci">#define PSI_DOCUMENT_ME</div><div class="ttdef"><b>Definition:</b> component_common.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="xa_8cc.html">xa.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
