<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/log/log0write.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('log0write_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">log0write.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Redo log writing and flushing, including functions for:  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cstring&gt;</code><br />
<code>#include &quot;<a class="el" href="ha__prototypes_8h_source.html">ha_prototypes.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="debug__sync_8h_source.html">debug_sync.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="arch0arch_8h_source.html">arch0arch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0buf_8h_source.html">buf0buf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0flu_8h_source.html">buf0flu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0boot_8h_source.html">dict0boot.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0stats__bg_8h_source.html">dict0stats_bg.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fil0fil_8h_source.html">fil0fil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0log_8h_source.html">log0log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0meb_8h_source.html">log0meb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0recv_8h_source.html">log0recv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem0mem_8h_source.html">mem0mem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysqld_8h_source.html">mysqld.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0mon_8h_source.html">srv0mon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0srv_8h_source.html">srv0srv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0start_8h_source.html">srv0start.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sync0sync_8h_source.html">sync0sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0roll_8h_source.html">trx0roll.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0sys_8h_source.html">trx0sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLog__thread__waiting.html">Log_thread_waiting</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Small utility which is used inside log threads when they have to wait for next interesting event to happen.  <a href="structLog__thread__waiting.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLog__write__to__file__requests__monitor.html">Log_write_to_file_requests_monitor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespaceLog__files__write__impl"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html">Log_files_write_impl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac47fed6e67548466d87fdd0d56e49616"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#ac47fed6e67548466d87fdd0d56e49616">Log_files_write_impl::validate_buffer</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t buffer_size)</td></tr>
<tr class="separator:ac47fed6e67548466d87fdd0d56e49616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf331136778edb382c6ce987630c13ec"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#abf331136778edb382c6ce987630c13ec">Log_files_write_impl::validate_start_lsn</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> start_lsn, size_t buffer_size)</td></tr>
<tr class="separator:abf331136778edb382c6ce987630c13ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc6216b168ad7aa67e4886d7f357f67"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a4bc6216b168ad7aa67e4886d7f357f67">Log_files_write_impl::compute_real_offset</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> start_lsn)</td></tr>
<tr class="separator:a4bc6216b168ad7aa67e4886d7f357f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410728fa15923947266928584a9255cf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a410728fa15923947266928584a9255cf">Log_files_write_impl::current_file_has_space</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, uint64_t offset, size_t size)</td></tr>
<tr class="separator:a410728fa15923947266928584a9255cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ff1c996738b0c30f1e1f98224ed863"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a32ff1c996738b0c30f1e1f98224ed863">Log_files_write_impl::start_next_file</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> start_lsn)</td></tr>
<tr class="separator:a32ff1c996738b0c30f1e1f98224ed863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec753b5545a21d86b21a044b44d2c0b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a3ec753b5545a21d86b21a044b44d2c0b">Log_files_write_impl::write_ahead_enough</a> (uint64_t write_ahead_end, uint64_t offset, size_t size)</td></tr>
<tr class="separator:a3ec753b5545a21d86b21a044b44d2c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e1007e1815b8c48b6d6dd6125b6dc4e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a7e1007e1815b8c48b6d6dd6125b6dc4e">Log_files_write_impl::current_write_ahead_enough</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, uint64_t offset, size_t size)</td></tr>
<tr class="separator:a7e1007e1815b8c48b6d6dd6125b6dc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1101260a0db93aab3b9a3f8d4e39b690"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a1101260a0db93aab3b9a3f8d4e39b690">Log_files_write_impl::compute_next_write_ahead_end</a> (uint64_t real_offset)</td></tr>
<tr class="separator:a1101260a0db93aab3b9a3f8d4e39b690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd46ed2e7ca766b0b8b78a9d6b342a2a"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#abd46ed2e7ca766b0b8b78a9d6b342a2a">Log_files_write_impl::compute_how_much_to_write</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, uint64_t real_offset, size_t buffer_size, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &amp;write_from_log_buffer)</td></tr>
<tr class="separator:abd46ed2e7ca766b0b8b78a9d6b342a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1120879dd9745feed417f04277e063f2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a1120879dd9745feed417f04277e063f2">Log_files_write_impl::prepare_full_blocks</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t size, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> start_lsn, <a class="el" href="log0types_8h.html#a0639412909d27380307488ac5cd2af5e">checkpoint_no_t</a> checkpoint_no)</td></tr>
<tr class="separator:a1120879dd9745feed417f04277e063f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c3095f89976f6e5e1db7dfdf71fed5b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a1c3095f89976f6e5e1db7dfdf71fed5b">Log_files_write_impl::write_blocks</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *write_buf, size_t write_size, uint64_t real_offset)</td></tr>
<tr class="separator:a1c3095f89976f6e5e1db7dfdf71fed5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df822b7ff49bcff64da9c2b1219e219"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a7df822b7ff49bcff64da9c2b1219e219">Log_files_write_impl::notify_about_advanced_write_lsn</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> old_write_lsn, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> new_write_lsn)</td></tr>
<tr class="separator:a7df822b7ff49bcff64da9c2b1219e219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef0015e9d55f15fe76465ef47a75faf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a3ef0015e9d55f15fe76465ef47a75faf">Log_files_write_impl::copy_to_write_ahead_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t &amp;size, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> start_lsn, <a class="el" href="log0types_8h.html#a0639412909d27380307488ac5cd2af5e">checkpoint_no_t</a> checkpoint_no)</td></tr>
<tr class="separator:a3ef0015e9d55f15fe76465ef47a75faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accdfa0dc9172003a4bf4dbaa9adcf214"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#accdfa0dc9172003a4bf4dbaa9adcf214">Log_files_write_impl::prepare_for_write_ahead</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, uint64_t real_offset, size_t &amp;write_size)</td></tr>
<tr class="separator:accdfa0dc9172003a4bf4dbaa9adcf214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68fe2af83c10383782e1f919f74bd876"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceLog__files__write__impl.html#a68fe2af83c10383782e1f919f74bd876">Log_files_write_impl::update_current_write_ahead</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, uint64_t real_offset, size_t write_size)</td></tr>
<tr class="separator:a68fe2af83c10383782e1f919f74bd876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Log writer thread</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:a865300e71a398fcf9d9715c463a9a947"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a865300e71a398fcf9d9715c463a9a947">log_files_write_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t buffer_size, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> start_lsn)</td></tr>
<tr class="memdesc:a865300e71a398fcf9d9715c463a9a947"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes fragment of log buffer to log files.  <a href="#a865300e71a398fcf9d9715c463a9a947">More...</a><br /></td></tr>
<tr class="separator:a865300e71a398fcf9d9715c463a9a947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3baa02e2a8a465a2f2ab3208a490ef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#afc3baa02e2a8a465a2f2ab3208a490ef">log_writer_wait_on_checkpoint</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> last_write_lsn, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> next_write_lsn)</td></tr>
<tr class="separator:afc3baa02e2a8a465a2f2ab3208a490ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbc59e6a5ee16f24f346aae7dfe6b90"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a7fbc59e6a5ee16f24f346aae7dfe6b90">log_writer_wait_on_archiver</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> last_write_lsn, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> next_write_lsn)</td></tr>
<tr class="separator:a7fbc59e6a5ee16f24f346aae7dfe6b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ce797d64060b14998458f85f377830"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a00ce797d64060b14998458f85f377830">log_writer_write_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> next_write_lsn)</td></tr>
<tr class="memdesc:a00ce797d64060b14998458f85f377830"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes fragment of the log buffer up to provided lsn (not further).  <a href="#a00ce797d64060b14998458f85f377830">More...</a><br /></td></tr>
<tr class="separator:a00ce797d64060b14998458f85f377830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2954105eb4e5666fecdb2a08977ea7d"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#ad2954105eb4e5666fecdb2a08977ea7d">log_files_size_offset</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, uint64_t offset)</td></tr>
<tr class="memdesc:ad2954105eb4e5666fecdb2a08977ea7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates offset within log files, excluding headers of log files.  <a href="#ad2954105eb4e5666fecdb2a08977ea7d">More...</a><br /></td></tr>
<tr class="separator:ad2954105eb4e5666fecdb2a08977ea7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021747aebf5cedc106200e0cde2d8023"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a021747aebf5cedc106200e0cde2d8023">log_files_real_offset</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, uint64_t offset)</td></tr>
<tr class="memdesc:a021747aebf5cedc106200e0cde2d8023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates offset within log files, including headers of log files.  <a href="#a021747aebf5cedc106200e0cde2d8023">More...</a><br /></td></tr>
<tr class="separator:a021747aebf5cedc106200e0cde2d8023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a953eee89410d1d9fd1f500c2732ec923"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a953eee89410d1d9fd1f500c2732ec923">log_files_real_offset_for_lsn</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#a0ce0765b958f7289d206f0c78bd105c7">lsn</a>)</td></tr>
<tr class="memdesc:a953eee89410d1d9fd1f500c2732ec923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates offset within log files, including headers of log files, for the provided lsn value.  <a href="#a953eee89410d1d9fd1f500c2732ec923">More...</a><br /></td></tr>
<tr class="separator:a953eee89410d1d9fd1f500c2732ec923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfd2c04bb7cea27e507ba4a817bdf0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a5bfd2c04bb7cea27e507ba4a817bdf0e">log_files_update_offsets</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#a0ce0765b958f7289d206f0c78bd105c7">lsn</a>)</td></tr>
<tr class="memdesc:a5bfd2c04bb7cea27e507ba4a817bdf0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates current_file_lsn and current_file_real_offset to correspond to a given lsn.  <a href="#a5bfd2c04bb7cea27e507ba4a817bdf0e">More...</a><br /></td></tr>
<tr class="separator:a5bfd2c04bb7cea27e507ba4a817bdf0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad684ce5e9ae9f7d50906adc0e77b094e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#ad684ce5e9ae9f7d50906adc0e77b094e">log_writer</a> (<a class="el" href="structlog__t.html">log_t</a> *log_ptr)</td></tr>
<tr class="memdesc:ad684ce5e9ae9f7d50906adc0e77b094e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The log writer thread co-routine.  <a href="#ad684ce5e9ae9f7d50906adc0e77b094e">More...</a><br /></td></tr>
<tr class="separator:ad684ce5e9ae9f7d50906adc0e77b094e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Log flusher thread</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:a87002eaa7cb4ac3721d7f069963d2db3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a87002eaa7cb4ac3721d7f069963d2db3">log_flush_low</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a87002eaa7cb4ac3721d7f069963d2db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a synchronous flush of the log files (doing fsyncs).  <a href="#a87002eaa7cb4ac3721d7f069963d2db3">More...</a><br /></td></tr>
<tr class="separator:a87002eaa7cb4ac3721d7f069963d2db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6346d285677c8377bb17ebd51857a168"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a6346d285677c8377bb17ebd51857a168">log_flush_update_stats</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="separator:a6346d285677c8377bb17ebd51857a168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5001d24c7034ffbf8c8b3d8726cb34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a3b5001d24c7034ffbf8c8b3d8726cb34">log_flusher</a> (<a class="el" href="structlog__t.html">log_t</a> *log_ptr)</td></tr>
<tr class="memdesc:a3b5001d24c7034ffbf8c8b3d8726cb34"><td class="mdescLeft">&#160;</td><td class="mdescRight">The log flusher thread co-routine.  <a href="#a3b5001d24c7034ffbf8c8b3d8726cb34">More...</a><br /></td></tr>
<tr class="separator:a3b5001d24c7034ffbf8c8b3d8726cb34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Waiting for redo log written or flushed up to lsn</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:ab73c638bb273f3c30b07e1440543ac9d"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#ab73c638bb273f3c30b07e1440543ac9d">log_compute_wait_event_slot</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#a0ce0765b958f7289d206f0c78bd105c7">lsn</a>, size_t events_n)</td></tr>
<tr class="memdesc:ab73c638bb273f3c30b07e1440543ac9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes index of a slot (in array of "wait events"), which should be used when waiting until redo reached provided lsn.  <a href="#ab73c638bb273f3c30b07e1440543ac9d">More...</a><br /></td></tr>
<tr class="separator:ab73c638bb273f3c30b07e1440543ac9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cb08ae79170b7f5216871cb28e29df"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a52cb08ae79170b7f5216871cb28e29df">log_compute_write_event_slot</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#a0ce0765b958f7289d206f0c78bd105c7">lsn</a>)</td></tr>
<tr class="memdesc:a52cb08ae79170b7f5216871cb28e29df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes index of a slot (in array of "wait events"), which should be used when waiting in log.write_events (for redo written up to lsn).  <a href="#a52cb08ae79170b7f5216871cb28e29df">More...</a><br /></td></tr>
<tr class="separator:a52cb08ae79170b7f5216871cb28e29df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f81dee4dbeac04729b6ee1254818c1"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#ab9f81dee4dbeac04729b6ee1254818c1">log_compute_flush_event_slot</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#a0ce0765b958f7289d206f0c78bd105c7">lsn</a>)</td></tr>
<tr class="memdesc:ab9f81dee4dbeac04729b6ee1254818c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes index of a slot (in array of "wait events"), which should be used when waiting in log.flush_events (for redo flushed up to lsn).  <a href="#ab9f81dee4dbeac04729b6ee1254818c1">More...</a><br /></td></tr>
<tr class="separator:ab9f81dee4dbeac04729b6ee1254818c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ababdda569cdff15e1bbf5fde2f15dbc5"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#ababdda569cdff15e1bbf5fde2f15dbc5">log_max_spins_when_waiting_in_user_thread</a> (uint64_t min_non_zero_value)</td></tr>
<tr class="memdesc:ababdda569cdff15e1bbf5fde2f15dbc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes maximum number of spin rounds which should be used when waiting in user thread (for written or flushed redo) or 0 if busy waiting should not be used at all.  <a href="#ababdda569cdff15e1bbf5fde2f15dbc5">More...</a><br /></td></tr>
<tr class="separator:ababdda569cdff15e1bbf5fde2f15dbc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e66edb445bb26bc7b76ea7e01aae3f3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structWait__stats.html">Wait_stats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a4e66edb445bb26bc7b76ea7e01aae3f3">log_wait_for_write</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#a0ce0765b958f7289d206f0c78bd105c7">lsn</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *<a class="el" href="mysqladmin_8cc.html#afa667bd8e9260916f79cf2818d523028">interrupted</a>)</td></tr>
<tr class="memdesc:a4e66edb445bb26bc7b76ea7e01aae3f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until redo log is written up to provided lsn (or greater).  <a href="#a4e66edb445bb26bc7b76ea7e01aae3f3">More...</a><br /></td></tr>
<tr class="separator:a4e66edb445bb26bc7b76ea7e01aae3f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a358aeb66235baa210040945801d95118"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structWait__stats.html">Wait_stats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a358aeb66235baa210040945801d95118">log_wait_for_flush</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#a0ce0765b958f7289d206f0c78bd105c7">lsn</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *<a class="el" href="mysqladmin_8cc.html#afa667bd8e9260916f79cf2818d523028">interrupted</a>)</td></tr>
<tr class="memdesc:a358aeb66235baa210040945801d95118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until redo log is flushed up to provided lsn (or greater).  <a href="#a358aeb66235baa210040945801d95118">More...</a><br /></td></tr>
<tr class="separator:a358aeb66235baa210040945801d95118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7e66fb7164f83d97fa53e1d71ccf82"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structWait__stats.html">Wait_stats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a5f7e66fb7164f83d97fa53e1d71ccf82">log_self_write_up_to</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> end_lsn, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> flush_to_disk, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *<a class="el" href="mysqladmin_8cc.html#afa667bd8e9260916f79cf2818d523028">interrupted</a>)</td></tr>
<tr class="memdesc:a5f7e66fb7164f83d97fa53e1d71ccf82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the redo log up to a provided lsn by itself, if necessary.  <a href="#a5f7e66fb7164f83d97fa53e1d71ccf82">More...</a><br /></td></tr>
<tr class="separator:a5f7e66fb7164f83d97fa53e1d71ccf82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f188b67ae741f6a0e85040a255431c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structWait__stats.html">Wait_stats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a5f188b67ae741f6a0e85040a255431c7">log_write_up_to</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> end_lsn, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> flush_to_disk)</td></tr>
<tr class="memdesc:a5f188b67ae741f6a0e85040a255431c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until the redo log is written up to a provided lsn.  <a href="#a5f188b67ae741f6a0e85040a255431c7">More...</a><br /></td></tr>
<tr class="separator:a5f188b67ae741f6a0e85040a255431c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Log write_notifier thread</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:a82d9132ee41a43d6a544492de102f556"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a82d9132ee41a43d6a544492de102f556">log_write_notifier</a> (<a class="el" href="structlog__t.html">log_t</a> *log_ptr)</td></tr>
<tr class="memdesc:a82d9132ee41a43d6a544492de102f556"><td class="mdescLeft">&#160;</td><td class="mdescRight">The log write notifier thread co-routine.  <a href="#a82d9132ee41a43d6a544492de102f556">More...</a><br /></td></tr>
<tr class="separator:a82d9132ee41a43d6a544492de102f556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Log flush_notifier thread</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:ae54428447fdcde89c6e841045e44fbb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#ae54428447fdcde89c6e841045e44fbb7">log_flush_notifier</a> (<a class="el" href="structlog__t.html">log_t</a> *log_ptr)</td></tr>
<tr class="memdesc:ae54428447fdcde89c6e841045e44fbb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The log flush notifier thread co-routine.  <a href="#ae54428447fdcde89c6e841045e44fbb7">More...</a><br /></td></tr>
<tr class="separator:ae54428447fdcde89c6e841045e44fbb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Log files encryption</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:a533fea262536f8dbab53bd568fbfd853"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a533fea262536f8dbab53bd568fbfd853">log_read_encryption</a> ()</td></tr>
<tr class="separator:a533fea262536f8dbab53bd568fbfd853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739be77abc4bb844a3079a0ad6e1ba2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a739be77abc4bb844a3079a0ad6e1ba2c">log_file_header_fill_encryption</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buf, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *iv, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_boot, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> encrypt_key)</td></tr>
<tr class="memdesc:a739be77abc4bb844a3079a0ad6e1ba2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes encryption information to log header.  <a href="#a739be77abc4bb844a3079a0ad6e1ba2c">More...</a><br /></td></tr>
<tr class="separator:a739be77abc4bb844a3079a0ad6e1ba2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c2df9d3e5afe099ae794c4105c5cad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a97c2df9d3e5afe099ae794c4105c5cad">log_write_encryption</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *iv, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_boot)</td></tr>
<tr class="memdesc:a97c2df9d3e5afe099ae794c4105c5cad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the encryption info into the log file header(the 3rd block).  <a href="#a97c2df9d3e5afe099ae794c4105c5cad">More...</a><br /></td></tr>
<tr class="separator:a97c2df9d3e5afe099ae794c4105c5cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5377738ab7f6c21fd262ee23103c75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a1d5377738ab7f6c21fd262ee23103c75">log_rotate_encryption</a> ()</td></tr>
<tr class="memdesc:a1d5377738ab7f6c21fd262ee23103c75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotate the redo log encryption It will re-encrypt the redo log encryption metadata and write it to redo log file header.  <a href="#a1d5377738ab7f6c21fd262ee23103c75">More...</a><br /></td></tr>
<tr class="separator:a1d5377738ab7f6c21fd262ee23103c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb88314494e3b7113899022c656a792"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0write_8cc.html#a0fb88314494e3b7113899022c656a792">redo_rotate_default_master_key</a> ()</td></tr>
<tr class="memdesc:a0fb88314494e3b7113899022c656a792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotate default master key for redo log encryption.  <a href="#a0fb88314494e3b7113899022c656a792">More...</a><br /></td></tr>
<tr class="separator:a0fb88314494e3b7113899022c656a792"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Redo log writing and flushing, including functions for: </p>
<ol type="1">
<li>Waiting for the log written / flushed up to provided lsn.</li>
<li>Redo log background threads (except the log checkpointer).</li>
</ol>
<dl class="section author"><dt>Author</dt><dd>Paweł Olchawa </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ab9f81dee4dbeac04729b6ee1254818c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f81dee4dbeac04729b6ee1254818c1">&#9670;&nbsp;</a></span>log_compute_flush_event_slot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t log_compute_flush_event_slot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes index of a slot (in array of "wait events"), which should be used when waiting in log.flush_events (for redo flushed up to lsn). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>lsn up to which waiting (for log.flushed_to_disk_lsn) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of the slot (integer in range 0 .. log.flush_events_size-1) </dd></dl>

</div>
</div>
<a id="ab73c638bb273f3c30b07e1440543ac9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73c638bb273f3c30b07e1440543ac9d">&#9670;&nbsp;</a></span>log_compute_wait_event_slot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t log_compute_wait_event_slot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>events_n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes index of a slot (in array of "wait events"), which should be used when waiting until redo reached provided lsn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>lsn up to which waiting takes place </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">events_n</td><td>size of the array (number of slots) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of the slot (integer in range 0 .. events_n-1) </dd></dl>

</div>
</div>
<a id="a52cb08ae79170b7f5216871cb28e29df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52cb08ae79170b7f5216871cb28e29df">&#9670;&nbsp;</a></span>log_compute_write_event_slot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t log_compute_write_event_slot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes index of a slot (in array of "wait events"), which should be used when waiting in log.write_events (for redo written up to lsn). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>lsn up to which waiting (for log.write_lsn) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of the slot (integer in range 0 .. log.write_events_size-1) </dd></dl>

</div>
</div>
<a id="a739be77abc4bb844a3079a0ad6e1ba2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a739be77abc4bb844a3079a0ad6e1ba2c">&#9670;&nbsp;</a></span>log_file_header_fill_encryption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_file_header_fill_encryption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>iv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_boot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>encrypt_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes encryption information to log header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf</td><td>log file header </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>encryption key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iv</td><td>encryption iv </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_boot</td><td>if it's for bootstrap </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">encrypt_key</td><td>encrypt with master key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a021747aebf5cedc106200e0cde2d8023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021747aebf5cedc106200e0cde2d8023">&#9670;&nbsp;</a></span>log_files_real_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t log_files_real_offset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates offset within log files, including headers of log files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>size offset (excluding log file headers) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>real offset including log file headers (&gt;= offset) </dd></dl>

</div>
</div>
<a id="a953eee89410d1d9fd1f500c2732ec923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953eee89410d1d9fd1f500c2732ec923">&#9670;&nbsp;</a></span>log_files_real_offset_for_lsn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t log_files_real_offset_for_lsn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates offset within log files, including headers of log files, for the provided lsn value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>log sequence number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>real offset within the log files </dd></dl>

</div>
</div>
<a id="ad2954105eb4e5666fecdb2a08977ea7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2954105eb4e5666fecdb2a08977ea7d">&#9670;&nbsp;</a></span>log_files_size_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t log_files_size_offset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates offset within log files, excluding headers of log files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>real offset (including log file headers) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size offset excluding log file headers (&lt;= offset) </dd></dl>

</div>
</div>
<a id="a5bfd2c04bb7cea27e507ba4a817bdf0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bfd2c04bb7cea27e507ba4a817bdf0e">&#9670;&nbsp;</a></span>log_files_update_offsets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_files_update_offsets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates current_file_lsn and current_file_real_offset to correspond to a given lsn. </p>
<p>For this function to work, the values must already be initialized to correspond to some lsn, for instance, a checkpoint lsn. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>log sequence number to set files_start_lsn at </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a865300e71a398fcf9d9715c463a9a947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865300e71a398fcf9d9715c463a9a947">&#9670;&nbsp;</a></span>log_files_write_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_files_write_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>start_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes fragment of log buffer to log files. </p>
<p>The first write to the first log block in a new log file, flushes header of the file. It stops after doing single fil_io operation. The reason is that it might make sense to advance lsn up to which we have ready data in log buffer for write, after time consuming operation, such as fil_io. The log.write_lsn is advanced. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>the beginning of first log block to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer_size</td><td>number of bytes to write since 'buffer' </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_lsn</td><td>lsn corresponding to first block start </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a87002eaa7cb4ac3721d7f069963d2db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87002eaa7cb4ac3721d7f069963d2db3">&#9670;&nbsp;</a></span>log_flush_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_flush_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes a synchronous flush of the log files (doing fsyncs). </p>
<p>Advances log.flushed_to_disk_lsn and notifies log flush_notifier thread. Note: if only a single log block was flushed to disk, user threads waiting for lsns within the block are notified directly from here, and log flush_notifier thread is not notified! (optimization) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae54428447fdcde89c6e841045e44fbb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae54428447fdcde89c6e841045e44fbb7">&#9670;&nbsp;</a></span>log_flush_notifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_flush_notifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> *&#160;</td>
          <td class="paramname"><em>log_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The log flush notifier thread co-routine. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PAGE_INNODB_REDO_LOG_THREADS.html#sect_redo_log_flush_notifier">Thread: log flush_notifier</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log_ptr</td><td>pointer to redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6346d285677c8377bb17ebd51857a168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6346d285677c8377bb17ebd51857a168">&#9670;&nbsp;</a></span>log_flush_update_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_flush_update_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b5001d24c7034ffbf8c8b3d8726cb34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b5001d24c7034ffbf8c8b3d8726cb34">&#9670;&nbsp;</a></span>log_flusher()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_flusher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> *&#160;</td>
          <td class="paramname"><em>log_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The log flusher thread co-routine. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PAGE_INNODB_REDO_LOG_THREADS.html#sect_redo_log_flusher">Thread: log flusher</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log_ptr</td><td>pointer to redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ababdda569cdff15e1bbf5fde2f15dbc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ababdda569cdff15e1bbf5fde2f15dbc5">&#9670;&nbsp;</a></span>log_max_spins_when_waiting_in_user_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t log_max_spins_when_waiting_in_user_thread </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>min_non_zero_value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes maximum number of spin rounds which should be used when waiting in user thread (for written or flushed redo) or 0 if busy waiting should not be used at all. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">min_non_zero_value</td><td>minimum allowed value (unless 0 is returned) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>maximum number of spin rounds or 0 </dd></dl>

</div>
</div>
<a id="a533fea262536f8dbab53bd568fbfd853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a533fea262536f8dbab53bd568fbfd853">&#9670;&nbsp;</a></span>log_read_encryption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_read_encryption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1d5377738ab7f6c21fd262ee23103c75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d5377738ab7f6c21fd262ee23103c75">&#9670;&nbsp;</a></span>log_rotate_encryption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_rotate_encryption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotate the redo log encryption It will re-encrypt the redo log encryption metadata and write it to redo log file header. </p>
<dl class="section return"><dt>Returns</dt><dd>true if success. </dd></dl>

</div>
</div>
<a id="a5f7e66fb7164f83d97fa53e1d71ccf82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f7e66fb7164f83d97fa53e1d71ccf82">&#9670;&nbsp;</a></span>log_self_write_up_to()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structWait__stats.html">Wait_stats</a> log_self_write_up_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>end_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>flush_to_disk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>interrupted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the redo log up to a provided lsn by itself, if necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_lsn</td><td>lsn to write for </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flush_to_disk</td><td>whether the written log should also be flushed </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">interrupted</td><td>if true, was interrupted, needs retry </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>statistics about waiting inside </dd></dl>

</div>
</div>
<a id="a358aeb66235baa210040945801d95118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a358aeb66235baa210040945801d95118">&#9670;&nbsp;</a></span>log_wait_for_flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structWait__stats.html">Wait_stats</a> log_wait_for_flush </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>interrupted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Waits until redo log is flushed up to provided lsn (or greater). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>wait until log.flushed_to_disk_lsn &gt;= lsn </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">interrupted</td><td>if true, was interrupted, needs retry. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>statistics related to waiting inside </dd></dl>

</div>
</div>
<a id="a4e66edb445bb26bc7b76ea7e01aae3f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e66edb445bb26bc7b76ea7e01aae3f3">&#9670;&nbsp;</a></span>log_wait_for_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structWait__stats.html">Wait_stats</a> log_wait_for_write </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>interrupted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Waits until redo log is written up to provided lsn (or greater). </p>
<p>We do not care if it's flushed or not. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>wait until log.write_lsn &gt;= lsn </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">interrupted</td><td>if true, was interrupted, needs retry. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>statistics related to waiting inside </dd></dl>

</div>
</div>
<a id="a97c2df9d3e5afe099ae794c4105c5cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c2df9d3e5afe099ae794c4105c5cad">&#9670;&nbsp;</a></span>log_write_encryption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_write_encryption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>iv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_boot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the encryption info into the log file header(the 3rd block). </p>
<p>It just need to flush the file header block with current master key. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>encryption key </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">iv</td><td>encryption iv </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_boot</td><td>if it is for bootstrap </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if success. </dd></dl>

</div>
</div>
<a id="a82d9132ee41a43d6a544492de102f556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82d9132ee41a43d6a544492de102f556">&#9670;&nbsp;</a></span>log_write_notifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_write_notifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> *&#160;</td>
          <td class="paramname"><em>log_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The log write notifier thread co-routine. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PAGE_INNODB_REDO_LOG_THREADS.html#sect_redo_log_write_notifier">Thread: log write_notifier</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log_ptr</td><td>pointer to redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f188b67ae741f6a0e85040a255431c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f188b67ae741f6a0e85040a255431c7">&#9670;&nbsp;</a></span>log_write_up_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structWait__stats.html">Wait_stats</a> log_write_up_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>flush_to_disk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits until the redo log is written up to a provided lsn. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>lsn to wait for </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flush_to_disk</td><td>true: wait until it is flushed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>statistics about waiting inside </dd></dl>

</div>
</div>
<a id="ad684ce5e9ae9f7d50906adc0e77b094e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad684ce5e9ae9f7d50906adc0e77b094e">&#9670;&nbsp;</a></span>log_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_writer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> *&#160;</td>
          <td class="paramname"><em>log_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The log writer thread co-routine. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="PAGE_INNODB_REDO_LOG_THREADS.html#sect_redo_log_writer">Thread: log writer</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log_ptr</td><td>pointer to redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7fbc59e6a5ee16f24f346aae7dfe6b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fbc59e6a5ee16f24f346aae7dfe6b90">&#9670;&nbsp;</a></span>log_writer_wait_on_archiver()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_writer_wait_on_archiver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>last_write_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>next_write_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afc3baa02e2a8a465a2f2ab3208a490ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3baa02e2a8a465a2f2ab3208a490ef">&#9670;&nbsp;</a></span>log_writer_wait_on_checkpoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> log_writer_wait_on_checkpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>last_write_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>next_write_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a00ce797d64060b14998458f85f377830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00ce797d64060b14998458f85f377830">&#9670;&nbsp;</a></span>log_writer_write_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_writer_write_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>next_write_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes fragment of the log buffer up to provided lsn (not further). </p>
<p>Stops after the first call to fil_io() (possibly at smaller lsn). Main side-effect: log.write_lsn is advanced. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">next_write_lsn</td><td>write up to this lsn value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0fb88314494e3b7113899022c656a792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb88314494e3b7113899022c656a792">&#9670;&nbsp;</a></span>redo_rotate_default_master_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void redo_rotate_default_master_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotate default master key for redo log encryption. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_7c61b8982e4f26eda8a4a9a87fddd769.html">log</a></li><li class="navelem"><a class="el" href="log0write_8cc.html">log0write.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
