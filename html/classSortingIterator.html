<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: SortingIterator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classSortingIterator.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classSortingIterator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SortingIterator Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>An adapter that takes in another RowIterator and produces the same rows, just in sorted order.  
 <a href="classSortingIterator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sorting__iterator_8h_source.html">sorting_iterator.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SortingIterator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classSortingIterator.png" usemap="#SortingIterator_map" alt=""/>
  <map id="SortingIterator_map" name="SortingIterator_map">
<area href="classRowIterator.html" title="A context for reading through a single table using a chosen access method: index read, scan, etc, use of cache, etc. " alt="RowIterator" shape="rect" coords="0,0,92,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionSortingIterator_1_1IteratorHolder.html">IteratorHolder</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af613a6abf244618a14306a952b6636bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#af613a6abf244618a14306a952b6636bd">SortingIterator</a> (<a class="el" href="classTHD.html">THD</a> *<a class="el" href="classRowIterator.html#a2bc0f8df841b7807092480fc1bd0224e">thd</a>, <a class="el" href="classFilesort.html">Filesort</a> *<a class="el" href="filesort_8h.html#a5af528e95ccec1d24e376471dd884bc6">filesort</a>, <a class="el" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a>&lt; <a class="el" href="classRowIterator.html">RowIterator</a> &gt; source, <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> num_rows_estimate, <a class="el" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a> tables_to_get_rowid_for, <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *examined_rows)</td></tr>
<tr class="separator:af613a6abf244618a14306a952b6636bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a7ed8dc670d1574a73db5b1ee6e610"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#ab8a7ed8dc670d1574a73db5b1ee6e610">~SortingIterator</a> () override</td></tr>
<tr class="separator:ab8a7ed8dc670d1574a73db5b1ee6e610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9536a79ceaaf1db16506a2b7e64df26b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a9536a79ceaaf1db16506a2b7e64df26b">Init</a> () override</td></tr>
<tr class="memdesc:a9536a79ceaaf1db16506a2b7e64df26b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize or reinitialize the iterator.  <a href="#a9536a79ceaaf1db16506a2b7e64df26b">More...</a><br /></td></tr>
<tr class="separator:a9536a79ceaaf1db16506a2b7e64df26b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f24fd541e229fe23b07921df8f92f8f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a0f24fd541e229fe23b07921df8f92f8f">Read</a> () override</td></tr>
<tr class="memdesc:a0f24fd541e229fe23b07921df8f92f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a single row.  <a href="#a0f24fd541e229fe23b07921df8f92f8f">More...</a><br /></td></tr>
<tr class="separator:a0f24fd541e229fe23b07921df8f92f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151528e7386431b5398d29b90bb325eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a151528e7386431b5398d29b90bb325eb">SetNullRowFlag</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_null_row) override</td></tr>
<tr class="memdesc:a151528e7386431b5398d29b90bb325eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the current row buffer as containing a NULL row or not, so that if you read from it and the flag is true, you'll get only NULLs no matter what is actually in the buffer (typically some old leftover row).  <a href="#a151528e7386431b5398d29b90bb325eb">More...</a><br /></td></tr>
<tr class="separator:a151528e7386431b5398d29b90bb325eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8b7948ce653d35bfc90b0885c88b37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#ada8b7948ce653d35bfc90b0885c88b37">UnlockRow</a> () override</td></tr>
<tr class="separator:ada8b7948ce653d35bfc90b0885c88b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab352e6b705e509fef31796e38c503a82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#ab352e6b705e509fef31796e38c503a82">CleanupAfterQuery</a> ()</td></tr>
<tr class="memdesc:ab352e6b705e509fef31796e38c503a82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optional (when JOIN::destroy() runs, the iterator and its buffers will be cleaned up anyway); used to clean up the buffers a little bit earlier.  <a href="#ab352e6b705e509fef31796e38c503a82">More...</a><br /></td></tr>
<tr class="separator:ab352e6b705e509fef31796e38c503a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classRowIterator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classRowIterator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classRowIterator.html">RowIterator</a></td></tr>
<tr class="memitem:a9e730a0c6722be2f9841fd6b7a3f6a52 inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a9e730a0c6722be2f9841fd6b7a3f6a52">RowIterator</a> (<a class="el" href="classTHD.html">THD</a> *<a class="el" href="classRowIterator.html#a2bc0f8df841b7807092480fc1bd0224e">thd</a>)</td></tr>
<tr class="separator:a9e730a0c6722be2f9841fd6b7a3f6a52 inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8778b8e93d01e1e47f0e98804882ea8e inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a8778b8e93d01e1e47f0e98804882ea8e">~RowIterator</a> ()</td></tr>
<tr class="separator:a8778b8e93d01e1e47f0e98804882ea8e inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb75cd99708ea3f1d62b41c8072f1d96 inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#acb75cd99708ea3f1d62b41c8072f1d96">TimingString</a> () const</td></tr>
<tr class="separator:acb75cd99708ea3f1d62b41c8072f1d96 inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c60f99cb3a1bc36776d718636aab5a0 inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a3c60f99cb3a1bc36776d718636aab5a0">StartPSIBatchMode</a> ()</td></tr>
<tr class="memdesc:a3c60f99cb3a1bc36776d718636aab5a0 inherit pub_methods_classRowIterator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start performance schema batch mode, if supported (otherwise ignored).  <a href="classRowIterator.html#a3c60f99cb3a1bc36776d718636aab5a0">More...</a><br /></td></tr>
<tr class="separator:a3c60f99cb3a1bc36776d718636aab5a0 inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d2300ee51cfa38a5d6bfe0793d12540 inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a9d2300ee51cfa38a5d6bfe0793d12540">EndPSIBatchModeIfStarted</a> ()</td></tr>
<tr class="memdesc:a9d2300ee51cfa38a5d6bfe0793d12540 inherit pub_methods_classRowIterator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends performance schema batch mode, if started.  <a href="classRowIterator.html#a9d2300ee51cfa38a5d6bfe0793d12540">More...</a><br /></td></tr>
<tr class="separator:a9d2300ee51cfa38a5d6bfe0793d12540 inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c66d3011c7b1be88eead51270c53d74 inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classRowIterator.html">RowIterator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a3c66d3011c7b1be88eead51270c53d74">real_iterator</a> ()</td></tr>
<tr class="memdesc:a3c66d3011c7b1be88eead51270c53d74 inherit pub_methods_classRowIterator"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this iterator is wrapping a different iterator (e.g.  <a href="classRowIterator.html#a3c66d3011c7b1be88eead51270c53d74">More...</a><br /></td></tr>
<tr class="separator:a3c66d3011c7b1be88eead51270c53d74 inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0baf633d8ed8803dc77c86a2c9faeda inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classRowIterator.html">RowIterator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#ad0baf633d8ed8803dc77c86a2c9faeda">real_iterator</a> () const</td></tr>
<tr class="separator:ad0baf633d8ed8803dc77c86a2c9faeda inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a276b68063f2cf8d6b3c88006728db8de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a276b68063f2cf8d6b3c88006728db8de">DoSort</a> ()</td></tr>
<tr class="separator:a276b68063f2cf8d6b3c88006728db8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8399f0f614e0682122c0cdfee8fe1b7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a8399f0f614e0682122c0cdfee8fe1b7b">ReleaseBuffers</a> ()</td></tr>
<tr class="separator:a8399f0f614e0682122c0cdfee8fe1b7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5d3454eb0503dd500653f2abec19c607"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFilesort.html">Filesort</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a5d3454eb0503dd500653f2abec19c607">m_filesort</a></td></tr>
<tr class="separator:a5d3454eb0503dd500653f2abec19c607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a153be0dab1e396469d63eee67c409917"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a>&lt; <a class="el" href="classRowIterator.html">RowIterator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a153be0dab1e396469d63eee67c409917">m_source_iterator</a></td></tr>
<tr class="separator:a153be0dab1e396469d63eee67c409917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a352d4784be48e60600bf05683ef030ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a>&lt; <a class="el" href="classRowIterator.html">RowIterator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a352d4784be48e60600bf05683ef030ef">m_result_iterator</a></td></tr>
<tr class="separator:a352d4784be48e60600bf05683ef030ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579101e6b8aa5aa5f9490015f6cbb128"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classFilesort__info.html">Filesort_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a579101e6b8aa5aa5f9490015f6cbb128">m_fs_info</a></td></tr>
<tr class="separator:a579101e6b8aa5aa5f9490015f6cbb128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd66153368d9441795a35e205e750cbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSort__result.html">Sort_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#afd66153368d9441795a35e205e750cbc">m_sort_result</a></td></tr>
<tr class="separator:afd66153368d9441795a35e205e750cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d28c5e53977d9cdf2c32fcc9d1e0dc"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a25d28c5e53977d9cdf2c32fcc9d1e0dc">m_num_rows_estimate</a></td></tr>
<tr class="separator:a25d28c5e53977d9cdf2c32fcc9d1e0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aff2dda767966d54efd55fedc730538"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a1aff2dda767966d54efd55fedc730538">m_tables_to_get_rowid_for</a></td></tr>
<tr class="separator:a1aff2dda767966d54efd55fedc730538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0164ab85ebf627ac78a9e79f1877c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#aaf0164ab85ebf627ac78a9e79f1877c3">m_examined_rows</a></td></tr>
<tr class="separator:aaf0164ab85ebf627ac78a9e79f1877c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e48172567f21032cee2859b0e848c6"><td class="memItemLeft" align="right" valign="top">union <a class="el" href="unionSortingIterator_1_1IteratorHolder.html">SortingIterator::IteratorHolder</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSortingIterator.html#a35e48172567f21032cee2859b0e848c6">m_result_iterator_holder</a></td></tr>
<tr class="separator:a35e48172567f21032cee2859b0e848c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classRowIterator"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classRowIterator')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classRowIterator.html">RowIterator</a></td></tr>
<tr class="memitem:a2bc0f8df841b7807092480fc1bd0224e inherit pro_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTHD.html">THD</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a2bc0f8df841b7807092480fc1bd0224e">thd</a> () const</td></tr>
<tr class="separator:a2bc0f8df841b7807092480fc1bd0224e inherit pro_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An adapter that takes in another RowIterator and produces the same rows, just in sorted order. </p>
<p>(The actual sort happens in Init().) Unfortunately, it is still bound to working off a TABLE object, which means that you can't use it to e.g. sort the output of a join without materializing into a temporary table first (ignoring that we currently have no Iterators for joins).</p>
<p>The primary reason for this is that we currently have no way of communicating read sets through Iterators, and SortingIterator needs to add fields used in ORDER BY to the read set for the appropriate tables. This could be mitigated by e.g. sending in an unordered_set&lt;Field *&gt;, but we don't currently have such a mechanism. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af613a6abf244618a14306a952b6636bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af613a6abf244618a14306a952b6636bd">&#9670;&nbsp;</a></span>SortingIterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SortingIterator::SortingIterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFilesort.html">Filesort</a> *&#160;</td>
          <td class="paramname"><em>filesort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a>&lt; <a class="el" href="classRowIterator.html">RowIterator</a> &gt;&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>&#160;</td>
          <td class="paramname"><em>num_rows_estimate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a>&#160;</td>
          <td class="paramname"><em>tables_to_get_rowid_for</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *&#160;</td>
          <td class="paramname"><em>examined_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8a7ed8dc670d1574a73db5b1ee6e610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8a7ed8dc670d1574a73db5b1ee6e610">&#9670;&nbsp;</a></span>~SortingIterator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SortingIterator::~SortingIterator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab352e6b705e509fef31796e38c503a82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab352e6b705e509fef31796e38c503a82">&#9670;&nbsp;</a></span>CleanupAfterQuery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SortingIterator::CleanupAfterQuery </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Optional (when JOIN::destroy() runs, the iterator and its buffers will be cleaned up anyway); used to clean up the buffers a little bit earlier. </p>
<p>When we get cached JOIN objects (prepare/optimize once) that can live for a long time between queries, calling this will become more important. </p>

</div>
</div>
<a id="a276b68063f2cf8d6b3c88006728db8de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a276b68063f2cf8d6b3c88006728db8de">&#9670;&nbsp;</a></span>DoSort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SortingIterator::DoSort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9536a79ceaaf1db16506a2b7e64df26b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9536a79ceaaf1db16506a2b7e64df26b">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> SortingIterator::Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize or reinitialize the iterator. </p>
<p>You must always call Init() before trying a Read() (but Init() does not imply Read()).</p>
<p>You can call Init() multiple times; subsequent calls will rewind the iterator (or reposition it, depending on whether the iterator takes in e.g. a TABLE_REF) and allow you to read the records anew. </p>

<p>Implements <a class="el" href="classRowIterator.html#affadaf033307f837d0ef187e994f9e28">RowIterator</a>.</p>

</div>
</div>
<a id="a0f24fd541e229fe23b07921df8f92f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f24fd541e229fe23b07921df8f92f8f">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SortingIterator::Read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a single row. </p>
<p>The row data is not actually returned from the function; it is put in the table's (or tables', in case of a join) record buffer, ie., table-&gt;records[0].</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">-1</td><td>End of records </td></tr>
    <tr><td class="paramname">1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classRowIterator.html#adcd98414b1c657236d1156cab8e6e867">RowIterator</a>.</p>

</div>
</div>
<a id="a8399f0f614e0682122c0cdfee8fe1b7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8399f0f614e0682122c0cdfee8fe1b7b">&#9670;&nbsp;</a></span>ReleaseBuffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SortingIterator::ReleaseBuffers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a151528e7386431b5398d29b90bb325eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a151528e7386431b5398d29b90bb325eb">&#9670;&nbsp;</a></span>SetNullRowFlag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SortingIterator::SetNullRowFlag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_null_row</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark the current row buffer as containing a NULL row or not, so that if you read from it and the flag is true, you'll get only NULLs no matter what is actually in the buffer (typically some old leftover row). </p>
<p>This is used for outer joins, when an iterator hasn't produced any rows and we need to produce a NULL-complemented row. Init() or Read() won't necessarily reset this flag, so if you ever set is to true, make sure to also set it to false when needed.</p>
<p>Note that this can be called without Init() having been called first. For example, NestedLoopIterator can hit EOF immediately on the outer iterator, which means the inner iterator doesn't get an Init() call, but will still forward SetNullRowFlag to both inner and outer iterators.</p>
<p>TODO: We shouldn't need this. See the comments on AggregateIterator for a bit more discussion on abstracting out a row interface. </p>

<p>Implements <a class="el" href="classRowIterator.html#a2fb51c6b0d8b763265d8b20710a31cb1">RowIterator</a>.</p>

</div>
</div>
<a id="ada8b7948ce653d35bfc90b0885c88b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada8b7948ce653d35bfc90b0885c88b37">&#9670;&nbsp;</a></span>UnlockRow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SortingIterator::UnlockRow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classRowIterator.html#a7590a98b54a85d3624cd9667c2da0764">RowIterator</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aaf0164ab85ebf627ac78a9e79f1877c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0164ab85ebf627ac78a9e79f1877c3">&#9670;&nbsp;</a></span>m_examined_rows</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>* SortingIterator::m_examined_rows</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5d3454eb0503dd500653f2abec19c607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3454eb0503dd500653f2abec19c607">&#9670;&nbsp;</a></span>m_filesort</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFilesort.html">Filesort</a>* SortingIterator::m_filesort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a579101e6b8aa5aa5f9490015f6cbb128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a579101e6b8aa5aa5f9490015f6cbb128">&#9670;&nbsp;</a></span>m_fs_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classFilesort__info.html">Filesort_info</a> SortingIterator::m_fs_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a25d28c5e53977d9cdf2c32fcc9d1e0dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d28c5e53977d9cdf2c32fcc9d1e0dc">&#9670;&nbsp;</a></span>m_num_rows_estimate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> SortingIterator::m_num_rows_estimate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a352d4784be48e60600bf05683ef030ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a352d4784be48e60600bf05683ef030ef">&#9670;&nbsp;</a></span>m_result_iterator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a>&lt;<a class="el" href="classRowIterator.html">RowIterator</a>&gt; SortingIterator::m_result_iterator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a35e48172567f21032cee2859b0e848c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e48172567f21032cee2859b0e848c6">&#9670;&nbsp;</a></span>m_result_iterator_holder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">union <a class="el" href="unionSortingIterator_1_1IteratorHolder.html">SortingIterator::IteratorHolder</a>  SortingIterator::m_result_iterator_holder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afd66153368d9441795a35e205e750cbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd66153368d9441795a35e205e750cbc">&#9670;&nbsp;</a></span>m_sort_result</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSort__result.html">Sort_result</a> SortingIterator::m_sort_result</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a153be0dab1e396469d63eee67c409917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a153be0dab1e396469d63eee67c409917">&#9670;&nbsp;</a></span>m_source_iterator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a>&lt;<a class="el" href="classRowIterator.html">RowIterator</a>&gt; SortingIterator::m_source_iterator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1aff2dda767966d54efd55fedc730538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aff2dda767966d54efd55fedc730538">&#9670;&nbsp;</a></span>m_tables_to_get_rowid_for</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a> SortingIterator::m_tables_to_get_rowid_for</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="sorting__iterator_8h_source.html">sorting_iterator.h</a></li>
<li>sql/<a class="el" href="sorting__iterator_8cc.html">sorting_iterator.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classSortingIterator.html">SortingIterator</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
