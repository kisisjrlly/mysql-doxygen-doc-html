<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: temptable::Block Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classtemptable_1_1Block.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="classtemptable_1_1Block-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">temptable::Block Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Memory-block abstraction whose purpose is to serve as a building block for custom memory-allocator implementations.  
 <a href="classtemptable_1_1Block.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="block_8h_source.html">block.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for temptable::Block:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classtemptable_1_1Block.png" usemap="#temptable::Block_map" alt=""/>
  <map id="temptable::Block_map" name="temptable::Block_map">
<area href="classtemptable_1_1Header.html" title="Header is an abstraction with the purpose of holding and maintaining the Block metadata. " alt="temptable::Header" shape="rect" coords="0,0,113,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3b89b904412b0d624248dfd7bd5bd8e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a3b89b904412b0d624248dfd7bd5bd8e8">Block</a> () noexcept</td></tr>
<tr class="memdesc:a3b89b904412b0d624248dfd7bd5bd8e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor which creates an empty Block.  <a href="#a3b89b904412b0d624248dfd7bd5bd8e8">More...</a><br /></td></tr>
<tr class="separator:a3b89b904412b0d624248dfd7bd5bd8e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae094c554ee7c1a15094c7143aed297cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#ae094c554ee7c1a15094c7143aed297cc">Block</a> (size_t <a class="el" href="classtemptable_1_1Block.html#ab221dab0eeb68ae2c67a36eb8b422a0d">size</a>, <a class="el" href="namespacetemptable.html#abb838914f42a916f1b2d83070bc1ed21">Source</a> memory_source)</td></tr>
<tr class="memdesc:ae094c554ee7c1a15094c7143aed297cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor which creates a Block of given size from the given memory source.  <a href="#ae094c554ee7c1a15094c7143aed297cc">More...</a><br /></td></tr>
<tr class="separator:ae094c554ee7c1a15094c7143aed297cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0846e1b667ead0a54c41d86326a984fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a0846e1b667ead0a54c41d86326a984fb">Block</a> (<a class="el" href="classtemptable_1_1Chunk.html">Chunk</a> chunk) noexcept</td></tr>
<tr class="memdesc:a0846e1b667ead0a54c41d86326a984fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor which creates a Block from given Chunk.  <a href="#a0846e1b667ead0a54c41d86326a984fb">More...</a><br /></td></tr>
<tr class="separator:a0846e1b667ead0a54c41d86326a984fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4feb3019c59ceb3bb8b90ec2ef3a081"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#ac4feb3019c59ceb3bb8b90ec2ef3a081">operator==</a> (const <a class="el" href="classtemptable_1_1Block.html">Block</a> &amp;other) const</td></tr>
<tr class="memdesc:ac4feb3019c59ceb3bb8b90ec2ef3a081"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equality operator.  <a href="#ac4feb3019c59ceb3bb8b90ec2ef3a081">More...</a><br /></td></tr>
<tr class="separator:ac4feb3019c59ceb3bb8b90ec2ef3a081"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8cfc81b40ce1aa0c1aa5b22a495a72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#acf8cfc81b40ce1aa0c1aa5b22a495a72">operator!=</a> (const <a class="el" href="classtemptable_1_1Block.html">Block</a> &amp;other) const</td></tr>
<tr class="memdesc:acf8cfc81b40ce1aa0c1aa5b22a495a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inequality operator.  <a href="#acf8cfc81b40ce1aa0c1aa5b22a495a72">More...</a><br /></td></tr>
<tr class="separator:acf8cfc81b40ce1aa0c1aa5b22a495a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc10ed97540f962b28dc8e82f84b6b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtemptable_1_1Chunk.html">Chunk</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#acfc10ed97540f962b28dc8e82f84b6b5">allocate</a> (size_t chunk_size) noexcept</td></tr>
<tr class="memdesc:acfc10ed97540f962b28dc8e82f84b6b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a Chunk from a Block.  <a href="#acfc10ed97540f962b28dc8e82f84b6b5">More...</a><br /></td></tr>
<tr class="separator:acfc10ed97540f962b28dc8e82f84b6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632eb9895cc6f9c93a976043e4567858"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a632eb9895cc6f9c93a976043e4567858">deallocate</a> (<a class="el" href="classtemptable_1_1Chunk.html">Chunk</a> chunk, size_t chunk_size) noexcept</td></tr>
<tr class="memdesc:a632eb9895cc6f9c93a976043e4567858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate a Chunk from a Block.  <a href="#a632eb9895cc6f9c93a976043e4567858">More...</a><br /></td></tr>
<tr class="separator:a632eb9895cc6f9c93a976043e4567858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b847fdec36438d584f123b0ce2007be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a5b847fdec36438d584f123b0ce2007be">destroy</a> () noexcept</td></tr>
<tr class="memdesc:a5b847fdec36438d584f123b0ce2007be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the whole Block.  <a href="#a5b847fdec36438d584f123b0ce2007be">More...</a><br /></td></tr>
<tr class="separator:a5b847fdec36438d584f123b0ce2007be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3833a3293a55427206f74c6ac524e510"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a3833a3293a55427206f74c6ac524e510">is_empty</a> () const</td></tr>
<tr class="memdesc:a3833a3293a55427206f74c6ac524e510"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Block is empty (not holding any data).  <a href="#a3833a3293a55427206f74c6ac524e510">More...</a><br /></td></tr>
<tr class="separator:a3833a3293a55427206f74c6ac524e510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772fe138377db141e87f6449bec5de89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a772fe138377db141e87f6449bec5de89">can_accommodate</a> (size_t chunk_size) const</td></tr>
<tr class="memdesc:a772fe138377db141e87f6449bec5de89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if Block can fit (allocate) a Chunk of given size.  <a href="#a772fe138377db141e87f6449bec5de89">More...</a><br /></td></tr>
<tr class="separator:a772fe138377db141e87f6449bec5de89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37640cef2c1f70d2ff15c2bf90dc0a6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetemptable.html#abb838914f42a916f1b2d83070bc1ed21">Source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a37640cef2c1f70d2ff15c2bf90dc0a6e">type</a> () const</td></tr>
<tr class="memdesc:a37640cef2c1f70d2ff15c2bf90dc0a6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Block Source type (memory where it resides).  <a href="#a37640cef2c1f70d2ff15c2bf90dc0a6e">More...</a><br /></td></tr>
<tr class="separator:a37640cef2c1f70d2ff15c2bf90dc0a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab221dab0eeb68ae2c67a36eb8b422a0d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#ab221dab0eeb68ae2c67a36eb8b422a0d">size</a> () const</td></tr>
<tr class="memdesc:ab221dab0eeb68ae2c67a36eb8b422a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Block size.  <a href="#ab221dab0eeb68ae2c67a36eb8b422a0d">More...</a><br /></td></tr>
<tr class="separator:ab221dab0eeb68ae2c67a36eb8b422a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc84932a451754a7c98e3dc03a89627"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a8dc84932a451754a7c98e3dc03a89627">number_of_used_chunks</a> () const</td></tr>
<tr class="memdesc:a8dc84932a451754a7c98e3dc03a89627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current number of Chunks allocated by the Block.  <a href="#a8dc84932a451754a7c98e3dc03a89627">More...</a><br /></td></tr>
<tr class="separator:a8dc84932a451754a7c98e3dc03a89627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d8c5527cbf56839256cd17ca5b54b5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a56d8c5527cbf56839256cd17ca5b54b5">to_string</a> () const</td></tr>
<tr class="memdesc:a56d8c5527cbf56839256cd17ca5b54b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A human-readable string that describes a Block.  <a href="#a56d8c5527cbf56839256cd17ca5b54b5">More...</a><br /></td></tr>
<tr class="separator:a56d8c5527cbf56839256cd17ca5b54b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aeae4285f83ab089f15a95977e89aa467"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#aeae4285f83ab089f15a95977e89aa467">size_hint</a> (size_t n_bytes)</td></tr>
<tr class="memdesc:aeae4285f83ab089f15a95977e89aa467"><td class="mdescLeft">&#160;</td><td class="mdescRight">For given size, how much memory will Block with single Chunk actually occupy.  <a href="#aeae4285f83ab089f15a95977e89aa467">More...</a><br /></td></tr>
<tr class="separator:aeae4285f83ab089f15a95977e89aa467"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a92be221fe7403fd778ac34837687871d"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a92be221fe7403fd778ac34837687871d">ALIGN_TO</a> = alignof(void *)</td></tr>
<tr class="memdesc:a92be221fe7403fd778ac34837687871d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block will self-adjust all requested allocation-sizes to the multiple of this value.  <a href="#a92be221fe7403fd778ac34837687871d">More...</a><br /></td></tr>
<tr class="separator:a92be221fe7403fd778ac34837687871d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9c507f965911e56d46ceff353c7e1945"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#a9c507f965911e56d46ceff353c7e1945">Block</a> (uint8_t *block_memory, <a class="el" href="namespacetemptable.html#abb838914f42a916f1b2d83070bc1ed21">Source</a> block_type, size_t <a class="el" href="classtemptable_1_1Header.html#a10aeba63cc46887c45ba3bce56c327d4">block_size</a>) noexcept</td></tr>
<tr class="memdesc:a9c507f965911e56d46ceff353c7e1945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delegating constructor which populates Header with provided information.  <a href="#a9c507f965911e56d46ceff353c7e1945">More...</a><br /></td></tr>
<tr class="separator:a9c507f965911e56d46ceff353c7e1945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1036eb4ebde7abfae01137e15697474"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#ad1036eb4ebde7abfae01137e15697474">is_rightmost_chunk</a> (const <a class="el" href="classtemptable_1_1Chunk.html">Chunk</a> &amp;chunk, size_t chunk_size) const</td></tr>
<tr class="memdesc:ad1036eb4ebde7abfae01137e15697474"><td class="mdescLeft">&#160;</td><td class="mdescRight">Are we looking at the last (rightmost) chunk in a Block.  <a href="#ad1036eb4ebde7abfae01137e15697474">More...</a><br /></td></tr>
<tr class="separator:ad1036eb4ebde7abfae01137e15697474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classtemptable_1_1Header"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classtemptable_1_1Header')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="classtemptable_1_1Header.html">temptable::Header</a></td></tr>
<tr class="memitem:a2d52c7f67c86b1cff1e5693918280c93 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetemptable.html#abb838914f42a916f1b2d83070bc1ed21">Source</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a2d52c7f67c86b1cff1e5693918280c93">memory_source_type</a> () const</td></tr>
<tr class="memdesc:a2d52c7f67c86b1cff1e5693918280c93 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Block Source type (memory where it resides).  <a href="classtemptable_1_1Header.html#a2d52c7f67c86b1cff1e5693918280c93">More...</a><br /></td></tr>
<tr class="separator:a2d52c7f67c86b1cff1e5693918280c93 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10aeba63cc46887c45ba3bce56c327d4 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a10aeba63cc46887c45ba3bce56c327d4">block_size</a> () const</td></tr>
<tr class="memdesc:a10aeba63cc46887c45ba3bce56c327d4 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Block size.  <a href="classtemptable_1_1Header.html#a10aeba63cc46887c45ba3bce56c327d4">More...</a><br /></td></tr>
<tr class="separator:a10aeba63cc46887c45ba3bce56c327d4 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf68a5eb9ad8d17747396e4402cc9ca inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#afaf68a5eb9ad8d17747396e4402cc9ca">number_of_used_chunks</a> () const</td></tr>
<tr class="memdesc:afaf68a5eb9ad8d17747396e4402cc9ca inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current number of Chunks allocated by the Block.  <a href="classtemptable_1_1Header.html#afaf68a5eb9ad8d17747396e4402cc9ca">More...</a><br /></td></tr>
<tr class="separator:afaf68a5eb9ad8d17747396e4402cc9ca inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc60c35ebd770669e3da13f76c21c55 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#addc60c35ebd770669e3da13f76c21c55">first_pristine_offset</a> () const</td></tr>
<tr class="memdesc:addc60c35ebd770669e3da13f76c21c55 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current first-pristine-offset.  <a href="classtemptable_1_1Header.html#addc60c35ebd770669e3da13f76c21c55">More...</a><br /></td></tr>
<tr class="separator:addc60c35ebd770669e3da13f76c21c55 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9c64d611a367d3c13f1fdfa8e94316 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a2e9c64d611a367d3c13f1fdfa8e94316">Header</a> () noexcept</td></tr>
<tr class="memdesc:a2e9c64d611a367d3c13f1fdfa8e94316 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor which creates an empty Header.  <a href="classtemptable_1_1Header.html#a2e9c64d611a367d3c13f1fdfa8e94316">More...</a><br /></td></tr>
<tr class="separator:a2e9c64d611a367d3c13f1fdfa8e94316 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7e1250f4de24737f90c7f038c8d0be inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#aac7e1250f4de24737f90c7f038c8d0be">Header</a> (uint8_t *block_memory, <a class="el" href="namespacetemptable.html#abb838914f42a916f1b2d83070bc1ed21">Source</a> block_memory_type, size_t <a class="el" href="classtemptable_1_1Header.html#a10aeba63cc46887c45ba3bce56c327d4">block_size</a>) noexcept</td></tr>
<tr class="memdesc:aac7e1250f4de24737f90c7f038c8d0be inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor which initializes the Header metadata when constructing fresh Blocks.  <a href="classtemptable_1_1Header.html#aac7e1250f4de24737f90c7f038c8d0be">More...</a><br /></td></tr>
<tr class="separator:aac7e1250f4de24737f90c7f038c8d0be inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3602929c205561710bf5ac16c2b52f10 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a3602929c205561710bf5ac16c2b52f10">Header</a> (uint8_t *block_memory) noexcept</td></tr>
<tr class="memdesc:a3602929c205561710bf5ac16c2b52f10 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor which initializes the Header metadata from already existing Blocks in memory (e.g.  <a href="classtemptable_1_1Header.html#a3602929c205561710bf5ac16c2b52f10">More...</a><br /></td></tr>
<tr class="separator:a3602929c205561710bf5ac16c2b52f10 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a096e57b9beaed46c13281adde4511d97 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a096e57b9beaed46c13281adde4511d97">next_available_slot</a> () const</td></tr>
<tr class="memdesc:a096e57b9beaed46c13281adde4511d97 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Block to get the next available slot that it can use for next Chunk allocation.  <a href="classtemptable_1_1Header.html#a096e57b9beaed46c13281adde4511d97">More...</a><br /></td></tr>
<tr class="separator:a096e57b9beaed46c13281adde4511d97 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56692ea786187bede856b1569d926ae1 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a56692ea786187bede856b1569d926ae1">block_address</a> () const</td></tr>
<tr class="memdesc:a56692ea786187bede856b1569d926ae1 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Block to get its memory address.  <a href="classtemptable_1_1Header.html#a56692ea786187bede856b1569d926ae1">More...</a><br /></td></tr>
<tr class="separator:a56692ea786187bede856b1569d926ae1 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66ef00bc49939b4cc3c3121e937c3be2 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a66ef00bc49939b4cc3c3121e937c3be2">increment_number_of_used_chunks</a> (size_t chunk_size)</td></tr>
<tr class="memdesc:a66ef00bc49939b4cc3c3121e937c3be2 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Block to increment the reference-count when (logically) allocating new Chunks.  <a href="classtemptable_1_1Header.html#a66ef00bc49939b4cc3c3121e937c3be2">More...</a><br /></td></tr>
<tr class="separator:a66ef00bc49939b4cc3c3121e937c3be2 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a8660984b95c69a71f595240fef81a inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#ab3a8660984b95c69a71f595240fef81a">decrement_number_of_used_chunks</a> (size_t chunk_size, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rightmost_chunk)</td></tr>
<tr class="memdesc:ab3a8660984b95c69a71f595240fef81a inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Block to decrement the reference-count when (logically) deallocating existing Chunks.  <a href="classtemptable_1_1Header.html#ab3a8660984b95c69a71f595240fef81a">More...</a><br /></td></tr>
<tr class="separator:ab3a8660984b95c69a71f595240fef81a inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9f61a93ec444c2eb3ae8dc56c52d19 inherit pub_methods_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a1b9f61a93ec444c2eb3ae8dc56c52d19">reset</a> ()</td></tr>
<tr class="memdesc:a1b9f61a93ec444c2eb3ae8dc56c52d19 inherit pub_methods_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable Block to reset the Header metadata upon Block destruction.  <a href="classtemptable_1_1Header.html#a1b9f61a93ec444c2eb3ae8dc56c52d19">More...</a><br /></td></tr>
<tr class="separator:a1b9f61a93ec444c2eb3ae8dc56c52d19 inherit pub_methods_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ad9ce74fb2082eb121c928907456fa52e"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Block.html#ad9ce74fb2082eb121c928907456fa52e">aligned_size</a> (size_t <a class="el" href="classtemptable_1_1Block.html#ab221dab0eeb68ae2c67a36eb8b422a0d">size</a>)</td></tr>
<tr class="memdesc:ad9ce74fb2082eb121c928907456fa52e"><td class="mdescLeft">&#160;</td><td class="mdescRight">What is the word-size (ALIGN_TO) aligned size of an input size?  <a href="#ad9ce74fb2082eb121c928907456fa52e">More...</a><br /></td></tr>
<tr class="separator:ad9ce74fb2082eb121c928907456fa52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classtemptable_1_1Header"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classtemptable_1_1Header')"><img src="closed.png" alt="-"/>&#160;Private Types inherited from <a class="el" href="classtemptable_1_1Header.html">temptable::Header</a></td></tr>
<tr class="memitem:a0e7478abd73ca0c203da616e0c5d03a2 inherit pub_types_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a0e7478abd73ca0c203da616e0c5d03a2">metadata_type</a> = uintptr_t</td></tr>
<tr class="memdesc:a0e7478abd73ca0c203da616e0c5d03a2 inherit pub_types_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type that we will be using for storing metadata information.  <a href="classtemptable_1_1Header.html#a0e7478abd73ca0c203da616e0c5d03a2">More...</a><br /></td></tr>
<tr class="separator:a0e7478abd73ca0c203da616e0c5d03a2 inherit pub_types_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classtemptable_1_1Header"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classtemptable_1_1Header')"><img src="closed.png" alt="-"/>&#160;Static Private Attributes inherited from <a class="el" href="classtemptable_1_1Header.html">temptable::Header</a></td></tr>
<tr class="memitem:a78337f80dc5ca5d7c5e8ea93455019d0 inherit pub_static_attribs_classtemptable_1_1Header"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtemptable_1_1Header.html#a78337f80dc5ca5d7c5e8ea93455019d0">SIZE</a> = 4 * sizeof(<a class="el" href="classtemptable_1_1Header.html#a0e7478abd73ca0c203da616e0c5d03a2">Header::metadata_type</a>)</td></tr>
<tr class="memdesc:a78337f80dc5ca5d7c5e8ea93455019d0 inherit pub_static_attribs_classtemptable_1_1Header"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block header (metadata) size.  <a href="classtemptable_1_1Header.html#a78337f80dc5ca5d7c5e8ea93455019d0">More...</a><br /></td></tr>
<tr class="separator:a78337f80dc5ca5d7c5e8ea93455019d0 inherit pub_static_attribs_classtemptable_1_1Header"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Memory-block abstraction whose purpose is to serve as a building block for custom memory-allocator implementations. </p>
<p>TL;DR How it works: Instantiation:</p><ul>
<li>With given size and given memory source, Block will allocate memory and adjust its Header metadata with the relevant information. Allocation:</li>
<li>From allocated memory space, Block finds out what is the next available slot to fit the new Chunk into.</li>
<li>Creates a new Chunk with the address pointing to that slot.</li>
<li>Increments the number of allocated chunks.</li>
<li>Returns a Chunk. Deallocation:</li>
<li>Decrements the number of allocated chunks.</li>
<li>Returns current number of allocated chunks. Destruction:</li>
<li>Simply deallocates the memory.</li>
</ul>
<p>Now, more detailed description ...</p>
<p>Normally, custom memory-allocators will feed clients' memory allocation and deallocation requests solely through the provided Block interface which enables allocators not to worry about the whole lot of low-level memory byte-juggling but to focus on application-level details.</p>
<p>Block, once created, will occupy at-least (see below why) the specified amount of memory after which it will be able to serve client-requested allocations and deallocations in logical units called Chunks. Chunk is an arbitrarily-sized view over a region of memory allocated during the Block creation. Block can fit as many Chunks as there is free memory space left in it. Once there is no free space left, another Block of memory has to be created. Block is not resizeable. E.g. 4KB-sized Block can feed 1x4KB, 2x2KB, 1KB+3KB or any other combination of Chunks whose total size does not exceed the Block size (4KB).</p>
<p>Organizing Block memory into Chunks is implementation house-keeping detail stored in its Header metadata region. Block does not maintain the list of Chunks, it only ever keeps the number of currently allocated Chunks and the offset to the first memory location available to feed the next allocation request.</p>
<p>While still using the same interface, custom memory-allocators are able to choose where should the Block allocate actual memory from. It could be anything defined by Source but currently only RAM and MMAP-ed files are available and implemented as options.</p>
<p>For the benefit of (amortized) constant-time allocations, Block does not re-use or do any other special operations over deallocated Chunks so memory-allocators which will be using it may suffer from block-level memory-fragmentation and consequently higher memory-consumption. Exceptions are deallocations of first and last Chunks in a Block when it is possible to easily re-adjust the offset and therefore be able to re-use that part of memory.</p>
<p>Another big advantage, which is very closely related to constant-time allocations, is that it minimizes the number of system-calls required to allocate and deallocate the memory which consequently may lower the process-level memory-fragmentation.</p>
<p>Block size does not necessarily end-up being the size originally requested by the client but it will be actually implicitly rounded to the next multiple of CPU word-size which may result in better memory utilization. Actual block size can be queried through the Block interface.</p>
<p>To optimize for the CPU memory-access, but also to enable code not to segfault on architectures which do not support unaligned-memory-access (e.g. SPARC), Block will always adjust requested Chunk allocation size to match the size which is rounded to the next multiple of CPU word-size (Block::ALIGN_TO constant). End result is that Block might end up allocating just a few more bytes bigger Chunk than actually requested but that information, however, does not need to be maintained or cared about by the client code.</p>
<p>Along with the small space overhead due to the automatic word-size-adjustment of Chunk size, each Block allocation will also have a few bytes overhead for maintaining the Header metadata (Header::SIZE) as well as for maintaining the Chunk metadata (Chunk::METADATA_SIZE). Implementation and data layout details can be found at respective header file declarations.</p>
<p>All dirty-implementation details are hidden in Header implementation which makes sure that proper care is taken to handle chunk offsets, available slots, number of present chunks etc. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3b89b904412b0d624248dfd7bd5bd8e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b89b904412b0d624248dfd7bd5bd8e8">&#9670;&nbsp;</a></span>Block() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">temptable::Block::Block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor which creates an empty Block. </p>

</div>
</div>
<a id="ae094c554ee7c1a15094c7143aed297cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae094c554ee7c1a15094c7143aed297cc">&#9670;&nbsp;</a></span>Block() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">temptable::Block::Block </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetemptable.html#abb838914f42a916f1b2d83070bc1ed21">Source</a>&#160;</td>
          <td class="paramname"><em>memory_source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor which creates a Block of given size from the given memory source. </p>
<p>[in] Block size in bytes. [in] Source where Block will allocate actual memory from. </p>

</div>
</div>
<a id="a0846e1b667ead0a54c41d86326a984fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0846e1b667ead0a54c41d86326a984fb">&#9670;&nbsp;</a></span>Block() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">temptable::Block::Block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtemptable_1_1Chunk.html">Chunk</a>&#160;</td>
          <td class="paramname"><em>chunk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor which creates a Block from given Chunk. </p>
<p>Chunk holds just enough information so we can deduce which Block does it belong to.</p>
<p>[in] Existing Chunk in memory. </p>

</div>
</div>
<a id="a9c507f965911e56d46ceff353c7e1945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c507f965911e56d46ceff353c7e1945">&#9670;&nbsp;</a></span>Block() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">temptable::Block::Block </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>block_memory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetemptable.html#abb838914f42a916f1b2d83070bc1ed21">Source</a>&#160;</td>
          <td class="paramname"><em>block_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>block_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delegating constructor which populates Header with provided information. </p>
<p>[in] Address of a memory region allocated by the Block [in] Source of memory region [in] Block size in bytes. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad9ce74fb2082eb121c928907456fa52e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ce74fb2082eb121c928907456fa52e">&#9670;&nbsp;</a></span>aligned_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t temptable::Block::aligned_size </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>What is the word-size (ALIGN_TO) aligned size of an input size? </p>
<p>[in] Input size </p><dl class="section return"><dt>Returns</dt><dd>Block-size rounded up to the next ALIGN_TO size </dd></dl>

</div>
</div>
<a id="acfc10ed97540f962b28dc8e82f84b6b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc10ed97540f962b28dc8e82f84b6b5">&#9670;&nbsp;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtemptable_1_1Chunk.html">Chunk</a> temptable::Block::allocate </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>chunk_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate a Chunk from a Block. </p>
<p>[in] Size of the Chunk to be allocated. </p><dl class="section return"><dt>Returns</dt><dd>Chunk of memory. </dd></dl>

</div>
</div>
<a id="a772fe138377db141e87f6449bec5de89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772fe138377db141e87f6449bec5de89">&#9670;&nbsp;</a></span>can_accommodate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> temptable::Block::can_accommodate </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>chunk_size</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if Block can fit (allocate) a Chunk of given size. </p>
<p>[in] Desired chunk size in bytes. </p><dl class="section return"><dt>Returns</dt><dd>true if can </dd></dl>

</div>
</div>
<a id="a632eb9895cc6f9c93a976043e4567858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632eb9895cc6f9c93a976043e4567858">&#9670;&nbsp;</a></span>deallocate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t temptable::Block::deallocate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtemptable_1_1Chunk.html">Chunk</a>&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>chunk_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocate a Chunk from a Block. </p>
<p>[in] Chunk to be deallocated. [in] Size of the Chunk to be deallocated. </p><dl class="section return"><dt>Returns</dt><dd>Remaining number of Chunks in a Block. </dd></dl>

</div>
</div>
<a id="a5b847fdec36438d584f123b0ce2007be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b847fdec36438d584f123b0ce2007be">&#9670;&nbsp;</a></span>destroy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void temptable::Block::destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy the whole Block. </p>
<p>This operation will release all occupied memory by the Block so client code must make sure that it doesn't keep dangling Chunks in the memory. </p>

</div>
</div>
<a id="a3833a3293a55427206f74c6ac524e510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3833a3293a55427206f74c6ac524e510">&#9670;&nbsp;</a></span>is_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> temptable::Block::is_empty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if Block is empty (not holding any data). </p>
<dl class="section return"><dt>Returns</dt><dd>true if it is </dd></dl>

</div>
</div>
<a id="ad1036eb4ebde7abfae01137e15697474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1036eb4ebde7abfae01137e15697474">&#9670;&nbsp;</a></span>is_rightmost_chunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> temptable::Block::is_rightmost_chunk </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtemptable_1_1Chunk.html">Chunk</a> &amp;&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>chunk_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Are we looking at the last (rightmost) chunk in a Block. </p>
<p>[in] Reference to a Chunk [in] Chunk size </p><dl class="section return"><dt>Returns</dt><dd>true if we are </dd></dl>

</div>
</div>
<a id="a8dc84932a451754a7c98e3dc03a89627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc84932a451754a7c98e3dc03a89627">&#9670;&nbsp;</a></span>number_of_used_chunks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t temptable::Block::number_of_used_chunks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get current number of Chunks allocated by the Block. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of Chunks allocated by this Block </dd></dl>

</div>
</div>
<a id="acf8cfc81b40ce1aa0c1aa5b22a495a72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8cfc81b40ce1aa0c1aa5b22a495a72">&#9670;&nbsp;</a></span>operator!=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="rpl__rli_8h.html#a7762c4d9bacdce0c790e43bd8313fe72">temptable::Block::operator!</a>= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtemptable_1_1Block.html">Block</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inequality operator. </p>
<p>[in] Block to compare it against. </p><dl class="section return"><dt>Returns</dt><dd>true if two Blocks are not equal (not pointing to the same memory location). </dd></dl>

</div>
</div>
<a id="ac4feb3019c59ceb3bb8b90ec2ef3a081"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4feb3019c59ceb3bb8b90ec2ef3a081">&#9670;&nbsp;</a></span>operator==()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> temptable::Block::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classtemptable_1_1Block.html">Block</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equality operator. </p>
<p>[in] Block to compare it against. </p><dl class="section return"><dt>Returns</dt><dd>true if two Blocks are equal (pointing to the same memory location). </dd></dl>

</div>
</div>
<a id="ab221dab0eeb68ae2c67a36eb8b422a0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab221dab0eeb68ae2c67a36eb8b422a0d">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t temptable::Block::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the Block size. </p>
<dl class="section return"><dt>Returns</dt><dd>Block size </dd></dl>

</div>
</div>
<a id="aeae4285f83ab089f15a95977e89aa467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae4285f83ab089f15a95977e89aa467">&#9670;&nbsp;</a></span>size_hint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t temptable::Block::size_hint </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For given size, how much memory will Block with single Chunk actually occupy. </p>
<p>This calculation takes into account both the Header/Chunk metadata and the data payload.</p>
<p>[in] Data payload size in bytes. </p><dl class="section return"><dt>Returns</dt><dd>Size Block would allocate for given n_bytes. </dd></dl>

</div>
</div>
<a id="a56d8c5527cbf56839256cd17ca5b54b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d8c5527cbf56839256cd17ca5b54b5">&#9670;&nbsp;</a></span>to_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string temptable::Block::to_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A human-readable string that describes a Block. </p>
<dl class="section return"><dt>Returns</dt><dd>human-readable string </dd></dl>

</div>
</div>
<a id="a37640cef2c1f70d2ff15c2bf90dc0a6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37640cef2c1f70d2ff15c2bf90dc0a6e">&#9670;&nbsp;</a></span>type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetemptable.html#abb838914f42a916f1b2d83070bc1ed21">Source</a> temptable::Block::type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the Block Source type (memory where it resides). </p>
<dl class="section return"><dt>Returns</dt><dd>one of Source values </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a92be221fe7403fd778ac34837687871d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92be221fe7403fd778ac34837687871d">&#9670;&nbsp;</a></span>ALIGN_TO</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t temptable::Block::ALIGN_TO = alignof(void *)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Block will self-adjust all requested allocation-sizes to the multiple of this value. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>storage/temptable/include/temptable/<a class="el" href="block_8h_source.html">block.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetemptable.html">temptable</a></li><li class="navelem"><a class="el" href="classtemptable_1_1Block.html">Block</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
