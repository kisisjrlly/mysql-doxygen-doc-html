<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Suppressing Errors and Warning</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('PAGE_SUPPRESSING_ERRORS_WARNINGS.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Suppressing Errors and Warning </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>After a test is finished, and if it didn't fail for some other reason, <a class="el" href="PAGE_MYSQL_TEST_RUN_PL.html">mysql-test-run.pl</a> will check the log written by the server(s) during the test for any warnings or errors.</p>
<p>If it finds any, it will print them out and the test will be reported as failed.</p>
<p>However, many warnings and also a few errors may occur normally without signifying a real problem. Also, many tests purposefully perform actions that will provoke warnings. For these not to result in a test failure, it is possible to specify that certain messages are to be suppressed.</p>
<p>There is a list of global suppressions; warnings that will always be suppressed. These are listed in the file <b>include/mtr_warnings.sql</b>. Any error or warning that contains one of the listed strings will be ignored. It is not necessary to include the whole text, and regular expressions can be used, such as <b>.*</b> to match any substring or <b>[0-9]*</b> to match any number.</p>
<p>You will rarely need to change or add to this global list, but you may need to suppress a particular error or warning for a new test case. A typical case is a test that performs some illegal action on purpose to test the respone; if this also results in a warning in the server log, this should not cause this particular test to fail.</p>
<p>To add a suppresion for a warning text like for example <b>The table 't23456' is full</b> where the number in the table name can vary, add this line anywhere in the test case file:</p>
<pre class="fragment">call mtr.add_suppression("The table 't[0-9]*' is full");
</pre><p>This may be put anythere in the test, but we recommend putting it either near the top, or just after the action that may result in the warning. If you're adding this line to an existing test, keep in mind that it will be echoed in the output, so the exact same line also needs to be added to the corresponding place in the result file. Alternatively, you may turn off logging like this, and will then not have to edit the result file:</p>
<pre class="fragment">--disable_query_log
call mtr.add_suppression("The table 't[0-9]*' is full")
--enable_query_log
</pre><p>It is also possible to intruct <a class="el" href="PAGE_MYSQL_TEST_RUN_PL.html">mysql-test-run.pl</a> to skip the check for errors and warnings completely, by use of the <b><code>--nowarnings</code></b> command line option. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="PAGE_TESTING_TOOLS.html">Testing Tools</a></li><li class="navelem"><a class="el" href="PAGE_MYSQL_TEST_RUN.html">The MySQL Test Framework</a></li><li class="navelem"><a class="el" href="PAGE_WRITING_TESTCASES.html">Writing Test Cases</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
