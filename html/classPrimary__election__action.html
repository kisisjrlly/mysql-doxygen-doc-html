<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Primary_election_action Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classPrimary__election__action.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classPrimary__election__action-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Primary_election_action Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The group action class to do migration to primary mode or elect a primary.  
 <a href="classPrimary__election__action.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="primary__election__action_8h_source.html">primary_election_action.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Primary_election_action:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classPrimary__election__action.png" usemap="#Primary_5Felection_5Faction_map" alt=""/>
  <map id="Primary_5Felection_5Faction_map" name="Primary_5Felection_5Faction_map">
<area href="classGroup__action.html" title="The parent class for group wide operations. " alt="Group_action" shape="rect" coords="0,0,148,24"/>
<area href="classGroup__event__observer.html" title="Class that others can extend to receive notifications about views and primary elections. " alt="Group_event_observer" shape="rect" coords="158,0,306,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a806ae7af0539a9ef1e2d18dc5d070ab3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a806ae7af0539a9ef1e2d18dc5d070ab3">enum_action_execution_mode</a> { <a class="el" href="classPrimary__election__action.html#a806ae7af0539a9ef1e2d18dc5d070ab3a988167da80bc365fa77c973fbb735546">PRIMARY_ELECTION_ACTION_PRIMARY_SWITCH</a> = 0, 
<a class="el" href="classPrimary__election__action.html#a806ae7af0539a9ef1e2d18dc5d070ab3a9eda3d5483cc8f8bbfe347703f74557d">PRIMARY_ELECTION_ACTION_MODE_SWITCH</a> = 1, 
<a class="el" href="classPrimary__election__action.html#a806ae7af0539a9ef1e2d18dc5d070ab3a3225dce541f909edd12529789e110303">PRIMARY_ELECTION_ACTION_END</a> = 2
 }<tr class="memdesc:a806ae7af0539a9ef1e2d18dc5d070ab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for type of primary election executed.  <a href="classPrimary__election__action.html#a806ae7af0539a9ef1e2d18dc5d070ab3">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a806ae7af0539a9ef1e2d18dc5d070ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3aa8648a734e80d4cae187caa0ea5a1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1">enum_primary_election_phase</a> { <br />
&#160;&#160;<a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1a14e83c6c14d6333590c3b78784d31443">PRIMARY_NO_PHASE</a> = 0, 
<a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1ac814e551ec5bc9760f59efc81a79eb58">PRIMARY_VALIDATION_PHASE</a> = 1, 
<a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1ac964f97357a23e6e7696fb7fb51c5b7c">PRIMARY_SAFETY_CHECK_PHASE</a> = 2, 
<a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1a6236ede2c8ff3a38c3c020d02ae0c921">PRIMARY_ELECTION_PHASE</a> = 3, 
<br />
&#160;&#160;<a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1a8cadad8cf06ff3666753bcce7676532b">PRIMARY_ELECTED_PHASE</a> = 4
<br />
 }<tr class="memdesc:ae3aa8648a734e80d4cae187caa0ea5a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for the phases on the primary action.  <a href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ae3aa8648a734e80d4cae187caa0ea5a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classGroup__action"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classGroup__action')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classGroup__action.html">Group_action</a></td></tr>
<tr class="memitem:a7d0e75d444ec769173d10140989a3930 inherit pub_types_classGroup__action"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930">enum_action_execution_result</a> { <br />
&#160;&#160;<a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930a4c9145882db5827571936804bb434f9d">GROUP_ACTION_RESULT_TERMINATED</a> = 0, 
<a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930a7c0724944c9abc0dff4282b95c4310f7">GROUP_ACTION_RESULT_ERROR</a> = 1, 
<a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930a60c90db3e9196b1ad4c1970b3b65fc00">GROUP_ACTION_RESULT_RESTART</a> = 2, 
<a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930ad0f43839dccfdf95ae4fb75b84e9f3c0">GROUP_ACTION_RESULT_ABORTED</a> = 3, 
<br />
&#160;&#160;<a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930ac03654c3fc37c1b437fa4d9eaa781eed">GROUP_ACTION_RESULT_KILLED</a> = 4, 
<a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930a1a43b38183a89cf70fb77252a4ab288d">GROUP_ACTION_RESULT_END</a> = 5
<br />
 }<tr class="memdesc:a7d0e75d444ec769173d10140989a3930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for the end results of a action execution.  <a href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a7d0e75d444ec769173d10140989a3930 inherit pub_types_classGroup__action"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a11ca5355d7e56249d5ebe410cdbb137d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a11ca5355d7e56249d5ebe410cdbb137d">Primary_election_action</a> ()</td></tr>
<tr class="memdesc:a11ca5355d7e56249d5ebe410cdbb137d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new primary election action.  <a href="#a11ca5355d7e56249d5ebe410cdbb137d">More...</a><br /></td></tr>
<tr class="separator:a11ca5355d7e56249d5ebe410cdbb137d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea949d1eabf9bc24e763af0472055869"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#aea949d1eabf9bc24e763af0472055869">Primary_election_action</a> (std::string primary_uuid, <a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>)</td></tr>
<tr class="memdesc:aea949d1eabf9bc24e763af0472055869"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new primary election action with a given uuid.  <a href="#aea949d1eabf9bc24e763af0472055869">More...</a><br /></td></tr>
<tr class="separator:aea949d1eabf9bc24e763af0472055869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa2deee8cfdc92c5998c2414d2bfcfa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a1fa2deee8cfdc92c5998c2414d2bfcfa">~Primary_election_action</a> () override</td></tr>
<tr class="separator:a1fa2deee8cfdc92c5998c2414d2bfcfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04dae4e8330d8733fe9dd1417e9c0bd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a04dae4e8330d8733fe9dd1417e9c0bd5">get_action_message</a> (<a class="el" href="classGroup__action__message.html">Group_action_message</a> **message) override</td></tr>
<tr class="memdesc:a04dae4e8330d8733fe9dd1417e9c0bd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the message with parameters to this action.  <a href="#a04dae4e8330d8733fe9dd1417e9c0bd5">More...</a><br /></td></tr>
<tr class="separator:a04dae4e8330d8733fe9dd1417e9c0bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60b969ce654c0a28ddc7b4333b0217d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#ab60b969ce654c0a28ddc7b4333b0217d">process_action_message</a> (<a class="el" href="classGroup__action__message.html">Group_action_message</a> &amp;message, const std::string &amp;message_origin) override</td></tr>
<tr class="separator:ab60b969ce654c0a28ddc7b4333b0217d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f2d6e2c876db3c95a201fdd516e836"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930">Group_action::enum_action_execution_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a92f2d6e2c876db3c95a201fdd516e836">execute_action</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> invoking_member, <a class="el" href="classPlugin__stage__monitor__handler.html">Plugin_stage_monitor_handler</a> *stage_handler, <a class="el" href="classNotification__context.html">Notification_context</a> *) override</td></tr>
<tr class="memdesc:a92f2d6e2c876db3c95a201fdd516e836"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the action.  <a href="#a92f2d6e2c876db3c95a201fdd516e836">More...</a><br /></td></tr>
<tr class="separator:a92f2d6e2c876db3c95a201fdd516e836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b25f5645bdd91aba3b6299063ce404e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a5b25f5645bdd91aba3b6299063ce404e">stop_action_execution</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> killed) override</td></tr>
<tr class="separator:a5b25f5645bdd91aba3b6299063ce404e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5c5ecda71948add987bacee08f0d2e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a8e5c5ecda71948add987bacee08f0d2e">get_action_name</a> () override</td></tr>
<tr class="memdesc:a8e5c5ecda71948add987bacee08f0d2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the action for debug messages and such.  <a href="#a8e5c5ecda71948add987bacee08f0d2e">More...</a><br /></td></tr>
<tr class="separator:a8e5c5ecda71948add987bacee08f0d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72bf718601ca2d3f70a063b67b2805c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGroup__action__diagnostics.html">Group_action_diagnostics</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a72bf718601ca2d3f70a063b67b2805c2">get_execution_info</a> () override</td></tr>
<tr class="memdesc:a72bf718601ca2d3f70a063b67b2805c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the info about execution, be it success or failure.  <a href="#a72bf718601ca2d3f70a063b67b2805c2">More...</a><br /></td></tr>
<tr class="separator:a72bf718601ca2d3f70a063b67b2805c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae700fbcc1147e01d33f31484d682a9e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psi__abi__stage.html#gad285b941beea7d9e0a72d0070c084998">PSI_stage_key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#ae700fbcc1147e01d33f31484d682a9e7">get_action_stage_termination_key</a> () override</td></tr>
<tr class="memdesc:ae700fbcc1147e01d33f31484d682a9e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">For this action, what is the PSI key for the last stage when the action is terminating.  <a href="#ae700fbcc1147e01d33f31484d682a9e7">More...</a><br /></td></tr>
<tr class="separator:ae700fbcc1147e01d33f31484d682a9e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classGroup__action"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classGroup__action')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classGroup__action.html">Group_action</a></td></tr>
<tr class="memitem:a962991d7229810ab9aa40ffb4ad38899 inherit pub_methods_classGroup__action"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroup__action.html#a962991d7229810ab9aa40ffb4ad38899">~Group_action</a> ()=0</td></tr>
<tr class="separator:a962991d7229810ab9aa40ffb4ad38899 inherit pub_methods_classGroup__action"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac76b3b90881717590291fe6d598ad5dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#ac76b3b90881717590291fe6d598ad5dd">persist_variable_values</a> ()</td></tr>
<tr class="memdesc:ac76b3b90881717590291fe6d598ad5dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Persist the value of the variables changed in the action.  <a href="#ac76b3b90881717590291fe6d598ad5dd">More...</a><br /></td></tr>
<tr class="separator:ac76b3b90881717590291fe6d598ad5dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1bffe56d8a6a47c15b6da41925484c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#aed1bffe56d8a6a47c15b6da41925484c">log_result_execution</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="udf__utils_8h.html#a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282">error</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> aborted, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mode_changed)</td></tr>
<tr class="memdesc:aed1bffe56d8a6a47c15b6da41925484c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log the result of the execution.  <a href="#aed1bffe56d8a6a47c15b6da41925484c">More...</a><br /></td></tr>
<tr class="separator:aed1bffe56d8a6a47c15b6da41925484c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac49d2358e0aab9003a09590bf48cd937"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#ac49d2358e0aab9003a09590bf48cd937">after_view_change</a> (const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;joining, const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;leaving, const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;group, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_leaving, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *skip_election, <a class="el" href="primary__election__include_8h.html#a13e5b9dcdd3ff9d4b06f3b71f8974a35">enum_primary_election_mode</a> *election_mode, std::string &amp;suggested_primary) override</td></tr>
<tr class="memdesc:ac49d2358e0aab9003a09590bf48cd937"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed after view install and before primary election.  <a href="#ac49d2358e0aab9003a09590bf48cd937">More...</a><br /></td></tr>
<tr class="separator:ac49d2358e0aab9003a09590bf48cd937"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a854ef2af7d8354946b0d7866654e0e71"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a854ef2af7d8354946b0d7866654e0e71">after_primary_election</a> (std::string primary_uuid, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classPrimary__election__action.html#a62420bca4aadbdefd0a522cc3772353e">primary_changed</a>, <a class="el" href="primary__election__include_8h.html#a13e5b9dcdd3ff9d4b06f3b71f8974a35">enum_primary_election_mode</a> election_mode, int <a class="el" href="udf__utils_8h.html#a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282">error</a>) override</td></tr>
<tr class="memdesc:a854ef2af7d8354946b0d7866654e0e71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed after primary election.  <a href="#a854ef2af7d8354946b0d7866654e0e71">More...</a><br /></td></tr>
<tr class="separator:a854ef2af7d8354946b0d7866654e0e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ccd4988983e54eac2a935e7b648693b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a1ccd4988983e54eac2a935e7b648693b">before_message_handling</a> (const <a class="el" href="classPlugin__gcs__message.html">Plugin_gcs_message</a> &amp;message, const std::string &amp;message_origin, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *skip_message) override</td></tr>
<tr class="memdesc:a1ccd4988983e54eac2a935e7b648693b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed before the message is processed.  <a href="#a1ccd4988983e54eac2a935e7b648693b">More...</a><br /></td></tr>
<tr class="separator:a1ccd4988983e54eac2a935e7b648693b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78032a48ef5bb96649f646b3ebd7c3da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a78032a48ef5bb96649f646b3ebd7c3da">change_action_phase</a> (<a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1">enum_primary_election_phase</a> phase)</td></tr>
<tr class="memdesc:a78032a48ef5bb96649f646b3ebd7c3da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the phase where the action is currently.  <a href="#a78032a48ef5bb96649f646b3ebd7c3da">More...</a><br /></td></tr>
<tr class="separator:a78032a48ef5bb96649f646b3ebd7c3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classGroup__event__observer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classGroup__event__observer')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="classGroup__event__observer.html">Group_event_observer</a></td></tr>
<tr class="memitem:a162dc556e395b679b8be88d537410473 inherit pub_methods_classGroup__event__observer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroup__event__observer.html#a162dc556e395b679b8be88d537410473">~Group_event_observer</a> ()=0</td></tr>
<tr class="separator:a162dc556e395b679b8be88d537410473 inherit pub_methods_classGroup__event__observer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa867c5b4042a1995975cea1f8ffbbbe5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPrimary__election__action.html#a806ae7af0539a9ef1e2d18dc5d070ab3">enum_action_execution_mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#aa867c5b4042a1995975cea1f8ffbbbe5">action_execution_mode</a></td></tr>
<tr class="memdesc:aa867c5b4042a1995975cea1f8ffbbbe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this an primary change or mode change.  <a href="#aa867c5b4042a1995975cea1f8ffbbbe5">More...</a><br /></td></tr>
<tr class="separator:aa867c5b4042a1995975cea1f8ffbbbe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a93bafc48a09e85444678bfaa6ba698"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1">enum_primary_election_phase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a5a93bafc48a09e85444678bfaa6ba698">current_action_phase</a></td></tr>
<tr class="memdesc:a5a93bafc48a09e85444678bfaa6ba698"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current phase.  <a href="#a5a93bafc48a09e85444678bfaa6ba698">More...</a><br /></td></tr>
<tr class="separator:a5a93bafc48a09e85444678bfaa6ba698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a934927cc302563dacc8ff252adb4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a68a934927cc302563dacc8ff252adb4f">phase_lock</a></td></tr>
<tr class="memdesc:a68a934927cc302563dacc8ff252adb4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock for the phase change.  <a href="#a68a934927cc302563dacc8ff252adb4f">More...</a><br /></td></tr>
<tr class="separator:a68a934927cc302563dacc8ff252adb4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa176562df1c2f92c538a3dcadc10a36c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#aa176562df1c2f92c538a3dcadc10a36c">single_election_action_aborted</a></td></tr>
<tr class="memdesc:aa176562df1c2f92c538a3dcadc10a36c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this action aborted.  <a href="#aa176562df1c2f92c538a3dcadc10a36c">More...</a><br /></td></tr>
<tr class="separator:aa176562df1c2f92c538a3dcadc10a36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b66d41f1c5b3e0eee3d5a1fa24b735"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a83b66d41f1c5b3e0eee3d5a1fa24b735">error_on_primary_election</a></td></tr>
<tr class="memdesc:a83b66d41f1c5b3e0eee3d5a1fa24b735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Was there an error in the election.  <a href="#a83b66d41f1c5b3e0eee3d5a1fa24b735">More...</a><br /></td></tr>
<tr class="separator:a83b66d41f1c5b3e0eee3d5a1fa24b735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d60377f06d7bef48380bdbe3b5f10e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a05d60377f06d7bef48380bdbe3b5f10e">action_killed</a></td></tr>
<tr class="memdesc:a05d60377f06d7bef48380bdbe3b5f10e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Was this action order to terminate by a kill signal.  <a href="#a05d60377f06d7bef48380bdbe3b5f10e">More...</a><br /></td></tr>
<tr class="separator:a05d60377f06d7bef48380bdbe3b5f10e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cbfaa2eae24f8ac17f9d73079be2f67"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a4cbfaa2eae24f8ac17f9d73079be2f67">appointed_primary_uuid</a></td></tr>
<tr class="memdesc:a4cbfaa2eae24f8ac17f9d73079be2f67"><td class="mdescLeft">&#160;</td><td class="mdescRight">The primary to elect.  <a href="#a4cbfaa2eae24f8ac17f9d73079be2f67">More...</a><br /></td></tr>
<tr class="separator:a4cbfaa2eae24f8ac17f9d73079be2f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a942a12b676ec19b108e227b994569027"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a942a12b676ec19b108e227b994569027">appointed_primary_gcs_id</a></td></tr>
<tr class="memdesc:a942a12b676ec19b108e227b994569027"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id of the primary to elect.  <a href="#a942a12b676ec19b108e227b994569027">More...</a><br /></td></tr>
<tr class="separator:a942a12b676ec19b108e227b994569027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57772701378ab381559cc00952428c2a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a57772701378ab381559cc00952428c2a">invoking_member_gcs_id</a></td></tr>
<tr class="memdesc:a57772701378ab381559cc00952428c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The id of the invoking primary.  <a href="#a57772701378ab381559cc00952428c2a">More...</a><br /></td></tr>
<tr class="separator:a57772701378ab381559cc00952428c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624c86a1bfcf8ff4a0f56a4c6493040a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a624c86a1bfcf8ff4a0f56a4c6493040a">old_primary_uuid</a></td></tr>
<tr class="memdesc:a624c86a1bfcf8ff4a0f56a4c6493040a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The uuid of the original master at action invocation.  <a href="#a624c86a1bfcf8ff4a0f56a4c6493040a">More...</a><br /></td></tr>
<tr class="separator:a624c86a1bfcf8ff4a0f56a4c6493040a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc52e2fcb56258ab782286e6a50a538f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#acc52e2fcb56258ab782286e6a50a538f">is_primary</a></td></tr>
<tr class="memdesc:acc52e2fcb56258ab782286e6a50a538f"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this member is old primary.  <a href="#acc52e2fcb56258ab782286e6a50a538f">More...</a><br /></td></tr>
<tr class="separator:acc52e2fcb56258ab782286e6a50a538f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77281fbbe0422e3c79db342a3a514f4b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a77281fbbe0422e3c79db342a3a514f4b">invoking_thread_id</a></td></tr>
<tr class="memdesc:a77281fbbe0422e3c79db342a3a514f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The thread that invoked this action - if applicable, 0 otherwise.  <a href="#a77281fbbe0422e3c79db342a3a514f4b">More...</a><br /></td></tr>
<tr class="separator:a77281fbbe0422e3c79db342a3a514f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b89e85e009a06914b1fa258579dfeca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a3b89e85e009a06914b1fa258579dfeca">is_primary_election_invoked</a></td></tr>
<tr class="memdesc:a3b89e85e009a06914b1fa258579dfeca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the primary election invoked.  <a href="#a3b89e85e009a06914b1fa258579dfeca">More...</a><br /></td></tr>
<tr class="separator:a3b89e85e009a06914b1fa258579dfeca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989cb27d752283b414b39cc7d6a9d4dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a989cb27d752283b414b39cc7d6a9d4dc">is_primary_elected</a></td></tr>
<tr class="memdesc:a989cb27d752283b414b39cc7d6a9d4dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the primary elected.  <a href="#a989cb27d752283b414b39cc7d6a9d4dc">More...</a><br /></td></tr>
<tr class="separator:a989cb27d752283b414b39cc7d6a9d4dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62420bca4aadbdefd0a522cc3772353e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a62420bca4aadbdefd0a522cc3772353e">primary_changed</a></td></tr>
<tr class="memdesc:a62420bca4aadbdefd0a522cc3772353e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Did the primary change.  <a href="#a62420bca4aadbdefd0a522cc3772353e">More...</a><br /></td></tr>
<tr class="separator:a62420bca4aadbdefd0a522cc3772353e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bfcaeb40b6df7844789d8842222cf06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a9bfcaeb40b6df7844789d8842222cf06">is_transaction_queue_applied</a></td></tr>
<tr class="memdesc:a9bfcaeb40b6df7844789d8842222cf06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the transaction back log consumed.  <a href="#a9bfcaeb40b6df7844789d8842222cf06">More...</a><br /></td></tr>
<tr class="separator:a9bfcaeb40b6df7844789d8842222cf06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe1f4c9768df7e40349dd83d9d0e96a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a5fe1f4c9768df7e40349dd83d9d0e96a">notification_lock</a></td></tr>
<tr class="memdesc:a5fe1f4c9768df7e40349dd83d9d0e96a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The lock for notifications.  <a href="#a5fe1f4c9768df7e40349dd83d9d0e96a">More...</a><br /></td></tr>
<tr class="separator:a5fe1f4c9768df7e40349dd83d9d0e96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cec80eaa3f5f7ba6147660e76940d6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__cond__t.html">mysql_cond_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a8cec80eaa3f5f7ba6147660e76940d6d">notification_cond</a></td></tr>
<tr class="memdesc:a8cec80eaa3f5f7ba6147660e76940d6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The condition for notifications.  <a href="#a8cec80eaa3f5f7ba6147660e76940d6d">More...</a><br /></td></tr>
<tr class="separator:a8cec80eaa3f5f7ba6147660e76940d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7197f925a604fd5143d56610b76ed81c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPrimary__election__validation__handler.html">Primary_election_validation_handler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#a7197f925a604fd5143d56610b76ed81c">validation_handler</a></td></tr>
<tr class="memdesc:a7197f925a604fd5143d56610b76ed81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The handler for primary election validations.  <a href="#a7197f925a604fd5143d56610b76ed81c">More...</a><br /></td></tr>
<tr class="separator:a7197f925a604fd5143d56610b76ed81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7866e0eafa8e43b12a43fe0fc79a2e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGroup__action__diagnostics.html">Group_action_diagnostics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPrimary__election__action.html#ae7866e0eafa8e43b12a43fe0fc79a2e8">execution_message_area</a></td></tr>
<tr class="memdesc:ae7866e0eafa8e43b12a43fe0fc79a2e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Place to store result messages.  <a href="#ae7866e0eafa8e43b12a43fe0fc79a2e8">More...</a><br /></td></tr>
<tr class="separator:ae7866e0eafa8e43b12a43fe0fc79a2e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The group action class to do migration to primary mode or elect a primary. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a806ae7af0539a9ef1e2d18dc5d070ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a806ae7af0539a9ef1e2d18dc5d070ab3">&#9670;&nbsp;</a></span>enum_action_execution_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classPrimary__election__action.html#a806ae7af0539a9ef1e2d18dc5d070ab3">Primary_election_action::enum_action_execution_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum for type of primary election executed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a806ae7af0539a9ef1e2d18dc5d070ab3a988167da80bc365fa77c973fbb735546"></a>PRIMARY_ELECTION_ACTION_PRIMARY_SWITCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a806ae7af0539a9ef1e2d18dc5d070ab3a9eda3d5483cc8f8bbfe347703f74557d"></a>PRIMARY_ELECTION_ACTION_MODE_SWITCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a806ae7af0539a9ef1e2d18dc5d070ab3a3225dce541f909edd12529789e110303"></a>PRIMARY_ELECTION_ACTION_END&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="ae3aa8648a734e80d4cae187caa0ea5a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3aa8648a734e80d4cae187caa0ea5a1">&#9670;&nbsp;</a></span>enum_primary_election_phase</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1">Primary_election_action::enum_primary_election_phase</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum for the phases on the primary action. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae3aa8648a734e80d4cae187caa0ea5a1a14e83c6c14d6333590c3b78784d31443"></a>PRIMARY_NO_PHASE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae3aa8648a734e80d4cae187caa0ea5a1ac814e551ec5bc9760f59efc81a79eb58"></a>PRIMARY_VALIDATION_PHASE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae3aa8648a734e80d4cae187caa0ea5a1ac964f97357a23e6e7696fb7fb51c5b7c"></a>PRIMARY_SAFETY_CHECK_PHASE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae3aa8648a734e80d4cae187caa0ea5a1a6236ede2c8ff3a38c3c020d02ae0c921"></a>PRIMARY_ELECTION_PHASE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae3aa8648a734e80d4cae187caa0ea5a1a8cadad8cf06ff3666753bcce7676532b"></a>PRIMARY_ELECTED_PHASE&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a11ca5355d7e56249d5ebe410cdbb137d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11ca5355d7e56249d5ebe410cdbb137d">&#9670;&nbsp;</a></span>Primary_election_action() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Primary_election_action::Primary_election_action </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new primary election action. </p>

</div>
</div>
<a id="aea949d1eabf9bc24e763af0472055869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea949d1eabf9bc24e763af0472055869">&#9670;&nbsp;</a></span>Primary_election_action() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Primary_election_action::Primary_election_action </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>primary_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new primary election action with a given uuid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">primary_uuid</td><td>the primary uuid to elect, can be empty </td></tr>
    <tr><td class="paramname">thread_id</td><td>the local thread id that is invoking this action </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1fa2deee8cfdc92c5998c2414d2bfcfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa2deee8cfdc92c5998c2414d2bfcfa">&#9670;&nbsp;</a></span>~Primary_election_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Primary_election_action::~Primary_election_action </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a854ef2af7d8354946b0d7866654e0e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a854ef2af7d8354946b0d7866654e0e71">&#9670;&nbsp;</a></span>after_primary_election()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Primary_election_action::after_primary_election </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>primary_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>primary_changed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="primary__election__include_8h.html#a13e5b9dcdd3ff9d4b06f3b71f8974a35">enum_primary_election_mode</a>&#160;</td>
          <td class="paramname"><em>election_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed after primary election. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">primary_uuid</td><td>the elected primary </td></tr>
    <tr><td class="paramname">primary_changed</td><td>if the primary changed after the election </td></tr>
    <tr><td class="paramname">election_mode</td><td>what was the election mode </td></tr>
    <tr><td class="paramname">error</td><td>if there was and error on the process </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__event__observer.html#a5e692b7759e5f692804ad703f9993324">Group_event_observer</a>.</p>

</div>
</div>
<a id="ac49d2358e0aab9003a09590bf48cd937"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac49d2358e0aab9003a09590bf48cd937">&#9670;&nbsp;</a></span>after_view_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Primary_election_action::after_view_change </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>joining</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>leaving</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_leaving</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>skip_election</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="primary__election__include_8h.html#a13e5b9dcdd3ff9d4b06f3b71f8974a35">enum_primary_election_mode</a> *&#160;</td>
          <td class="paramname"><em>election_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>suggested_primary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed after view install and before primary election. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">joining</td><td>members joining the group </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">leaving</td><td>members leaving the group </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">group</td><td>members in the group </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">is_leaving</td><td>is the member leaving </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">skip_election</td><td>skip primary election on view </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">election_mode</td><td>election mode </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">suggested_primary</td><td>what should be the next primary to elect </td></tr>
  </table>
  </dd>
</dl>
<p>Either: -This is a change from SP and the the old primary died, so there is no invoking member, nor a member that is waiting on local transactions. -On changes from multi primary, and the invoking member left</p>
<p>For all the old secondaries that remain this means:</p><ol type="1">
<li>If election was already called, then we don't care</li>
<li>If election was not yet called then, either 2.1 we are still validating the appointed primary, so we just change what the invoking member is 2.2 we have already validate it, so if this is the new invoker it must invoke the new primary election</li>
</ol>
<p>Note that this state change from validation to the next state is not in a group logical moment so different members can be at different stages. Still all that members care is the moment the election is called, so the result will be the same at all members. If the primary is not valid, the stage never changed from validation so member will invoke the election here. If valid, members will either update the invoking member or invoke the election according to the stage (hence the phase lock)</p>
<p>We also make the failover primary election process to be skipped, because we want a specific primary to be elected.</p>
<p>There is an election and the primary being elected dies.</p>
<p>Case 1: We are moving to another primary, and it failed. The process will fail abort but we still try to invoke an election to go back to the old primary.</p>
<p>Case 2: We are moving to single primary mode and the appointed primary died, then we move to another primary and emit a warning</p>
<p>Note 1: We pass election params instead of invoking them because of the hook mechanism that is invoking this method and is also used in the invoked election methods.</p>
<p>Check if we can change to the old primary. If this variable is empty, it is not present.</p>

<p>Implements <a class="el" href="classGroup__event__observer.html#ab44b8d2129174ebab3baaf7dea2fddae">Group_event_observer</a>.</p>

</div>
</div>
<a id="a1ccd4988983e54eac2a935e7b648693b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ccd4988983e54eac2a935e7b648693b">&#9670;&nbsp;</a></span>before_message_handling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Primary_election_action::before_message_handling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPlugin__gcs__message.html">Plugin_gcs_message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message_origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>skip_message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed before the message is processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">message</td><td>The GCS message </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">message_origin</td><td>The member that sent this message (address) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">skip_message</td><td>skip message handling if true </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__event__observer.html#a599fc54d0976d4f8007532410b3a9eb1">Group_event_observer</a>.</p>

</div>
</div>
<a id="a78032a48ef5bb96649f646b3ebd7c3da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78032a48ef5bb96649f646b3ebd7c3da">&#9670;&nbsp;</a></span>change_action_phase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Primary_election_action::change_action_phase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1">enum_primary_election_phase</a>&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Changes the phase where the action is currently. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the new election primary execution phase </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a92f2d6e2c876db3c95a201fdd516e836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92f2d6e2c876db3c95a201fdd516e836">&#9670;&nbsp;</a></span>execute_action()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGroup__action.html#a7d0e75d444ec769173d10140989a3930">Group_action::enum_action_execution_result</a> Primary_election_action::execute_action </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>invoking_member</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPlugin__stage__monitor__handler.html">Plugin_stage_monitor_handler</a> *&#160;</td>
          <td class="paramname"><em>stage_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classNotification__context.html">Notification_context</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute the action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">invoking_member</td><td>is the member that invoked it </td></tr>
    <tr><td class="paramname">stage_handler</td><td>the stage handler to report progress</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the execution result </dd></dl>

<p>Implements <a class="el" href="classGroup__action.html#a53caa5ddc38bf4f65a04038d06604375">Group_action</a>.</p>

</div>
</div>
<a id="a04dae4e8330d8733fe9dd1417e9c0bd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04dae4e8330d8733fe9dd1417e9c0bd5">&#9670;&nbsp;</a></span>get_action_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Primary_election_action::get_action_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGroup__action__message.html">Group_action_message</a> **&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the message with parameters to this action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">message</td><td>the message to start the action </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__action.html#a20643f54d44c71642f796588635090c2">Group_action</a>.</p>

</div>
</div>
<a id="a8e5c5ecda71948add987bacee08f0d2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5c5ecda71948add987bacee08f0d2e">&#9670;&nbsp;</a></span>get_action_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * Primary_election_action::get_action_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the action for debug messages and such. </p>
<dl class="section return"><dt>Returns</dt><dd>the action name </dd></dl>

<p>Implements <a class="el" href="classGroup__action.html#aef3b212a8ae5964735dd92354e446ef2">Group_action</a>.</p>

</div>
</div>
<a id="ae700fbcc1147e01d33f31484d682a9e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae700fbcc1147e01d33f31484d682a9e7">&#9670;&nbsp;</a></span>get_action_stage_termination_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psi__abi__stage.html#gad285b941beea7d9e0a72d0070c084998">PSI_stage_key</a> Primary_election_action::get_action_stage_termination_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For this action, what is the PSI key for the last stage when the action is terminating. </p>
<dl class="section return"><dt>Returns</dt><dd>The stage key for this class </dd></dl>

<p>Reimplemented from <a class="el" href="classGroup__action.html#a6e7845a9553b45be8cc73f448a4543dc">Group_action</a>.</p>

</div>
</div>
<a id="a72bf718601ca2d3f70a063b67b2805c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72bf718601ca2d3f70a063b67b2805c2">&#9670;&nbsp;</a></span>get_execution_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGroup__action__diagnostics.html">Group_action_diagnostics</a> * Primary_election_action::get_execution_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the info about execution, be it success or failure. </p>
<dl class="section return"><dt>Returns</dt><dd>the execution diagnostics object that was the message and its level </dd></dl>

<p>Implements <a class="el" href="classGroup__action.html#aa2997faef6efee53955f1d5981e13bc7">Group_action</a>.</p>

</div>
</div>
<a id="aed1bffe56d8a6a47c15b6da41925484c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed1bffe56d8a6a47c15b6da41925484c">&#9670;&nbsp;</a></span>log_result_execution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Primary_election_action::log_result_execution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>aborted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>mode_changed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Log the result of the execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>Did an error occurred </td></tr>
    <tr><td class="paramname">aborted</td><td>was the action aborted? </td></tr>
    <tr><td class="paramname">mode_changed</td><td>was the mode changed to single primary? </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac76b3b90881717590291fe6d598ad5dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76b3b90881717590291fe6d598ad5dd">&#9670;&nbsp;</a></span>persist_variable_values()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::persist_variable_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Persist the value of the variables changed in the action. </p>
<dl class="section return"><dt>Returns</dt><dd>true if a problem was found, false otherwise </dd></dl>

</div>
</div>
<a id="ab60b969ce654c0a28ddc7b4333b0217d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab60b969ce654c0a28ddc7b4333b0217d">&#9670;&nbsp;</a></span>process_action_message()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Primary_election_action::process_action_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGroup__action__message.html">Group_action_message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message_origin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classGroup__action.html#aa9e496cfc308ca6e6a4fb2ba3e58415e">Group_action</a>.</p>

</div>
</div>
<a id="a5b25f5645bdd91aba3b6299063ce404e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b25f5645bdd91aba3b6299063ce404e">&#9670;&nbsp;</a></span>stop_action_execution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::stop_action_execution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>killed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classGroup__action.html#aae868d3fb0a4fc3ea66fe36b10d20eec">Group_action</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa867c5b4042a1995975cea1f8ffbbbe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa867c5b4042a1995975cea1f8ffbbbe5">&#9670;&nbsp;</a></span>action_execution_mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPrimary__election__action.html#a806ae7af0539a9ef1e2d18dc5d070ab3">enum_action_execution_mode</a> Primary_election_action::action_execution_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this an primary change or mode change. </p>

</div>
</div>
<a id="a05d60377f06d7bef48380bdbe3b5f10e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d60377f06d7bef48380bdbe3b5f10e">&#9670;&nbsp;</a></span>action_killed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::action_killed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Was this action order to terminate by a kill signal. </p>

</div>
</div>
<a id="a942a12b676ec19b108e227b994569027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a942a12b676ec19b108e227b994569027">&#9670;&nbsp;</a></span>appointed_primary_gcs_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Primary_election_action::appointed_primary_gcs_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The id of the primary to elect. </p>

</div>
</div>
<a id="a4cbfaa2eae24f8ac17f9d73079be2f67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cbfaa2eae24f8ac17f9d73079be2f67">&#9670;&nbsp;</a></span>appointed_primary_uuid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Primary_election_action::appointed_primary_uuid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The primary to elect. </p>

</div>
</div>
<a id="a5a93bafc48a09e85444678bfaa6ba698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a93bafc48a09e85444678bfaa6ba698">&#9670;&nbsp;</a></span>current_action_phase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPrimary__election__action.html#ae3aa8648a734e80d4cae187caa0ea5a1">enum_primary_election_phase</a> Primary_election_action::current_action_phase</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current phase. </p>

</div>
</div>
<a id="a83b66d41f1c5b3e0eee3d5a1fa24b735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b66d41f1c5b3e0eee3d5a1fa24b735">&#9670;&nbsp;</a></span>error_on_primary_election</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::error_on_primary_election</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Was there an error in the election. </p>

</div>
</div>
<a id="ae7866e0eafa8e43b12a43fe0fc79a2e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7866e0eafa8e43b12a43fe0fc79a2e8">&#9670;&nbsp;</a></span>execution_message_area</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGroup__action__diagnostics.html">Group_action_diagnostics</a> Primary_election_action::execution_message_area</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Place to store result messages. </p>

</div>
</div>
<a id="a57772701378ab381559cc00952428c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57772701378ab381559cc00952428c2a">&#9670;&nbsp;</a></span>invoking_member_gcs_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Primary_election_action::invoking_member_gcs_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The id of the invoking primary. </p>

</div>
</div>
<a id="a77281fbbe0422e3c79db342a3a514f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77281fbbe0422e3c79db342a3a514f4b">&#9670;&nbsp;</a></span>invoking_thread_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> Primary_election_action::invoking_thread_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The thread that invoked this action - if applicable, 0 otherwise. </p>

</div>
</div>
<a id="acc52e2fcb56258ab782286e6a50a538f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc52e2fcb56258ab782286e6a50a538f">&#9670;&nbsp;</a></span>is_primary</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::is_primary</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If this member is old primary. </p>

</div>
</div>
<a id="a989cb27d752283b414b39cc7d6a9d4dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989cb27d752283b414b39cc7d6a9d4dc">&#9670;&nbsp;</a></span>is_primary_elected</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::is_primary_elected</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the primary elected. </p>

</div>
</div>
<a id="a3b89e85e009a06914b1fa258579dfeca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b89e85e009a06914b1fa258579dfeca">&#9670;&nbsp;</a></span>is_primary_election_invoked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::is_primary_election_invoked</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the primary election invoked. </p>

</div>
</div>
<a id="a9bfcaeb40b6df7844789d8842222cf06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bfcaeb40b6df7844789d8842222cf06">&#9670;&nbsp;</a></span>is_transaction_queue_applied</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::is_transaction_queue_applied</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the transaction back log consumed. </p>

</div>
</div>
<a id="a8cec80eaa3f5f7ba6147660e76940d6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cec80eaa3f5f7ba6147660e76940d6d">&#9670;&nbsp;</a></span>notification_cond</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__cond__t.html">mysql_cond_t</a> Primary_election_action::notification_cond</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The condition for notifications. </p>

</div>
</div>
<a id="a5fe1f4c9768df7e40349dd83d9d0e96a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fe1f4c9768df7e40349dd83d9d0e96a">&#9670;&nbsp;</a></span>notification_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> Primary_election_action::notification_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The lock for notifications. </p>

</div>
</div>
<a id="a624c86a1bfcf8ff4a0f56a4c6493040a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624c86a1bfcf8ff4a0f56a4c6493040a">&#9670;&nbsp;</a></span>old_primary_uuid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Primary_election_action::old_primary_uuid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The uuid of the original master at action invocation. </p>

</div>
</div>
<a id="a68a934927cc302563dacc8ff252adb4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a934927cc302563dacc8ff252adb4f">&#9670;&nbsp;</a></span>phase_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> Primary_election_action::phase_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock for the phase change. </p>

</div>
</div>
<a id="a62420bca4aadbdefd0a522cc3772353e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62420bca4aadbdefd0a522cc3772353e">&#9670;&nbsp;</a></span>primary_changed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::primary_changed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Did the primary change. </p>

</div>
</div>
<a id="aa176562df1c2f92c538a3dcadc10a36c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa176562df1c2f92c538a3dcadc10a36c">&#9670;&nbsp;</a></span>single_election_action_aborted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Primary_election_action::single_election_action_aborted</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this action aborted. </p>

</div>
</div>
<a id="a7197f925a604fd5143d56610b76ed81c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7197f925a604fd5143d56610b76ed81c">&#9670;&nbsp;</a></span>validation_handler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPrimary__election__validation__handler.html">Primary_election_validation_handler</a> Primary_election_action::validation_handler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The handler for primary election validations. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>plugin/group_replication/include/group_actions/<a class="el" href="primary__election__action_8h_source.html">primary_election_action.h</a></li>
<li>plugin/group_replication/src/group_actions/<a class="el" href="primary__election__action_8cc.html">primary_election_action.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classPrimary__election__action.html">Primary_election_action</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
