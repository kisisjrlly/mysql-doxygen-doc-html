<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Remote_clone_handler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classRemote__clone__handler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classRemote__clone__handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Remote_clone_handler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that hold the logic to decide if we should or not execute a clone operation and the logic to launch it.  
 <a href="classRemote__clone__handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="remote__clone__handler_8h_source.html">remote_clone_handler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Remote_clone_handler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classRemote__clone__handler.png" usemap="#Remote_5Fclone_5Fhandler_map" alt=""/>
  <map id="Remote_5Fclone_5Fhandler_map" name="Remote_5Fclone_5Fhandler_map">
<area href="classGroup__event__observer.html" title="Class that others can extend to receive notifications about views and primary elections. " alt="Group_event_observer" shape="rect" coords="0,0,143,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2315196cdc3de77dc2b700fd813056a5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5">enum_clone_check_result</a> { <br />
&#160;&#160;<a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5ae852afe1545ee9d4830fbd3e69825c00">DO_CLONE</a> = 0, 
<a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5a3486a3f1f80273c46e08c2004b5a219c">DO_RECOVERY</a> = 1, 
<a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5ae2b24ecc201d48f6003f8e9b22441a90">CHECK_ERROR</a> = 2, 
<a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5a1274055782d3fd15dd1dc5b992c7e24a">NO_RECOVERY_POSSIBLE</a> = 3, 
<br />
&#160;&#160;<a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5a9b4118b9288f8c9cfaab3cef00284495">CLONE_CHECKS_END</a> = 4
<br />
 }<tr class="memdesc:a2315196cdc3de77dc2b700fd813056a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The possible results when checking what is the recovery strategy.  <a href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a2315196cdc3de77dc2b700fd813056a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7bb3168b75117760892d0cfc8c31fbdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a7bb3168b75117760892d0cfc8c31fbdf">Remote_clone_handler</a> (<a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> threshold, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> components_stop_timeout)</td></tr>
<tr class="memdesc:a7bb3168b75117760892d0cfc8c31fbdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the remote cloning handler.  <a href="#a7bb3168b75117760892d0cfc8c31fbdf">More...</a><br /></td></tr>
<tr class="separator:a7bb3168b75117760892d0cfc8c31fbdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bee264104b303735d5f07409abcba5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a89bee264104b303735d5f07409abcba5">~Remote_clone_handler</a> () override</td></tr>
<tr class="memdesc:a89bee264104b303735d5f07409abcba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor.  <a href="#a89bee264104b303735d5f07409abcba5">More...</a><br /></td></tr>
<tr class="separator:a89bee264104b303735d5f07409abcba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7816cf21f28724d1db6083ba2e190181"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a7816cf21f28724d1db6083ba2e190181">set_clone_threshold</a> (<a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> threshold)</td></tr>
<tr class="memdesc:a7816cf21f28724d1db6083ba2e190181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the class threshold for clone activation.  <a href="#a7816cf21f28724d1db6083ba2e190181">More...</a><br /></td></tr>
<tr class="separator:a7816cf21f28724d1db6083ba2e190181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeba428794d092ab52a0303c0ed793bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#adeba428794d092ab52a0303c0ed793bc">extract_donor_info</a> (std::tuple&lt; <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> &gt; *donor_info)</td></tr>
<tr class="separator:adeba428794d092ab52a0303c0ed793bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac862469e588069f07fc9cda87d298a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5">enum_clone_check_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a3ac862469e588069f07fc9cda87d298a">check_clone_preconditions</a> ()</td></tr>
<tr class="memdesc:a3ac862469e588069f07fc9cda87d298a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if clone or distributed recovery shall be used for provisioning.  <a href="#a3ac862469e588069f07fc9cda87d298a">More...</a><br /></td></tr>
<tr class="separator:a3ac862469e588069f07fc9cda87d298a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e537d1f013098c00d626131742e2717"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a2e537d1f013098c00d626131742e2717">clone_server</a> (const std::string &amp;group_name, const std::string &amp;view_id)</td></tr>
<tr class="memdesc:a2e537d1f013098c00d626131742e2717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Launch the clone process with some preliminary checks.  <a href="#a2e537d1f013098c00d626131742e2717">More...</a><br /></td></tr>
<tr class="separator:a2e537d1f013098c00d626131742e2717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88dabc650df5889e1cd47d75d6b9a28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#ab88dabc650df5889e1cd47d75d6b9a28">terminate_clone_process</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rejoin)</td></tr>
<tr class="memdesc:ab88dabc650df5889e1cd47d75d6b9a28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate the clone process.  <a href="#ab88dabc650df5889e1cd47d75d6b9a28">More...</a><br /></td></tr>
<tr class="separator:ab88dabc650df5889e1cd47d75d6b9a28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816b4b3445a7edf0b433c9ae8fb32e52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a816b4b3445a7edf0b433c9ae8fb32e52">lock_gr_clone_read_mode_lock</a> ()</td></tr>
<tr class="memdesc:a816b4b3445a7edf0b433c9ae8fb32e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock when trying to set the read mode and a clone might be running.  <a href="#a816b4b3445a7edf0b433c9ae8fb32e52">More...</a><br /></td></tr>
<tr class="separator:a816b4b3445a7edf0b433c9ae8fb32e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93c35bbd9e62fccbd98f156d733a385"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#aa93c35bbd9e62fccbd98f156d733a385">unlock_gr_clone_read_mode_lock</a> ()</td></tr>
<tr class="memdesc:aa93c35bbd9e62fccbd98f156d733a385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock when trying to set the read mode and a clone might be running.  <a href="#aa93c35bbd9e62fccbd98f156d733a385">More...</a><br /></td></tr>
<tr class="separator:aa93c35bbd9e62fccbd98f156d733a385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classGroup__event__observer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classGroup__event__observer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classGroup__event__observer.html">Group_event_observer</a></td></tr>
<tr class="memitem:a162dc556e395b679b8be88d537410473 inherit pub_methods_classGroup__event__observer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroup__event__observer.html#a162dc556e395b679b8be88d537410473">~Group_event_observer</a> ()=0</td></tr>
<tr class="separator:a162dc556e395b679b8be88d537410473 inherit pub_methods_classGroup__event__observer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ae68b8994ead8097d7c4d1ac6e8b2c2a0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#ae68b8994ead8097d7c4d1ac6e8b2c2a0">enum_clone_presence_query_result</a> { <a class="el" href="classRemote__clone__handler.html#ae68b8994ead8097d7c4d1ac6e8b2c2a0a802d2d57cf5ebb80ae35412ce5b2f6c8">CLONE_PLUGIN_NOT_PRESENT</a> = 0, 
<a class="el" href="classRemote__clone__handler.html#ae68b8994ead8097d7c4d1ac6e8b2c2a0ab3be30412a6f353a5d489f830bd5b9f6">CLONE_PLUGIN_PRESENT</a> = 1, 
<a class="el" href="classRemote__clone__handler.html#ae68b8994ead8097d7c4d1ac6e8b2c2a0a279c73edd2f26e0982a2ffd3ae252f30">CLONE_CHECK_QUERY_ERROR</a> = 2
 }<tr class="memdesc:ae68b8994ead8097d7c4d1ac6e8b2c2a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">What is the result when we check if the clone plugin is present.  <a href="classRemote__clone__handler.html#ae68b8994ead8097d7c4d1ac6e8b2c2a0">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ae68b8994ead8097d7c4d1ac6e8b2c2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cdb709a3d05150a002bd4476b16a10a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a2cdb709a3d05150a002bd4476b16a10a">enum_clone_query_status</a> { <a class="el" href="classRemote__clone__handler.html#a2cdb709a3d05150a002bd4476b16a10aadc71230a7c80d4d99b257ed7fd9e7dc8">CLONE_QUERY_NOT_EXECUTING</a> = 0, 
<a class="el" href="classRemote__clone__handler.html#a2cdb709a3d05150a002bd4476b16a10aabd992c3494d0652fb0ac9044a278e141">CLONE_QUERY_EXECUTING</a> = 1, 
<a class="el" href="classRemote__clone__handler.html#a2cdb709a3d05150a002bd4476b16a10aa4013b25cdd675c32b48d5653f2da3da9">CLONE_QUERY_EXECUTED</a> = 2
 }<tr class="memdesc:a2cdb709a3d05150a002bd4476b16a10a"><td class="mdescLeft">&#160;</td><td class="mdescRight">What are the states of the clone execution query.  <a href="classRemote__clone__handler.html#a2cdb709a3d05150a002bd4476b16a10a">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a2cdb709a3d05150a002bd4476b16a10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8feb883d819ebe7e378e448f7572c8e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a8feb883d819ebe7e378e448f7572c8e4">after_view_change</a> (const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;joining, const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;leaving, const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;group, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_leaving, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *skip_election, <a class="el" href="primary__election__include_8h.html#a13e5b9dcdd3ff9d4b06f3b71f8974a35">enum_primary_election_mode</a> *election_mode, std::string &amp;suggested_primary) override</td></tr>
<tr class="memdesc:a8feb883d819ebe7e378e448f7572c8e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed after view install and before primary election.  <a href="#a8feb883d819ebe7e378e448f7572c8e4">More...</a><br /></td></tr>
<tr class="separator:a8feb883d819ebe7e378e448f7572c8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83fd016991af27d127d23c2cbede4353"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a83fd016991af27d127d23c2cbede4353">after_primary_election</a> (std::string primary_uuid, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> primary_changed, <a class="el" href="primary__election__include_8h.html#a13e5b9dcdd3ff9d4b06f3b71f8974a35">enum_primary_election_mode</a> election_mode, int <a class="el" href="udf__utils_8h.html#a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282">error</a>) override</td></tr>
<tr class="memdesc:a83fd016991af27d127d23c2cbede4353"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed after primary election.  <a href="#a83fd016991af27d127d23c2cbede4353">More...</a><br /></td></tr>
<tr class="separator:a83fd016991af27d127d23c2cbede4353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff89b6f90fdfcc2cd8bbc4fddec6bbab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#aff89b6f90fdfcc2cd8bbc4fddec6bbab">before_message_handling</a> (const <a class="el" href="classPlugin__gcs__message.html">Plugin_gcs_message</a> &amp;message, const std::string &amp;message_origin, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *skip_message) override</td></tr>
<tr class="memdesc:aff89b6f90fdfcc2cd8bbc4fddec6bbab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed before the message is processed.  <a href="#aff89b6f90fdfcc2cd8bbc4fddec6bbab">More...</a><br /></td></tr>
<tr class="separator:aff89b6f90fdfcc2cd8bbc4fddec6bbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692bd0bdcedd03a45feee8e769e6f76c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a692bd0bdcedd03a45feee8e769e6f76c">clone_thread_handle</a> ()</td></tr>
<tr class="memdesc:a692bd0bdcedd03a45feee8e769e6f76c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The clone thread process.  <a href="#a692bd0bdcedd03a45feee8e769e6f76c">More...</a><br /></td></tr>
<tr class="separator:a692bd0bdcedd03a45feee8e769e6f76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe8722584f713bc3001ac83b932f33d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRemote__clone__handler.html#ae68b8994ead8097d7c4d1ac6e8b2c2a0">enum_clone_presence_query_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#adfe8722584f713bc3001ac83b932f33d">check_clone_plugin_presence</a> ()</td></tr>
<tr class="memdesc:adfe8722584f713bc3001ac83b932f33d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if clone plugin is present.  <a href="#adfe8722584f713bc3001ac83b932f33d">More...</a><br /></td></tr>
<tr class="separator:adfe8722584f713bc3001ac83b932f33d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfce2c73efd89909d449796f863e7560"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#adfce2c73efd89909d449796f863e7560">get_clone_donors</a> (<a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; <a class="el" href="classGroup__member__info.html">Group_member_info</a> *&gt; &amp;suitable_donors)</td></tr>
<tr class="memdesc:adfce2c73efd89909d449796f863e7560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the valid members for cloning.  <a href="#adfce2c73efd89909d449796f863e7560">More...</a><br /></td></tr>
<tr class="separator:adfce2c73efd89909d449796f863e7560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2d0f9a9aa12ced89e18c6473db374fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#aa2d0f9a9aa12ced89e18c6473db374fd">set_clone_ssl_options</a> (<a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *sql_command_interface)</td></tr>
<tr class="memdesc:aa2d0f9a9aa12ced89e18c6473db374fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the SSL options for the clone plugin.  <a href="#aa2d0f9a9aa12ced89e18c6473db374fd">More...</a><br /></td></tr>
<tr class="separator:aa2d0f9a9aa12ced89e18c6473db374fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a369b91d728af2616cfe22c15994139ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a369b91d728af2616cfe22c15994139ff">fallback_to_recovery_or_leave</a> (<a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *sql_command_interface, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> critical_error=<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="memdesc:a369b91d728af2616cfe22c15994139ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">In error fall back to recovery or error out.  <a href="#a369b91d728af2616cfe22c15994139ff">More...</a><br /></td></tr>
<tr class="separator:a369b91d728af2616cfe22c15994139ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcec7b130fe1a018040b97d61f2e222"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a5fcec7b130fe1a018040b97d61f2e222">update_donor_list</a> (<a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *sql_command_interface, std::string &amp;hostname, std::string &amp;<a class="el" href="testapp_8c.html#a466f7b109ba414c07158f07424a82f6f">port</a>)</td></tr>
<tr class="memdesc:a5fcec7b130fe1a018040b97d61f2e222"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the query to change the allowed donor list for clone.  <a href="#a5fcec7b130fe1a018040b97d61f2e222">More...</a><br /></td></tr>
<tr class="separator:a5fcec7b130fe1a018040b97d61f2e222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b16518c1b347b913840353305fa12df"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a2b16518c1b347b913840353305fa12df">evaluate_server_connection</a> (<a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *sql_command_interface)</td></tr>
<tr class="memdesc:a2b16518c1b347b913840353305fa12df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the server connection was not killed.  <a href="#a2b16518c1b347b913840353305fa12df">More...</a><br /></td></tr>
<tr class="separator:a2b16518c1b347b913840353305fa12df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a227b19add9b850c5d6bb83989b3c2a31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a227b19add9b850c5d6bb83989b3c2a31">run_clone_query</a> (<a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *sql_command_interface, std::string &amp;hostname, std::string &amp;<a class="el" href="testapp_8c.html#a466f7b109ba414c07158f07424a82f6f">port</a>, std::string &amp;username, std::string &amp;<a class="el" href="mysql__secure__installation_8cc.html#a59460a3ff2c12443d1022e5cc0fba85c">password</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> use_ssl)</td></tr>
<tr class="memdesc:a227b19add9b850c5d6bb83989b3c2a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the query to remotely clone a server.  <a href="#a227b19add9b850c5d6bb83989b3c2a31">More...</a><br /></td></tr>
<tr class="separator:a227b19add9b850c5d6bb83989b3c2a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882c4851338e27819450c399a95f8eac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a882c4851338e27819450c399a95f8eac">kill_clone_query</a> ()</td></tr>
<tr class="memdesc:a882c4851338e27819450c399a95f8eac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kill the current query executing a clone.  <a href="#a882c4851338e27819450c399a95f8eac">More...</a><br /></td></tr>
<tr class="separator:a882c4851338e27819450c399a95f8eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e22ccb880335d01b5cd70b1724408db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a0e22ccb880335d01b5cd70b1724408db">evaluate_error_code</a> (int error_code)</td></tr>
<tr class="memdesc:a0e22ccb880335d01b5cd70b1724408db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a error code it evaluates if the error is critical or not.  <a href="#a0e22ccb880335d01b5cd70b1724408db">More...</a><br /></td></tr>
<tr class="separator:a0e22ccb880335d01b5cd70b1724408db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3ac2f4d5d1271c308d333abdbe41cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#aee3ac2f4d5d1271c308d333abdbe41cb">gr_clone_debug_point</a> ()</td></tr>
<tr class="memdesc:aee3ac2f4d5d1271c308d333abdbe41cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for debug points.  <a href="#aee3ac2f4d5d1271c308d333abdbe41cb">More...</a><br /></td></tr>
<tr class="separator:aee3ac2f4d5d1271c308d333abdbe41cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ad20cc679b3d97196685bbd6f7ec963c4"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#ad20cc679b3d97196685bbd6f7ec963c4">launch_thread</a> (void *arg)</td></tr>
<tr class="memdesc:ad20cc679b3d97196685bbd6f7ec963c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The thread callback passed onto mysql_thread_create.  <a href="#ad20cc679b3d97196685bbd6f7ec963c4">More...</a><br /></td></tr>
<tr class="separator:ad20cc679b3d97196685bbd6f7ec963c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a92094d08fdc9aa8678d8c59c41928d39"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a92094d08fdc9aa8678d8c59c41928d39">m_group_name</a></td></tr>
<tr class="memdesc:a92094d08fdc9aa8678d8c59c41928d39"><td class="mdescLeft">&#160;</td><td class="mdescRight">The group to which the recovering member belongs.  <a href="#a92094d08fdc9aa8678d8c59c41928d39">More...</a><br /></td></tr>
<tr class="separator:a92094d08fdc9aa8678d8c59c41928d39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a17fbee6a8c63aa7a48a8c7c9f9f5c5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a5a17fbee6a8c63aa7a48a8c7c9f9f5c5">m_view_id</a></td></tr>
<tr class="memdesc:a5a17fbee6a8c63aa7a48a8c7c9f9f5c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The view id when the clone started.  <a href="#a5a17fbee6a8c63aa7a48a8c7c9f9f5c5">More...</a><br /></td></tr>
<tr class="separator:a5a17fbee6a8c63aa7a48a8c7c9f9f5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4e83ee930cfbc2d4288be9fa0f029bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTHD.html">THD</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#ac4e83ee930cfbc2d4288be9fa0f029bd">m_clone_thd</a></td></tr>
<tr class="memdesc:ac4e83ee930cfbc2d4288be9fa0f029bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">the THD handle.  <a href="#ac4e83ee930cfbc2d4288be9fa0f029bd">More...</a><br /></td></tr>
<tr class="separator:ac4e83ee930cfbc2d4288be9fa0f029bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0f132fe8ace12397c3bfe72fe1b650"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structthread__state.html">thread_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#aae0f132fe8ace12397c3bfe72fe1b650">m_clone_process_thd_state</a></td></tr>
<tr class="memdesc:aae0f132fe8ace12397c3bfe72fe1b650"><td class="mdescLeft">&#160;</td><td class="mdescRight">the state of the thread.  <a href="#aae0f132fe8ace12397c3bfe72fe1b650">More...</a><br /></td></tr>
<tr class="separator:aae0f132fe8ace12397c3bfe72fe1b650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d58e4c09fe946069d171f4d12e5ce82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmy__thread__handle.html">my_thread_handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a6d58e4c09fe946069d171f4d12e5ce82">m_thd_handle</a></td></tr>
<tr class="memdesc:a6d58e4c09fe946069d171f4d12e5ce82"><td class="mdescLeft">&#160;</td><td class="mdescRight">the thread handle.  <a href="#a6d58e4c09fe946069d171f4d12e5ce82">More...</a><br /></td></tr>
<tr class="separator:a6d58e4c09fe946069d171f4d12e5ce82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8393a9a29d7f6280c1dcfecdbe87cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a9c8393a9a29d7f6280c1dcfecdbe87cb">m_run_lock</a></td></tr>
<tr class="memdesc:a9c8393a9a29d7f6280c1dcfecdbe87cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mutex for controlling access to the thread itself.  <a href="#a9c8393a9a29d7f6280c1dcfecdbe87cb">More...</a><br /></td></tr>
<tr class="separator:a9c8393a9a29d7f6280c1dcfecdbe87cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0338ff10c7171ba4f1272ba3a2f14d73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__cond__t.html">mysql_cond_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a0338ff10c7171ba4f1272ba3a2f14d73">m_run_cond</a></td></tr>
<tr class="memdesc:a0338ff10c7171ba4f1272ba3a2f14d73"><td class="mdescLeft">&#160;</td><td class="mdescRight">the cond_var used to signal the thread.  <a href="#a0338ff10c7171ba4f1272ba3a2f14d73">More...</a><br /></td></tr>
<tr class="separator:a0338ff10c7171ba4f1272ba3a2f14d73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ace6d7a6fb13f2b301e7bea3c141b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#ab8ace6d7a6fb13f2b301e7bea3c141b0">m_clone_query_lock</a></td></tr>
<tr class="memdesc:ab8ace6d7a6fb13f2b301e7bea3c141b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mutex for the clone process query.  <a href="#ab8ace6d7a6fb13f2b301e7bea3c141b0">More...</a><br /></td></tr>
<tr class="separator:ab8ace6d7a6fb13f2b301e7bea3c141b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca2b57c590762c32282e408ac749c355"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#aca2b57c590762c32282e408ac749c355">m_clone_read_mode_lock</a></td></tr>
<tr class="memdesc:aca2b57c590762c32282e408ac749c355"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mutex for the clone external running status/read mode  <a href="#aca2b57c590762c32282e408ac749c355">More...</a><br /></td></tr>
<tr class="separator:aca2b57c590762c32282e408ac749c355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3477b6e39caf7e4d2fd1a839a0b983db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a3477b6e39caf7e4d2fd1a839a0b983db">m_being_terminated</a></td></tr>
<tr class="memdesc:a3477b6e39caf7e4d2fd1a839a0b983db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the process being terminated.  <a href="#a3477b6e39caf7e4d2fd1a839a0b983db">More...</a><br /></td></tr>
<tr class="separator:a3477b6e39caf7e4d2fd1a839a0b983db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9230f05d34faab42ac8a0ec082c7456b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRemote__clone__handler.html#a2cdb709a3d05150a002bd4476b16a10a">enum_clone_query_status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a9230f05d34faab42ac8a0ec082c7456b">m_clone_query_status</a></td></tr>
<tr class="memdesc:a9230f05d34faab42ac8a0ec082c7456b"><td class="mdescLeft">&#160;</td><td class="mdescRight">What is the status on the read only mode enabling query.  <a href="#a9230f05d34faab42ac8a0ec082c7456b">More...</a><br /></td></tr>
<tr class="separator:a9230f05d34faab42ac8a0ec082c7456b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe361d602dfae765f2f78d460aeb31d"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#adbe361d602dfae765f2f78d460aeb31d">m_clone_query_session_id</a></td></tr>
<tr class="memdesc:adbe361d602dfae765f2f78d460aeb31d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The session id for the clone query.  <a href="#adbe361d602dfae765f2f78d460aeb31d">More...</a><br /></td></tr>
<tr class="separator:adbe361d602dfae765f2f78d460aeb31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b96d066827e11efa17b9dd90215bd3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a0b96d066827e11efa17b9dd90215bd3d">m_clone_activation_threshold</a></td></tr>
<tr class="memdesc:a0b96d066827e11efa17b9dd90215bd3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The threshold after which the clone process is invoked.  <a href="#a0b96d066827e11efa17b9dd90215bd3d">More...</a><br /></td></tr>
<tr class="separator:a0b96d066827e11efa17b9dd90215bd3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b72a5499162b4ac42a993665c1ceb02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a6b72a5499162b4ac42a993665c1ceb02">m_donor_list_lock</a></td></tr>
<tr class="memdesc:a6b72a5499162b4ac42a993665c1ceb02"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mutex for donor list accesses.  <a href="#a6b72a5499162b4ac42a993665c1ceb02">More...</a><br /></td></tr>
<tr class="separator:a6b72a5499162b4ac42a993665c1ceb02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d048b24049b40a07a52d0bf47e5c5f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; <a class="el" href="classGroup__member__info.html">Group_member_info</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#a9d048b24049b40a07a52d0bf47e5c5f3">m_suitable_donors</a></td></tr>
<tr class="memdesc:a9d048b24049b40a07a52d0bf47e5c5f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of available donors.  <a href="#a9d048b24049b40a07a52d0bf47e5c5f3">More...</a><br /></td></tr>
<tr class="separator:a9d048b24049b40a07a52d0bf47e5c5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec4d0b27332b5bcc8f4442e0efb298ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#aec4d0b27332b5bcc8f4442e0efb298ab">m_current_donor_address</a></td></tr>
<tr class="memdesc:aec4d0b27332b5bcc8f4442e0efb298ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current donor address.  <a href="#aec4d0b27332b5bcc8f4442e0efb298ab">More...</a><br /></td></tr>
<tr class="separator:aec4d0b27332b5bcc8f4442e0efb298ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a7dd22594c717072e20238963dab75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRemote__clone__handler.html#ab5a7dd22594c717072e20238963dab75">m_stop_wait_timeout</a></td></tr>
<tr class="memdesc:ab5a7dd22594c717072e20238963dab75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout on shutdown.  <a href="#ab5a7dd22594c717072e20238963dab75">More...</a><br /></td></tr>
<tr class="separator:ab5a7dd22594c717072e20238963dab75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that hold the logic to decide if we should or not execute a clone operation and the logic to launch it. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a2315196cdc3de77dc2b700fd813056a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2315196cdc3de77dc2b700fd813056a5">&#9670;&nbsp;</a></span>enum_clone_check_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5">Remote_clone_handler::enum_clone_check_result</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The possible results when checking what is the recovery strategy. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2315196cdc3de77dc2b700fd813056a5ae852afe1545ee9d4830fbd3e69825c00"></a>DO_CLONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2315196cdc3de77dc2b700fd813056a5a3486a3f1f80273c46e08c2004b5a219c"></a>DO_RECOVERY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2315196cdc3de77dc2b700fd813056a5ae2b24ecc201d48f6003f8e9b22441a90"></a>CHECK_ERROR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2315196cdc3de77dc2b700fd813056a5a1274055782d3fd15dd1dc5b992c7e24a"></a>NO_RECOVERY_POSSIBLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2315196cdc3de77dc2b700fd813056a5a9b4118b9288f8c9cfaab3cef00284495"></a>CLONE_CHECKS_END&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="ae68b8994ead8097d7c4d1ac6e8b2c2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae68b8994ead8097d7c4d1ac6e8b2c2a0">&#9670;&nbsp;</a></span>enum_clone_presence_query_result</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classRemote__clone__handler.html#ae68b8994ead8097d7c4d1ac6e8b2c2a0">Remote_clone_handler::enum_clone_presence_query_result</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>What is the result when we check if the clone plugin is present. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae68b8994ead8097d7c4d1ac6e8b2c2a0a802d2d57cf5ebb80ae35412ce5b2f6c8"></a>CLONE_PLUGIN_NOT_PRESENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae68b8994ead8097d7c4d1ac6e8b2c2a0ab3be30412a6f353a5d489f830bd5b9f6"></a>CLONE_PLUGIN_PRESENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae68b8994ead8097d7c4d1ac6e8b2c2a0a279c73edd2f26e0982a2ffd3ae252f30"></a>CLONE_CHECK_QUERY_ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a2cdb709a3d05150a002bd4476b16a10a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cdb709a3d05150a002bd4476b16a10a">&#9670;&nbsp;</a></span>enum_clone_query_status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classRemote__clone__handler.html#a2cdb709a3d05150a002bd4476b16a10a">Remote_clone_handler::enum_clone_query_status</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>What are the states of the clone execution query. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2cdb709a3d05150a002bd4476b16a10aadc71230a7c80d4d99b257ed7fd9e7dc8"></a>CLONE_QUERY_NOT_EXECUTING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2cdb709a3d05150a002bd4476b16a10aabd992c3494d0652fb0ac9044a278e141"></a>CLONE_QUERY_EXECUTING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2cdb709a3d05150a002bd4476b16a10aa4013b25cdd675c32b48d5653f2da3da9"></a>CLONE_QUERY_EXECUTED&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7bb3168b75117760892d0cfc8c31fbdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb3168b75117760892d0cfc8c31fbdf">&#9670;&nbsp;</a></span>Remote_clone_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Remote_clone_handler::Remote_clone_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>components_stop_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the remote cloning handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threshold</td><td>The threshold for clone activation </td></tr>
    <tr><td class="paramname">components_stop_timeout</td><td>The stop timeout in error cases </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89bee264104b303735d5f07409abcba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89bee264104b303735d5f07409abcba5">&#9670;&nbsp;</a></span>~Remote_clone_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Remote_clone_handler::~Remote_clone_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a83fd016991af27d127d23c2cbede4353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83fd016991af27d127d23c2cbede4353">&#9670;&nbsp;</a></span>after_primary_election()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::after_primary_election </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>primary_uuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>primary_changed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="primary__election__include_8h.html#a13e5b9dcdd3ff9d4b06f3b71f8974a35">enum_primary_election_mode</a>&#160;</td>
          <td class="paramname"><em>election_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed after primary election. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">primary_uuid</td><td>the elected primary </td></tr>
    <tr><td class="paramname">primary_changed</td><td>if the primary changed after the election </td></tr>
    <tr><td class="paramname">election_mode</td><td>what was the election mode </td></tr>
    <tr><td class="paramname">error</td><td>if there was and error on the process </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__event__observer.html#a5e692b7759e5f692804ad703f9993324">Group_event_observer</a>.</p>

</div>
</div>
<a id="a8feb883d819ebe7e378e448f7572c8e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8feb883d819ebe7e378e448f7572c8e4">&#9670;&nbsp;</a></span>after_view_change()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::after_view_change </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>joining</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>leaving</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_leaving</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>skip_election</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="primary__election__include_8h.html#a13e5b9dcdd3ff9d4b06f3b71f8974a35">enum_primary_election_mode</a> *&#160;</td>
          <td class="paramname"><em>election_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>suggested_primary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed after view install and before primary election. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">joining</td><td>members joining the group </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">leaving</td><td>members leaving the group </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">group</td><td>members in the group </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">is_leaving</td><td>is the member leaving </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">skip_election</td><td>skip primary election on view </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">election_mode</td><td>election mode </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">suggested_primary</td><td>what should be the next primary to elect </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__event__observer.html#ab44b8d2129174ebab3baaf7dea2fddae">Group_event_observer</a>.</p>

</div>
</div>
<a id="aff89b6f90fdfcc2cd8bbc4fddec6bbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff89b6f90fdfcc2cd8bbc4fddec6bbab">&#9670;&nbsp;</a></span>before_message_handling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::before_message_handling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classPlugin__gcs__message.html">Plugin_gcs_message</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message_origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>skip_message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed before the message is processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">message</td><td>The GCS message </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">message_origin</td><td>The member that sent this message (address) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">skip_message</td><td>skip message handling if true </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__event__observer.html#a599fc54d0976d4f8007532410b3a9eb1">Group_event_observer</a>.</p>

</div>
</div>
<a id="adfe8722584f713bc3001ac83b932f33d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe8722584f713bc3001ac83b932f33d">&#9670;&nbsp;</a></span>check_clone_plugin_presence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRemote__clone__handler.html#ae68b8994ead8097d7c4d1ac6e8b2c2a0">Remote_clone_handler::enum_clone_presence_query_result</a> Remote_clone_handler::check_clone_plugin_presence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if clone plugin is present. </p>
<dl class="section return"><dt>Returns</dt><dd>is the clone present or error </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">CLONE_PLUGIN_NOT_PRESENT</td><td>The plugin is not present or active </td></tr>
    <tr><td class="paramname">CLONE_PLUGIN_PRESENT</td><td>The plugin is present and active </td></tr>
    <tr><td class="paramname">CLONE_CHECK_QUERY_ERROR</td><td>There was an error when checking </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3ac862469e588069f07fc9cda87d298a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac862469e588069f07fc9cda87d298a">&#9670;&nbsp;</a></span>check_clone_preconditions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRemote__clone__handler.html#a2315196cdc3de77dc2b700fd813056a5">Remote_clone_handler::enum_clone_check_result</a> Remote_clone_handler::check_clone_preconditions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if clone or distributed recovery shall be used for provisioning. </p>
<dl class="section return"><dt>Returns</dt><dd>What is the clone strategy to follow or shall we error out </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DO_CLONE</td><td>Do a remote clone </td></tr>
    <tr><td class="paramname">DO_RECOVERY</td><td>Don't clone, use distributed recovery </td></tr>
    <tr><td class="paramname">CHECK_ERROR</td><td>Error when choosing the strategy </td></tr>
    <tr><td class="paramname">NO_RECOVERY_POSSIBLE</td><td>No available members for clone or recovery </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2e537d1f013098c00d626131742e2717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e537d1f013098c00d626131742e2717">&#9670;&nbsp;</a></span>clone_server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::clone_server </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>view_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Launch the clone process with some preliminary checks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group_name</td><td>The group name </td></tr>
    <tr><td class="paramname">view_id</td><td>The view id when clone started</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>: the given parameters are used when falling back to distributed recovery in case of a clone issue.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>whether or not we managed to launch the clone thread. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>the thread launched successfully </td></tr>
    <tr><td class="paramname">!=</td><td>0 for some reason we did not launch the thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a692bd0bdcedd03a45feee8e769e6f76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692bd0bdcedd03a45feee8e769e6f76c">&#9670;&nbsp;</a></span>clone_thread_handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Remote_clone_handler::clone_thread_handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The clone thread process. </p>

</div>
</div>
<a id="a0e22ccb880335d01b5cd70b1724408db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e22ccb880335d01b5cd70b1724408db">&#9670;&nbsp;</a></span>evaluate_error_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Remote_clone_handler::evaluate_error_code </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a error code it evaluates if the error is critical or not. </p>
<p>Basically it tells us if there is still data in the server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">error_code</td><td>the clone returned error</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>error is critical </td></tr>
    <tr><td class="paramname">false</td><td>error is not critical </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2b16518c1b347b913840353305fa12df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b16518c1b347b913840353305fa12df">&#9670;&nbsp;</a></span>evaluate_server_connection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::evaluate_server_connection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *&#160;</td>
          <td class="paramname"><em>sql_command_interface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the server connection was not killed. </p>
<p>If so, establish a new one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_command_interface</td><td>the server connection</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>did we manage to reconnect </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>yes </td></tr>
    <tr><td class="paramname">!=</td><td>0 some error occurred </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adeba428794d092ab52a0303c0ed793bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeba428794d092ab52a0303c0ed793bc">&#9670;&nbsp;</a></span>extract_donor_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::extract_donor_info </td>
          <td>(</td>
          <td class="paramtype">std::tuple&lt; <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> &gt; *&#160;</td>
          <td class="paramname"><em>donor_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a369b91d728af2616cfe22c15994139ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369b91d728af2616cfe22c15994139ff">&#9670;&nbsp;</a></span>fallback_to_recovery_or_leave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::fallback_to_recovery_or_leave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *&#160;</td>
          <td class="paramname"><em>sql_command_interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>critical_error</em> = <code><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In error fall back to recovery or error out. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_command_interface</td><td>the server connection </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">critical_error</td><td>the error prevent distributed recovery </td></tr>
  </table>
  </dd>
</dl>
<p>Before falling back to recovery check if there are valid donors Since cloning can be time consuming valid members may have left or joined in the meanwhile.</p>

</div>
</div>
<a id="adfce2c73efd89909d449796f863e7560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfce2c73efd89909d449796f863e7560">&#9670;&nbsp;</a></span>get_clone_donors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Remote_clone_handler::get_clone_donors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; <a class="el" href="classGroup__member__info.html">Group_member_info</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>suitable_donors</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all the valid members for cloning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">suitable_donors</td><td>the list of possible donors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aee3ac2f4d5d1271c308d333abdbe41cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee3ac2f4d5d1271c308d333abdbe41cb">&#9670;&nbsp;</a></span>gr_clone_debug_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Remote_clone_handler::gr_clone_debug_point </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for debug points. </p>
<dl class="section note"><dt>Note</dt><dd>this function can have a parameter for different debug points </dd></dl>

</div>
</div>
<a id="a882c4851338e27819450c399a95f8eac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a882c4851338e27819450c399a95f8eac">&#9670;&nbsp;</a></span>kill_clone_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::kill_clone_query </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Kill the current query executing a clone. </p>
<dl class="section return"><dt>Returns</dt><dd>whether or not we managed to kill the clone query </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>the kill query was sucessfull </td></tr>
    <tr><td class="paramname">!=</td><td>0 some error occurred </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad20cc679b3d97196685bbd6f7ec963c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20cc679b3d97196685bbd6f7ec963c4">&#9670;&nbsp;</a></span>launch_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * Remote_clone_handler::launch_thread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The thread callback passed onto mysql_thread_create. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>a pointer to a Remote_clone_handler instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a816b4b3445a7edf0b433c9ae8fb32e52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a816b4b3445a7edf0b433c9ae8fb32e52">&#9670;&nbsp;</a></span>lock_gr_clone_read_mode_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Remote_clone_handler::lock_gr_clone_read_mode_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock when trying to set the read mode and a clone might be running. </p>

</div>
</div>
<a id="a227b19add9b850c5d6bb83989b3c2a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a227b19add9b850c5d6bb83989b3c2a31">&#9670;&nbsp;</a></span>run_clone_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::run_clone_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *&#160;</td>
          <td class="paramname"><em>sql_command_interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>use_ssl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the query to remotely clone a server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_command_interface</td><td>the connection to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hostname</td><td>the hostname to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>the port to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">username</td><td>the username to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">password</td><td>the password to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">use_ssl</td><td>make clone use SSL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether or not we managed to clone the server </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>the clone was sucessfull </td></tr>
    <tr><td class="paramname">!=</td><td>0 some error occurred </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa2d0f9a9aa12ced89e18c6473db374fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2d0f9a9aa12ced89e18c6473db374fd">&#9670;&nbsp;</a></span>set_clone_ssl_options()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::set_clone_ssl_options </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *&#160;</td>
          <td class="paramname"><em>sql_command_interface</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the SSL options for the clone plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_command_interface</td><td>the connection to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7816cf21f28724d1db6083ba2e190181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7816cf21f28724d1db6083ba2e190181">&#9670;&nbsp;</a></span>set_clone_threshold()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Remote_clone_handler::set_clone_threshold </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td>
          <td class="paramname"><em>threshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the class threshold for clone activation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threshold</td><td>The threshold for clone activation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab88dabc650df5889e1cd47d75d6b9a28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88dabc650df5889e1cd47d75d6b9a28">&#9670;&nbsp;</a></span>terminate_clone_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Remote_clone_handler::terminate_clone_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>rejoin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminate the clone process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rejoin</td><td>Are we terminating or rejoining in the plugin</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>: the flag tells the method if the clone query should be killed or not Usually on rejoins the clone query is not killed. When stopping GR, then the query is terminated. No guarantees are made about what the server state is after that </dd></dl>

</div>
</div>
<a id="aa93c35bbd9e62fccbd98f156d733a385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa93c35bbd9e62fccbd98f156d733a385">&#9670;&nbsp;</a></span>unlock_gr_clone_read_mode_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Remote_clone_handler::unlock_gr_clone_read_mode_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unlock when trying to set the read mode and a clone might be running. </p>

</div>
</div>
<a id="a5fcec7b130fe1a018040b97d61f2e222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fcec7b130fe1a018040b97d61f2e222">&#9670;&nbsp;</a></span>update_donor_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Remote_clone_handler::update_donor_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSql__service__command__interface.html">Sql_service_command_interface</a> *&#160;</td>
          <td class="paramname"><em>sql_command_interface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the query to change the allowed donor list for clone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sql_command_interface</td><td>the connection to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hostname</td><td>the hostname to set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>the port to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>whether or not we managed to set the value </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>the value was set </td></tr>
    <tr><td class="paramname">!=</td><td>0 some error occurred </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3477b6e39caf7e4d2fd1a839a0b983db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3477b6e39caf7e4d2fd1a839a0b983db">&#9670;&nbsp;</a></span>m_being_terminated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Remote_clone_handler::m_being_terminated</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the process being terminated. </p>

</div>
</div>
<a id="a0b96d066827e11efa17b9dd90215bd3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b96d066827e11efa17b9dd90215bd3d">&#9670;&nbsp;</a></span>m_clone_activation_threshold</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> Remote_clone_handler::m_clone_activation_threshold</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The threshold after which the clone process is invoked. </p>

</div>
</div>
<a id="aae0f132fe8ace12397c3bfe72fe1b650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae0f132fe8ace12397c3bfe72fe1b650">&#9670;&nbsp;</a></span>m_clone_process_thd_state</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structthread__state.html">thread_state</a> Remote_clone_handler::m_clone_process_thd_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the state of the thread. </p>

</div>
</div>
<a id="ab8ace6d7a6fb13f2b301e7bea3c141b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ace6d7a6fb13f2b301e7bea3c141b0">&#9670;&nbsp;</a></span>m_clone_query_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> Remote_clone_handler::m_clone_query_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the mutex for the clone process query. </p>

</div>
</div>
<a id="adbe361d602dfae765f2f78d460aeb31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbe361d602dfae765f2f78d460aeb31d">&#9670;&nbsp;</a></span>m_clone_query_session_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Remote_clone_handler::m_clone_query_session_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The session id for the clone query. </p>

</div>
</div>
<a id="a9230f05d34faab42ac8a0ec082c7456b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9230f05d34faab42ac8a0ec082c7456b">&#9670;&nbsp;</a></span>m_clone_query_status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRemote__clone__handler.html#a2cdb709a3d05150a002bd4476b16a10a">enum_clone_query_status</a> Remote_clone_handler::m_clone_query_status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>What is the status on the read only mode enabling query. </p>

</div>
</div>
<a id="aca2b57c590762c32282e408ac749c355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca2b57c590762c32282e408ac749c355">&#9670;&nbsp;</a></span>m_clone_read_mode_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> Remote_clone_handler::m_clone_read_mode_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the mutex for the clone external running status/read mode </p>

</div>
</div>
<a id="ac4e83ee930cfbc2d4288be9fa0f029bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e83ee930cfbc2d4288be9fa0f029bd">&#9670;&nbsp;</a></span>m_clone_thd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTHD.html">THD</a>* Remote_clone_handler::m_clone_thd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the THD handle. </p>

</div>
</div>
<a id="aec4d0b27332b5bcc8f4442e0efb298ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec4d0b27332b5bcc8f4442e0efb298ab">&#9670;&nbsp;</a></span>m_current_donor_address</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a>* Remote_clone_handler::m_current_donor_address</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current donor address. </p>

</div>
</div>
<a id="a6b72a5499162b4ac42a993665c1ceb02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b72a5499162b4ac42a993665c1ceb02">&#9670;&nbsp;</a></span>m_donor_list_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> Remote_clone_handler::m_donor_list_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the mutex for donor list accesses. </p>

</div>
</div>
<a id="a92094d08fdc9aa8678d8c59c41928d39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92094d08fdc9aa8678d8c59c41928d39">&#9670;&nbsp;</a></span>m_group_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Remote_clone_handler::m_group_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The group to which the recovering member belongs. </p>

</div>
</div>
<a id="a0338ff10c7171ba4f1272ba3a2f14d73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0338ff10c7171ba4f1272ba3a2f14d73">&#9670;&nbsp;</a></span>m_run_cond</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__cond__t.html">mysql_cond_t</a> Remote_clone_handler::m_run_cond</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the cond_var used to signal the thread. </p>

</div>
</div>
<a id="a9c8393a9a29d7f6280c1dcfecdbe87cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8393a9a29d7f6280c1dcfecdbe87cb">&#9670;&nbsp;</a></span>m_run_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> Remote_clone_handler::m_run_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the mutex for controlling access to the thread itself. </p>

</div>
</div>
<a id="ab5a7dd22594c717072e20238963dab75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a7dd22594c717072e20238963dab75">&#9670;&nbsp;</a></span>m_stop_wait_timeout</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> Remote_clone_handler::m_stop_wait_timeout</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timeout on shutdown. </p>

</div>
</div>
<a id="a9d048b24049b40a07a52d0bf47e5c5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d048b24049b40a07a52d0bf47e5c5f3">&#9670;&nbsp;</a></span>m_suitable_donors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt;<a class="el" href="classGroup__member__info.html">Group_member_info</a> *&gt; Remote_clone_handler::m_suitable_donors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of available donors. </p>

</div>
</div>
<a id="a6d58e4c09fe946069d171f4d12e5ce82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d58e4c09fe946069d171f4d12e5ce82">&#9670;&nbsp;</a></span>m_thd_handle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmy__thread__handle.html">my_thread_handle</a> Remote_clone_handler::m_thd_handle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the thread handle. </p>

</div>
</div>
<a id="a5a17fbee6a8c63aa7a48a8c7c9f9f5c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a17fbee6a8c63aa7a48a8c7c9f9f5c5">&#9670;&nbsp;</a></span>m_view_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Remote_clone_handler::m_view_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The view id when the clone started. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>plugin/group_replication/include/plugin_handlers/<a class="el" href="remote__clone__handler_8h_source.html">remote_clone_handler.h</a></li>
<li>plugin/group_replication/src/plugin_handlers/<a class="el" href="remote__clone__handler_8cc.html">remote_clone_handler.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classRemote__clone__handler.html">Remote_clone_handler</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
