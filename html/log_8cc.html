<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/log.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('log_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">log.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>logging of commands  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="log_8h_source.html">sql/log.h</a>&quot;</code><br />
<code>#include &quot;my_config.h&quot;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__builtins_8h_source.html">mysql/components/services/log_builtins.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__shared_8h_source.html">mysql/components/services/log_shared.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi_2mysql__rwlock_8h_source.html">mysql/psi/mysql_rwlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__time_8h_source.html">mysql_time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__sink__buffer_8h_source.html">server_component/log_sink_buffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__string_8h_source.html">sql_string.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__ctype_8h_source.html">m_ctype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__string_8h_source.html">m_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__base_8h_source.html">my_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dir_8h_source.html">my_dir.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__double2ulonglong_8h_source.html">my_double2ulonglong.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__time_8h_source.html">my_time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="include_2mysql_2plugin_8h_source.html">mysql/plugin.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__file_8h_source.html">mysql/psi/mysql_file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="service__my__plugin__log_8h_source.html">mysql/service_my_plugin_log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="service__mysql__alloc_8h_source.html">mysql/service_mysql_alloc.h</a>&quot;</code><br />
<code>#include &quot;mysql_version.h&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mysys__err_8h_source.html">mysys_err.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="auth__acls_8h_source.html">sql/auth/auth_acls.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__security__ctx_8h_source.html">sql/auth/sql_security_ctx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="current__thd_8h_source.html">sql/current_thd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug__sync_8h_source.html">sql/debug_sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="derror_8h_source.html">sql/derror.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="discrete__interval_8h_source.html">sql/discrete_interval.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="error__handler_8h_source.html">sql/error_handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2field_8h_source.html">sql/field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2handler_8h_source.html">sql/handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysqld_8h_source.html">sql/mysqld.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="protocol__classic_8h_source.html">sql/protocol_classic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__memory__key_8h_source.html">sql/psi_memory_key.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="query__options_8h_source.html">sql/query_options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__audit_8h_source.html">sql/sql_audit.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__base_8h_source.html">sql/sql_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__class_8h_source.html">sql/sql_class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__error_8h_source.html">sql/sql_error.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__lex_8h_source.html">sql/sql_lex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__parse_8h_source.html">sql/sql_parse.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__plugin__ref_8h_source.html">sql/sql_plugin_ref.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__time_8h_source.html">sql/sql_time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system__variables_8h_source.html">sql/system_variables.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2table_8h_source.html">sql/table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thr__lock_8h_source.html">thr_lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thr__mutex_8h_source.html">thr_mutex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__builtins__imp_8h_source.html">sql/server_component/log_builtins_imp.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuery__log__table__intact.html">Query_log_table_intact</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSilence__log__table__errors.html">Silence_log_table_errors</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Silence all errors and warnings reported when performing a write to a log table.  <a href="classSilence__log__table__errors.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFile__query__log.html">File_query_log</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLog__to__file__event__handler.html">Log_to_file_event_handler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class responsible for file based logging.  <a href="classLog__to__file__event__handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:abce958ef54b1f770cd058abdc2b11171"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171">enum_slow_query_log_table_field</a> { <br />
&#160;&#160;<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171ad0458c337017bd464a8c936635df5094">SQLT_FIELD_START_TIME</a> = 0, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171a8bd20580f67aa5d493d743444956b8ea">SQLT_FIELD_USER_HOST</a>, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171a8afda9e7f4e327ecb0aa7cc2bc9766d8">SQLT_FIELD_QUERY_TIME</a>, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171a60b5cdbdd429ed5e0a7372149cc9e5e7">SQLT_FIELD_LOCK_TIME</a>, 
<br />
&#160;&#160;<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171aa33f3f50df1cf3bf9a854e8dd634f7e7">SQLT_FIELD_ROWS_SENT</a>, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171a21d279449428c877bb4032ed5b06f376">SQLT_FIELD_ROWS_EXAMINED</a>, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171a6cce6110afbec33f440e937abf368c4a">SQLT_FIELD_DATABASE</a>, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171aa04d90f6a6ac74bd09a3ad21483b8808">SQLT_FIELD_LAST_INSERT_ID</a>, 
<br />
&#160;&#160;<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171a0bcd2bdc61cc0c421b14b12e2ce05b8d">SQLT_FIELD_INSERT_ID</a>, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171aff2046acf24a69429fbff85292d14b46">SQLT_FIELD_SERVER_ID</a>, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171a1586dd0d54c5883e596194e31b1aee5f">SQLT_FIELD_SQL_TEXT</a>, 
<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171a3e424cc3ab8f17040f9d66a12ce4056e">SQLT_FIELD_THREAD_ID</a>, 
<br />
&#160;&#160;<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171aff4b629f0c949d2410f5ab8100521bab">SQLT_FIELD_COUNT</a>
<br />
 }</td></tr>
<tr class="separator:abce958ef54b1f770cd058abdc2b11171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f6fc7eafe397a1bc401222eebc4ecee"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4ecee">enum_general_log_table_field</a> { <br />
&#160;&#160;<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea6664fd52c2198fb8fe37843108a7f226">GLT_FIELD_EVENT_TIME</a> = 0, 
<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceeae1b262b98c486da11bccb6176e3a7621">GLT_FIELD_USER_HOST</a>, 
<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea04035022aa5020eed6d8198072ded512">GLT_FIELD_THREAD_ID</a>, 
<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea45e97b8b0b8724732a6a00f38e60c869">GLT_FIELD_SERVER_ID</a>, 
<br />
&#160;&#160;<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea88aaf27e5d383c9995d043c577195183">GLT_FIELD_COMMAND_TYPE</a>, 
<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceeaa81a05fbae85cefc7ae65be57502a983">GLT_FIELD_ARGUMENT</a>, 
<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea492b7ba754e60570d89bc19bb34f44aa">GLT_FIELD_COUNT</a>
<br />
 }</td></tr>
<tr class="separator:a0f6fc7eafe397a1bc401222eebc4ecee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7f93716b86de7bf587da432200cb89ee"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a7f93716b86de7bf587da432200cb89ee">ull2timeval</a> (<a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> utime, struct timeval *tv)</td></tr>
<tr class="separator:a7f93716b86de7bf587da432200cb89ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2af629ac67940dc8839f8273499435e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#ad2af629ac67940dc8839f8273499435e">is_valid_log_name</a> (const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, size_t len)</td></tr>
<tr class="memdesc:ad2af629ac67940dc8839f8273499435e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check given log name against certain blacklisted names/extensions.  <a href="#ad2af629ac67940dc8839f8273499435e">More...</a><br /></td></tr>
<tr class="separator:ad2af629ac67940dc8839f8273499435e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda013c138f9686ce288a7f8838ec880"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="my__io__bits_8h.html#ad34d82818831a94a892fcc41a95aa286">File</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#aeda013c138f9686ce288a7f8838ec880">mysql_file_real_name_reopen</a> (<a class="el" href="my__io__bits_8h.html#ad34d82818831a94a892fcc41a95aa286">File</a> file, <a class="el" href="group__psi__abi__file.html#gaa121a71b4b7479edd32d04250f90c026">PSI_file_key</a> log_file_key, int open_flags, const char *opened_file_name, char *real_file_name)</td></tr>
<tr class="memdesc:aeda013c138f9686ce288a7f8838ec880"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the real log file name, and possibly reopen file.  <a href="#aeda013c138f9686ce288a7f8838ec880">More...</a><br /></td></tr>
<tr class="separator:aeda013c138f9686ce288a7f8838ec880"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e52994277c82727106a843512e8b681"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a7e52994277c82727106a843512e8b681">log_command</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="my__command_8h.html#ae2ff1badf13d2b8099af8b47831281e1">enum_server_command</a> <a class="el" href="version__token_8cc.html#a9e0992eae3950adccaf4847fbff4231d">command</a>)</td></tr>
<tr class="memdesc:a7e52994277c82727106a843512e8b681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a given command should be logged to the general log.  <a href="#a7e52994277c82727106a843512e8b681">More...</a><br /></td></tr>
<tr class="separator:a7e52994277c82727106a843512e8b681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c28006a83045969be252194e6de2380"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a6c28006a83045969be252194e6de2380">make_query_log_name</a> (char *buff, <a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774">enum_log_table_type</a> <a class="el" href="mi__log_8cc.html#ad1e2a6d9014a2af70dfa80ce7b69d4b0">log_type</a>)</td></tr>
<tr class="memdesc:a6c28006a83045969be252194e6de2380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the name of the query log specified.  <a href="#a6c28006a83045969be252194e6de2380">More...</a><br /></td></tr>
<tr class="separator:a6c28006a83045969be252194e6de2380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93624d7ffd4d872d5e820e5b8ce8432b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a93624d7ffd4d872d5e820e5b8ce8432b">log_slow_applicable</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a93624d7ffd4d872d5e820e5b8ce8432b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether we need to write the current statement (or its rewritten version if it exists) to the slow query log.  <a href="#a93624d7ffd4d872d5e820e5b8ce8432b">More...</a><br /></td></tr>
<tr class="separator:a93624d7ffd4d872d5e820e5b8ce8432b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cdc0b2173b661dc8947545c1e413714"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a8cdc0b2173b661dc8947545c1e413714">log_slow_do</a> (<a class="el" href="classTHD.html">THD</a> *thd, struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *query_start_status)</td></tr>
<tr class="memdesc:a8cdc0b2173b661dc8947545c1e413714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unconditionally writes the current statement (or its rewritten version if it exists) to the slow query log.  <a href="#a8cdc0b2173b661dc8947545c1e413714">More...</a><br /></td></tr>
<tr class="separator:a8cdc0b2173b661dc8947545c1e413714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9363e6bb9e4a15e200c63a8adc98eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a9d9363e6bb9e4a15e200c63a8adc98eb">log_slow_statement</a> (<a class="el" href="classTHD.html">THD</a> *thd, struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *query_start_status)</td></tr>
<tr class="memdesc:a9d9363e6bb9e4a15e200c63a8adc98eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether we need to write the current statement to the slow query log.  <a href="#a9d9363e6bb9e4a15e200c63a8adc98eb">More...</a><br /></td></tr>
<tr class="separator:a9d9363e6bb9e4a15e200c63a8adc98eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8debb6f58fa041c1dcaa8364c43a8c3d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a8debb6f58fa041c1dcaa8364c43a8c3d">slow_log_write</a> (<a class="el" href="classTHD.html">THD</a> *thd, const char *<a class="el" href="myisam__ftdump_8cc.html#af26982218484ec3fdcb8f7d92e864a9b">query</a>, size_t query_length, struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *query_start_status)</td></tr>
<tr class="separator:a8debb6f58fa041c1dcaa8364c43a8c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eb15b6124092efd1a4ff88f91c1b4e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSlow__log__throttle.html">Slow_log_throttle</a> <a class="el" href="log_8h.html#abaac20a4f9e1453f105d50ae860eacb1">log_throttle_qni</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a3eb15b6124092efd1a4ff88f91c1b4e4">opt_log_throttle_queries_not_using_indexes</a> (s) suppressed.&quot;</td></tr>
<tr class="separator:a3eb15b6124092efd1a4ff88f91c1b4e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b1f8b834f5de1e9cc2bf6c44d5dea0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#ad6b1f8b834f5de1e9cc2bf6c44d5dea0">discard_error_log_messages</a> ()</td></tr>
<tr class="memdesc:ad6b1f8b834f5de1e9cc2bf6c44d5dea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard all buffered messages and deallocate buffer without printing anything.  <a href="#ad6b1f8b834f5de1e9cc2bf6c44d5dea0">More...</a><br /></td></tr>
<tr class="separator:ad6b1f8b834f5de1e9cc2bf6c44d5dea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffcb1a4793a1b3805d7fa26b4db4e1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#adffcb1a4793a1b3805d7fa26b4db4e1e">flush_error_log_messages</a> ()</td></tr>
<tr class="memdesc:adffcb1a4793a1b3805d7fa26b4db4e1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">We buffer all error log messages that have been printed before the error log has been opened.  <a href="#adffcb1a4793a1b3805d7fa26b4db4e1e">More...</a><br /></td></tr>
<tr class="separator:adffcb1a4793a1b3805d7fa26b4db4e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f975b7bef20efd9b02c43b586552b11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a1f975b7bef20efd9b02c43b586552b11">init_error_log</a> ()</td></tr>
<tr class="memdesc:a1f975b7bef20efd9b02c43b586552b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up basic error logging.  <a href="#a1f975b7bef20efd9b02c43b586552b11">More...</a><br /></td></tr>
<tr class="separator:a1f975b7bef20efd9b02c43b586552b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb746e3e853726524507e516af35358c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#afb746e3e853726524507e516af35358c">open_error_log</a> (const char *<a class="el" href="mi__test3_8cc.html#a7efa5e9c7494c7d4586359300221aa5d">filename</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> get_lock)</td></tr>
<tr class="memdesc:afb746e3e853726524507e516af35358c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the error log and redirect stderr and optionally stdout to the error log file.  <a href="#afb746e3e853726524507e516af35358c">More...</a><br /></td></tr>
<tr class="separator:afb746e3e853726524507e516af35358c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe0135f4ab5c952477d44d09aa4c8ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a3fe0135f4ab5c952477d44d09aa4c8ef">destroy_error_log</a> ()</td></tr>
<tr class="memdesc:a3fe0135f4ab5c952477d44d09aa4c8ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free any error log resources.  <a href="#a3fe0135f4ab5c952477d44d09aa4c8ef">More...</a><br /></td></tr>
<tr class="separator:a3fe0135f4ab5c952477d44d09aa4c8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8562061634d5d00f0b68b8d318ba3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a5e8562061634d5d00f0b68b8d318ba3d">reopen_error_log</a> ()</td></tr>
<tr class="memdesc:a5e8562061634d5d00f0b68b8d318ba3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush any pending data to disk and reopen the error log.  <a href="#a5e8562061634d5d00f0b68b8d318ba3d">More...</a><br /></td></tr>
<tr class="separator:a5e8562061634d5d00f0b68b8d318ba3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ebe31ce2f892ac71ad62e1db22c0999"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a1ebe31ce2f892ac71ad62e1db22c0999">log_write_errstream</a> (const char *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t length)</td></tr>
<tr class="memdesc:a1ebe31ce2f892ac71ad62e1db22c0999"><td class="mdescLeft">&#160;</td><td class="mdescRight">helper for log writers: log to file This is a helper for use by log writers that wish to emit to stderr/file.  <a href="#a1ebe31ce2f892ac71ad62e1db22c0999">More...</a><br /></td></tr>
<tr class="separator:a1ebe31ce2f892ac71ad62e1db22c0999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8f1cf32366ee67ad98128ceedd1a0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a0d8f1cf32366ee67ad98128ceedd1a0f">log_get_thread_id</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a0d8f1cf32366ee67ad98128ceedd1a0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper that we can stubify so we don't have to pull all of THD into the unit tests.  <a href="#a0d8f1cf32366ee67ad98128ceedd1a0f">More...</a><br /></td></tr>
<tr class="separator:a0d8f1cf32366ee67ad98128ceedd1a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a43c2d9e8b5e07157fa1ff6143f18c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a3a43c2d9e8b5e07157fa1ff6143f18c7">log_vmessage</a> (int <a class="el" href="mi__log_8cc.html#ad1e2a6d9014a2af70dfa80ce7b69d4b0">log_type</a>, va_list fili)</td></tr>
<tr class="memdesc:a3a43c2d9e8b5e07157fa1ff6143f18c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variadic convenience function for logging.  <a href="#a3a43c2d9e8b5e07157fa1ff6143f18c7">More...</a><br /></td></tr>
<tr class="separator:a3a43c2d9e8b5e07157fa1ff6143f18c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa362d324596d832eff3db28169416dbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#aa362d324596d832eff3db28169416dbf">error_log_print</a> (enum <a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82">loglevel</a> level, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> ecode, va_list args)</td></tr>
<tr class="memdesc:aa362d324596d832eff3db28169416dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a printf style message to the error log.  <a href="#aa362d324596d832eff3db28169416dbf">More...</a><br /></td></tr>
<tr class="separator:aa362d324596d832eff3db28169416dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777f7139b72c0f21f68afbf34a81c96b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a777f7139b72c0f21f68afbf34a81c96b">log_message</a> (int <a class="el" href="mi__log_8cc.html#ad1e2a6d9014a2af70dfa80ce7b69d4b0">log_type</a>,...)</td></tr>
<tr class="memdesc:a777f7139b72c0f21f68afbf34a81c96b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variadic convenience function for logging.  <a href="#a777f7139b72c0f21f68afbf34a81c96b">More...</a><br /></td></tr>
<tr class="separator:a777f7139b72c0f21f68afbf34a81c96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a645ed07038ca8ca3aeae825ef567ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a3a645ed07038ca8ca3aeae825ef567ff">my_plugin_log_message</a> (<a class="el" href="include_2mysql_2plugin_8h.html#a7faefa235bb2fd69928b9440a46f2eed">MYSQL_PLUGIN</a> *plugin_ptr, <a class="el" href="service__my__plugin__log_8h.html#a3c896f042a7eb3cf275c9690fc4d897f">plugin_log_level</a> level, const char *format,...)</td></tr>
<tr class="separator:a3a645ed07038ca8ca3aeae825ef567ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a19ec1c691e2b1d8c7eac80c46926e2bb"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structTABLE__FIELD__TYPE.html">TABLE_FIELD_TYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a19ec1c691e2b1d8c7eac80c46926e2bb">slow_query_log_table_fields</a> [<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171aff4b629f0c949d2410f5ab8100521bab">SQLT_FIELD_COUNT</a>]</td></tr>
<tr class="separator:a19ec1c691e2b1d8c7eac80c46926e2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200adead5de28637f8a571f3aea91c0b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structTABLE__FIELD__DEF.html">TABLE_FIELD_DEF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a200adead5de28637f8a571f3aea91c0b">slow_query_log_table_def</a></td></tr>
<tr class="separator:a200adead5de28637f8a571f3aea91c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad492de100c6031c9fc48873bd65a9a2a"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structTABLE__FIELD__TYPE.html">TABLE_FIELD_TYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#ad492de100c6031c9fc48873bd65a9a2a">general_log_table_fields</a> [<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea492b7ba754e60570d89bc19bb34f44aa">GLT_FIELD_COUNT</a>]</td></tr>
<tr class="separator:ad492de100c6031c9fc48873bd65a9a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d17606e07f17c7edafceed81ca049e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structTABLE__FIELD__DEF.html">TABLE_FIELD_DEF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#ad6d17606e07f17c7edafceed81ca049e">general_log_table_def</a></td></tr>
<tr class="separator:ad6d17606e07f17c7edafceed81ca049e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbee5689221f6d55e0aeac8f5fb74605"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classQuery__log__table__intact.html">Query_log_table_intact</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#abbee5689221f6d55e0aeac8f5fb74605">log_table_intact</a></td></tr>
<tr class="memdesc:abbee5689221f6d55e0aeac8f5fb74605"><td class="mdescLeft">&#160;</td><td class="mdescRight">In case of an error, a message is printed to the error log.  <a href="#abbee5689221f6d55e0aeac8f5fb74605">More...</a><br /></td></tr>
<tr class="separator:abbee5689221f6d55e0aeac8f5fb74605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2552742edb23ad2bc0bc18c7e2fa6efe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQuery__logger.html">Query_logger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a2552742edb23ad2bc0bc18c7e2fa6efe">query_logger</a></td></tr>
<tr class="separator:a2552742edb23ad2bc0bc18c7e2fa6efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6798e6f2a0e31845af73f2232598013"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#ac6798e6f2a0e31845af73f2232598013">error_log_initialized</a> = <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:ac6798e6f2a0e31845af73f2232598013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a169c0418029fe41fc1daa43de876d99f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a169c0418029fe41fc1daa43de876d99f">LOCK_error_log</a></td></tr>
<tr class="separator:a169c0418029fe41fc1daa43de876d99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79025a6b6b08bae7b803fa0b8bc1278"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#af79025a6b6b08bae7b803fa0b8bc1278">error_log_file</a> = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td></tr>
<tr class="separator:af79025a6b6b08bae7b803fa0b8bc1278"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>logging of commands </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0f6fc7eafe397a1bc401222eebc4ecee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f6fc7eafe397a1bc401222eebc4ecee">&#9670;&nbsp;</a></span>enum_general_log_table_field</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4ecee">enum_general_log_table_field</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0f6fc7eafe397a1bc401222eebc4eceea6664fd52c2198fb8fe37843108a7f226"></a>GLT_FIELD_EVENT_TIME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0f6fc7eafe397a1bc401222eebc4eceeae1b262b98c486da11bccb6176e3a7621"></a>GLT_FIELD_USER_HOST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0f6fc7eafe397a1bc401222eebc4eceea04035022aa5020eed6d8198072ded512"></a>GLT_FIELD_THREAD_ID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0f6fc7eafe397a1bc401222eebc4eceea45e97b8b0b8724732a6a00f38e60c869"></a>GLT_FIELD_SERVER_ID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0f6fc7eafe397a1bc401222eebc4eceea88aaf27e5d383c9995d043c577195183"></a>GLT_FIELD_COMMAND_TYPE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0f6fc7eafe397a1bc401222eebc4eceeaa81a05fbae85cefc7ae65be57502a983"></a>GLT_FIELD_ARGUMENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a0f6fc7eafe397a1bc401222eebc4eceea492b7ba754e60570d89bc19bb34f44aa"></a>GLT_FIELD_COUNT&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="abce958ef54b1f770cd058abdc2b11171"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce958ef54b1f770cd058abdc2b11171">&#9670;&nbsp;</a></span>enum_slow_query_log_table_field</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171">enum_slow_query_log_table_field</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171ad0458c337017bd464a8c936635df5094"></a>SQLT_FIELD_START_TIME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171a8bd20580f67aa5d493d743444956b8ea"></a>SQLT_FIELD_USER_HOST&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171a8afda9e7f4e327ecb0aa7cc2bc9766d8"></a>SQLT_FIELD_QUERY_TIME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171a60b5cdbdd429ed5e0a7372149cc9e5e7"></a>SQLT_FIELD_LOCK_TIME&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171aa33f3f50df1cf3bf9a854e8dd634f7e7"></a>SQLT_FIELD_ROWS_SENT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171a21d279449428c877bb4032ed5b06f376"></a>SQLT_FIELD_ROWS_EXAMINED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171a6cce6110afbec33f440e937abf368c4a"></a>SQLT_FIELD_DATABASE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171aa04d90f6a6ac74bd09a3ad21483b8808"></a>SQLT_FIELD_LAST_INSERT_ID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171a0bcd2bdc61cc0c421b14b12e2ce05b8d"></a>SQLT_FIELD_INSERT_ID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171aff2046acf24a69429fbff85292d14b46"></a>SQLT_FIELD_SERVER_ID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171a1586dd0d54c5883e596194e31b1aee5f"></a>SQLT_FIELD_SQL_TEXT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171a3e424cc3ab8f17040f9d66a12ce4056e"></a>SQLT_FIELD_THREAD_ID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abce958ef54b1f770cd058abdc2b11171aff4b629f0c949d2410f5ab8100521bab"></a>SQLT_FIELD_COUNT&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3fe0135f4ab5c952477d44d09aa4c8ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe0135f4ab5c952477d44d09aa4c8ef">&#9670;&nbsp;</a></span>destroy_error_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_error_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free any error log resources. </p>
<dl class="section note"><dt>Note</dt><dd>This function accesses shared resources without protection, so it should only be called while the server is running single-threaded.</dd>
<dd>
The error log can still be used after this function is called, but that should only be done single-threaded. All buffered messages should be flushed before calling this function. </dd></dl>

</div>
</div>
<a id="ad6b1f8b834f5de1e9cc2bf6c44d5dea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b1f8b834f5de1e9cc2bf6c44d5dea0">&#9670;&nbsp;</a></span>discard_error_log_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void discard_error_log_messages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discard all buffered messages and deallocate buffer without printing anything. </p>
<p>Needed when terminating launching process after daemon has started. At this point we may have messages in the error log, but we don't want to show them to stderr (the daemon will output them in its error log). </p>

</div>
</div>
<a id="aa362d324596d832eff3db28169416dbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa362d324596d832eff3db28169416dbf">&#9670;&nbsp;</a></span>error_log_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void error_log_print </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82">loglevel</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>ecode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a printf style message to the error log. </p>
<p>A thin wrapper around log_message() for local_message_hook, Table_check_intact::report_error, and others.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The level of the msg significance </td></tr>
    <tr><td class="paramname">ecode</td><td>Error code of the error message. </td></tr>
    <tr><td class="paramname">args</td><td>va_list list of arguments for the message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adffcb1a4793a1b3805d7fa26b4db4e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adffcb1a4793a1b3805d7fa26b4db4e1e">&#9670;&nbsp;</a></span>flush_error_log_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flush_error_log_messages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We buffer all error log messages that have been printed before the error log has been opened. </p>
<p>This allows us to write them to the correct file once the error log has been opened.</p>
<p>This function will explicitly flush buffered messages to stderr. It is only needed in cases where open_error_log() is not called as it otherwise will be done there.</p>
<p>This function also turns buffering off (there is no way to turn buffering back on). </p>

</div>
</div>
<a id="a1f975b7bef20efd9b02c43b586552b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f975b7bef20efd9b02c43b586552b11">&#9670;&nbsp;</a></span>init_error_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> init_error_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up basic error logging. </p>
<p>Initialize structures (e.g.</p>
<p>Since we're initializing various locks here, we must call this late enough so this is clean, but early enough so it still happens while we're running single-threaded &ndash; this specifically also means we must call it before we start plug-ins / storage engines / external components!</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>an error occurred </td></tr>
    <tr><td class="paramname">false</td><td>basic error logging is now available in multi-threaded mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2af629ac67940dc8839f8273499435e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2af629ac67940dc8839f8273499435e">&#9670;&nbsp;</a></span>is_valid_log_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_valid_log_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check given log name against certain blacklisted names/extensions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Log name to check </td></tr>
    <tr><td class="paramname">len</td><td>Length of log name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if name is valid, false otherwise. </dd></dl>

</div>
</div>
<a id="a7e52994277c82727106a843512e8b681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e52994277c82727106a843512e8b681">&#9670;&nbsp;</a></span>log_command()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__command_8h.html#ae2ff1badf13d2b8099af8b47831281e1">enum_server_command</a>&#160;</td>
          <td class="paramname"><em>command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a given command should be logged to the general log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handle </td></tr>
    <tr><td class="paramname">command</td><td>SQL command</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if command should be logged, false otherwise. </dd></dl>

</div>
</div>
<a id="a0d8f1cf32366ee67ad98128ceedd1a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8f1cf32366ee67ad98128ceedd1a0f">&#9670;&nbsp;</a></span>log_get_thread_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> log_get_thread_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A helper that we can stubify so we don't have to pull all of THD into the unit tests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>a thd </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">its</td><td>thread-ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a777f7139b72c0f21f68afbf34a81c96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a777f7139b72c0f21f68afbf34a81c96b">&#9670;&nbsp;</a></span>log_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_message </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>log_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variadic convenience function for logging. </p>
<p>This fills in the array that is used by the filter and log-writer services. Where missing, timestamp, priority, and thread-ID (if any) are added. Log item source services, log item filters, and log item writers are called.</p>
<p>see log_vmessage() for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_type</td><td>what log should this go to? </td></tr>
    <tr><td class="paramname">...</td><td>fields: LOG_ITEM_* tag, [[key], value] </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>return value of log_vmessage() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a93624d7ffd4d872d5e820e5b8ce8432b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93624d7ffd4d872d5e820e5b8ce8432b">&#9670;&nbsp;</a></span>log_slow_applicable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_slow_applicable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether we need to write the current statement (or its rewritten version if it exists) to the slow query log. </p>
<p>As a side-effect, a digest of suppressed statements may be written.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>statement needs to be logged </td></tr>
    <tr><td class="paramname">false</td><td>statement does not need to be logged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8cdc0b2173b661dc8947545c1e413714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cdc0b2173b661dc8947545c1e413714">&#9670;&nbsp;</a></span>log_slow_do()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_slow_do </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *&#160;</td>
          <td class="paramname"><em>query_start_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unconditionally writes the current statement (or its rewritten version if it exists) to the slow query log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handle </td></tr>
    <tr><td class="paramname">query_start_status</td><td>Pointer to a snapshot of thd-&gt;status_var taken at the start of execution </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d9363e6bb9e4a15e200c63a8adc98eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d9363e6bb9e4a15e200c63a8adc98eb">&#9670;&nbsp;</a></span>log_slow_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_slow_statement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *&#160;</td>
          <td class="paramname"><em>query_start_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether we need to write the current statement to the slow query log. </p>
<p>If so, do so. This is a wrapper for the two functions above; most callers should use this wrapper. Only use the above functions directly if you have expensive rewriting that you only need to do if the query actually needs to be logged (e.g. SP variables / NAME_CONST substitution when executing a PROCEDURE). A digest of suppressed statements may be logged instead of the current statement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handle </td></tr>
    <tr><td class="paramname">query_start_status</td><td>Pointer to a snapshot of thd-&gt;status_var taken at the start of execution </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a43c2d9e8b5e07157fa1ff6143f18c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a43c2d9e8b5e07157fa1ff6143f18c7">&#9670;&nbsp;</a></span>log_vmessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_vmessage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>log_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>fili</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variadic convenience function for logging. </p>
<p>Write a message to a log (for now just used for error log).</p>
<p>This fills in the array that is used by the filter and log-writer services. Where missing, timestamp, priority, and thread-ID (if any) are added. Log item source services, log item filters, and log item writers are called.</p>
<p>For convenience, any number of fields may be added:</p>
<ul>
<li>"well-known" field types require a type tag and the payload: LOG_ITEM_LOG_LABEL, "ohai"</li>
<li>"generic" field types require a type tag, a key (C-string), and the payload: LOG_ITEM_GEN_FLOAT, "myPi", 3.1415926927</li>
</ul>
<p>Newer items (further to the right/bottom) overwrite older ones (further to the left/top).</p>
<p>If a message is given, it must be the last tag in the argument list. The message may be given verbatim as a C format string, followed by its arguments:</p>
<p>LOG_ITEM_LOG_MESSAGE, "format string %s %d abc", "arg1", 12345</p>
<p>To avoid substitutions, use</p>
<p>LOG_ITEM_LOG_VERBATIM, "message from other subsys containing %user input"</p>
<p>Alternatively, an error code may be specified &ndash; the corresponding error message will be looked up and inserted &ndash;, followed by any arguments required by the error message:</p>
<p>LOG_ITEM_LOG_LOOKUP, ER_CANT_SET_DATA_DIR, filename, errno, strerror(errno)</p>
<p>If no message is to be included (this should never be the case for the erorr log), LOG_ITEM_END may be used instead to terminate the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_type</td><td>what log should this go to? </td></tr>
    <tr><td class="paramname">fili</td><td>field list: LOG_ITEM_* tag, [[key], value] </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>return value of log_line_submit() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1ebe31ce2f892ac71ad62e1db22c0999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ebe31ce2f892ac71ad62e1db22c0999">&#9670;&nbsp;</a></span>log_write_errstream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_write_errstream </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>helper for log writers: log to file This is a helper for use by log writers that wish to emit to stderr/file. </p>
<p>Interim helper: write to the default error stream.</p>
<p>Automatically appends a "\n", so the caller needn't. Does its own locking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>data to write </td></tr>
    <tr><td class="paramname">length</td><td>length of the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>number of added fields, if any </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c28006a83045969be252194e6de2380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c28006a83045969be252194e6de2380">&#9670;&nbsp;</a></span>make_query_log_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* make_query_log_name </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774">enum_log_table_type</a>&#160;</td>
          <td class="paramname"><em>log_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the name of the query log specified. </p>
<p>This method forms a new path + file name for the log specified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buff</td><td>Location for building new string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">log_type</td><td>QUERY_LOG_SLOW or QUERY_LOG_GENERAL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to new string containing the name. </dd></dl>

</div>
</div>
<a id="a3a645ed07038ca8ca3aeae825ef567ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a645ed07038ca8ca3aeae825ef567ff">&#9670;&nbsp;</a></span>my_plugin_log_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int my_plugin_log_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2mysql_2plugin_8h.html#a7faefa235bb2fd69928b9440a46f2eed">MYSQL_PLUGIN</a> *&#160;</td>
          <td class="paramname"><em>plugin_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="service__my__plugin__log_8h.html#a3c896f042a7eb3cf275c9690fc4d897f">plugin_log_level</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeda013c138f9686ce288a7f8838ec880"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda013c138f9686ce288a7f8838ec880">&#9670;&nbsp;</a></span>mysql_file_real_name_reopen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="my__io__bits_8h.html#ad34d82818831a94a892fcc41a95aa286">File</a> mysql_file_real_name_reopen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__io__bits_8h.html#ad34d82818831a94a892fcc41a95aa286">File</a>&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__psi__abi__file.html#gaa121a71b4b7479edd32d04250f90c026">PSI_file_key</a>&#160;</td>
          <td class="paramname"><em>log_file_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>open_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>opened_file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>real_file_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the real log file name, and possibly reopen file. </p>
<p>The implementation is platform dependent due to differences in how this is supported:</p>
<p>On Windows, we get the actual path based on the file descriptor. This path is copied into the supplied buffer. The 'file' parameter is returned without re-opening.</p>
<p>On other platforms, we use realpath() to get the path with symbolic links expanded. Then, we close the file, and reopen the real path using the O_NOFOLLOW flag. This will reject folowing symbolic links.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">file</td><td>File descriptor. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">log_file_key</td><td>Key for P_S instrumentation. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">open_flags</td><td>Flags to use for opening the file. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">opened_file_name</td><td>Name of the open fd. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">real_file_name</td><td>Buffer for actual name of the fd.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>file descriptor to open file with 'real_file_name', or '-1' in case of errors. </dd></dl>

</div>
</div>
<a id="afb746e3e853726524507e516af35358c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb746e3e853726524507e516af35358c">&#9670;&nbsp;</a></span>open_error_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> open_error_log </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>get_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the error log and redirect stderr and optionally stdout to the error log file. </p>
<p>The streams are reopened only for appending (writing at end of file).</p>
<dl class="section note"><dt>Note</dt><dd>On error, my_error() is not called here. So, caller of this function should call my_error() to keep the protocol.</dd>
<dd>
This function also writes any error log messages that have been buffered by calling flush_error_log_messages().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of error log file </td></tr>
    <tr><td class="paramname">get_lock</td><td>Should we acquire LOCK_error_log? </td></tr>
  </table>
  </dd>
</dl>
<p>Make sure, file is writable if it exists. If file does not exists then make sure directory path exists and it is writable.</p>

</div>
</div>
<a id="a3eb15b6124092efd1a4ff88f91c1b4e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eb15b6124092efd1a4ff88f91c1b4e4">&#9670;&nbsp;</a></span>opt_log_throttle_queries_not_using_indexes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSlow__log__throttle.html">Slow_log_throttle</a> <a class="el" href="log_8h.html#abaac20a4f9e1453f105d50ae860eacb1">log_throttle_qni</a>&amp; opt_log_throttle_queries_not_using_indexes </td>
          <td>(</td>
          <td class="paramtype">s&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e8562061634d5d00f0b68b8d318ba3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8562061634d5d00f0b68b8d318ba3d">&#9670;&nbsp;</a></span>reopen_error_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> reopen_error_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush any pending data to disk and reopen the error log. </p>

</div>
</div>
<a id="a8debb6f58fa041c1dcaa8364c43a8c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8debb6f58fa041c1dcaa8364c43a8c3d">&#9670;&nbsp;</a></span>slow_log_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> slow_log_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>query_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *&#160;</td>
          <td class="paramname"><em>query_start_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7f93716b86de7bf587da432200cb89ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f93716b86de7bf587da432200cb89ee">&#9670;&nbsp;</a></span>ull2timeval()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ull2timeval </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td>
          <td class="paramname"><em>utime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct timeval *&#160;</td>
          <td class="paramname"><em>tv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af79025a6b6b08bae7b803fa0b8bc1278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79025a6b6b08bae7b803fa0b8bc1278">&#9670;&nbsp;</a></span>error_log_file</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* error_log_file = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6798e6f2a0e31845af73f2232598013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6798e6f2a0e31845af73f2232598013">&#9670;&nbsp;</a></span>error_log_initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> error_log_initialized = <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad6d17606e07f17c7edafceed81ca049e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d17606e07f17c7edafceed81ca049e">&#9670;&nbsp;</a></span>general_log_table_def</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTABLE__FIELD__DEF.html">TABLE_FIELD_DEF</a> general_log_table_def</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {<a class="code" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea492b7ba754e60570d89bc19bb34f44aa">GLT_FIELD_COUNT</a>,</div><div class="line">                                                      <a class="code" href="log_8cc.html#ad492de100c6031c9fc48873bd65a9a2a">general_log_table_fields</a>}</div><div class="ttc" id="log_8cc_html_ad492de100c6031c9fc48873bd65a9a2a"><div class="ttname"><a href="log_8cc.html#ad492de100c6031c9fc48873bd65a9a2a">general_log_table_fields</a></div><div class="ttdeci">static const TABLE_FIELD_TYPE general_log_table_fields[GLT_FIELD_COUNT]</div><div class="ttdef"><b>Definition:</b> log.cc:174</div></div>
<div class="ttc" id="log_8cc_html_a0f6fc7eafe397a1bc401222eebc4eceea492b7ba754e60570d89bc19bb34f44aa"><div class="ttname"><a href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea492b7ba754e60570d89bc19bb34f44aa">GLT_FIELD_COUNT</a></div><div class="ttdef"><b>Definition:</b> log.cc:171</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad492de100c6031c9fc48873bd65a9a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad492de100c6031c9fc48873bd65a9a2a">&#9670;&nbsp;</a></span>general_log_table_fields</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTABLE__FIELD__TYPE.html">TABLE_FIELD_TYPE</a> general_log_table_fields[<a class="el" href="log_8cc.html#a0f6fc7eafe397a1bc401222eebc4eceea492b7ba754e60570d89bc19bb34f44aa">GLT_FIELD_COUNT</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    {{<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;event_time&quot;</span>)},</div><div class="line">     {<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;timestamp(6)&quot;</span>)},</div><div class="line">     {<span class="keyword">nullptr</span>, 0}},</div><div class="line">    {{<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;user_host&quot;</span>)},</div><div class="line">     {<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;mediumtext&quot;</span>)},</div><div class="line">     {<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;utf8&quot;</span>)}},</div><div class="line">    {{<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;thread_id&quot;</span>)},</div><div class="line">     {<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;bigint unsigned&quot;</span>)},</div><div class="line">     {<span class="keyword">nullptr</span>, 0}},</div><div class="line">    {{<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;server_id&quot;</span>)},</div><div class="line">     {<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;int unsigned&quot;</span>)},</div><div class="line">     {<span class="keyword">nullptr</span>, 0}},</div><div class="line">    {{<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;command_type&quot;</span>)},</div><div class="line">     {<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;varchar(64)&quot;</span>)},</div><div class="line">     {<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;utf8&quot;</span>)}},</div><div class="line">    {{<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;argument&quot;</span>)},</div><div class="line">     {<a class="code" href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a>(<span class="stringliteral">&quot;mediumblob&quot;</span>)},</div><div class="line">     {<span class="keyword">nullptr</span>, 0}}}</div><div class="ttc" id="m__string_8h_html_a362d20603304c9762ecdb7ddd8120268"><div class="ttname"><a href="m__string_8h.html#a362d20603304c9762ecdb7ddd8120268">STRING_WITH_LEN</a></div><div class="ttdeci">#define STRING_WITH_LEN(X)</div><div class="ttdef"><b>Definition:</b> m_string.h:315</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a169c0418029fe41fc1daa43de876d99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a169c0418029fe41fc1daa43de876d99f">&#9670;&nbsp;</a></span>LOCK_error_log</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> LOCK_error_log</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abbee5689221f6d55e0aeac8f5fb74605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbee5689221f6d55e0aeac8f5fb74605">&#9670;&nbsp;</a></span>log_table_intact</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQuery__log__table__intact.html">Query_log_table_intact</a> log_table_intact</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In case of an error, a message is printed to the error log. </p>

</div>
</div>
<a id="a2552742edb23ad2bc0bc18c7e2fa6efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2552742edb23ad2bc0bc18c7e2fa6efe">&#9670;&nbsp;</a></span>query_logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQuery__logger.html">Query_logger</a> query_logger</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a200adead5de28637f8a571f3aea91c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a200adead5de28637f8a571f3aea91c0b">&#9670;&nbsp;</a></span>slow_query_log_table_def</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTABLE__FIELD__DEF.html">TABLE_FIELD_DEF</a> slow_query_log_table_def</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    <a class="code" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171aff4b629f0c949d2410f5ab8100521bab">SQLT_FIELD_COUNT</a>, <a class="code" href="log_8cc.html#a19ec1c691e2b1d8c7eac80c46926e2bb">slow_query_log_table_fields</a>}</div><div class="ttc" id="log_8cc_html_a19ec1c691e2b1d8c7eac80c46926e2bb"><div class="ttname"><a href="log_8cc.html#a19ec1c691e2b1d8c7eac80c46926e2bb">slow_query_log_table_fields</a></div><div class="ttdeci">static const TABLE_FIELD_TYPE slow_query_log_table_fields[SQLT_FIELD_COUNT]</div><div class="ttdef"><b>Definition:</b> log.cc:127</div></div>
<div class="ttc" id="log_8cc_html_abce958ef54b1f770cd058abdc2b11171aff4b629f0c949d2410f5ab8100521bab"><div class="ttname"><a href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171aff4b629f0c949d2410f5ab8100521bab">SQLT_FIELD_COUNT</a></div><div class="ttdef"><b>Definition:</b> log.cc:124</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19ec1c691e2b1d8c7eac80c46926e2bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ec1c691e2b1d8c7eac80c46926e2bb">&#9670;&nbsp;</a></span>slow_query_log_table_fields</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTABLE__FIELD__TYPE.html">TABLE_FIELD_TYPE</a> slow_query_log_table_fields[<a class="el" href="log_8cc.html#abce958ef54b1f770cd058abdc2b11171aff4b629f0c949d2410f5ab8100521bab">SQLT_FIELD_COUNT</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="log_8cc.html">log.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
