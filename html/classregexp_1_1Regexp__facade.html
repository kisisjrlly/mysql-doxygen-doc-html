<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: regexp::Regexp_facade Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classregexp_1_1Regexp__facade.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classregexp_1_1Regexp__facade-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">regexp::Regexp_facade Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class handles.  
 <a href="classregexp_1_1Regexp__facade.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="regexp__facade_8h_source.html">regexp_facade.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a07cc3032b8f2b640f50502256c4a5e83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#a07cc3032b8f2b640f50502256c4a5e83">SetPattern</a> (<a class="el" href="classItem.html">Item</a> *pattern_expr, uint32_t <a class="el" href="mi__test1_8cc.html#a6eec09a91807e20d7b3d6ef3da594067">flags</a>)</td></tr>
<tr class="memdesc:a07cc3032b8f2b640f50502256c4a5e83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the pattern if called for the first time or the pattern_expr is non-constant.  <a href="#a07cc3032b8f2b640f50502256c4a5e83">More...</a><br /></td></tr>
<tr class="separator:a07cc3032b8f2b640f50502256c4a5e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad073e58a2bbf1c14c9fe6ddd695b4e18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMysql_1_1Nullable.html">Mysql::Nullable</a>&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#ad073e58a2bbf1c14c9fe6ddd695b4e18">Matches</a> (<a class="el" href="classItem.html">Item</a> *subject_expr, int <a class="el" href="routing__plugin_8cc.html#aee70c8416f705726100824ba89f1e090">start</a>, int occurrence)</td></tr>
<tr class="memdesc:ad073e58a2bbf1c14c9fe6ddd695b4e18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to match the subject against the compiled regular expression.  <a href="#ad073e58a2bbf1c14c9fe6ddd695b4e18">More...</a><br /></td></tr>
<tr class="separator:ad073e58a2bbf1c14c9fe6ddd695b4e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d22d3e4c88eaf3dcadebd8e0c5d559"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMysql_1_1Nullable.html">Mysql::Nullable</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#a14d22d3e4c88eaf3dcadebd8e0c5d559">Find</a> (<a class="el" href="classItem.html">Item</a> *subject_expr, int <a class="el" href="routing__plugin_8cc.html#aee70c8416f705726100824ba89f1e090">start</a>, int occurrence, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> after_match)</td></tr>
<tr class="memdesc:a14d22d3e4c88eaf3dcadebd8e0c5d559"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the subject for a match of the compiled regular expression and returns a position.  <a href="#a14d22d3e4c88eaf3dcadebd8e0c5d559">More...</a><br /></td></tr>
<tr class="separator:a14d22d3e4c88eaf3dcadebd8e0c5d559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9ce8b11a0bbc403d9c7e30ceebb8ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classString.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#a2f9ce8b11a0bbc403d9c7e30ceebb8ec">Replace</a> (<a class="el" href="classItem.html">Item</a> *subject_expr, <a class="el" href="classItem.html">Item</a> *replacement_expr, int <a class="el" href="routing__plugin_8cc.html#aee70c8416f705726100824ba89f1e090">start</a>, int occurrence, <a class="el" href="classString.html">String</a> *<a class="el" href="structresult.html">result</a>)</td></tr>
<tr class="separator:a2f9ce8b11a0bbc403d9c7e30ceebb8ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafbad32411de62fc735aabf2b3aaca64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classString.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#aafbad32411de62fc735aabf2b3aaca64">Substr</a> (<a class="el" href="classItem.html">Item</a> *subject_expr, int <a class="el" href="routing__plugin_8cc.html#aee70c8416f705726100824ba89f1e090">start</a>, int occurrence, <a class="el" href="classString.html">String</a> *<a class="el" href="structresult.html">result</a>)</td></tr>
<tr class="separator:aafbad32411de62fc735aabf2b3aaca64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa844a5b5b19e75bb878a307f7684044f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#aa844a5b5b19e75bb878a307f7684044f">cleanup</a> ()</td></tr>
<tr class="memdesc:aa844a5b5b19e75bb878a307f7684044f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the "engine" data structure after execution.  <a href="#aa844a5b5b19e75bb878a307f7684044f">More...</a><br /></td></tr>
<tr class="separator:aa844a5b5b19e75bb878a307f7684044f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3abcd899f9100ebb1041800a235adcf7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#a3abcd899f9100ebb1041800a235adcf7">Reset</a> (<a class="el" href="classItem.html">Item</a> *subject_expr, int <a class="el" href="routing__plugin_8cc.html#aee70c8416f705726100824ba89f1e090">start</a>=1)</td></tr>
<tr class="memdesc:a3abcd899f9100ebb1041800a235adcf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the compiled regular expression with a new string.  <a href="#a3abcd899f9100ebb1041800a235adcf7">More...</a><br /></td></tr>
<tr class="separator:a3abcd899f9100ebb1041800a235adcf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3fb0fa79cdf49ce62fdc5319b3c130"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#acc3fb0fa79cdf49ce62fdc5319b3c130">SetupEngine</a> (<a class="el" href="classItem.html">Item</a> *pattern_expr, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mi__test1_8cc.html#a6eec09a91807e20d7b3d6ef3da594067">flags</a>)</td></tr>
<tr class="memdesc:acc3fb0fa79cdf49ce62fdc5319b3c130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actually compiles the regular expression.  <a href="#acc3fb0fa79cdf49ce62fdc5319b3c130">More...</a><br /></td></tr>
<tr class="separator:acc3fb0fa79cdf49ce62fdc5319b3c130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c4c788d64aff4016b97a190212f0c2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#a1c4c788d64aff4016b97a190212f0c2a">ConvertCodePointToLibPosition</a> (int position) const</td></tr>
<tr class="memdesc:a1c4c788d64aff4016b97a190212f0c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a string position in m_current_subject.  <a href="#a1c4c788d64aff4016b97a190212f0c2a">More...</a><br /></td></tr>
<tr class="separator:a1c4c788d64aff4016b97a190212f0c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7643a260e0cd3756bee1032853c43643"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#a7643a260e0cd3756bee1032853c43643">ConvertLibPositionToCodePoint</a> (int position) const</td></tr>
<tr class="memdesc:a7643a260e0cd3756bee1032853c43643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a string position in m_current_subject.  <a href="#a7643a260e0cd3756bee1032853c43643">More...</a><br /></td></tr>
<tr class="separator:a7643a260e0cd3756bee1032853c43643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970112d0cdc2dbd48a5efa3d635818f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classString.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#a970112d0cdc2dbd48a5efa3d635818f5">AssignResult</a> (const char *str, size_t length, <a class="el" href="classString.html">String</a> *<a class="el" href="structresult.html">result</a>)</td></tr>
<tr class="memdesc:a970112d0cdc2dbd48a5efa3d635818f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function for setting the result from SQL regular expression functions that return a string value.  <a href="#a970112d0cdc2dbd48a5efa3d635818f5">More...</a><br /></td></tr>
<tr class="separator:a970112d0cdc2dbd48a5efa3d635818f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac965e57bc3f880b4dff89806cbe36a24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a>&lt; <a class="el" href="classregexp_1_1Regexp__engine.html">Regexp_engine</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#ac965e57bc3f880b4dff89806cbe36a24">m_engine</a></td></tr>
<tr class="memdesc:ac965e57bc3f880b4dff89806cbe36a24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for all the actual regular expression matching, search-and-replace, and positional and string information.  <a href="#ac965e57bc3f880b4dff89806cbe36a24">More...</a><br /></td></tr>
<tr class="separator:ac965e57bc3f880b4dff89806cbe36a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba129a629cadc0d797545f40257b30ac"><td class="memItemLeft" align="right" valign="top">std::u16string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregexp_1_1Regexp__facade.html#aba129a629cadc0d797545f40257b30ac">m_current_subject</a></td></tr>
<tr class="memdesc:aba129a629cadc0d797545f40257b30ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICU does not copy the subject string, so we keep the subject buffer here.  <a href="#aba129a629cadc0d797545f40257b30ac">More...</a><br /></td></tr>
<tr class="separator:aba129a629cadc0d797545f40257b30ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class handles. </p>
<ul>
<li>Conversion to the regexp library's character set, and buffers the converted strings during matching.</li>
<li>Re-compilation of the regular expression in case the pattern is a field reference or otherwise non-constant.</li>
<li><code>NULL</code> handling.</li>
<li>Conversion between indexing conventions. Clients of this class can use one-based indexing, while the classes used by this class use zero-based indexing. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a970112d0cdc2dbd48a5efa3d635818f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a970112d0cdc2dbd48a5efa3d635818f5">&#9670;&nbsp;</a></span>AssignResult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classString.html">String</a> * regexp::Regexp_facade::AssignResult </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function for setting the result from SQL regular expression functions that return a string value. </p>
<p>Depending on character sets used by arguments and result, this function may copy, convert or just set the result. In particular, it handles the special case of the BINARY character set being interpreted as CP-1252.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">str</td><td>The result string from the regexp function. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">length</td><td>Length in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">result</td><td>The result string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the same string as the argument, or nullptr in case of failure. </dd></dl>

</div>
</div>
<a id="aa844a5b5b19e75bb878a307f7684044f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa844a5b5b19e75bb878a307f7684044f">&#9670;&nbsp;</a></span>cleanup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void regexp::Regexp_facade::cleanup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the "engine" data structure after execution. </p>

</div>
</div>
<a id="a1c4c788d64aff4016b97a190212f0c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c4c788d64aff4016b97a190212f0c2a">&#9670;&nbsp;</a></span>ConvertCodePointToLibPosition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int regexp::Regexp_facade::ConvertCodePointToLibPosition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a string position in m_current_subject. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>One-based code point position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero-based byte position. </dd></dl>

</div>
</div>
<a id="a7643a260e0cd3756bee1032853c43643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7643a260e0cd3756bee1032853c43643">&#9670;&nbsp;</a></span>ConvertLibPositionToCodePoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int regexp::Regexp_facade::ConvertLibPositionToCodePoint </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>position</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Converts a string position in m_current_subject. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">position</td><td>Zero-based UTF-16 position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero-based code point position. </dd></dl>

</div>
</div>
<a id="a14d22d3e4c88eaf3dcadebd8e0c5d559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d22d3e4c88eaf3dcadebd8e0c5d559">&#9670;&nbsp;</a></span>Find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMysql_1_1Nullable.html">Mysql::Nullable</a>&lt; int &gt; regexp::Regexp_facade::Find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>subject_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>occurrence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>after_match</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches the subject for a match of the compiled regular expression and returns a position. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subject_expr</td><td>The string to search. </td></tr>
    <tr><td class="paramname">start</td><td>Start position, 1-based. </td></tr>
    <tr><td class="paramname">occurrence</td><td>Which occurrence of the pattern should be searched for. </td></tr>
    <tr><td class="paramname">after_match</td><td>If true, the position following the end of the match is returned. If false, the position before the match is returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first character of the match, or a null value if not found. </dd></dl>

</div>
</div>
<a id="ad073e58a2bbf1c14c9fe6ddd695b4e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad073e58a2bbf1c14c9fe6ddd695b4e18">&#9670;&nbsp;</a></span>Matches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMysql_1_1Nullable.html">Mysql::Nullable</a>&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; regexp::Regexp_facade::Matches </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>subject_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>occurrence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to match the subject against the compiled regular expression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subject_expr</td><td>Is evaluated into a string to search. </td></tr>
    <tr><td class="paramname">start</td><td>Start position, 1-based. </td></tr>
    <tr><td class="paramname">occurrence</td><td>Which occurrence of the pattern should be searched for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>A match was found. </td></tr>
    <tr><td class="paramname">false</td><td>A match was not found.</td></tr>
    <tr><td class="paramname">nullptr</td><td>Either the engine was not compiled, or subject_expr evaluates to NULL. This is useful for the Item_func_regexp object, since it doesn't have to make a special case for when the regular expression is NULL. Instead, the case is handled here in the facade. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f9ce8b11a0bbc403d9c7e30ceebb8ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9ce8b11a0bbc403d9c7e30ceebb8ec">&#9670;&nbsp;</a></span>Replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classString.html">String</a> * regexp::Regexp_facade::Replace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>subject_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>replacement_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>occurrence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">subject_expr</td><td>The string to search. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">replacement_expr</td><td>The string to replace the match with. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">start</td><td>Start position, 1-based. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">occurrence</td><td>Which occurrence of the pattern should be searched for. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">result</td><td>Holds the buffer for writing the result. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3abcd899f9100ebb1041800a235adcf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3abcd899f9100ebb1041800a235adcf7">&#9670;&nbsp;</a></span>Reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> regexp::Regexp_facade::Reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>subject_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the compiled regular expression with a new string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subject_expr</td><td>The new string to search. </td></tr>
    <tr><td class="paramname">start</td><td>If present, start on this code point.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>OK. </td></tr>
    <tr><td class="paramname">true</td><td>Either there is no compiled regular expression, or the expression evaluated to <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07cc3032b8f2b640f50502256c4a5e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07cc3032b8f2b640f50502256c4a5e83">&#9670;&nbsp;</a></span>SetPattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> regexp::Regexp_facade::SetPattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>pattern_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the pattern if called for the first time or the pattern_expr is non-constant. </p>
<p>This function is meant to be called for every row in a command such as</p>
<p>SELECT regexp_like( column, 'a+' ) FROM table;</p>
<p>In this case, the client of this class may call SetPattern() for every row without paying any penalty, as this becomes a no-op for all consecutive calls. In cases such as</p>
<p>SELECT regexp_like( column, regexp_column ) FROM table;</p>
<p>The <code>regexp_column</code> expression is non-constant and hence we have to recompile the regular expression for each row. </p>

</div>
</div>
<a id="acc3fb0fa79cdf49ce62fdc5319b3c130"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3fb0fa79cdf49ce62fdc5319b3c130">&#9670;&nbsp;</a></span>SetupEngine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> regexp::Regexp_facade::SetupEngine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>pattern_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actually compiles the regular expression. </p>

</div>
</div>
<a id="aafbad32411de62fc735aabf2b3aaca64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafbad32411de62fc735aabf2b3aaca64">&#9670;&nbsp;</a></span>Substr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classString.html">String</a> * regexp::Regexp_facade::Substr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>subject_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>occurrence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aba129a629cadc0d797545f40257b30ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba129a629cadc0d797545f40257b30ac">&#9670;&nbsp;</a></span>m_current_subject</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::u16string regexp::Regexp_facade::m_current_subject</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ICU does not copy the subject string, so we keep the subject buffer here. </p>
<p>A call to Reset() causes it to be overwritten.</p>
<dl class="section see"><dt>See also</dt><dd>Regexp_engine::reset() </dd></dl>

</div>
</div>
<a id="ac965e57bc3f880b4dff89806cbe36a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac965e57bc3f880b4dff89806cbe36a24">&#9670;&nbsp;</a></span>m_engine</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a>&lt;<a class="el" href="classregexp_1_1Regexp__engine.html">Regexp_engine</a>&gt; regexp::Regexp_facade::m_engine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for all the actual regular expression matching, search-and-replace, and positional and string information. </p>
<p>If either the regular expression pattern or the subject is <code>NULL</code>, this pointer is empty. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/regexp/<a class="el" href="regexp__facade_8h_source.html">regexp_facade.h</a></li>
<li>sql/regexp/<a class="el" href="regexp__facade_8cc.html">regexp_facade.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceregexp.html">regexp</a></li><li class="navelem"><a class="el" href="classregexp_1_1Regexp__facade.html">Regexp_facade</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
