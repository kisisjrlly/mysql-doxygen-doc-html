<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/trx0sys.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('trx0sys_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trx0sys.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Transaction system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;univ.i&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0buf_8h_source.html">buf0buf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fil0fil_8h_source.html">fil0fil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem0mem_8h_source.html">mem0mem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtr0mtr_8h_source.html">mtr0mtr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0types_8h_source.html">page0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0byte_8h_source.html">ut0byte.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0lst_8h_source.html">ut0lst.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0mutex_8h_source.html">ut0mutex.h</a>&quot;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
<code>#include &quot;trx0sys.ic&quot;</code><br />
</div>
<p><a href="trx0sys_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpace__Ids.html">Space_Ids</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of undo tablespace IDs.  <a href="classSpace__Ids.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__sys__t.html">trx_sys_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transaction system central memory data structure.  <a href="structtrx__sys__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa2a781c05b83f46fd05033661ee02e30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aa2a781c05b83f46fd05033661ee02e30">TRX_SYS_SYSTEM_RSEG_ID</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:aa2a781c05b83f46fd05033661ee02e30"><td class="mdescLeft">&#160;</td><td class="mdescRight">The automatically created system rollback segment has this id.  <a href="#aa2a781c05b83f46fd05033661ee02e30">More...</a><br /></td></tr>
<tr class="separator:aa2a781c05b83f46fd05033661ee02e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa6b9ffe7641af4cf82daf8e02851e0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#afa6b9ffe7641af4cf82daf8e02851e0c">TRX_SYS</a>&#160;&#160;&#160;<a class="el" href="fsp0types_8h.html#a016ea06313bd24de13618ff8413e619e">FSEG_PAGE_DATA</a></td></tr>
<tr class="memdesc:afa6b9ffe7641af4cf82daf8e02851e0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The offset of the transaction system header on the page.  <a href="#afa6b9ffe7641af4cf82daf8e02851e0c">More...</a><br /></td></tr>
<tr class="separator:afa6b9ffe7641af4cf82daf8e02851e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cf71acdd82916c874b2c26530662b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a26cf71acdd82916c874b2c26530662b8">TRX_SYS_TRX_ID_STORE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a26cf71acdd82916c874b2c26530662b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transaction system header.  <a href="#a26cf71acdd82916c874b2c26530662b8">More...</a><br /></td></tr>
<tr class="separator:a26cf71acdd82916c874b2c26530662b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b80de600bd7bc6aa71da08d2cd25b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a49b80de600bd7bc6aa71da08d2cd25b2">TRX_SYS_FSEG_HEADER</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:a49b80de600bd7bc6aa71da08d2cd25b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">segment header for the \ tablespace segment the trx \ system is created into  <a href="#a49b80de600bd7bc6aa71da08d2cd25b2">More...</a><br /></td></tr>
<tr class="separator:a49b80de600bd7bc6aa71da08d2cd25b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b2956ab24c7e9ba6e972d12af6d79a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ac6b2956ab24c7e9ba6e972d12af6d79a">TRX_SYS_RSEGS</a>&#160;&#160;&#160;(8 + <a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a>)</td></tr>
<tr class="memdesc:ac6b2956ab24c7e9ba6e972d12af6d79a"><td class="mdescLeft">&#160;</td><td class="mdescRight">the start of the array of rollback segment specification slots  <a href="#ac6b2956ab24c7e9ba6e972d12af6d79a">More...</a><br /></td></tr>
<tr class="separator:ac6b2956ab24c7e9ba6e972d12af6d79a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5866c2c2ea58fb17c81316b778ac9c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a7d5866c2c2ea58fb17c81316b778ac9c">TRX_SYS_MYSQL_LOG_NAME_LEN</a>&#160;&#160;&#160;512</td></tr>
<tr class="memdesc:a7d5866c2c2ea58fb17c81316b778ac9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum length of MySQL binlog file name, in bytes.  <a href="#a7d5866c2c2ea58fb17c81316b778ac9c">More...</a><br /></td></tr>
<tr class="separator:a7d5866c2c2ea58fb17c81316b778ac9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58cbf48b2a3a86aeb50e55e86c662ed2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a58cbf48b2a3a86aeb50e55e86c662ed2">TRX_SYS_MYSQL_LOG_MAGIC_N</a>&#160;&#160;&#160;873422344</td></tr>
<tr class="memdesc:a58cbf48b2a3a86aeb50e55e86c662ed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contents of TRX_SYS_MYSQL_LOG_MAGIC_N_FLD.  <a href="#a58cbf48b2a3a86aeb50e55e86c662ed2">More...</a><br /></td></tr>
<tr class="separator:a58cbf48b2a3a86aeb50e55e86c662ed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee658741dacb073f0ebb36bdd04cad3e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aee658741dacb073f0ebb36bdd04cad3e">TRX_SYS_MYSQL_LOG_INFO</a>&#160;&#160;&#160;(UNIV_PAGE_SIZE - 1000)</td></tr>
<tr class="memdesc:aee658741dacb073f0ebb36bdd04cad3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The offset of the MySQL binlog offset info in the trx system header.  <a href="#aee658741dacb073f0ebb36bdd04cad3e">More...</a><br /></td></tr>
<tr class="separator:aee658741dacb073f0ebb36bdd04cad3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a72164e689f60efa294141190b9ca08"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a8a72164e689f60efa294141190b9ca08">TRX_SYS_MYSQL_LOG_MAGIC_N_FLD</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a8a72164e689f60efa294141190b9ca08"><td class="mdescLeft">&#160;</td><td class="mdescRight">magic number which is \ TRX_SYS_MYSQL_LOG_MAGIC_N \ if we have valid data in the \ MySQL binlog info  <a href="#a8a72164e689f60efa294141190b9ca08">More...</a><br /></td></tr>
<tr class="separator:a8a72164e689f60efa294141190b9ca08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e1ee24cc12924d74056194fb9ea8ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a45e1ee24cc12924d74056194fb9ea8ad">TRX_SYS_MYSQL_LOG_OFFSET_HIGH</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:a45e1ee24cc12924d74056194fb9ea8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">high 4 bytes of the offset \ within that file  <a href="#a45e1ee24cc12924d74056194fb9ea8ad">More...</a><br /></td></tr>
<tr class="separator:a45e1ee24cc12924d74056194fb9ea8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26753bc3b365bf03d84745b9dfcb981"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ae26753bc3b365bf03d84745b9dfcb981">TRX_SYS_MYSQL_LOG_OFFSET_LOW</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ae26753bc3b365bf03d84745b9dfcb981"><td class="mdescLeft">&#160;</td><td class="mdescRight">low 4 bytes of the offset \ within that file  <a href="#ae26753bc3b365bf03d84745b9dfcb981">More...</a><br /></td></tr>
<tr class="separator:ae26753bc3b365bf03d84745b9dfcb981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee12dd1910b8f40cc282ff2bf70ad9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a1ee12dd1910b8f40cc282ff2bf70ad9b">TRX_SYS_MYSQL_LOG_NAME</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:a1ee12dd1910b8f40cc282ff2bf70ad9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">MySQL log file name.  <a href="#a1ee12dd1910b8f40cc282ff2bf70ad9b">More...</a><br /></td></tr>
<tr class="separator:a1ee12dd1910b8f40cc282ff2bf70ad9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc0726bc388d1cf92e9a9e1d16bad1c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aacc0726bc388d1cf92e9a9e1d16bad1c">TRX_SYS_TRX_NUM_GTID</a>&#160;&#160;&#160;(<a class="el" href="trx0sys_8h.html#aee658741dacb073f0ebb36bdd04cad3e">TRX_SYS_MYSQL_LOG_INFO</a> + <a class="el" href="trx0sys_8h.html#a1ee12dd1910b8f40cc282ff2bf70ad9b">TRX_SYS_MYSQL_LOG_NAME</a> + <a class="el" href="trx0sys_8h.html#a7d5866c2c2ea58fb17c81316b778ac9c">TRX_SYS_MYSQL_LOG_NAME_LEN</a>)</td></tr>
<tr class="memdesc:aacc0726bc388d1cf92e9a9e1d16bad1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve next 8 bytes for transaction number up to which GTIDs are persisted to table.  <a href="#aacc0726bc388d1cf92e9a9e1d16bad1c">More...</a><br /></td></tr>
<tr class="separator:aacc0726bc388d1cf92e9a9e1d16bad1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5f9c3b0f65005b7a5cdb43d077bbd5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a2e5f9c3b0f65005b7a5cdb43d077bbd5">TRX_SYS_TRX_NUM_END</a>&#160;&#160;&#160;= (<a class="el" href="trx0sys_8h.html#aacc0726bc388d1cf92e9a9e1d16bad1c">TRX_SYS_TRX_NUM_GTID</a> + 8)</td></tr>
<tr class="separator:a2e5f9c3b0f65005b7a5cdb43d077bbd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a984856dd659efb0db166fe6c41bdf5ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a984856dd659efb0db166fe6c41bdf5ba">TRX_SYS_TRX_ID_WRITE_MARGIN</a>&#160;&#160;&#160;((<a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>)256)</td></tr>
<tr class="memdesc:a984856dd659efb0db166fe6c41bdf5ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">When a trx id which is zero modulo this number (which must be a power of two) is assigned, the field TRX_SYS_TRX_ID_STORE on the transaction system page is updated.  <a href="#a984856dd659efb0db166fe6c41bdf5ba">More...</a><br /></td></tr>
<tr class="separator:a984856dd659efb0db166fe6c41bdf5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe656d31cfb02a0103a4ebe065f47b69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#afe656d31cfb02a0103a4ebe065f47b69">trx_sys_mutex_own</a>()&#160;&#160;&#160;(<a class="el" href="trx0sys_8cc.html#ae39a964821b25c51a681254cf3ef0b67">trx_sys</a>-&gt;mutex.is_owned())</td></tr>
<tr class="memdesc:afe656d31cfb02a0103a4ebe065f47b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if trx_sys-&gt;mutex is owned.  <a href="#afe656d31cfb02a0103a4ebe065f47b69">More...</a><br /></td></tr>
<tr class="separator:afe656d31cfb02a0103a4ebe065f47b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6f4b2533d75cf9275833fa2c729f7e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aec6f4b2533d75cf9275833fa2c729f7e">trx_sys_mutex_enter</a>()</td></tr>
<tr class="memdesc:aec6f4b2533d75cf9275833fa2c729f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire the trx_sys-&gt;mutex.  <a href="#aec6f4b2533d75cf9275833fa2c729f7e">More...</a><br /></td></tr>
<tr class="separator:aec6f4b2533d75cf9275833fa2c729f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44685b4593fbfdac22c0d8b2c22621d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a44685b4593fbfdac22c0d8b2c22621d9">trx_sys_mutex_exit</a>()</td></tr>
<tr class="memdesc:a44685b4593fbfdac22c0d8b2c22621d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the trx_sys-&gt;mutex.  <a href="#a44685b4593fbfdac22c0d8b2c22621d9">More...</a><br /></td></tr>
<tr class="separator:a44685b4593fbfdac22c0d8b2c22621d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:abf0bc967c94a179ed65c4a3f9124cb3a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#abf0bc967c94a179ed65c4a3f9124cb3a">TRX_SYS_DOUBLEWRITE</a>&#160;&#160;&#160;(UNIV_PAGE_SIZE - 200)</td></tr>
<tr class="memdesc:abf0bc967c94a179ed65c4a3f9124cb3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Doublewrite buffer.  <a href="#abf0bc967c94a179ed65c4a3f9124cb3a">More...</a><br /></td></tr>
<tr class="separator:abf0bc967c94a179ed65c4a3f9124cb3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7be1d600cb6dacb0536ec533d0d4fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ace7be1d600cb6dacb0536ec533d0d4fb">TRX_SYS_DOUBLEWRITE_FSEG</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ace7be1d600cb6dacb0536ec533d0d4fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">fseg header of the fseg \ containing the doublewrite \ buffer  <a href="#ace7be1d600cb6dacb0536ec533d0d4fb">More...</a><br /></td></tr>
<tr class="separator:ace7be1d600cb6dacb0536ec533d0d4fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad151913097481e5cb2dc8cea9bbb9c24"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ad151913097481e5cb2dc8cea9bbb9c24">TRX_SYS_DOUBLEWRITE_MAGIC</a>&#160;&#160;&#160;<a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a></td></tr>
<tr class="memdesc:ad151913097481e5cb2dc8cea9bbb9c24"><td class="mdescLeft">&#160;</td><td class="mdescRight">4-byte magic number which shows if we already have created the doublewrite buffer  <a href="#ad151913097481e5cb2dc8cea9bbb9c24">More...</a><br /></td></tr>
<tr class="separator:ad151913097481e5cb2dc8cea9bbb9c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7279320a0e6124cb02090098e7ce22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aaa7279320a0e6124cb02090098e7ce22">TRX_SYS_DOUBLEWRITE_BLOCK1</a>&#160;&#160;&#160;(4 + <a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a>)</td></tr>
<tr class="memdesc:aaa7279320a0e6124cb02090098e7ce22"><td class="mdescLeft">&#160;</td><td class="mdescRight">page number of the first page in the first sequence of 64 (= FSP_EXTENT_SIZE) consecutive pages in the doublewrite buffer  <a href="#aaa7279320a0e6124cb02090098e7ce22">More...</a><br /></td></tr>
<tr class="separator:aaa7279320a0e6124cb02090098e7ce22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af826bb154469eac8b39589c67dacefdc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#af826bb154469eac8b39589c67dacefdc">TRX_SYS_DOUBLEWRITE_BLOCK2</a>&#160;&#160;&#160;(8 + <a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a>)</td></tr>
<tr class="memdesc:af826bb154469eac8b39589c67dacefdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">page number of the first page in the second sequence of 64 consecutive pages in the doublewrite buffer  <a href="#af826bb154469eac8b39589c67dacefdc">More...</a><br /></td></tr>
<tr class="separator:af826bb154469eac8b39589c67dacefdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5222f3e9e94e5312d4283779e2dc4a2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a5222f3e9e94e5312d4283779e2dc4a2b">TRX_SYS_DOUBLEWRITE_REPEAT</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:a5222f3e9e94e5312d4283779e2dc4a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">we repeat \ TRX_SYS_DOUBLEWRITE_MAGIC, \ TRX_SYS_DOUBLEWRITE_BLOCK1, \ TRX_SYS_DOUBLEWRITE_BLOCK2 \ so that if the trx sys \ header is half-written \ to disk, we still may \ be able to recover the \ information  <a href="#a5222f3e9e94e5312d4283779e2dc4a2b">More...</a><br /></td></tr>
<tr class="separator:a5222f3e9e94e5312d4283779e2dc4a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8675a5282c0781748e39b561cdf3fb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ab8675a5282c0781748e39b561cdf3fb0">TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED</a>&#160;&#160;&#160;(24 + <a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a>)</td></tr>
<tr class="memdesc:ab8675a5282c0781748e39b561cdf3fb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this is not yet set to TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED_N, we must reset the doublewrite buffer, because starting from 4.1.x the space id of a data page is stored into FIL_PAGE_ARCH_LOG_NO_OR_SPACE_ID.  <a href="#ab8675a5282c0781748e39b561cdf3fb0">More...</a><br /></td></tr>
<tr class="separator:ab8675a5282c0781748e39b561cdf3fb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa51a065d9fbf4156142318552c6752"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a5fa51a065d9fbf4156142318552c6752">TRX_SYS_DOUBLEWRITE_MAGIC_N</a>&#160;&#160;&#160;536853855</td></tr>
<tr class="memdesc:a5fa51a065d9fbf4156142318552c6752"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contents of TRX_SYS_DOUBLEWRITE_MAGIC.  <a href="#a5fa51a065d9fbf4156142318552c6752">More...</a><br /></td></tr>
<tr class="separator:a5fa51a065d9fbf4156142318552c6752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a955d0b1229a6c39736dcdc7af4794a39"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a955d0b1229a6c39736dcdc7af4794a39">TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED_N</a>&#160;&#160;&#160;1783657386</td></tr>
<tr class="memdesc:a955d0b1229a6c39736dcdc7af4794a39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contents of TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED.  <a href="#a955d0b1229a6c39736dcdc7af4794a39">More...</a><br /></td></tr>
<tr class="separator:a955d0b1229a6c39736dcdc7af4794a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4222ee62cc81bb225daed61604fd49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#acf4222ee62cc81bb225daed61604fd49">TRX_SYS_DOUBLEWRITE_BLOCK_SIZE</a>&#160;&#160;&#160;<a class="el" href="fsp0types_8h.html#a31afb2e83803ec67e1bb7869fb247e8d">FSP_EXTENT_SIZE</a></td></tr>
<tr class="memdesc:acf4222ee62cc81bb225daed61604fd49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the doublewrite block in pages.  <a href="#acf4222ee62cc81bb225daed61604fd49">More...</a><br /></td></tr>
<tr class="separator:acf4222ee62cc81bb225daed61604fd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a74b4f9a1bc1a178fc5049d049ba72489"><td class="memItemLeft" align="right" valign="top">typedef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a74b4f9a1bc1a178fc5049d049ba72489">UT_LIST_BASE_NODE_T</a> (<a class="el" href="structtrx__t.html">trx_t</a>) trx_ut_list_t</td></tr>
<tr class="separator:a74b4f9a1bc1a178fc5049d049ba72489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4551bf05a079aa3d37fa57f715db56ef"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a4551bf05a079aa3d37fa57f715db56ef">trx_sys_hdr_page</a> (const <a class="el" href="classpage__id__t.html">page_id_t</a> &amp;page_id)</td></tr>
<tr class="memdesc:a4551bf05a079aa3d37fa57f715db56ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a page address is the trx sys header page.  <a href="#a4551bf05a079aa3d37fa57f715db56ef">More...</a><br /></td></tr>
<tr class="separator:a4551bf05a079aa3d37fa57f715db56ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af25e012bedad773de6e70a2b5cf341ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a2b2af0c3abd146b437f5659794024755">purge_pq_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#af25e012bedad773de6e70a2b5cf341ed">trx_sys_init_at_db_start</a> (void)</td></tr>
<tr class="memdesc:af25e012bedad773de6e70a2b5cf341ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and initializes the central memory structures for the transaction system.  <a href="#af25e012bedad773de6e70a2b5cf341ed">More...</a><br /></td></tr>
<tr class="separator:af25e012bedad773de6e70a2b5cf341ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8e8486fdb236014e6a1de1df5d24d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a5d8e8486fdb236014e6a1de1df5d24d4">trx_sys_create</a> (void)</td></tr>
<tr class="memdesc:a5d8e8486fdb236014e6a1de1df5d24d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the trx_sys instance and initializes purge_queue and mutex.  <a href="#a5d8e8486fdb236014e6a1de1df5d24d4">More...</a><br /></td></tr>
<tr class="separator:a5d8e8486fdb236014e6a1de1df5d24d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf95d5357cb172384b0857a55f10084"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aadf95d5357cb172384b0857a55f10084">trx_sys_create_sys_pages</a> (void)</td></tr>
<tr class="memdesc:aadf95d5357cb172384b0857a55f10084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and initializes the transaction system at the database creation.  <a href="#aadf95d5357cb172384b0857a55f10084">More...</a><br /></td></tr>
<tr class="separator:aadf95d5357cb172384b0857a55f10084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd5e7226d4ff81f878c7a3aca5c8760"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a2fd5e7226d4ff81f878c7a3aca5c8760">trx_sysf_rseg_find_page_no</a> (ulint rseg_id)</td></tr>
<tr class="memdesc:a2fd5e7226d4ff81f878c7a3aca5c8760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the page number in the TRX_SYS page for a given slot/rseg_id.  <a href="#a2fd5e7226d4ff81f878c7a3aca5c8760">More...</a><br /></td></tr>
<tr class="separator:a2fd5e7226d4ff81f878c7a3aca5c8760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89047280cb46d683455c02913e36df9c"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a89047280cb46d683455c02913e36df9c">trx_sysf_rseg_find_free</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a89047280cb46d683455c02913e36df9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for a free slot for a rollback segment in the trx system file copy.  <a href="#a89047280cb46d683455c02913e36df9c">More...</a><br /></td></tr>
<tr class="separator:a89047280cb46d683455c02913e36df9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595f555dd3ca3c94e523e868115d179f"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a595f555dd3ca3c94e523e868115d179f">trx_sysf_get</a> (<a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a595f555dd3ca3c94e523e868115d179f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the transaction system file copy and x-locks its page.  <a href="#a595f555dd3ca3c94e523e868115d179f">More...</a><br /></td></tr>
<tr class="separator:a595f555dd3ca3c94e523e868115d179f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a1006582397fc91a79599c1b068b4d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a38a1006582397fc91a79599c1b068b4d">trx_sysf_rseg_get_space</a> (<a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *sys_header, ulint i, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a38a1006582397fc91a79599c1b068b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the space of the nth rollback segment slot in the trx system file copy.  <a href="#a38a1006582397fc91a79599c1b068b4d">More...</a><br /></td></tr>
<tr class="separator:a38a1006582397fc91a79599c1b068b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae8bf419f120036c04ad0a179d8e7d3"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aeae8bf419f120036c04ad0a179d8e7d3">trx_sysf_rseg_get_page_no</a> (<a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *sys_header, ulint i, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:aeae8bf419f120036c04ad0a179d8e7d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the page number of the nth rollback segment slot in the trx system file copy.  <a href="#aeae8bf419f120036c04ad0a179d8e7d3">More...</a><br /></td></tr>
<tr class="separator:aeae8bf419f120036c04ad0a179d8e7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7771cabd3dbb927aa0be94fd8fd3f0cd"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a7771cabd3dbb927aa0be94fd8fd3f0cd">trx_sysf_rseg_set_space</a> (<a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *sys_header, ulint i, <a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> space, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a7771cabd3dbb927aa0be94fd8fd3f0cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the space id of the nth rollback segment slot in the trx system file copy.  <a href="#a7771cabd3dbb927aa0be94fd8fd3f0cd">More...</a><br /></td></tr>
<tr class="separator:a7771cabd3dbb927aa0be94fd8fd3f0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38ce7b3657e7d7ec29723f9fadd550d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ad38ce7b3657e7d7ec29723f9fadd550d">trx_sysf_rseg_set_page_no</a> (<a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *sys_header, ulint i, <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> page_no, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:ad38ce7b3657e7d7ec29723f9fadd550d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the page number of the nth rollback segment slot in the trx system file copy.  <a href="#ad38ce7b3657e7d7ec29723f9fadd550d">More...</a><br /></td></tr>
<tr class="separator:ad38ce7b3657e7d7ec29723f9fadd550d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada68dc87947b8d266a6ac810fa82745d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ada68dc87947b8d266a6ac810fa82745d">trx_sys_get_new_trx_id</a> ()</td></tr>
<tr class="memdesc:ada68dc87947b8d266a6ac810fa82745d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new transaction id.  <a href="#ada68dc87947b8d266a6ac810fa82745d">More...</a><br /></td></tr>
<tr class="separator:ada68dc87947b8d266a6ac810fa82745d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf92577bb351b5b6e51fac1f36a0abd3"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aaf92577bb351b5b6e51fac1f36a0abd3">trx_sys_get_max_trx_id</a> (void)</td></tr>
<tr class="memdesc:aaf92577bb351b5b6e51fac1f36a0abd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the maximum transaction id.  <a href="#aaf92577bb351b5b6e51fac1f36a0abd3">More...</a><br /></td></tr>
<tr class="separator:aaf92577bb351b5b6e51fac1f36a0abd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7882ca04f08b5823a795c615742e8ce4"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a7882ca04f08b5823a795c615742e8ce4">trx_write_trx_id</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="el" href="xcom__base_8cc.html#a7307f729d2752bdbe1d32d9fda65f30a">id</a>)</td></tr>
<tr class="memdesc:a7882ca04f08b5823a795c615742e8ce4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a trx id to an index page.  <a href="#a7882ca04f08b5823a795c615742e8ce4">More...</a><br /></td></tr>
<tr class="separator:a7882ca04f08b5823a795c615742e8ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a73e6b25c8d36a91ce9a8e263f3717"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a72a73e6b25c8d36a91ce9a8e263f3717">trx_read_trx_id</a> (const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr)</td></tr>
<tr class="memdesc:a72a73e6b25c8d36a91ce9a8e263f3717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a trx id from an index page.  <a href="#a72a73e6b25c8d36a91ce9a8e263f3717">More...</a><br /></td></tr>
<tr class="separator:a72a73e6b25c8d36a91ce9a8e263f3717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bfd54c881bd85edc9c5656481b1a4ef"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a5bfd54c881bd85edc9c5656481b1a4ef">trx_get_rw_trx_by_id</a> (<a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id)</td></tr>
<tr class="memdesc:a5bfd54c881bd85edc9c5656481b1a4ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Looks for the trx handle with the given id in rw trxs list.  <a href="#a5bfd54c881bd85edc9c5656481b1a4ef">More...</a><br /></td></tr>
<tr class="separator:a5bfd54c881bd85edc9c5656481b1a4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc62a4cc45a84e6519a31ca030af2b29"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#afc62a4cc45a84e6519a31ca030af2b29">trx_rw_min_trx_id</a> (void)</td></tr>
<tr class="memdesc:afc62a4cc45a84e6519a31ca030af2b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the minimum trx id in rw trx list.  <a href="#afc62a4cc45a84e6519a31ca030af2b29">More...</a><br /></td></tr>
<tr class="separator:afc62a4cc45a84e6519a31ca030af2b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a697d0a1e318c62bdfb704c2482d40c77"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a697d0a1e318c62bdfb704c2482d40c77">trx_rw_is_active_low</a> (<a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id, ibool *corrupt)</td></tr>
<tr class="memdesc:a697d0a1e318c62bdfb704c2482d40c77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a rw transaction with the given id is active.  <a href="#a697d0a1e318c62bdfb704c2482d40c77">More...</a><br /></td></tr>
<tr class="separator:a697d0a1e318c62bdfb704c2482d40c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad153964da5df5712b4beedceb423f337"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ad153964da5df5712b4beedceb423f337">trx_rw_is_active</a> (<a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id, ibool *corrupt, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> do_ref_count)</td></tr>
<tr class="memdesc:ad153964da5df5712b4beedceb423f337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a rw transaction with the given id is active.  <a href="#ad153964da5df5712b4beedceb423f337">More...</a><br /></td></tr>
<tr class="separator:ad153964da5df5712b4beedceb423f337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a379e883edf6ff1e4184e8981863c7c10"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a379e883edf6ff1e4184e8981863c7c10">trx_assert_recovered</a> (<a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id)</td></tr>
<tr class="memdesc:a379e883edf6ff1e4184e8981863c7c10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that a transaction has been recovered.  <a href="#a379e883edf6ff1e4184e8981863c7c10">More...</a><br /></td></tr>
<tr class="separator:a379e883edf6ff1e4184e8981863c7c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac71a968b10878c6df4934b0342e7c5e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ac71a968b10878c6df4934b0342e7c5e1">trx_sys_persist_gtid_num</a> (<a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> gtid_trx_no)</td></tr>
<tr class="memdesc:ac71a968b10878c6df4934b0342e7c5e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Persist transaction number limit below which all transaction GTIDs are persisted to disk table.  <a href="#ac71a968b10878c6df4934b0342e7c5e1">More...</a><br /></td></tr>
<tr class="separator:ac71a968b10878c6df4934b0342e7c5e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644cf25527377b72e5c9ee2ae4b8bd6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a644cf25527377b72e5c9ee2ae4b8bd6d">trx_sys_oldest_trx_no</a> ()</td></tr>
<tr class="separator:a644cf25527377b72e5c9ee2ae4b8bd6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a426a9ff61cc7f627adfd594c3f8b97bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a426a9ff61cc7f627adfd594c3f8b97bb">trx_sys_get_binlog_prepared</a> (std::vector&lt; <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> &gt; &amp;trx_ids)</td></tr>
<tr class="memdesc:a426a9ff61cc7f627adfd594c3f8b97bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of all binlog prepared transactions.  <a href="#a426a9ff61cc7f627adfd594c3f8b97bb">More...</a><br /></td></tr>
<tr class="separator:a426a9ff61cc7f627adfd594c3f8b97bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbfe1f0216821fd0ae6095f22bf09b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a5bbfe1f0216821fd0ae6095f22bf09b7">trx_sys_read_binlog_position</a> (char *file, uint64_t &amp;offset)</td></tr>
<tr class="memdesc:a5bbfe1f0216821fd0ae6095f22bf09b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current binary log positions stored.  <a href="#a5bbfe1f0216821fd0ae6095f22bf09b7">More...</a><br /></td></tr>
<tr class="separator:a5bbfe1f0216821fd0ae6095f22bf09b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad64fb2111f2109b323ff31d52a14c1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aad64fb2111f2109b323ff31d52a14c1f">trx_sys_write_binlog_position</a> (const char *last_file, uint64_t last_offset, const char *file, uint64_t offset)</td></tr>
<tr class="memdesc:aad64fb2111f2109b323ff31d52a14c1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update binary log position if not already updated.  <a href="#aad64fb2111f2109b323ff31d52a14c1f">More...</a><br /></td></tr>
<tr class="separator:aad64fb2111f2109b323ff31d52a14c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a222af4475c316d11e7096c3d935b8780"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a222af4475c316d11e7096c3d935b8780">trx_sys_update_mysql_binlog_offset</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a222af4475c316d11e7096c3d935b8780"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the offset information about the end of the MySQL binlog entry which corresponds to the transaction being committed, external XA transaction being prepared or rolled back.  <a href="#a222af4475c316d11e7096c3d935b8780">More...</a><br /></td></tr>
<tr class="separator:a222af4475c316d11e7096c3d935b8780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a11d0954651e631155d5f38ffcdeebd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a8a11d0954651e631155d5f38ffcdeebd">trx_sys_close</a> (void)</td></tr>
<tr class="memdesc:a8a11d0954651e631155d5f38ffcdeebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown/Close the transaction system.  <a href="#a8a11d0954651e631155d5f38ffcdeebd">More...</a><br /></td></tr>
<tr class="separator:a8a11d0954651e631155d5f38ffcdeebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03fb90ec8407035a8fe6d6662334308a"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a03fb90ec8407035a8fe6d6662334308a">trx_sys_need_rollback</a> ()</td></tr>
<tr class="memdesc:a03fb90ec8407035a8fe6d6662334308a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if there are incomplete transactions in the system.  <a href="#a03fb90ec8407035a8fe6d6662334308a">More...</a><br /></td></tr>
<tr class="separator:a03fb90ec8407035a8fe6d6662334308a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab1990a14201294967040bdbc4e8f64"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a6ab1990a14201294967040bdbc4e8f64">trx_sys_recovered_active_trxs_count</a> ()</td></tr>
<tr class="memdesc:a6ab1990a14201294967040bdbc4e8f64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads number of recovered transactions which have state equal to TRX_STATE_ACTIVE (so are not prepared transactions).  <a href="#a6ab1990a14201294967040bdbc4e8f64">More...</a><br /></td></tr>
<tr class="separator:a6ab1990a14201294967040bdbc4e8f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af138c95a7403f09bf9b6d702f776df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a7af138c95a7403f09bf9b6d702f776df">trx_sys_before_pre_dd_shutdown_validate</a> ()</td></tr>
<tr class="memdesc:a7af138c95a7403f09bf9b6d702f776df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates lists of transactions at the very beginning of the pre-dd-shutdown phase.  <a href="#a7af138c95a7403f09bf9b6d702f776df">More...</a><br /></td></tr>
<tr class="separator:a7af138c95a7403f09bf9b6d702f776df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46467880286280ce65481f64af9fea43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a46467880286280ce65481f64af9fea43">trx_sys_after_pre_dd_shutdown_validate</a> ()</td></tr>
<tr class="memdesc:a46467880286280ce65481f64af9fea43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates lists of transactions at the very end of the pre-dd-shutdown phase.  <a href="#a46467880286280ce65481f64af9fea43">More...</a><br /></td></tr>
<tr class="separator:a46467880286280ce65481f64af9fea43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6e0b666370d24f12e4f3b4bedc5ac7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#abd6e0b666370d24f12e4f3b4bedc5ac7">trx_sys_after_background_threads_shutdown_validate</a> ()</td></tr>
<tr class="memdesc:abd6e0b666370d24f12e4f3b4bedc5ac7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates lists of transactions after all background threads of InnoDB exited during shutdown of MySQL.  <a href="#abd6e0b666370d24f12e4f3b4bedc5ac7">More...</a><br /></td></tr>
<tr class="separator:abd6e0b666370d24f12e4f3b4bedc5ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a526990ffa7c78b875c1b1711035a6"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a54a526990ffa7c78b875c1b1711035a6">trx_sys_rw_trx_add</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a54a526990ffa7c78b875c1b1711035a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the transaction to the RW transaction set.  <a href="#a54a526990ffa7c78b875c1b1711035a6">More...</a><br /></td></tr>
<tr class="separator:a54a526990ffa7c78b875c1b1711035a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06c25f82d58f36697b26b5c9e88e744"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#aa06c25f82d58f36697b26b5c9e88e744">trx_sys_validate_trx_list</a> ()</td></tr>
<tr class="memdesc:aa06c25f82d58f36697b26b5c9e88e744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the trx_sys_t::rw_trx_list.  <a href="#aa06c25f82d58f36697b26b5c9e88e744">More...</a><br /></td></tr>
<tr class="separator:aa06c25f82d58f36697b26b5c9e88e744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab15445baa27a4f2bc4d5b1edf44e6901"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ab15445baa27a4f2bc4d5b1edf44e6901">trx_sys_undo_spaces_init</a> ()</td></tr>
<tr class="memdesc:ab15445baa27a4f2bc4d5b1edf44e6901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize trx_sys_undo_spaces, called once during srv_start().  <a href="#ab15445baa27a4f2bc4d5b1edf44e6901">More...</a><br /></td></tr>
<tr class="separator:ab15445baa27a4f2bc4d5b1edf44e6901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e30af47ba9a2536e122034af180b267"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a6e30af47ba9a2536e122034af180b267">trx_sys_undo_spaces_deinit</a> ()</td></tr>
<tr class="memdesc:a6e30af47ba9a2536e122034af180b267"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the resources occupied by trx_sys_undo_spaces, called once during thread de-initialization.  <a href="#a6e30af47ba9a2536e122034af180b267">More...</a><br /></td></tr>
<tr class="separator:a6e30af47ba9a2536e122034af180b267"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae39a964821b25c51a681254cf3ef0b67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__sys__t.html">trx_sys_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ae39a964821b25c51a681254cf3ef0b67">trx_sys</a></td></tr>
<tr class="memdesc:ae39a964821b25c51a681254cf3ef0b67"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transaction system.  <a href="#ae39a964821b25c51a681254cf3ef0b67">More...</a><br /></td></tr>
<tr class="separator:ae39a964821b25c51a681254cf3ef0b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8a7abb87478c59f23749aa5bb44f330"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#ad8a7abb87478c59f23749aa5bb44f330">trx_rseg_n_slots_debug</a></td></tr>
<tr class="separator:ad8a7abb87478c59f23749aa5bb44f330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25fea90a1cf126242b68fd7c94d7245d"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a25fea90a1cf126242b68fd7c94d7245d">TRX_SYS_OLD_N_RSEGS</a> = 256</td></tr>
<tr class="separator:a25fea90a1cf126242b68fd7c94d7245d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c95d517634a7b82d0258de9ec9e666"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a04c95d517634a7b82d0258de9ec9e666">TRX_SYS_OLD_TMP_RSEGS</a> = 32</td></tr>
<tr class="separator:a04c95d517634a7b82d0258de9ec9e666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a028df20e53f762d42a522da4cd91ee53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSpace__Ids.html">Space_Ids</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0sys_8h.html#a028df20e53f762d42a522da4cd91ee53">trx_sys_undo_spaces</a></td></tr>
<tr class="memdesc:a028df20e53f762d42a522da4cd91ee53"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of undo tablespace IDs found in the TRX_SYS page.  <a href="#a028df20e53f762d42a522da4cd91ee53">More...</a><br /></td></tr>
<tr class="separator:a028df20e53f762d42a522da4cd91ee53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transaction system. </p>
<p>Created 3/26/1996 Heikki Tuuri </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afa6b9ffe7641af4cf82daf8e02851e0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa6b9ffe7641af4cf82daf8e02851e0c">&#9670;&nbsp;</a></span>TRX_SYS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS&#160;&#160;&#160;<a class="el" href="fsp0types_8h.html#a016ea06313bd24de13618ff8413e619e">FSEG_PAGE_DATA</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The offset of the transaction system header on the page. </p>

</div>
</div>
<a id="abf0bc967c94a179ed65c4a3f9124cb3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf0bc967c94a179ed65c4a3f9124cb3a">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE&#160;&#160;&#160;(UNIV_PAGE_SIZE - 200)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Doublewrite buffer. </p>
<p>The offset of the doublewrite buffer header on the trx system header page </p>

</div>
</div>
<a id="aaa7279320a0e6124cb02090098e7ce22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa7279320a0e6124cb02090098e7ce22">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_BLOCK1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_BLOCK1&#160;&#160;&#160;(4 + <a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>page number of the first page in the first sequence of 64 (= FSP_EXTENT_SIZE) consecutive pages in the doublewrite buffer </p>

</div>
</div>
<a id="af826bb154469eac8b39589c67dacefdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af826bb154469eac8b39589c67dacefdc">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_BLOCK2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_BLOCK2&#160;&#160;&#160;(8 + <a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>page number of the first page in the second sequence of 64 consecutive pages in the doublewrite buffer </p>

</div>
</div>
<a id="acf4222ee62cc81bb225daed61604fd49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf4222ee62cc81bb225daed61604fd49">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_BLOCK_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_BLOCK_SIZE&#160;&#160;&#160;<a class="el" href="fsp0types_8h.html#a31afb2e83803ec67e1bb7869fb247e8d">FSP_EXTENT_SIZE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the doublewrite block in pages. </p>

</div>
</div>
<a id="ace7be1d600cb6dacb0536ec533d0d4fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7be1d600cb6dacb0536ec533d0d4fb">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_FSEG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_FSEG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>fseg header of the fseg \ containing the doublewrite \ buffer </p>

</div>
</div>
<a id="ad151913097481e5cb2dc8cea9bbb9c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad151913097481e5cb2dc8cea9bbb9c24">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_MAGIC&#160;&#160;&#160;<a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>4-byte magic number which shows if we already have created the doublewrite buffer </p>

</div>
</div>
<a id="a5fa51a065d9fbf4156142318552c6752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fa51a065d9fbf4156142318552c6752">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_MAGIC_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_MAGIC_N&#160;&#160;&#160;536853855</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contents of TRX_SYS_DOUBLEWRITE_MAGIC. </p>

</div>
</div>
<a id="a5222f3e9e94e5312d4283779e2dc4a2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5222f3e9e94e5312d4283779e2dc4a2b">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_REPEAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_REPEAT&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>we repeat \ TRX_SYS_DOUBLEWRITE_MAGIC, \ TRX_SYS_DOUBLEWRITE_BLOCK1, \ TRX_SYS_DOUBLEWRITE_BLOCK2 \ so that if the trx sys \ header is half-written \ to disk, we still may \ be able to recover the \ information </p>

</div>
</div>
<a id="ab8675a5282c0781748e39b561cdf3fb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8675a5282c0781748e39b561cdf3fb0">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED&#160;&#160;&#160;(24 + <a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If this is not yet set to TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED_N, we must reset the doublewrite buffer, because starting from 4.1.x the space id of a data page is stored into FIL_PAGE_ARCH_LOG_NO_OR_SPACE_ID. </p>

</div>
</div>
<a id="a955d0b1229a6c39736dcdc7af4794a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a955d0b1229a6c39736dcdc7af4794a39">&#9670;&nbsp;</a></span>TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED_N&#160;&#160;&#160;1783657386</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contents of TRX_SYS_DOUBLEWRITE_SPACE_ID_STORED. </p>

</div>
</div>
<a id="a49b80de600bd7bc6aa71da08d2cd25b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49b80de600bd7bc6aa71da08d2cd25b2">&#9670;&nbsp;</a></span>TRX_SYS_FSEG_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_FSEG_HEADER&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>segment header for the \ tablespace segment the trx \ system is created into </p>

</div>
</div>
<a id="aec6f4b2533d75cf9275833fa2c729f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6f4b2533d75cf9275833fa2c729f7e">&#9670;&nbsp;</a></span>trx_sys_mutex_enter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_sys_mutex_enter</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                            \</div><div class="line">    mutex_enter(&amp;<a class="code" href="trx0sys_8h.html#ae39a964821b25c51a681254cf3ef0b67">trx_sys</a>-&gt;<a class="code" href="structtrx__sys__t.html#af3914061a17ecc29150fd0b46a64292d">mutex</a>); \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trx0sys_8h_html_ae39a964821b25c51a681254cf3ef0b67"><div class="ttname"><a href="trx0sys_8h.html#ae39a964821b25c51a681254cf3ef0b67">trx_sys</a></div><div class="ttdeci">trx_sys_t * trx_sys</div><div class="ttdoc">The transaction system. </div><div class="ttdef"><b>Definition:</b> trx0sys.cc:58</div></div>
<div class="ttc" id="structtrx__sys__t_html_af3914061a17ecc29150fd0b46a64292d"><div class="ttname"><a href="structtrx__sys__t.html#af3914061a17ecc29150fd0b46a64292d">trx_sys_t::mutex</a></div><div class="ttdeci">TrxSysMutex mutex</div><div class="ttdoc">mutex protecting most fields in this structure except when noted otherwise </div><div class="ttdef"><b>Definition:</b> trx0sys.h:469</div></div>
</div><!-- fragment -->
<p>Acquire the trx_sys-&gt;mutex. </p>

</div>
</div>
<a id="a44685b4593fbfdac22c0d8b2c22621d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44685b4593fbfdac22c0d8b2c22621d9">&#9670;&nbsp;</a></span>trx_sys_mutex_exit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_sys_mutex_exit</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                       \</div><div class="line">    trx_sys-&gt;mutex.exit();   \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div></div><!-- fragment -->
<p>Release the trx_sys-&gt;mutex. </p>

</div>
</div>
<a id="afe656d31cfb02a0103a4ebe065f47b69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe656d31cfb02a0103a4ebe065f47b69">&#9670;&nbsp;</a></span>trx_sys_mutex_own</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_sys_mutex_own</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="trx0sys_8cc.html#ae39a964821b25c51a681254cf3ef0b67">trx_sys</a>-&gt;mutex.is_owned())</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if trx_sys-&gt;mutex is owned. </p>

</div>
</div>
<a id="aee658741dacb073f0ebb36bdd04cad3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee658741dacb073f0ebb36bdd04cad3e">&#9670;&nbsp;</a></span>TRX_SYS_MYSQL_LOG_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_MYSQL_LOG_INFO&#160;&#160;&#160;(UNIV_PAGE_SIZE - 1000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The offset of the MySQL binlog offset info in the trx system header. </p>

</div>
</div>
<a id="a58cbf48b2a3a86aeb50e55e86c662ed2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58cbf48b2a3a86aeb50e55e86c662ed2">&#9670;&nbsp;</a></span>TRX_SYS_MYSQL_LOG_MAGIC_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_MYSQL_LOG_MAGIC_N&#160;&#160;&#160;873422344</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contents of TRX_SYS_MYSQL_LOG_MAGIC_N_FLD. </p>

</div>
</div>
<a id="a8a72164e689f60efa294141190b9ca08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a72164e689f60efa294141190b9ca08">&#9670;&nbsp;</a></span>TRX_SYS_MYSQL_LOG_MAGIC_N_FLD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_MYSQL_LOG_MAGIC_N_FLD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>magic number which is \ TRX_SYS_MYSQL_LOG_MAGIC_N \ if we have valid data in the \ MySQL binlog info </p>

</div>
</div>
<a id="a1ee12dd1910b8f40cc282ff2bf70ad9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee12dd1910b8f40cc282ff2bf70ad9b">&#9670;&nbsp;</a></span>TRX_SYS_MYSQL_LOG_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_MYSQL_LOG_NAME&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MySQL log file name. </p>

</div>
</div>
<a id="a7d5866c2c2ea58fb17c81316b778ac9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5866c2c2ea58fb17c81316b778ac9c">&#9670;&nbsp;</a></span>TRX_SYS_MYSQL_LOG_NAME_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_MYSQL_LOG_NAME_LEN&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maximum length of MySQL binlog file name, in bytes. </p>

</div>
</div>
<a id="a45e1ee24cc12924d74056194fb9ea8ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45e1ee24cc12924d74056194fb9ea8ad">&#9670;&nbsp;</a></span>TRX_SYS_MYSQL_LOG_OFFSET_HIGH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_MYSQL_LOG_OFFSET_HIGH&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>high 4 bytes of the offset \ within that file </p>

</div>
</div>
<a id="ae26753bc3b365bf03d84745b9dfcb981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae26753bc3b365bf03d84745b9dfcb981">&#9670;&nbsp;</a></span>TRX_SYS_MYSQL_LOG_OFFSET_LOW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_MYSQL_LOG_OFFSET_LOW&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>low 4 bytes of the offset \ within that file </p>

</div>
</div>
<a id="ac6b2956ab24c7e9ba6e972d12af6d79a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b2956ab24c7e9ba6e972d12af6d79a">&#9670;&nbsp;</a></span>TRX_SYS_RSEGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_RSEGS&#160;&#160;&#160;(8 + <a class="el" href="fsp0types_8h.html#aaaace13e47e1cba8e7baf416d20303b6">FSEG_HEADER_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the start of the array of rollback segment specification slots </p>

</div>
</div>
<a id="aa2a781c05b83f46fd05033661ee02e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2a781c05b83f46fd05033661ee02e30">&#9670;&nbsp;</a></span>TRX_SYS_SYSTEM_RSEG_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_SYSTEM_RSEG_ID&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The automatically created system rollback segment has this id. </p>

</div>
</div>
<a id="a26cf71acdd82916c874b2c26530662b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26cf71acdd82916c874b2c26530662b8">&#9670;&nbsp;</a></span>TRX_SYS_TRX_ID_STORE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_TRX_ID_STORE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transaction system header. </p>
<p>the maximum trx id or trx \ number modulo \ TRX_SYS_TRX_ID_UPDATE_MARGIN \ written to a file page by any \ transaction; the assignment of \ transaction ids continues from \ this number rounded up by \ TRX_SYS_TRX_ID_UPDATE_MARGIN \ plus \ TRX_SYS_TRX_ID_UPDATE_MARGIN \ when the database is \ started </p>

</div>
</div>
<a id="a984856dd659efb0db166fe6c41bdf5ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a984856dd659efb0db166fe6c41bdf5ba">&#9670;&nbsp;</a></span>TRX_SYS_TRX_ID_WRITE_MARGIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_TRX_ID_WRITE_MARGIN&#160;&#160;&#160;((<a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>)256)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When a trx id which is zero modulo this number (which must be a power of two) is assigned, the field TRX_SYS_TRX_ID_STORE on the transaction system page is updated. </p>

</div>
</div>
<a id="a2e5f9c3b0f65005b7a5cdb43d077bbd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5f9c3b0f65005b7a5cdb43d077bbd5">&#9670;&nbsp;</a></span>TRX_SYS_TRX_NUM_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_TRX_NUM_END&#160;&#160;&#160;= (<a class="el" href="trx0sys_8h.html#aacc0726bc388d1cf92e9a9e1d16bad1c">TRX_SYS_TRX_NUM_GTID</a> + 8)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aacc0726bc388d1cf92e9a9e1d16bad1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc0726bc388d1cf92e9a9e1d16bad1c">&#9670;&nbsp;</a></span>TRX_SYS_TRX_NUM_GTID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_SYS_TRX_NUM_GTID&#160;&#160;&#160;(<a class="el" href="trx0sys_8h.html#aee658741dacb073f0ebb36bdd04cad3e">TRX_SYS_MYSQL_LOG_INFO</a> + <a class="el" href="trx0sys_8h.html#a1ee12dd1910b8f40cc282ff2bf70ad9b">TRX_SYS_MYSQL_LOG_NAME</a> + <a class="el" href="trx0sys_8h.html#a7d5866c2c2ea58fb17c81316b778ac9c">TRX_SYS_MYSQL_LOG_NAME_LEN</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve next 8 bytes for transaction number up to which GTIDs are persisted to table. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a379e883edf6ff1e4184e8981863c7c10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a379e883edf6ff1e4184e8981863c7c10">&#9670;&nbsp;</a></span>trx_assert_recovered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ibool trx_assert_recovered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assert that a transaction has been recovered. </p>
<dl class="section return"><dt>Returns</dt><dd>true </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx_id</td><td>in: transaction identifier </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5bfd54c881bd85edc9c5656481b1a4ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bfd54c881bd85edc9c5656481b1a4ef">&#9670;&nbsp;</a></span>trx_get_rw_trx_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structtrx__t.html">trx_t</a>* trx_get_rw_trx_by_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Looks for the trx handle with the given id in rw trxs list. </p>
<p>The caller must be holding trx_sys-&gt;mutex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx_id</td><td>trx id to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the trx handle or NULL if not found </dd></dl>

</div>
</div>
<a id="a72a73e6b25c8d36a91ce9a8e263f3717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a73e6b25c8d36a91ce9a8e263f3717">&#9670;&nbsp;</a></span>trx_read_trx_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_read_trx_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a trx id from an index page. </p>
<p>In case that the id size changes in some future version, this function should be used instead of mach_read_... </p><dl class="section return"><dt>Returns</dt><dd>id in: pointer to memory from where to read </dd></dl>

</div>
</div>
<a id="ad153964da5df5712b4beedceb423f337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad153964da5df5712b4beedceb423f337">&#9670;&nbsp;</a></span>trx_rw_is_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structtrx__t.html">trx_t</a>* trx_rw_is_active </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool *&#160;</td>
          <td class="paramname"><em>corrupt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>do_ref_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a rw transaction with the given id is active. </p>
<p>Please note, that positive result means only that the trx was active at some moment during the call, but it might have already become TRX_STATE_COMMITTED_IN_MEMORY before the call returns to the caller, as this transition is protected by trx-&gt;mutex and trx_sys-&gt;mutex, but it is impossible for the caller to hold any of these mutexes when calling this function as the function itself internally acquires trx_sys-&gt;mutex which would cause recurrent mutex acquisition if caller already had trx_sys-&gt;mutex, or latching order violation in case of holding trx-&gt;mutex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx_id</td><td>trx id of the transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">corrupt</td><td>NULL or pointer to a flag that will be set if corrupt </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">do_ref_count</td><td>if true then increment the trx_t::n_ref_count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transaction instance if active, or NULL; </dd></dl>

</div>
</div>
<a id="a697d0a1e318c62bdfb704c2482d40c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a697d0a1e318c62bdfb704c2482d40c77">&#9670;&nbsp;</a></span>trx_rw_is_active_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structtrx__t.html">trx_t</a>* trx_rw_is_active_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool *&#160;</td>
          <td class="paramname"><em>corrupt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a rw transaction with the given id is active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx_id</td><td>trx id of the transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">corrupt</td><td>NULL or pointer to a flag that will be set if corrupt </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transaction instance if active, or NULL </dd></dl>

</div>
</div>
<a id="afc62a4cc45a84e6519a31ca030af2b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc62a4cc45a84e6519a31ca030af2b29">&#9670;&nbsp;</a></span>trx_rw_min_trx_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_rw_min_trx_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the minimum trx id in rw trx list. </p>
<p>This is the smallest id for which the trx can possibly be active. (But, you must look at the trx-&gt;state to find out if the minimum trx id transaction itself is active, or already committed.) </p><dl class="section return"><dt>Returns</dt><dd>the minimum trx id, or trx_sys-&gt;max_trx_id if the trx list is empty </dd></dl>

</div>
</div>
<a id="abd6e0b666370d24f12e4f3b4bedc5ac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd6e0b666370d24f12e4f3b4bedc5ac7">&#9670;&nbsp;</a></span>trx_sys_after_background_threads_shutdown_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_after_background_threads_shutdown_validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates lists of transactions after all background threads of InnoDB exited during shutdown of MySQL. </p>

</div>
</div>
<a id="a46467880286280ce65481f64af9fea43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46467880286280ce65481f64af9fea43">&#9670;&nbsp;</a></span>trx_sys_after_pre_dd_shutdown_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_after_pre_dd_shutdown_validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates lists of transactions at the very end of the pre-dd-shutdown phase. </p>
<p>At this point we check the mysql_trx_list again, now we don't expect purge thread transactions in the list </p>

</div>
</div>
<a id="a7af138c95a7403f09bf9b6d702f776df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7af138c95a7403f09bf9b6d702f776df">&#9670;&nbsp;</a></span>trx_sys_before_pre_dd_shutdown_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_before_pre_dd_shutdown_validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates lists of transactions at the very beginning of the pre-dd-shutdown phase. </p>
<p>All connections are closed and close_connection unregisters associated trx from mysql_trx_list. We still might have some non started transactions in mysql_trx_list. Purge threads are an exception, they create their own trx_t objects which are not real transactions but are needed for the purge sys to use the query threads framework. Purge sys shutdown happens at a later point in the shutdown sequence so we need to skip its transactions here. IMPORTANT: If allocating transactions for background threads, please use trx_allocate_for_background. This function does not add the trx to the mysql_trx_list so we don't have to add logic to skip these at shutdown.</p>
<p>Skip purge thread trx, it will be cleared after purge sys shutdown </p>

</div>
</div>
<a id="a8a11d0954651e631155d5f38ffcdeebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a11d0954651e631155d5f38ffcdeebd">&#9670;&nbsp;</a></span>trx_sys_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown/Close the transaction system. </p>

</div>
</div>
<a id="a5d8e8486fdb236014e6a1de1df5d24d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8e8486fdb236014e6a1de1df5d24d4">&#9670;&nbsp;</a></span>trx_sys_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the trx_sys instance and initializes purge_queue and mutex. </p>

</div>
</div>
<a id="aadf95d5357cb172384b0857a55f10084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf95d5357cb172384b0857a55f10084">&#9670;&nbsp;</a></span>trx_sys_create_sys_pages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_create_sys_pages </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and initializes the transaction system at the database creation. </p>

</div>
</div>
<a id="a426a9ff61cc7f627adfd594c3f8b97bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a426a9ff61cc7f627adfd594c3f8b97bb">&#9670;&nbsp;</a></span>trx_sys_get_binlog_prepared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_get_binlog_prepared </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>trx_ids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of all binlog prepared transactions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">trx_ids</td><td>all prepared transaction IDs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf92577bb351b5b6e51fac1f36a0abd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf92577bb351b5b6e51fac1f36a0abd3">&#9670;&nbsp;</a></span>trx_sys_get_max_trx_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_sys_get_max_trx_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the maximum transaction id. </p>
<dl class="section return"><dt>Returns</dt><dd>maximum currently allocated trx id; will be stale after the next call to trx_sys_get_new_trx_id() </dd></dl>

</div>
</div>
<a id="ada68dc87947b8d266a6ac810fa82745d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada68dc87947b8d266a6ac810fa82745d">&#9670;&nbsp;</a></span>trx_sys_get_new_trx_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_sys_get_new_trx_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a new transaction id. </p>
<dl class="section return"><dt>Returns</dt><dd>new, allocated trx id </dd></dl>

</div>
</div>
<a id="a4551bf05a079aa3d37fa57f715db56ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4551bf05a079aa3d37fa57f715db56ef">&#9670;&nbsp;</a></span>trx_sys_hdr_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_sys_hdr_page </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpage__id__t.html">page_id_t</a> &amp;&#160;</td>
          <td class="paramname"><em>page_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a page address is the trx sys header page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">page_id</td><td>page id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if trx sys header page </dd></dl>

</div>
</div>
<a id="af25e012bedad773de6e70a2b5cf341ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af25e012bedad773de6e70a2b5cf341ed">&#9670;&nbsp;</a></span>trx_sys_init_at_db_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a2b2af0c3abd146b437f5659794024755">purge_pq_t</a>* trx_sys_init_at_db_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates and initializes the central memory structures for the transaction system. </p>
<p>This is called when the database is started. </p><dl class="section return"><dt>Returns</dt><dd>min binary heap of rsegs to purge </dd></dl>

</div>
</div>
<a id="a03fb90ec8407035a8fe6d6662334308a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03fb90ec8407035a8fe6d6662334308a">&#9670;&nbsp;</a></span>trx_sys_need_rollback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_sys_need_rollback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if there are incomplete transactions in the system. </p>
<dl class="section return"><dt>Returns</dt><dd>whether incomplete transactions need rollback </dd></dl>

</div>
</div>
<a id="a644cf25527377b72e5c9ee2ae4b8bd6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644cf25527377b72e5c9ee2ae4b8bd6d">&#9670;&nbsp;</a></span>trx_sys_oldest_trx_no()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_sys_oldest_trx_no </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>oldest transaction number yet to be committed. </dd></dl>

</div>
</div>
<a id="ac71a968b10878c6df4934b0342e7c5e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac71a968b10878c6df4934b0342e7c5e1">&#9670;&nbsp;</a></span>trx_sys_persist_gtid_num()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_persist_gtid_num </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>gtid_trx_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Persist transaction number limit below which all transaction GTIDs are persisted to disk table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gtid_trx_no</td><td>transaction number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5bbfe1f0216821fd0ae6095f22bf09b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bbfe1f0216821fd0ae6095f22bf09b7">&#9670;&nbsp;</a></span>trx_sys_read_binlog_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_read_binlog_position </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t &amp;&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current binary log positions stored. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">file</td><td>binary log file name </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">offset</td><td>binary log file offset </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ab1990a14201294967040bdbc4e8f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab1990a14201294967040bdbc4e8f64">&#9670;&nbsp;</a></span>trx_sys_recovered_active_trxs_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t trx_sys_recovered_active_trxs_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads number of recovered transactions which have state equal to TRX_STATE_ACTIVE (so are not prepared transactions). </p>
<dl class="section return"><dt>Returns</dt><dd>number of active recovered transactions </dd></dl>

</div>
</div>
<a id="a54a526990ffa7c78b875c1b1711035a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54a526990ffa7c78b875c1b1711035a6">&#9670;&nbsp;</a></span>trx_sys_rw_trx_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_sys_rw_trx_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the transaction to the RW transaction set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>transaction instance to add </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e30af47ba9a2536e122034af180b267"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e30af47ba9a2536e122034af180b267">&#9670;&nbsp;</a></span>trx_sys_undo_spaces_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_undo_spaces_deinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the resources occupied by trx_sys_undo_spaces, called once during thread de-initialization. </p>

</div>
</div>
<a id="ab15445baa27a4f2bc4d5b1edf44e6901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab15445baa27a4f2bc4d5b1edf44e6901">&#9670;&nbsp;</a></span>trx_sys_undo_spaces_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_undo_spaces_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize trx_sys_undo_spaces, called once during srv_start(). </p>

</div>
</div>
<a id="a222af4475c316d11e7096c3d935b8780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a222af4475c316d11e7096c3d935b8780">&#9670;&nbsp;</a></span>trx_sys_update_mysql_binlog_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_update_mysql_binlog_offset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the offset information about the end of the MySQL binlog entry which corresponds to the transaction being committed, external XA transaction being prepared or rolled back. </p>
<p>In a MySQL replication slave updates the latest master binlog position up to which replication has proceeded. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>Current transaction </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mtr</td><td>Mini-transaction for update </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa06c25f82d58f36697b26b5c9e88e744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa06c25f82d58f36697b26b5c9e88e744">&#9670;&nbsp;</a></span>trx_sys_validate_trx_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_sys_validate_trx_list </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate the trx_sys_t::rw_trx_list. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the list is valid</dd>
<dd>
true if the list is valid. </dd></dl>

</div>
</div>
<a id="aad64fb2111f2109b323ff31d52a14c1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad64fb2111f2109b323ff31d52a14c1f">&#9670;&nbsp;</a></span>trx_sys_write_binlog_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_sys_write_binlog_position </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>last_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>last_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update binary log position if not already updated. </p>
<p>This is called by clone to update any stale binary log position if any transaction is yet to update the binary log position in SE. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">last_file</td><td>last noted binary log file name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">last_offset</td><td>last noted binary log offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>current binary log file name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>current binary log file offset </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, if binary log position is updated with current. </dd></dl>

</div>
</div>
<a id="a595f555dd3ca3c94e523e868115d179f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595f555dd3ca3c94e523e868115d179f">&#9670;&nbsp;</a></span>trx_sysf_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a>* trx_sysf_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a pointer to the transaction system file copy and x-locks its page. </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to system file copy, page x-locked in: mtr </dd></dl>

</div>
</div>
<a id="a89047280cb46d683455c02913e36df9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89047280cb46d683455c02913e36df9c">&#9670;&nbsp;</a></span>trx_sysf_rseg_find_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_sysf_rseg_find_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for a free slot for a rollback segment in the trx system file copy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mtr</td><td>mtr </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>slot index or ULINT_UNDEFINED if not found </dd></dl>

</div>
</div>
<a id="a2fd5e7226d4ff81f878c7a3aca5c8760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd5e7226d4ff81f878c7a3aca5c8760">&#9670;&nbsp;</a></span>trx_sysf_rseg_find_page_no()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> trx_sysf_rseg_find_page_no </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>rseg_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the page number in the TRX_SYS page for a given slot/rseg_id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rseg_id</td><td>slot number in the TRX_SYS page rseg array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>page number from the TRX_SYS page rseg array </dd></dl>

</div>
</div>
<a id="aeae8bf419f120036c04ad0a179d8e7d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae8bf419f120036c04ad0a179d8e7d3">&#9670;&nbsp;</a></span>trx_sysf_rseg_get_page_no()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> trx_sysf_rseg_get_page_no </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *&#160;</td>
          <td class="paramname"><em>sys_header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the page number of the nth rollback segment slot in the trx system file copy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sys_header</td><td>trx sys file copy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>slot index == rseg id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>mtr </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>page number, FIL_NULL if slot unused </dd></dl>

</div>
</div>
<a id="a38a1006582397fc91a79599c1b068b4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a1006582397fc91a79599c1b068b4d">&#9670;&nbsp;</a></span>trx_sysf_rseg_get_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> trx_sysf_rseg_get_space </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *&#160;</td>
          <td class="paramname"><em>sys_header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the space of the nth rollback segment slot in the trx system file copy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sys_header</td><td>trx sys file copy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>slot index == rseg id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>mtr </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>space id </dd></dl>

</div>
</div>
<a id="ad38ce7b3657e7d7ec29723f9fadd550d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad38ce7b3657e7d7ec29723f9fadd550d">&#9670;&nbsp;</a></span>trx_sysf_rseg_set_page_no()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_sysf_rseg_set_page_no </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *&#160;</td>
          <td class="paramname"><em>sys_header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the page number of the nth rollback segment slot in the trx system file copy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sys_header</td><td>trx sys file copy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>slot index == rseg id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">page_no</td><td>page number, FIL_NULL if the slot is reset to unused </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7771cabd3dbb927aa0be94fd8fd3f0cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7771cabd3dbb927aa0be94fd8fd3f0cd">&#9670;&nbsp;</a></span>trx_sysf_rseg_set_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_sysf_rseg_set_space </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#abc7dff1e33c4bec72afa7fc0f1e8e165">trx_sysf_t</a> *&#160;</td>
          <td class="paramname"><em>sys_header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the space id of the nth rollback segment slot in the trx system file copy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sys_header</td><td>trx sys file copy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">i</td><td>slot index == rseg id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">space</td><td>space id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7882ca04f08b5823a795c615742e8ce4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7882ca04f08b5823a795c615742e8ce4">&#9670;&nbsp;</a></span>trx_write_trx_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_write_trx_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a trx id to an index page. </p>
<p>In case that the id size changes in some future version, this function should be used instead of mach_write_... </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>pointer to memory where written </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a74b4f9a1bc1a178fc5049d049ba72489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74b4f9a1bc1a178fc5049d049ba72489">&#9670;&nbsp;</a></span>UT_LIST_BASE_NODE_T()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef UT_LIST_BASE_NODE_T </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad8a7abb87478c59f23749aa5bb44f330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8a7abb87478c59f23749aa5bb44f330">&#9670;&nbsp;</a></span>trx_rseg_n_slots_debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> trx_rseg_n_slots_debug</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae39a964821b25c51a681254cf3ef0b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae39a964821b25c51a681254cf3ef0b67">&#9670;&nbsp;</a></span>trx_sys</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__sys__t.html">trx_sys_t</a>* trx_sys</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The transaction system. </p>

</div>
</div>
<a id="a25fea90a1cf126242b68fd7c94d7245d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fea90a1cf126242b68fd7c94d7245d">&#9670;&nbsp;</a></span>TRX_SYS_OLD_N_RSEGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t TRX_SYS_OLD_N_RSEGS = 256</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a04c95d517634a7b82d0258de9ec9e666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c95d517634a7b82d0258de9ec9e666">&#9670;&nbsp;</a></span>TRX_SYS_OLD_TMP_RSEGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t TRX_SYS_OLD_TMP_RSEGS = 32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a028df20e53f762d42a522da4cd91ee53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a028df20e53f762d42a522da4cd91ee53">&#9670;&nbsp;</a></span>trx_sys_undo_spaces</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSpace__Ids.html">Space_Ids</a>* trx_sys_undo_spaces</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list of undo tablespace IDs found in the TRX_SYS page. </p>
<p>This cannot be part of the trx_sys_t object because it is initialized before that object is created. These are the old type of undo tablespaces that do not have space_IDs in the reserved range nor contain an RSEG_ARRAY page.</p>
<p>These are the old type of undo tablespaces that do not have space_IDs in the reserved range nor contain an RSEG_ARRAY page. This cannot be part of the trx_sys_t object because it must be built before that is initialized. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="trx0sys_8h.html">trx0sys.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
