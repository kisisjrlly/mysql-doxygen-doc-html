<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/que/que0que.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('que0que_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">que0que.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Query graph.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dict0crea_8h_source.html">dict0crea.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="eval0eval_8h_source.html">eval0eval.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="eval0proc_8h_source.html">eval0proc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ha__prototypes_8h_source.html">ha_prototypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock0lock_8h_source.html">lock0lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0log_8h_source.html">log0log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pars0types_8h_source.html">pars0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="que0que_8h_source.html">que0que.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0ins_8h_source.html">row0ins.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0purge_8h_source.html">row0purge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0sel_8h_source.html">row0sel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0undo_8h_source.html">row0undo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0upd_8h_source.html">row0upd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0roll_8h_source.html">trx0roll.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="usr0sess_8h_source.html">usr0sess.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac6c202738f754cd03c7f5c9344706f6d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#ac6c202738f754cd03c7f5c9344706f6d">que_thr_move_to_run_state</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:ac6c202738f754cd03c7f5c9344706f6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a thread from another state to the QUE_THR_RUNNING state.  <a href="#ac6c202738f754cd03c7f5c9344706f6d">More...</a><br /></td></tr>
<tr class="separator:ac6c202738f754cd03c7f5c9344706f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a460a3de4baf40b2b158b4969ac3659"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structque__fork__t.html">que_fork_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a5a460a3de4baf40b2b158b4969ac3659">que_fork_create</a> (<a class="el" href="que0types_8h.html#a3052106eec0aaf80a6028b16f70372b1">que_t</a> *graph, <a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *parent, ulint fork_type, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap)</td></tr>
<tr class="memdesc:a5a460a3de4baf40b2b158b4969ac3659"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a query graph fork node.  <a href="#a5a460a3de4baf40b2b158b4969ac3659">More...</a><br /></td></tr>
<tr class="separator:a5a460a3de4baf40b2b158b4969ac3659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6971290c3e2c1c4facec13185d8b5757"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a6971290c3e2c1c4facec13185d8b5757">que_thr_create</a> (<a class="el" href="structque__fork__t.html">que_fork_t</a> *parent, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt)</td></tr>
<tr class="memdesc:a6971290c3e2c1c4facec13185d8b5757"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a query graph thread node.  <a href="#a6971290c3e2c1c4facec13185d8b5757">More...</a><br /></td></tr>
<tr class="separator:a6971290c3e2c1c4facec13185d8b5757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99bcbdf76361fa3ba40253adee256235"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a99bcbdf76361fa3ba40253adee256235">que_thr_end_lock_wait</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a99bcbdf76361fa3ba40253adee256235"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a suspended query thread to the QUE_THR_RUNNING state and may release a worker thread to execute it.  <a href="#a99bcbdf76361fa3ba40253adee256235">More...</a><br /></td></tr>
<tr class="separator:a99bcbdf76361fa3ba40253adee256235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae667b1208b8979a5ff87d9a14017afc2"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#ae667b1208b8979a5ff87d9a14017afc2">que_thr_init_command</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:ae667b1208b8979a5ff87d9a14017afc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inits a query thread for a command.  <a href="#ae667b1208b8979a5ff87d9a14017afc2">More...</a><br /></td></tr>
<tr class="separator:ae667b1208b8979a5ff87d9a14017afc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04eee3d0d397c72abf54ed5428137d45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a04eee3d0d397c72abf54ed5428137d45">que_fork_scheduler_round_robin</a> (<a class="el" href="structque__fork__t.html">que_fork_t</a> *fork, <a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:a04eee3d0d397c72abf54ed5428137d45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round robin scheduler.  <a href="#a04eee3d0d397c72abf54ed5428137d45">More...</a><br /></td></tr>
<tr class="separator:a04eee3d0d397c72abf54ed5428137d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf30435e59f2ebf079c39aab8b75de66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#acf30435e59f2ebf079c39aab8b75de66">que_fork_start_command</a> (<a class="el" href="structque__fork__t.html">que_fork_t</a> *fork)</td></tr>
<tr class="memdesc:acf30435e59f2ebf079c39aab8b75de66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts execution of a command in a query fork.  <a href="#acf30435e59f2ebf079c39aab8b75de66">More...</a><br /></td></tr>
<tr class="separator:acf30435e59f2ebf079c39aab8b75de66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a787c6fb3ffe563f07a98478522f93e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a2a787c6fb3ffe563f07a98478522f93e">que_graph_free_stat_list</a> (<a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node)</td></tr>
<tr class="memdesc:a2a787c6fb3ffe563f07a98478522f93e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls que_graph_free_recursive for statements in a statement list.  <a href="#a2a787c6fb3ffe563f07a98478522f93e">More...</a><br /></td></tr>
<tr class="separator:a2a787c6fb3ffe563f07a98478522f93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a007dfc7a252c50177a025e2106f6053c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a007dfc7a252c50177a025e2106f6053c">que_graph_free_recursive</a> (<a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node)</td></tr>
<tr class="memdesc:a007dfc7a252c50177a025e2106f6053c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a query graph, but not the heap where it was created.  <a href="#a007dfc7a252c50177a025e2106f6053c">More...</a><br /></td></tr>
<tr class="separator:a007dfc7a252c50177a025e2106f6053c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b97f2b24596d569a3e02e16dbc60550"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a8b97f2b24596d569a3e02e16dbc60550">que_graph_free</a> (<a class="el" href="que0types_8h.html#a3052106eec0aaf80a6028b16f70372b1">que_t</a> *graph)</td></tr>
<tr class="memdesc:a8b97f2b24596d569a3e02e16dbc60550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a query graph.  <a href="#a8b97f2b24596d569a3e02e16dbc60550">More...</a><br /></td></tr>
<tr class="separator:a8b97f2b24596d569a3e02e16dbc60550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0d7e97f75f1b3b97925841a30738a5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#aec0d7e97f75f1b3b97925841a30738a5">que_thr_node_step</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:aec0d7e97f75f1b3b97925841a30738a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an execution step on a thr node.  <a href="#aec0d7e97f75f1b3b97925841a30738a5">More...</a><br /></td></tr>
<tr class="separator:aec0d7e97f75f1b3b97925841a30738a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac299d26a96497f98066e0d9327e0b0ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#ac299d26a96497f98066e0d9327e0b0ec">que_thr_stop</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:ac299d26a96497f98066e0d9327e0b0ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops a query thread if graph or trx is in a state requiring it.  <a href="#ac299d26a96497f98066e0d9327e0b0ec">More...</a><br /></td></tr>
<tr class="separator:ac299d26a96497f98066e0d9327e0b0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecfa0085c389868fc841e354d0d52e9e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#aecfa0085c389868fc841e354d0d52e9e">que_thr_dec_refer_count</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="el" href="structque__thr__t.html">que_thr_t</a> **next_thr)</td></tr>
<tr class="memdesc:aecfa0085c389868fc841e354d0d52e9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrements the query thread reference counts in the query graph and the transaction.  <a href="#aecfa0085c389868fc841e354d0d52e9e">More...</a><br /></td></tr>
<tr class="separator:aecfa0085c389868fc841e354d0d52e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68d4bcd1e20618ca9549bbd156d3d1cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a68d4bcd1e20618ca9549bbd156d3d1cb">que_thr_stop_for_mysql</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:a68d4bcd1e20618ca9549bbd156d3d1cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A patch for MySQL used to 'stop' a dummy query thread used in MySQL.  <a href="#a68d4bcd1e20618ca9549bbd156d3d1cb">More...</a><br /></td></tr>
<tr class="separator:a68d4bcd1e20618ca9549bbd156d3d1cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b113272c7b5adce6d6c2c23df06cd1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a0b113272c7b5adce6d6c2c23df06cd1f">que_thr_move_to_run_state_for_mysql</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a0b113272c7b5adce6d6c2c23df06cd1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a thread from another state to the QUE_THR_RUNNING state.  <a href="#a0b113272c7b5adce6d6c2c23df06cd1f">More...</a><br /></td></tr>
<tr class="separator:a0b113272c7b5adce6d6c2c23df06cd1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b1571190231078521f29da16ba096a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a54b1571190231078521f29da16ba096a">que_thr_stop_for_mysql_no_error</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a54b1571190231078521f29da16ba096a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A patch for MySQL used to 'stop' a dummy query thread used in MySQL select, when there is no error or lock wait.  <a href="#a54b1571190231078521f29da16ba096a">More...</a><br /></td></tr>
<tr class="separator:a54b1571190231078521f29da16ba096a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74faa07e0ae046282059ad7caf6b7e7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a74faa07e0ae046282059ad7caf6b7e7c">que_node_get_containing_loop_node</a> (<a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node)</td></tr>
<tr class="memdesc:a74faa07e0ae046282059ad7caf6b7e7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first containing loop node (e.g.  <a href="#a74faa07e0ae046282059ad7caf6b7e7c">More...</a><br /></td></tr>
<tr class="separator:a74faa07e0ae046282059ad7caf6b7e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f898e685725824f39a137285841bd43"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a5f898e685725824f39a137285841bd43">que_node_type_string</a> (const <a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node)</td></tr>
<tr class="memdesc:a5f898e685725824f39a137285841bd43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets information of an SQL query graph node.  <a href="#a5f898e685725824f39a137285841bd43">More...</a><br /></td></tr>
<tr class="separator:a5f898e685725824f39a137285841bd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e1aaeb5dab6f4f9b18affe6eff40d8"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#ac0e1aaeb5dab6f4f9b18affe6eff40d8">que_thr_step</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:ac0e1aaeb5dab6f4f9b18affe6eff40d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an execution step on a query thread.  <a href="#ac0e1aaeb5dab6f4f9b18affe6eff40d8">More...</a><br /></td></tr>
<tr class="separator:ac0e1aaeb5dab6f4f9b18affe6eff40d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62bb42fa29770f0a42644165905f81cb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a62bb42fa29770f0a42644165905f81cb">que_run_threads_low</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:a62bb42fa29770f0a42644165905f81cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a query thread until it finishes or encounters e.g.  <a href="#a62bb42fa29770f0a42644165905f81cb">More...</a><br /></td></tr>
<tr class="separator:a62bb42fa29770f0a42644165905f81cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680cc5106abf03a84bc73ab25eaec91a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a680cc5106abf03a84bc73ab25eaec91a">que_run_threads</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:a680cc5106abf03a84bc73ab25eaec91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a query thread.  <a href="#a680cc5106abf03a84bc73ab25eaec91a">More...</a><br /></td></tr>
<tr class="separator:a680cc5106abf03a84bc73ab25eaec91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4a66b54d1242f493b96b27e2c049c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a4c4a66b54d1242f493b96b27e2c049c5">que_eval_sql</a> (<a class="el" href="structpars__info__t.html">pars_info_t</a> *<a class="el" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>, const char *sql, ibool reserve_dict_mutex, <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a4c4a66b54d1242f493b96b27e2c049c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate the given SQL.  <a href="#a4c4a66b54d1242f493b96b27e2c049c5">More...</a><br /></td></tr>
<tr class="separator:a4c4a66b54d1242f493b96b27e2c049c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75dbe14d306359add3af3830e78c0de6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#a75dbe14d306359add3af3830e78c0de6">que_init</a> (void)</td></tr>
<tr class="memdesc:a75dbe14d306359add3af3830e78c0de6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the query sub-system.  <a href="#a75dbe14d306359add3af3830e78c0de6">More...</a><br /></td></tr>
<tr class="separator:a75dbe14d306359add3af3830e78c0de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c8d6a29ac61b809665d40af253f323"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="que0que_8cc.html#ad4c8d6a29ac61b809665d40af253f323">que_close</a> (void)</td></tr>
<tr class="memdesc:ad4c8d6a29ac61b809665d40af253f323"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the query sub-system.  <a href="#ad4c8d6a29ac61b809665d40af253f323">More...</a><br /></td></tr>
<tr class="separator:ad4c8d6a29ac61b809665d40af253f323"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Query graph. </p>
<p>Created 5/27/1996 Heikki Tuuri </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad4c8d6a29ac61b809665d40af253f323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c8d6a29ac61b809665d40af253f323">&#9670;&nbsp;</a></span>que_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void que_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the query sub-system. </p>

</div>
</div>
<a id="a4c4a66b54d1242f493b96b27e2c049c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4a66b54d1242f493b96b27e2c049c5">&#9670;&nbsp;</a></span>que_eval_sql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> que_eval_sql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpars__info__t.html">pars_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>reserve_dict_mutex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate the given SQL. </p>
<dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>in: info struct, or NULL </td></tr>
    <tr><td class="paramname">sql</td><td>in: SQL string </td></tr>
    <tr><td class="paramname">reserve_dict_mutex</td><td>in: if TRUE, acquire/release dict_sys-&gt;mutex around call to pars_sql. </td></tr>
    <tr><td class="paramname">trx</td><td>in: trx </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a460a3de4baf40b2b158b4969ac3659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a460a3de4baf40b2b158b4969ac3659">&#9670;&nbsp;</a></span>que_fork_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__fork__t.html">que_fork_t</a>* que_fork_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="que0types_8h.html#a3052106eec0aaf80a6028b16f70372b1">que_t</a> *&#160;</td>
          <td class="paramname"><em>graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>fork_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a query graph fork node. </p>
<dl class="section return"><dt>Returns</dt><dd>own: fork node </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graph</td><td>in: graph, if NULL then this fork node is assumed to be the graph root </td></tr>
    <tr><td class="paramname">parent</td><td>in: parent node </td></tr>
    <tr><td class="paramname">fork_type</td><td>in: fork type </td></tr>
    <tr><td class="paramname">heap</td><td>in: memory heap where created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04eee3d0d397c72abf54ed5428137d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04eee3d0d397c72abf54ed5428137d45">&#9670;&nbsp;</a></span>que_fork_scheduler_round_robin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a>* que_fork_scheduler_round_robin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__fork__t.html">que_fork_t</a> *&#160;</td>
          <td class="paramname"><em>fork</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Round robin scheduler. </p>
<dl class="section return"><dt>Returns</dt><dd>a query thread of the graph moved to QUE_THR_RUNNING state, or NULL; the query thread should be executed by que_run_threads by the caller </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fork</td><td>in: a query fork </td></tr>
    <tr><td class="paramname">thr</td><td>in: current pos </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf30435e59f2ebf079c39aab8b75de66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf30435e59f2ebf079c39aab8b75de66">&#9670;&nbsp;</a></span>que_fork_start_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a>* que_fork_start_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__fork__t.html">que_fork_t</a> *&#160;</td>
          <td class="paramname"><em>fork</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts execution of a command in a query fork. </p>
<p>Picks a query thread which is not in the QUE_THR_RUNNING state and moves it to that state. If none can be chosen, a situation which may arise in parallelized fetches, NULL is returned. </p><dl class="section return"><dt>Returns</dt><dd>a query thread of the graph moved to QUE_THR_RUNNING state, or NULL; the query thread should be executed by que_run_threads by the caller </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fork</td><td>in: a query fork </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b97f2b24596d569a3e02e16dbc60550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b97f2b24596d569a3e02e16dbc60550">&#9670;&nbsp;</a></span>que_graph_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void que_graph_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="que0types_8h.html#a3052106eec0aaf80a6028b16f70372b1">que_t</a> *&#160;</td>
          <td class="paramname"><em>graph</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a query graph. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graph</td><td>in: query graph; we assume that the memory heap where this graph was created is private to this graph: if not, then use que_graph_free_recursive and free the heap afterwards! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a007dfc7a252c50177a025e2106f6053c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a007dfc7a252c50177a025e2106f6053c">&#9670;&nbsp;</a></span>que_graph_free_recursive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void que_graph_free_recursive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees a query graph, but not the heap where it was created. </p>
<p>Does not free explicit cursor declarations, they are freed in que_graph_free. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: query graph node </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a787c6fb3ffe563f07a98478522f93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a787c6fb3ffe563f07a98478522f93e">&#9670;&nbsp;</a></span>que_graph_free_stat_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void que_graph_free_stat_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls que_graph_free_recursive for statements in a statement list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: first query graph node in the list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75dbe14d306359add3af3830e78c0de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75dbe14d306359add3af3830e78c0de6">&#9670;&nbsp;</a></span>que_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void que_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the query sub-system. </p>

</div>
</div>
<a id="a74faa07e0ae046282059ad7caf6b7e7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74faa07e0ae046282059ad7caf6b7e7c">&#9670;&nbsp;</a></span>que_node_get_containing_loop_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a>* que_node_get_containing_loop_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the first containing loop node (e.g. </p>
<p>while_node_t or for_node_t) for the given node, or NULL if the node is not within a loop. </p><dl class="section return"><dt>Returns</dt><dd>containing loop node, or NULL. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: node </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f898e685725824f39a137285841bd43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f898e685725824f39a137285841bd43">&#9670;&nbsp;</a></span>que_node_type_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const char* que_node_type_string </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets information of an SQL query graph node. </p>
<dl class="section return"><dt>Returns</dt><dd>type description </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: query graph node </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a680cc5106abf03a84bc73ab25eaec91a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a680cc5106abf03a84bc73ab25eaec91a">&#9670;&nbsp;</a></span>que_run_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void que_run_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run a query thread. </p>
<p>Handles lock waits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62bb42fa29770f0a42644165905f81cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62bb42fa29770f0a42644165905f81cb">&#9670;&nbsp;</a></span>que_run_threads_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void que_run_threads_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run a query thread until it finishes or encounters e.g. </p>
<p>a lock wait. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6971290c3e2c1c4facec13185d8b5757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6971290c3e2c1c4facec13185d8b5757">&#9670;&nbsp;</a></span>que_thr_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a>* que_thr_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__fork__t.html">que_fork_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *&#160;</td>
          <td class="paramname"><em>prebuilt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a query graph thread node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>parent node, i.e., a fork node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heap</td><td>memory heap where created </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prebuilt</td><td>row prebuilt structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>own: query thread node </dd></dl>

</div>
</div>
<a id="aecfa0085c389868fc841e354d0d52e9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecfa0085c389868fc841e354d0d52e9e">&#9670;&nbsp;</a></span>que_thr_dec_refer_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void que_thr_dec_refer_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> **&#160;</td>
          <td class="paramname"><em>next_thr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decrements the query thread reference counts in the query graph and the transaction. </p>
<p>NOTE ***: This and que_thr_stop_for_mysql are the only functions where the reference count can be decremented and this function may only be called from inside que_run_threads! These restrictions exist to make the rollback code easier to maintain. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
    <tr><td class="paramname">next_thr</td><td>in/out: next query thread to run; if the value which is passed in is a pointer to a NULL pointer, then the calling function can start running a new query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a99bcbdf76361fa3ba40253adee256235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99bcbdf76361fa3ba40253adee256235">&#9670;&nbsp;</a></span>que_thr_end_lock_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a>* que_thr_end_lock_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves a suspended query thread to the QUE_THR_RUNNING state and may release a worker thread to execute it. </p>
<p>Moves a suspended query thread to the QUE_THR_RUNNING state and release a worker thread to execute it.</p>
<p>This function should be used to end the wait state of a query thread waiting for a lock or a stored procedure completion. </p><dl class="section return"><dt>Returns</dt><dd>the query thread that needs to be released. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction with que_state in QUE_THR_LOCK_WAIT </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae667b1208b8979a5ff87d9a14017afc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae667b1208b8979a5ff87d9a14017afc2">&#9670;&nbsp;</a></span>que_thr_init_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void que_thr_init_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inits a query thread for a command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac6c202738f754cd03c7f5c9344706f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c202738f754cd03c7f5c9344706f6d">&#9670;&nbsp;</a></span>que_thr_move_to_run_state()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void que_thr_move_to_run_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves a thread from another state to the QUE_THR_RUNNING state. </p>
<p>Increments the n_active_thrs counters of the query graph and transaction. NOTE***: This is the only function in which such a transition is allowed to happen! in: an query thread</p>
<p>Increments the n_active_thrs counters of the query graph and transaction if thr was not active. NOTE***: This and ..._mysql are the only functions in which such a transition is allowed to happen! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: an query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0b113272c7b5adce6d6c2c23df06cd1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b113272c7b5adce6d6c2c23df06cd1f">&#9670;&nbsp;</a></span>que_thr_move_to_run_state_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void que_thr_move_to_run_state_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves a thread from another state to the QUE_THR_RUNNING state. </p>
<p>Increments the n_active_thrs counters of the query graph and transaction if thr was not active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: an query thread </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aec0d7e97f75f1b3b97925841a30738a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0d7e97f75f1b3b97925841a30738a5">&#9670;&nbsp;</a></span>que_thr_node_step()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structque__thr__t.html">que_thr_t</a>* que_thr_node_step </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs an execution step on a thr node. </p>
<dl class="section return"><dt>Returns</dt><dd>query thread to run next, or NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread where run_node must be the thread node itself </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac0e1aaeb5dab6f4f9b18affe6eff40d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0e1aaeb5dab6f4f9b18affe6eff40d8">&#9670;&nbsp;</a></span>que_thr_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structque__thr__t.html">que_thr_t</a>* que_thr_step </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs an execution step on a query thread. </p>
<dl class="section return"><dt>Returns</dt><dd>query thread to run next: it may differ from the input parameter if, e.g., a subprocedure call is made </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac299d26a96497f98066e0d9327e0b0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac299d26a96497f98066e0d9327e0b0ec">&#9670;&nbsp;</a></span>que_thr_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> que_thr_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops a query thread if graph or trx is in a state requiring it. </p>
<p>The conditions are tested in the order (1) graph, (2) trx. Caller must hold the trx mutex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thr</td><td>query thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if stopped </dd></dl>

</div>
</div>
<a id="a68d4bcd1e20618ca9549bbd156d3d1cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68d4bcd1e20618ca9549bbd156d3d1cb">&#9670;&nbsp;</a></span>que_thr_stop_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void que_thr_stop_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A patch for MySQL used to 'stop' a dummy query thread used in MySQL. </p>
<p>The query thread is stopped and made inactive, except in the case where it was put to the lock wait state in lock0lock.cc, but the lock has already been granted or the transaction chosen as a victim in deadlock resolution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a54b1571190231078521f29da16ba096a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b1571190231078521f29da16ba096a">&#9670;&nbsp;</a></span>que_thr_stop_for_mysql_no_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void que_thr_stop_for_mysql_no_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A patch for MySQL used to 'stop' a dummy query thread used in MySQL select, when there is no error or lock wait. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thr</td><td>Query thread </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>Transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_5eeac2119dec04680d96f14541694d8a.html">que</a></li><li class="navelem"><a class="el" href="que0que_8cc.html">que0que.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
