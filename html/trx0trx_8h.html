<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/trx0trx.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('trx0trx_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trx0trx.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The transaction.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
<code>#include &quot;<a class="el" href="ha__prototypes_8h_source.html">ha_prototypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0new_8h_source.html">ut0new.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock0types_8h_source.html">lock0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0log_8h_source.html">log0log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem0mem_8h_source.html">mem0mem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="que0types_8h_source.html">que0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0xa_8h_source.html">trx0xa.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="usr0types_8h_source.html">usr0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0vec_8h_source.html">ut0vec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fts0fts_8h_source.html">fts0fts.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0srv_8h_source.html">srv0srv.h</a>&quot;</code><br />
<code>#include &quot;trx0trx.ic&quot;</code><br />
</div>
<p><a href="trx0trx_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__lock__t.html">trx_lock_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Latching protocol for trx_lock_t::que_state.  <a href="structtrx__lock__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__undo__ptr__t.html">trx_undo_ptr_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transaction handle.  <a href="structtrx__undo__ptr__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__rsegs__t.html">trx_rsegs_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rollback segments assigned to a transaction for undo logging.  <a href="structtrx__rsegs__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__t.html">trx_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommit__node__t.html">commit_node_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit command node in a query graph.  <a href="structcommit__node__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrxInInnoDB.html">TrxInInnoDB</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Track if a transaction is executing inside InnoDB code.  <a href="classTrxInInnoDB.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5b75bf99d785dde6579f0360107894a5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a5b75bf99d785dde6579f0360107894a5">trx_start_if_not_started_xa</a>(t,  rw)</td></tr>
<tr class="separator:a5b75bf99d785dde6579f0360107894a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0000b81548ffa235feae627a2ce6ac5d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a0000b81548ffa235feae627a2ce6ac5d">trx_start_if_not_started</a>(t,  rw)</td></tr>
<tr class="separator:a0000b81548ffa235feae627a2ce6ac5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0407502f2e8bc067035afd50b8d1ae0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a0407502f2e8bc067035afd50b8d1ae0a">trx_start_internal</a>(t)</td></tr>
<tr class="separator:a0407502f2e8bc067035afd50b8d1ae0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf86f30d06714cbe788898c036e19b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aecf86f30d06714cbe788898c036e19b0">trx_start_internal_read_only</a>(t)</td></tr>
<tr class="separator:aecf86f30d06714cbe788898c036e19b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f0896d94fab6eeb73cbcb164a40945"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a56f0896d94fab6eeb73cbcb164a40945">TRX_WEIGHT</a>(t)&#160;&#160;&#160;((t)-&gt;undo_no + <a class="el" href="ut0lst_8h.html#a132948a92c29bad601863cf8b56de5bb">UT_LIST_GET_LEN</a>((t)-&gt;lock.trx_locks))</td></tr>
<tr class="memdesc:a56f0896d94fab6eeb73cbcb164a40945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the "weight" of a transaction.  <a href="#a56f0896d94fab6eeb73cbcb164a40945">More...</a><br /></td></tr>
<tr class="separator:a56f0896d94fab6eeb73cbcb164a40945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0081be50a0239c2f91a1c7e35804380c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a0081be50a0239c2f91a1c7e35804380c">TRX_QUE_STATE_STR_MAX_LEN</a>&#160;&#160;&#160;12 /* &quot;ROLLING BACK&quot; */</td></tr>
<tr class="separator:a0081be50a0239c2f91a1c7e35804380c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4c0faddcc992c34c3b13be5b72fe42"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afe4c0faddcc992c34c3b13be5b72fe42">trx_is_referenced</a>(t)&#160;&#160;&#160;((t)-&gt;n_ref &gt; 0)</td></tr>
<tr class="memdesc:afe4c0faddcc992c34c3b13be5b72fe42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the transaction is being referenced.  <a href="#afe4c0faddcc992c34c3b13be5b72fe42">More...</a><br /></td></tr>
<tr class="separator:afe4c0faddcc992c34c3b13be5b72fe42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99829ee6699e2af1b9c8789bc736bb67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a99829ee6699e2af1b9c8789bc736bb67">trx_lock_wait_timeout_get</a>(t)&#160;&#160;&#160;<a class="el" href="ha__prototypes_8h.html#ab1c0620a5c5ea67494c6f4057e45f5cc">thd_lock_wait_timeout</a>((t)-&gt;mysql_thd)</td></tr>
<tr class="memdesc:a99829ee6699e2af1b9c8789bc736bb67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transactions that aren't started by the MySQL server don't set the trx_t::mysql_thd field.  <a href="#a99829ee6699e2af1b9c8789bc736bb67">More...</a><br /></td></tr>
<tr class="separator:a99829ee6699e2af1b9c8789bc736bb67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087a90c619c86978766f279a156dae2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>(t)&#160;&#160;&#160;((t)-&gt;auto_commit &amp;&amp; (t)-&gt;will_lock == 0)</td></tr>
<tr class="memdesc:a087a90c619c86978766f279a156dae2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the transaction is a non-locking autocommit select (implied read-only).  <a href="#a087a90c619c86978766f279a156dae2e">More...</a><br /></td></tr>
<tr class="separator:a087a90c619c86978766f279a156dae2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02fc96ab8d1a9a437a032d4d82a57381"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a02fc96ab8d1a9a437a032d4d82a57381">trx_is_ac_nl_ro</a>(t)&#160;&#160;&#160;((t)-&gt;<a class="el" href="mysqld_8h.html#ae851b490bae2ad91e401b972664fde81">read_only</a> &amp;&amp; <a class="el" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>((t)))</td></tr>
<tr class="memdesc:a02fc96ab8d1a9a437a032d4d82a57381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the transaction is a non-locking autocommit select with an explicit check for the read-only status.  <a href="#a02fc96ab8d1a9a437a032d4d82a57381">More...</a><br /></td></tr>
<tr class="separator:a02fc96ab8d1a9a437a032d4d82a57381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c91c1715241613f6ac4ce942590b2af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a3c91c1715241613f6ac4ce942590b2af">assert_trx_in_rw_list</a>(t)</td></tr>
<tr class="memdesc:a3c91c1715241613f6ac4ce942590b2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that the transaction is in the trx_sys_t::rw_trx_list.  <a href="#a3c91c1715241613f6ac4ce942590b2af">More...</a><br /></td></tr>
<tr class="separator:a3c91c1715241613f6ac4ce942590b2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde7d20699cfd043fa15ee48463bc9aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afde7d20699cfd043fa15ee48463bc9aa">check_trx_state</a>(t)</td></tr>
<tr class="memdesc:afde7d20699cfd043fa15ee48463bc9aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check transaction state.  <a href="#afde7d20699cfd043fa15ee48463bc9aa">More...</a><br /></td></tr>
<tr class="separator:afde7d20699cfd043fa15ee48463bc9aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71fd3d6e042a40d9ec7497bbcca0bcb5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a71fd3d6e042a40d9ec7497bbcca0bcb5">assert_trx_is_free</a>(t)</td></tr>
<tr class="memdesc:a71fd3d6e042a40d9ec7497bbcca0bcb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if transaction is free so that it can be re-initialized.  <a href="#a71fd3d6e042a40d9ec7497bbcca0bcb5">More...</a><br /></td></tr>
<tr class="separator:a71fd3d6e042a40d9ec7497bbcca0bcb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd9c1e66ed02a17b5c501ffd7c35a77"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afbd9c1e66ed02a17b5c501ffd7c35a77">assert_trx_is_inactive</a>(t)</td></tr>
<tr class="memdesc:afbd9c1e66ed02a17b5c501ffd7c35a77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if transaction is in-active so that it can be freed and put back to transaction pool.  <a href="#afbd9c1e66ed02a17b5c501ffd7c35a77">More...</a><br /></td></tr>
<tr class="separator:afbd9c1e66ed02a17b5c501ffd7c35a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4668f84b3a9c5687a0e1d733c3fbfa19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a4668f84b3a9c5687a0e1d733c3fbfa19">assert_trx_nonlocking_or_in_list</a>(t)</td></tr>
<tr class="memdesc:a4668f84b3a9c5687a0e1d733c3fbfa19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that an autocommit non-locking select cannot be in the rw_trx_list and that it is a read-only transaction.  <a href="#a4668f84b3a9c5687a0e1d733c3fbfa19">More...</a><br /></td></tr>
<tr class="separator:a4668f84b3a9c5687a0e1d733c3fbfa19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a247f389bf8c057c24e8b814bc264df0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a247f389bf8c057c24e8b814bc264df0c">TRX_ISO_READ_UNCOMMITTED</a>&#160;&#160;&#160;<a class="el" href="structtrx__t.html#ab5c05ba139deae47e8e05e2e0d1ac38caf03f2a86cf3d23a65c93aff89fd26d36">trx_t::READ_UNCOMMITTED</a></td></tr>
<tr class="separator:a247f389bf8c057c24e8b814bc264df0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ee0d3aa89fd432825470965225396b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ac1ee0d3aa89fd432825470965225396b">TRX_ISO_READ_COMMITTED</a>&#160;&#160;&#160;<a class="el" href="structtrx__t.html#ab5c05ba139deae47e8e05e2e0d1ac38ca7a293644531f3b2913bc427939620d0a">trx_t::READ_COMMITTED</a></td></tr>
<tr class="separator:ac1ee0d3aa89fd432825470965225396b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69bd5e8425f4f881b741af67a5b7f9fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a69bd5e8425f4f881b741af67a5b7f9fe">TRX_ISO_REPEATABLE_READ</a>&#160;&#160;&#160;<a class="el" href="structtrx__t.html#ab5c05ba139deae47e8e05e2e0d1ac38ca3bb1d2ea4d41428c2f8a2388e8ea0a77">trx_t::REPEATABLE_READ</a></td></tr>
<tr class="separator:a69bd5e8425f4f881b741af67a5b7f9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45398954a16ffa99d6a2b33bf90b4c9c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a45398954a16ffa99d6a2b33bf90b4c9c">TRX_ISO_SERIALIZABLE</a>&#160;&#160;&#160;<a class="el" href="structtrx__t.html#ab5c05ba139deae47e8e05e2e0d1ac38caecb18c711dc933dc20df1ceabb71737b">trx_t::SERIALIZABLE</a></td></tr>
<tr class="separator:a45398954a16ffa99d6a2b33bf90b4c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2500d5010eab88bcf2f06b519354237f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2500d5010eab88bcf2f06b519354237f">trx_mutex_own</a>(t)&#160;&#160;&#160;<a class="el" href="ut0mutex_8h.html#a7eccf8a96f24ab7f4012bb203640cf17">mutex_own</a>(&amp;t-&gt;<a class="el" href="memcached_8c.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>)</td></tr>
<tr class="memdesc:a2500d5010eab88bcf2f06b519354237f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if trx-&gt;mutex is owned by the current thread.  <a href="#a2500d5010eab88bcf2f06b519354237f">More...</a><br /></td></tr>
<tr class="separator:a2500d5010eab88bcf2f06b519354237f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3bef87718013d5f34bfa7c9bb16ba4c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#af3bef87718013d5f34bfa7c9bb16ba4c">trx_mutex_enter_low</a>(t,  first_of_two)</td></tr>
<tr class="memdesc:af3bef87718013d5f34bfa7c9bb16ba4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Please do not use this low-level macro.  <a href="#af3bef87718013d5f34bfa7c9bb16ba4c">More...</a><br /></td></tr>
<tr class="separator:af3bef87718013d5f34bfa7c9bb16ba4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2a1215a0c143a2e57464019e8d209d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aba2a1215a0c143a2e57464019e8d209d">trx_mutex_enter</a>(t)&#160;&#160;&#160;<a class="el" href="trx0trx_8h.html#af3bef87718013d5f34bfa7c9bb16ba4c">trx_mutex_enter_low</a>(t, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td></tr>
<tr class="memdesc:aba2a1215a0c143a2e57464019e8d209d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire the trx-&gt;mutex (and promise not to request any more).  <a href="#aba2a1215a0c143a2e57464019e8d209d">More...</a><br /></td></tr>
<tr class="separator:aba2a1215a0c143a2e57464019e8d209d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1c4c50bae7aad39073b4b6ce2b943b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a6d1c4c50bae7aad39073b4b6ce2b943b">trx_mutex_enter_first_of_two</a>(t)&#160;&#160;&#160;<a class="el" href="trx0trx_8h.html#af3bef87718013d5f34bfa7c9bb16ba4c">trx_mutex_enter_low</a>(t, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td></tr>
<tr class="memdesc:a6d1c4c50bae7aad39073b4b6ce2b943b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire the trx-&gt;mutex (and indicate we might request one more).  <a href="#a6d1c4c50bae7aad39073b4b6ce2b943b">More...</a><br /></td></tr>
<tr class="separator:a6d1c4c50bae7aad39073b4b6ce2b943b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f30d50cfbc0d22b3730e39ad128ed7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a97f30d50cfbc0d22b3730e39ad128ed7">trx_mutex_exit</a>(t)</td></tr>
<tr class="memdesc:a97f30d50cfbc0d22b3730e39ad128ed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the trx-&gt;mutex.  <a href="#a97f30d50cfbc0d22b3730e39ad128ed7">More...</a><br /></td></tr>
<tr class="separator:a97f30d50cfbc0d22b3730e39ad128ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:afaaac1afb77620ef89dbd971c181b04b"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; ib_lock_t *, <a class="el" href="classut__allocator.html">ut_allocator</a>&lt; ib_lock_t * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afaaac1afb77620ef89dbd971c181b04b">lock_pool_t</a></td></tr>
<tr class="separator:afaaac1afb77620ef89dbd971c181b04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5c6b4af5918cfb0725dbde42c65d3b"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="suite__stubs_8h.html#ad287d8e71b971be7d1c8998b3284340c">std::set</a>&lt; <a class="el" href="structdict__table__t.html">dict_table_t</a> *, std::less&lt; <a class="el" href="structdict__table__t.html">dict_table_t</a> * &gt;, <a class="el" href="classut__allocator.html">ut_allocator</a>&lt; <a class="el" href="structdict__table__t.html">dict_table_t</a> * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afe5c6b4af5918cfb0725dbde42c65d3b">trx_mod_tables_t</a></td></tr>
<tr class="memdesc:afe5c6b4af5918cfb0725dbde42c65d3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type used to store the list of tables that are modified by a given transaction.  <a href="#afe5c6b4af5918cfb0725dbde42c65d3b">More...</a><br /></td></tr>
<tr class="separator:afe5c6b4af5918cfb0725dbde42c65d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae2c2545708daee0f7c0f7b88b14be7ad"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ae2c2545708daee0f7c0f7b88b14be7ad">trx_rseg_type_t</a> { <a class="el" href="trx0trx_8h.html#ae2c2545708daee0f7c0f7b88b14be7ada5c185d046ad70533f17062eef4eaa413">TRX_RSEG_TYPE_NONE</a> = 0, 
<a class="el" href="trx0trx_8h.html#ae2c2545708daee0f7c0f7b88b14be7adac8063fb269c9aa562acaf56267ddc56e">TRX_RSEG_TYPE_REDO</a>, 
<a class="el" href="trx0trx_8h.html#ae2c2545708daee0f7c0f7b88b14be7ada8db8b9302c6ad8af2abba7588ddc65e8">TRX_RSEG_TYPE_NOREDO</a>
 }</td></tr>
<tr class="separator:ae2c2545708daee0f7c0f7b88b14be7ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda504c072953ddfe34988fe729ba0c5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5">commit_node_state</a> { <a class="el" href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5a58c5533d962091dde4f36df4ef999012">COMMIT_NODE_SEND</a> = 1, 
<a class="el" href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5a9e0ee8ee1fef6293a6178e3bd1288d93">COMMIT_NODE_WAIT</a>
 }<tr class="memdesc:aeda504c072953ddfe34988fe729ba0c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit node states.  <a href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:aeda504c072953ddfe34988fe729ba0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adcc5876d6636810e0b96bd22ea5a3e6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#adcc5876d6636810e0b96bd22ea5a3e6f">trx_set_flush_observer</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="classFlushObserver.html">FlushObserver</a> *observer)</td></tr>
<tr class="memdesc:adcc5876d6636810e0b96bd22ea5a3e6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set flush observer for the transaction.  <a href="#adcc5876d6636810e0b96bd22ea5a3e6f">More...</a><br /></td></tr>
<tr class="separator:adcc5876d6636810e0b96bd22ea5a3e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9066529c44667bed3ddb904c4adbfdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#af9066529c44667bed3ddb904c4adbfdd">trx_set_detailed_error</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, const char *<a class="el" href="test__sql__9__sessions_8cc.html#af6a786aadb2fc26d9c6d8dcb60c181f9">msg</a>)</td></tr>
<tr class="memdesc:af9066529c44667bed3ddb904c4adbfdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set detailed error message for the transaction.  <a href="#af9066529c44667bed3ddb904c4adbfdd">More...</a><br /></td></tr>
<tr class="separator:af9066529c44667bed3ddb904c4adbfdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7f576bf5e13ddc8a29be5b9200c0c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a8c7f576bf5e13ddc8a29be5b9200c0c4">trx_set_detailed_error_from_file</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, FILE *file)</td></tr>
<tr class="memdesc:a8c7f576bf5e13ddc8a29be5b9200c0c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set detailed error message for the transaction from a file.  <a href="#a8c7f576bf5e13ddc8a29be5b9200c0c4">More...</a><br /></td></tr>
<tr class="separator:a8c7f576bf5e13ddc8a29be5b9200c0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93995ce4037f0b629f78dee251b141a1"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a93995ce4037f0b629f78dee251b141a1">trx_get_error_index</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a93995ce4037f0b629f78dee251b141a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the error_info field from a trx.  <a href="#a93995ce4037f0b629f78dee251b141a1">More...</a><br /></td></tr>
<tr class="separator:a93995ce4037f0b629f78dee251b141a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d19073df69b437e6fa9396fd6c9806"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ae8d19073df69b437e6fa9396fd6c9806">trx_allocate_for_mysql</a> (void)</td></tr>
<tr class="memdesc:ae8d19073df69b437e6fa9396fd6c9806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a transaction object for MySQL.  <a href="#ae8d19073df69b437e6fa9396fd6c9806">More...</a><br /></td></tr>
<tr class="separator:ae8d19073df69b437e6fa9396fd6c9806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb464dfd1e6c2ff6000867e63fee8cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2cb464dfd1e6c2ff6000867e63fee8cc">trx_allocate_for_background</a> (void)</td></tr>
<tr class="memdesc:a2cb464dfd1e6c2ff6000867e63fee8cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a transaction object for background operations by the master thread.  <a href="#a2cb464dfd1e6c2ff6000867e63fee8cc">More...</a><br /></td></tr>
<tr class="separator:a2cb464dfd1e6c2ff6000867e63fee8cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62da6d484835d0aab2f3aa1b5c4cfa0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a62da6d484835d0aab2f3aa1b5c4cfa0d">trx_resurrect_locks</a> ()</td></tr>
<tr class="memdesc:a62da6d484835d0aab2f3aa1b5c4cfa0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resurrect table locks for resurrected transactions.  <a href="#a62da6d484835d0aab2f3aa1b5c4cfa0d">More...</a><br /></td></tr>
<tr class="separator:a62da6d484835d0aab2f3aa1b5c4cfa0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5779006f2811622c6c980e36c7837441"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a5779006f2811622c6c980e36c7837441">trx_free_resurrected</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a5779006f2811622c6c980e36c7837441"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free and initialize a transaction object instantiated during recovery.  <a href="#a5779006f2811622c6c980e36c7837441">More...</a><br /></td></tr>
<tr class="separator:a5779006f2811622c6c980e36c7837441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a2d65d23b63d13b2f010a8c8359b250"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2a2d65d23b63d13b2f010a8c8359b250">trx_free_for_background</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a2a2d65d23b63d13b2f010a8c8359b250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a transaction that was allocated by background or user threads.  <a href="#a2a2d65d23b63d13b2f010a8c8359b250">More...</a><br /></td></tr>
<tr class="separator:a2a2d65d23b63d13b2f010a8c8359b250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f1cd3a693f103cc1dae338aa65cf86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a29f1cd3a693f103cc1dae338aa65cf86">trx_free_prepared_or_active_recovered</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a29f1cd3a693f103cc1dae338aa65cf86"><td class="mdescLeft">&#160;</td><td class="mdescRight">At shutdown, frees a transaction object that represents either:  <a href="#a29f1cd3a693f103cc1dae338aa65cf86">More...</a><br /></td></tr>
<tr class="separator:a29f1cd3a693f103cc1dae338aa65cf86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45828097bb852e4c45d34165fb115cf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a45828097bb852e4c45d34165fb115cf9">trx_free_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a45828097bb852e4c45d34165fb115cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a transaction object for MySQL.  <a href="#a45828097bb852e4c45d34165fb115cf9">More...</a><br /></td></tr>
<tr class="separator:a45828097bb852e4c45d34165fb115cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ddb5503a735f4540830f8fff6ed05d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a4ddb5503a735f4540830f8fff6ed05d7">trx_disconnect_plain</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a4ddb5503a735f4540830f8fff6ed05d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect a transaction from MySQL.  <a href="#a4ddb5503a735f4540830f8fff6ed05d7">More...</a><br /></td></tr>
<tr class="separator:a4ddb5503a735f4540830f8fff6ed05d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f3f22daed412fac70def43c6560c45"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ae5f3f22daed412fac70def43c6560c45">trx_disconnect_prepared</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:ae5f3f22daed412fac70def43c6560c45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect a prepared transaction from MySQL.  <a href="#ae5f3f22daed412fac70def43c6560c45">More...</a><br /></td></tr>
<tr class="separator:ae5f3f22daed412fac70def43c6560c45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf5afc626305a6fe095445d741a765ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#adf5afc626305a6fe095445d741a765ae">trx_lists_init_at_db_start</a> (void)</td></tr>
<tr class="memdesc:adf5afc626305a6fe095445d741a765ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates trx objects for transactions and initializes the trx list of trx_sys at database start.  <a href="#adf5afc626305a6fe095445d741a765ae">More...</a><br /></td></tr>
<tr class="separator:adf5afc626305a6fe095445d741a765ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff869b3dc21337797d3f4e177c30e930"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aff869b3dc21337797d3f4e177c30e930">trx_start_if_not_started_xa_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> read_write)</td></tr>
<tr class="memdesc:aff869b3dc21337797d3f4e177c30e930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the transaction if it is not yet started.  <a href="#aff869b3dc21337797d3f4e177c30e930">More...</a><br /></td></tr>
<tr class="separator:aff869b3dc21337797d3f4e177c30e930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a068ef6ef1d38ac54c6e5c8c6ad1294fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a068ef6ef1d38ac54c6e5c8c6ad1294fe">trx_start_if_not_started_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> read_write)</td></tr>
<tr class="memdesc:a068ef6ef1d38ac54c6e5c8c6ad1294fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the transaction if it is not yet started.  <a href="#a068ef6ef1d38ac54c6e5c8c6ad1294fe">More...</a><br /></td></tr>
<tr class="separator:a068ef6ef1d38ac54c6e5c8c6ad1294fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb9d9e94366336ff875699f4f9223bb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#acb9d9e94366336ff875699f4f9223bb4">trx_start_internal_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:acb9d9e94366336ff875699f4f9223bb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a transaction for internal processing.  <a href="#acb9d9e94366336ff875699f4f9223bb4">More...</a><br /></td></tr>
<tr class="separator:acb9d9e94366336ff875699f4f9223bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0ab6e6668f9846426da7c7e2d975c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a9f0ab6e6668f9846426da7c7e2d975c9">trx_start_internal_read_only_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a9f0ab6e6668f9846426da7c7e2d975c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a read-only transaction for internal processing.  <a href="#a9f0ab6e6668f9846426da7c7e2d975c9">More...</a><br /></td></tr>
<tr class="separator:a9f0ab6e6668f9846426da7c7e2d975c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad2939baf98996b4536611285e30916"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a7ad2939baf98996b4536611285e30916">trx_commit</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a7ad2939baf98996b4536611285e30916"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits a transaction.  <a href="#a7ad2939baf98996b4536611285e30916">More...</a><br /></td></tr>
<tr class="separator:a7ad2939baf98996b4536611285e30916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaae4a91cb2920a6e0ac1465c3eee7409"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aaae4a91cb2920a6e0ac1465c3eee7409">trx_commit_low</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:aaae4a91cb2920a6e0ac1465c3eee7409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commits a transaction and a mini-transaction.  <a href="#aaae4a91cb2920a6e0ac1465c3eee7409">More...</a><br /></td></tr>
<tr class="separator:aaae4a91cb2920a6e0ac1465c3eee7409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9bee0e9d7331369cd78cd83247b79b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#af9bee0e9d7331369cd78cd83247b79b3">trx_cleanup_at_db_startup</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:af9bee0e9d7331369cd78cd83247b79b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up a transaction at database startup.  <a href="#af9bee0e9d7331369cd78cd83247b79b3">More...</a><br /></td></tr>
<tr class="separator:af9bee0e9d7331369cd78cd83247b79b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0bc1af38fae5aef2a9669887c182f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afc0bc1af38fae5aef2a9669887c182f5">trx_commit_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:afc0bc1af38fae5aef2a9669887c182f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the transaction commit for MySQL.  <a href="#afc0bc1af38fae5aef2a9669887c182f5">More...</a><br /></td></tr>
<tr class="separator:afc0bc1af38fae5aef2a9669887c182f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3d96e663aa75dd8974743e0e24cd10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afd3d96e663aa75dd8974743e0e24cd10">trx_prepare_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:afd3d96e663aa75dd8974743e0e24cd10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the transaction prepare for MySQL.  <a href="#afd3d96e663aa75dd8974743e0e24cd10">More...</a><br /></td></tr>
<tr class="separator:afd3d96e663aa75dd8974743e0e24cd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53d050821092784b2653e176263c5d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ab53d050821092784b2653e176263c5d2">trx_recover_for_mysql</a> (<a class="el" href="sql_2handler_8h.html#a4b64a240df9636d1cdaf637e00a5c782">XA_recover_txn</a> *txn_list, ulint len, <a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *<a class="el" href="client__plugin_8cc.html#a7d0fe2f135db987da18cea87b4778737">mem_root</a>)</td></tr>
<tr class="memdesc:ab53d050821092784b2653e176263c5d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to find number of prepared transactions and their transaction objects for a recovery.  <a href="#ab53d050821092784b2653e176263c5d2">More...</a><br /></td></tr>
<tr class="separator:ab53d050821092784b2653e176263c5d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5292ad6e2ddaf68f9d7c97897828fca5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a5292ad6e2ddaf68f9d7c97897828fca5">trx_get_trx_by_xid</a> (const <a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *xid)</td></tr>
<tr class="memdesc:a5292ad6e2ddaf68f9d7c97897828fca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to find one X/Open XA distributed transaction which is in the prepared state.  <a href="#a5292ad6e2ddaf68f9d7c97897828fca5">More...</a><br /></td></tr>
<tr class="separator:a5292ad6e2ddaf68f9d7c97897828fca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c29148646b50fa199ed713bde256b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ae0c29148646b50fa199ed713bde256b6">trx_commit_complete_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:ae0c29148646b50fa199ed713bde256b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">If required, flushes the log to disk if we called trx_commit_for_mysql() with trx-&gt;flush_log_later == TRUE.  <a href="#ae0c29148646b50fa199ed713bde256b6">More...</a><br /></td></tr>
<tr class="separator:ae0c29148646b50fa199ed713bde256b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76e191adc5826a5f78886df503183ebe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a76e191adc5826a5f78886df503183ebe">trx_mark_sql_stat_end</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a76e191adc5826a5f78886df503183ebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the latest SQL statement ended.  <a href="#a76e191adc5826a5f78886df503183ebe">More...</a><br /></td></tr>
<tr class="separator:a76e191adc5826a5f78886df503183ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdf39b1615cfa159e1dc50f50d97141c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classReadView.html">ReadView</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#abdf39b1615cfa159e1dc50f50d97141c">trx_assign_read_view</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:abdf39b1615cfa159e1dc50f50d97141c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns a read view for a consistent read query.  <a href="#abdf39b1615cfa159e1dc50f50d97141c">More...</a><br /></td></tr>
<tr class="separator:abdf39b1615cfa159e1dc50f50d97141c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac618a169bc66ee27280522b021a2d9ae"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="classReadView.html">ReadView</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ac618a169bc66ee27280522b021a2d9ae">trx_get_read_view</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="separator:ac618a169bc66ee27280522b021a2d9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57851533c4bd8ce24b45a4c3ed34432"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE const <a class="el" href="classReadView.html">ReadView</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ae57851533c4bd8ce24b45a4c3ed34432">trx_get_read_view</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="separator:ae57851533c4bd8ce24b45a4c3ed34432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af273fab04e0e0f86def42b181448203f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#af273fab04e0e0f86def42b181448203f">trx_commit_or_rollback_prepare</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:af273fab04e0e0f86def42b181448203f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a transaction for commit/rollback.  <a href="#af273fab04e0e0f86def42b181448203f">More...</a><br /></td></tr>
<tr class="separator:af273fab04e0e0f86def42b181448203f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affaac0949d19f8f98f68fd6cb8ab6429"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcommit__node__t.html">commit_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#affaac0949d19f8f98f68fd6cb8ab6429">trx_commit_node_create</a> (<a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap)</td></tr>
<tr class="memdesc:affaac0949d19f8f98f68fd6cb8ab6429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a commit command node struct.  <a href="#affaac0949d19f8f98f68fd6cb8ab6429">More...</a><br /></td></tr>
<tr class="separator:affaac0949d19f8f98f68fd6cb8ab6429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d3e131a908fd0050ff73bc5b27f7dba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a7d3e131a908fd0050ff73bc5b27f7dba">trx_commit_step</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:a7d3e131a908fd0050ff73bc5b27f7dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an execution step for a commit type node in a query graph.  <a href="#a7d3e131a908fd0050ff73bc5b27f7dba">More...</a><br /></td></tr>
<tr class="separator:a7d3e131a908fd0050ff73bc5b27f7dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda78355fbbfe044da5291535faa95fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afda78355fbbfe044da5291535faa95fb">trx_print_low</a> (FILE *f, const <a class="el" href="structtrx__t.html">trx_t</a> *trx, ulint max_query_len, ulint n_rec_locks, ulint n_trx_locks, ulint heap_size)</td></tr>
<tr class="memdesc:afda78355fbbfe044da5291535faa95fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints info about a transaction.  <a href="#afda78355fbbfe044da5291535faa95fb">More...</a><br /></td></tr>
<tr class="separator:afda78355fbbfe044da5291535faa95fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d672f17aef4ef582fbd8f80ad5ae756"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a5d672f17aef4ef582fbd8f80ad5ae756">trx_print_latched</a> (FILE *f, const <a class="el" href="structtrx__t.html">trx_t</a> *trx, ulint max_query_len)</td></tr>
<tr class="memdesc:a5d672f17aef4ef582fbd8f80ad5ae756"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints info about a transaction.  <a href="#a5d672f17aef4ef582fbd8f80ad5ae756">More...</a><br /></td></tr>
<tr class="separator:a5d672f17aef4ef582fbd8f80ad5ae756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d97ad86d27e5c07b87a6c1b149f4d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ac4d97ad86d27e5c07b87a6c1b149f4d9">trx_print</a> (FILE *f, const <a class="el" href="structtrx__t.html">trx_t</a> *trx, ulint max_query_len)</td></tr>
<tr class="memdesc:ac4d97ad86d27e5c07b87a6c1b149f4d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints info about a transaction.  <a href="#ac4d97ad86d27e5c07b87a6c1b149f4d9">More...</a><br /></td></tr>
<tr class="separator:ac4d97ad86d27e5c07b87a6c1b149f4d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690d5d04746f73ed3a29199e45fdcf29"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE enum <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a690d5d04746f73ed3a29199e45fdcf29">trx_get_dict_operation</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a690d5d04746f73ed3a29199e45fdcf29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a transaction is a dictionary operation.  <a href="#a690d5d04746f73ed3a29199e45fdcf29">More...</a><br /></td></tr>
<tr class="separator:a690d5d04746f73ed3a29199e45fdcf29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2897a812badb5f6c9f6ebdc5a0f84ae9"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2897a812badb5f6c9f6ebdc5a0f84ae9">trx_set_dict_operation</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, enum <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a> op)</td></tr>
<tr class="memdesc:a2897a812badb5f6c9f6ebdc5a0f84ae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag a transaction a dictionary operation.  <a href="#a2897a812badb5f6c9f6ebdc5a0f84ae9">More...</a><br /></td></tr>
<tr class="separator:a2897a812badb5f6c9f6ebdc5a0f84ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5b87828afc483ac0875159cd440598"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aba5b87828afc483ac0875159cd440598">trx_state_eq</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfe">trx_state_t</a> state)</td></tr>
<tr class="memdesc:aba5b87828afc483ac0875159cd440598"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a transaction is in the given state.  <a href="#aba5b87828afc483ac0875159cd440598">More...</a><br /></td></tr>
<tr class="separator:aba5b87828afc483ac0875159cd440598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb6471220ce01c07a8fae94bf27b989"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a8fb6471220ce01c07a8fae94bf27b989">trx_can_be_handled_by_current_thread</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a8fb6471220ce01c07a8fae94bf27b989"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if trx can be handled by current thread, which is when trx-&gt;mysql_thd is nullptr (a "background" trx) or equals current_thd.  <a href="#a8fb6471220ce01c07a8fae94bf27b989">More...</a><br /></td></tr>
<tr class="separator:a8fb6471220ce01c07a8fae94bf27b989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c8fd0a774b3be32177da1c54db92352"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2c8fd0a774b3be32177da1c54db92352">trx_assert_started</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a2c8fd0a774b3be32177da1c54db92352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asserts that a transaction has been started.  <a href="#a2c8fd0a774b3be32177da1c54db92352">More...</a><br /></td></tr>
<tr class="separator:a2c8fd0a774b3be32177da1c54db92352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a5ce0995025643b07a6bd0691c3a92d"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a1a5ce0995025643b07a6bd0691c3a92d">trx_is_interrupted</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a1a5ce0995025643b07a6bd0691c3a92d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if the currently running transaction has been interrupted.  <a href="#a1a5ce0995025643b07a6bd0691c3a92d">More...</a><br /></td></tr>
<tr class="separator:a1a5ce0995025643b07a6bd0691c3a92d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd763791d1b59356b2d0f6f4ca90cae4"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#afd763791d1b59356b2d0f6f4ca90cae4">trx_is_strict</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:afd763791d1b59356b2d0f6f4ca90cae4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if the currently running transaction is in strict mode.  <a href="#afd763791d1b59356b2d0f6f4ca90cae4">More...</a><br /></td></tr>
<tr class="separator:afd763791d1b59356b2d0f6f4ca90cae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df89e9a279e9b27588c4c7b8d14533e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a4df89e9a279e9b27588c4c7b8d14533e">trx_weight_ge</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *a, const <a class="el" href="structtrx__t.html">trx_t</a> *b)</td></tr>
<tr class="memdesc:a4df89e9a279e9b27588c4c7b8d14533e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares the "weight" (or size) of two transactions.  <a href="#a4df89e9a279e9b27588c4c7b8d14533e">More...</a><br /></td></tr>
<tr class="separator:a4df89e9a279e9b27588c4c7b8d14533e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70150f2448c48ddb2ace0e7335e61b05"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a70150f2448c48ddb2ace0e7335e61b05">trx_get_que_state_str</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a70150f2448c48ddb2ace0e7335e61b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves transaction's que state in a human readable string.  <a href="#a70150f2448c48ddb2ace0e7335e61b05">More...</a><br /></td></tr>
<tr class="separator:a70150f2448c48ddb2ace0e7335e61b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7ae91f363c7ac77c2d86bc27eb39f1"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a2b7ae91f363c7ac77c2d86bc27eb39f1">trx_get_id_for_print</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a2b7ae91f363c7ac77c2d86bc27eb39f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retreieves the transaction ID.  <a href="#a2b7ae91f363c7ac77c2d86bc27eb39f1">More...</a><br /></td></tr>
<tr class="separator:a2b7ae91f363c7ac77c2d86bc27eb39f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acaf6c0654f6e9825f06d0abc109d17"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a8acaf6c0654f6e9825f06d0abc109d17">trx_assign_rseg_temp</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a8acaf6c0654f6e9825f06d0abc109d17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign a temp-tablespace bound rollback-segment to a transaction.  <a href="#a8acaf6c0654f6e9825f06d0abc109d17">More...</a><br /></td></tr>
<tr class="separator:a8acaf6c0654f6e9825f06d0abc109d17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41eb566dad1d8483afc0fb1f6ec09022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a41eb566dad1d8483afc0fb1f6ec09022">trx_pool_init</a> ()</td></tr>
<tr class="memdesc:a41eb566dad1d8483afc0fb1f6ec09022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the trx_t pool.  <a href="#a41eb566dad1d8483afc0fb1f6ec09022">More...</a><br /></td></tr>
<tr class="separator:a41eb566dad1d8483afc0fb1f6ec09022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abddd49c761d973bbf99a159d2261fc9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#abddd49c761d973bbf99a159d2261fc9d">trx_pool_close</a> ()</td></tr>
<tr class="memdesc:abddd49c761d973bbf99a159d2261fc9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the trx_t pool.  <a href="#abddd49c761d973bbf99a159d2261fc9d">More...</a><br /></td></tr>
<tr class="separator:abddd49c761d973bbf99a159d2261fc9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e980f48dd611cefdaf1842c0c64c094"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a7e980f48dd611cefdaf1842c0c64c094">trx_set_rw_mode</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a7e980f48dd611cefdaf1842c0c64c094"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the transaction as a read-write transaction if it is not already tagged as such.  <a href="#a7e980f48dd611cefdaf1842c0c64c094">More...</a><br /></td></tr>
<tr class="separator:a7e980f48dd611cefdaf1842c0c64c094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39e946db2a5f720fe25d2a5aeae914c"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#ac39e946db2a5f720fe25d2a5aeae914c">trx_reference</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> do_ref_count)</td></tr>
<tr class="memdesc:ac39e946db2a5f720fe25d2a5aeae914c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the reference count.  <a href="#ac39e946db2a5f720fe25d2a5aeae914c">More...</a><br /></td></tr>
<tr class="separator:ac39e946db2a5f720fe25d2a5aeae914c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21f360b739c58f875010707f9740b46"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#af21f360b739c58f875010707f9740b46">trx_release_reference</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:af21f360b739c58f875010707f9740b46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the transaction.  <a href="#af21f360b739c58f875010707f9740b46">More...</a><br /></td></tr>
<tr class="separator:af21f360b739c58f875010707f9740b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceabcaa371d826f2a22aa2565d904602"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aceabcaa371d826f2a22aa2565d904602">trx_arbitrate</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *requestor, const <a class="el" href="structtrx__t.html">trx_t</a> *holder)</td></tr>
<tr class="separator:aceabcaa371d826f2a22aa2565d904602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a144ee93ff1061b38218c3ff33a6112"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a1a144ee93ff1061b38218c3ff33a6112">trx_is_high_priority</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="separator:a1a144ee93ff1061b38218c3ff33a6112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e6e5415aa5cddeb201c75974f4f51d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a49e6e5415aa5cddeb201c75974f4f51d">trx_kill_blocking</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a49e6e5415aa5cddeb201c75974f4f51d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this is a high priority transaction, kill all transactions that are blocking this transaction from acquiring locks.  <a href="#a49e6e5415aa5cddeb201c75974f4f51d">More...</a><br /></td></tr>
<tr class="separator:a49e6e5415aa5cddeb201c75974f4f51d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d0f7f590f17ab052505bbb43ce0c25b"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a5d0f7f590f17ab052505bbb43ce0c25b">trx_immutable_id</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a5d0f7f590f17ab052505bbb43ce0c25b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides an id of the transaction which does not change over time.  <a href="#a5d0f7f590f17ab052505bbb43ce0c25b">More...</a><br /></td></tr>
<tr class="separator:a5d0f7f590f17ab052505bbb43ce0c25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e56b49b2943c1b4dcf68f41690202b"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a13e56b49b2943c1b4dcf68f41690202b">trx_is_rseg_updated</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a13e56b49b2943c1b4dcf68f41690202b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if redo/noredo rseg is modified for insert/update.  <a href="#a13e56b49b2943c1b4dcf68f41690202b">More...</a><br /></td></tr>
<tr class="separator:a13e56b49b2943c1b4dcf68f41690202b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24187b6b4af390120a5c3d681aecc760"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a24187b6b4af390120a5c3d681aecc760">trx_is_started</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a24187b6b4af390120a5c3d681aecc760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if transaction is started.  <a href="#a24187b6b4af390120a5c3d681aecc760">More...</a><br /></td></tr>
<tr class="separator:a24187b6b4af390120a5c3d681aecc760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca10184fd4a4edd6199c7d4a51b0820"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a7ca10184fd4a4edd6199c7d4a51b0820">trx_before_mutex_enter</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> allow_another)</td></tr>
<tr class="memdesc:a7ca10184fd4a4edd6199c7d4a51b0820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies the invariants and records debug state related to latching rules.  <a href="#a7ca10184fd4a4edd6199c7d4a51b0820">More...</a><br /></td></tr>
<tr class="separator:a7ca10184fd4a4edd6199c7d4a51b0820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a40c6d70b2ac49226e764b1307f97a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a3a40c6d70b2ac49226e764b1307f97a9">trx_before_mutex_exit</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a3a40c6d70b2ac49226e764b1307f97a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies the invariants and records debug state related to latching rules.  <a href="#a3a40c6d70b2ac49226e764b1307f97a9">More...</a><br /></td></tr>
<tr class="separator:a3a40c6d70b2ac49226e764b1307f97a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae1bd920335932721b515f79139404ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#aae1bd920335932721b515f79139404ca">trx_is_mysql_xa</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:aae1bd920335932721b515f79139404ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if transaction is internal XA transaction.  <a href="#aae1bd920335932721b515f79139404ca">More...</a><br /></td></tr>
<tr class="separator:aae1bd920335932721b515f79139404ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65eef27d572e0d6a6d089486c6776811"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a65eef27d572e0d6a6d089486c6776811">trx_sys_update_binlog_position</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a65eef27d572e0d6a6d089486c6776811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update transaction binlog file name and position from session THD.  <a href="#a65eef27d572e0d6a6d089486c6776811">More...</a><br /></td></tr>
<tr class="separator:a65eef27d572e0d6a6d089486c6776811"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1c64d381cc36d6df16ab94be98f23116"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsess__t.html">sess_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0trx_8h.html#a1c64d381cc36d6df16ab94be98f23116">trx_dummy_sess</a></td></tr>
<tr class="memdesc:a1c64d381cc36d6df16ab94be98f23116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dummy session used currently in MySQL interface.  <a href="#a1c64d381cc36d6df16ab94be98f23116">More...</a><br /></td></tr>
<tr class="separator:a1c64d381cc36d6df16ab94be98f23116"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The transaction. </p>
<p>Created 3/26/1996 Heikki Tuuri </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a3c91c1715241613f6ac4ce942590b2af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c91c1715241613f6ac4ce942590b2af">&#9670;&nbsp;</a></span>assert_trx_in_rw_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define assert_trx_in_rw_list</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                   \</div><div class="line">    ut_ad(!(t)-&gt;<a class="code" href="mysqld_8cc.html#ae851b490bae2ad91e401b972664fde81">read_only</a>);                              \</div><div class="line">    ut_ad((t)-&gt;in_rw_trx_list ==                         \</div><div class="line">          !((t)-&gt;<a class="code" href="mysqld_8cc.html#ae851b490bae2ad91e401b972664fde81">read_only</a> || !(t)-&gt;rsegs.m_redo.rseg)); \</div><div class="line">    check_trx_state(t);                                  \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="mysqld_8cc_html_ae851b490bae2ad91e401b972664fde81"><div class="ttname"><a href="mysqld_8cc.html#ae851b490bae2ad91e401b972664fde81">read_only</a></div><div class="ttdeci">bool read_only</div><div class="ttdef"><b>Definition:</b> mysqld.cc:1183</div></div>
</div><!-- fragment -->
<p>Assert that the transaction is in the trx_sys_t::rw_trx_list. </p>

</div>
</div>
<a id="a71fd3d6e042a40d9ec7497bbcca0bcb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71fd3d6e042a40d9ec7497bbcca0bcb5">&#9670;&nbsp;</a></span>assert_trx_is_free</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define assert_trx_is_free</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                   \</div><div class="line">    ut_ad(<a class="code" href="trx0trx_8h.html#aba5b87828afc483ac0875159cd440598">trx_state_eq</a>((t), <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7">TRX_STATE_NOT_STARTED</a>) ||    \</div><div class="line">          <a class="code" href="trx0trx_8h.html#aba5b87828afc483ac0875159cd440598">trx_state_eq</a>((t), <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59">TRX_STATE_FORCED_ROLLBACK</a>)); \</div><div class="line">    ut_ad(!<a class="code" href="trx0trx_8h.html#a13e56b49b2943c1b4dcf68f41690202b">trx_is_rseg_updated</a>(trx));                    \</div><div class="line">    ut_ad(!<a class="code" href="classMVCC.html#a016027f47c54cb343d81c46e2ec82f01">MVCC::is_view_active</a>((t)-&gt;<a class="code" href="namespacedd.html#a23b9ee89ebb3e94f30687bc1d980eb11">read_view</a>));        \</div><div class="line">    ut_ad((t)-&gt;lock.wait_thr == <a class="code" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);                   \</div><div class="line">    ut_ad(<a class="code" href="innodb__utility_8h.html#a132948a92c29bad601863cf8b56de5bb">UT_LIST_GET_LEN</a>((t)-&gt;lock.trx_locks) == 0);    \</div><div class="line">    ut_ad((t)-&gt;dict_operation == <a class="code" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599a50ffbbfbd919460992d5508f4701b973">TRX_DICT_OP_NONE</a>);      \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trx0trx_8h_html_aba5b87828afc483ac0875159cd440598"><div class="ttname"><a href="trx0trx_8h.html#aba5b87828afc483ac0875159cd440598">trx_state_eq</a></div><div class="ttdeci">UNIV_INLINE bool trx_state_eq(const trx_t *trx, trx_state_t state)</div><div class="ttdoc">Determines if a transaction is in the given state. </div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59">TRX_STATE_FORCED_ROLLBACK</a></div><div class="ttdoc">Same as not started but with additional semantics that it was rolled back asynchronously the last tim...</div><div class="ttdef"><b>Definition:</b> trx0types.h:92</div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7">TRX_STATE_NOT_STARTED</a></div><div class="ttdef"><b>Definition:</b> trx0types.h:88</div></div>
<div class="ttc" id="classMVCC_html_a016027f47c54cb343d81c46e2ec82f01"><div class="ttname"><a href="classMVCC.html#a016027f47c54cb343d81c46e2ec82f01">MVCC::is_view_active</a></div><div class="ttdeci">static bool is_view_active(ReadView *view)</div><div class="ttdef"><b>Definition:</b> read0read.h:85</div></div>
<div class="ttc" id="namespacedd_html_a23b9ee89ebb3e94f30687bc1d980eb11"><div class="ttname"><a href="namespacedd.html#a23b9ee89ebb3e94f30687bc1d980eb11">dd::read_view</a></div><div class="ttdeci">bool read_view(TABLE_LIST *view, const dd::View &amp;view_obj, MEM_ROOT *mem_root)</div><div class="ttdoc">Read view metadata from dd.views into TABLE_LIST. </div><div class="ttdef"><b>Definition:</b> dd_view.cc:610</div></div>
<div class="ttc" id="trx0types_8h_html_af79319b3cdfff988f01995fa51880599a50ffbbfbd919460992d5508f4701b973"><div class="ttname"><a href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599a50ffbbfbd919460992d5508f4701b973">TRX_DICT_OP_NONE</a></div><div class="ttdoc">The transaction is not modifying the data dictionary. </div><div class="ttdef"><b>Definition:</b> trx0types.h:105</div></div>
<div class="ttc" id="types_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> types.h:54</div></div>
<div class="ttc" id="trx0trx_8h_html_a13e56b49b2943c1b4dcf68f41690202b"><div class="ttname"><a href="trx0trx_8h.html#a13e56b49b2943c1b4dcf68f41690202b">trx_is_rseg_updated</a></div><div class="ttdeci">UNIV_INLINE bool trx_is_rseg_updated(const trx_t *trx)</div><div class="ttdoc">Check if redo/noredo rseg is modified for insert/update. </div></div>
<div class="ttc" id="innodb__utility_8h_html_a132948a92c29bad601863cf8b56de5bb"><div class="ttname"><a href="innodb__utility_8h.html#a132948a92c29bad601863cf8b56de5bb">UT_LIST_GET_LEN</a></div><div class="ttdeci">#define UT_LIST_GET_LEN(BASE)</div><div class="ttdef"><b>Definition:</b> innodb_utility.h:113</div></div>
</div><!-- fragment -->
<p>Check if transaction is free so that it can be re-initialized. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afbd9c1e66ed02a17b5c501ffd7c35a77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd9c1e66ed02a17b5c501ffd7c35a77">&#9670;&nbsp;</a></span>assert_trx_is_inactive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define assert_trx_is_inactive</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                         \</div><div class="line">    assert_trx_is_free((t));                   \</div><div class="line">    ut_ad((t)-&gt;dict_operation_lock_mode == 0); \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div></div><!-- fragment -->
<p>Check if transaction is in-active so that it can be freed and put back to transaction pool. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4668f84b3a9c5687a0e1d733c3fbfa19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4668f84b3a9c5687a0e1d733c3fbfa19">&#9670;&nbsp;</a></span>assert_trx_nonlocking_or_in_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define assert_trx_nonlocking_or_in_list</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                              \</div><div class="line">    if (<a class="code" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>(t)) {         \</div><div class="line">      trx_state_t t_state = (t)-&gt;state;             \</div><div class="line">      ut_ad((t)-&gt;<a class="code" href="mysqld_8cc.html#ae851b490bae2ad91e401b972664fde81">read_only</a>);                        \</div><div class="line">      ut_ad(!(t)-&gt;is_recovered);                    \</div><div class="line">      ut_ad(!(t)-&gt;in_rw_trx_list);                  \</div><div class="line">      ut_ad((t)-&gt;in_mysql_trx_list);                \</div><div class="line">      ut_ad(t_state == <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7">TRX_STATE_NOT_STARTED</a> ||     \</div><div class="line">            t_state == <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59">TRX_STATE_FORCED_ROLLBACK</a> || \</div><div class="line">            t_state == <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea78e4ef9dc7c38690f85ca0b99953c91f">TRX_STATE_ACTIVE</a>);           \</div><div class="line">    } <span class="keywordflow">else</span> {                                        \</div><div class="line">      check_trx_state(t);                           \</div><div class="line">    }                                               \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trx0trx_8h_html_a087a90c619c86978766f279a156dae2e"><div class="ttname"><a href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a></div><div class="ttdeci">#define trx_is_autocommit_non_locking(t)</div><div class="ttdoc">Determine if the transaction is a non-locking autocommit select (implied read-only). </div><div class="ttdef"><b>Definition:</b> trx0trx.h:450</div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59">TRX_STATE_FORCED_ROLLBACK</a></div><div class="ttdoc">Same as not started but with additional semantics that it was rolled back asynchronously the last tim...</div><div class="ttdef"><b>Definition:</b> trx0types.h:92</div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7">TRX_STATE_NOT_STARTED</a></div><div class="ttdef"><b>Definition:</b> trx0types.h:88</div></div>
<div class="ttc" id="mysqld_8cc_html_ae851b490bae2ad91e401b972664fde81"><div class="ttname"><a href="mysqld_8cc.html#ae851b490bae2ad91e401b972664fde81">read_only</a></div><div class="ttdeci">bool read_only</div><div class="ttdef"><b>Definition:</b> mysqld.cc:1183</div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfea78e4ef9dc7c38690f85ca0b99953c91f"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea78e4ef9dc7c38690f85ca0b99953c91f">TRX_STATE_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> trx0types.h:94</div></div>
</div><!-- fragment -->
<p>Assert that an autocommit non-locking select cannot be in the rw_trx_list and that it is a read-only transaction. </p>
<p>The tranasction must be in the mysql_trx_list. </p>

</div>
</div>
<a id="afde7d20699cfd043fa15ee48463bc9aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde7d20699cfd043fa15ee48463bc9aa">&#9670;&nbsp;</a></span>check_trx_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define check_trx_state</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                          \</div><div class="line">    ut_ad(!<a class="code" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>((t))); \</div><div class="line">    switch ((t)-&gt;state) {                       \</div><div class="line">      case <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfeaec0a7e922a9ac4226678ec8ffcdbbf73">TRX_STATE_PREPARED</a>:                  \</div><div class="line">        <span class="comment">/* fall through */</span>                      \</div><div class="line">      case <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea78e4ef9dc7c38690f85ca0b99953c91f">TRX_STATE_ACTIVE</a>:                    \</div><div class="line">      case <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea7b804d92242ae352a4346055734aef96">TRX_STATE_COMMITTED_IN_MEMORY</a>:       \</div><div class="line">        continue;                               \</div><div class="line">      case <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7">TRX_STATE_NOT_STARTED</a>:               \</div><div class="line">      case <a class="code" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59">TRX_STATE_FORCED_ROLLBACK</a>:           \</div><div class="line">        break;                                  \</div><div class="line">    }                                           \</div><div class="line">    ut_error;                                   \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfeaec0a7e922a9ac4226678ec8ffcdbbf73"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfeaec0a7e922a9ac4226678ec8ffcdbbf73">TRX_STATE_PREPARED</a></div><div class="ttdoc">Support for 2PC/XA. </div><div class="ttdef"><b>Definition:</b> trx0types.h:97</div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfea7b804d92242ae352a4346055734aef96"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea7b804d92242ae352a4346055734aef96">TRX_STATE_COMMITTED_IN_MEMORY</a></div><div class="ttdef"><b>Definition:</b> trx0types.h:99</div></div>
<div class="ttc" id="trx0trx_8h_html_a087a90c619c86978766f279a156dae2e"><div class="ttname"><a href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a></div><div class="ttdeci">#define trx_is_autocommit_non_locking(t)</div><div class="ttdoc">Determine if the transaction is a non-locking autocommit select (implied read-only). </div><div class="ttdef"><b>Definition:</b> trx0trx.h:450</div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea715252714bf7cbda62aeeed0f155ba59">TRX_STATE_FORCED_ROLLBACK</a></div><div class="ttdoc">Same as not started but with additional semantics that it was rolled back asynchronously the last tim...</div><div class="ttdef"><b>Definition:</b> trx0types.h:92</div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfeab6d43468942f04bb539f0a0ef3fda5e7">TRX_STATE_NOT_STARTED</a></div><div class="ttdef"><b>Definition:</b> trx0types.h:88</div></div>
<div class="ttc" id="trx0types_8h_html_a14bf14fe533410dc0d7b3bb9e99afcfea78e4ef9dc7c38690f85ca0b99953c91f"><div class="ttname"><a href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfea78e4ef9dc7c38690f85ca0b99953c91f">TRX_STATE_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> trx0types.h:94</div></div>
</div><!-- fragment -->
<p>Check transaction state. </p>

</div>
</div>
<a id="a02fc96ab8d1a9a437a032d4d82a57381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02fc96ab8d1a9a437a032d4d82a57381">&#9670;&nbsp;</a></span>trx_is_ac_nl_ro</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_is_ac_nl_ro</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;((t)-&gt;<a class="el" href="mysqld_8h.html#ae851b490bae2ad91e401b972664fde81">read_only</a> &amp;&amp; <a class="el" href="trx0trx_8h.html#a087a90c619c86978766f279a156dae2e">trx_is_autocommit_non_locking</a>((t)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the transaction is a non-locking autocommit select with an explicit check for the read-only status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if non-locking autocommit read-only transaction. </dd></dl>

</div>
</div>
<a id="a087a90c619c86978766f279a156dae2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a087a90c619c86978766f279a156dae2e">&#9670;&nbsp;</a></span>trx_is_autocommit_non_locking</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_is_autocommit_non_locking</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;((t)-&gt;auto_commit &amp;&amp; (t)-&gt;will_lock == 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the transaction is a non-locking autocommit select (implied read-only). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if non-locking autocommit select transaction. </dd></dl>

</div>
</div>
<a id="afe4c0faddcc992c34c3b13be5b72fe42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe4c0faddcc992c34c3b13be5b72fe42">&#9670;&nbsp;</a></span>trx_is_referenced</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_is_referenced</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;((t)-&gt;n_ref &gt; 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the transaction is being referenced. </p>

</div>
</div>
<a id="ac1ee0d3aa89fd432825470965225396b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ee0d3aa89fd432825470965225396b">&#9670;&nbsp;</a></span>TRX_ISO_READ_COMMITTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_ISO_READ_COMMITTED&#160;&#160;&#160;<a class="el" href="structtrx__t.html#ab5c05ba139deae47e8e05e2e0d1ac38ca7a293644531f3b2913bc427939620d0a">trx_t::READ_COMMITTED</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a247f389bf8c057c24e8b814bc264df0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247f389bf8c057c24e8b814bc264df0c">&#9670;&nbsp;</a></span>TRX_ISO_READ_UNCOMMITTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_ISO_READ_UNCOMMITTED&#160;&#160;&#160;<a class="el" href="structtrx__t.html#ab5c05ba139deae47e8e05e2e0d1ac38caf03f2a86cf3d23a65c93aff89fd26d36">trx_t::READ_UNCOMMITTED</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a69bd5e8425f4f881b741af67a5b7f9fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69bd5e8425f4f881b741af67a5b7f9fe">&#9670;&nbsp;</a></span>TRX_ISO_REPEATABLE_READ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_ISO_REPEATABLE_READ&#160;&#160;&#160;<a class="el" href="structtrx__t.html#ab5c05ba139deae47e8e05e2e0d1ac38ca3bb1d2ea4d41428c2f8a2388e8ea0a77">trx_t::REPEATABLE_READ</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a45398954a16ffa99d6a2b33bf90b4c9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45398954a16ffa99d6a2b33bf90b4c9c">&#9670;&nbsp;</a></span>TRX_ISO_SERIALIZABLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_ISO_SERIALIZABLE&#160;&#160;&#160;<a class="el" href="structtrx__t.html#ab5c05ba139deae47e8e05e2e0d1ac38caecb18c711dc933dc20df1ceabb71737b">trx_t::SERIALIZABLE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a99829ee6699e2af1b9c8789bc736bb67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99829ee6699e2af1b9c8789bc736bb67">&#9670;&nbsp;</a></span>trx_lock_wait_timeout_get</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_lock_wait_timeout_get</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="ha__prototypes_8h.html#ab1c0620a5c5ea67494c6f4057e45f5cc">thd_lock_wait_timeout</a>((t)-&gt;mysql_thd)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transactions that aren't started by the MySQL server don't set the trx_t::mysql_thd field. </p>
<p>For such transactions we set the lock wait timeout to 0 instead of the user configured value that comes from innodb_lock_wait_timeout via trx_t::mysql_thd. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>lock wait timeout in seconds </dd></dl>

</div>
</div>
<a id="aba2a1215a0c143a2e57464019e8d209d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba2a1215a0c143a2e57464019e8d209d">&#9670;&nbsp;</a></span>trx_mutex_enter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_mutex_enter</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="trx0trx_8h.html#af3bef87718013d5f34bfa7c9bb16ba4c">trx_mutex_enter_low</a>(t, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquire the trx-&gt;mutex (and promise not to request any more). </p>

</div>
</div>
<a id="a6d1c4c50bae7aad39073b4b6ce2b943b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d1c4c50bae7aad39073b4b6ce2b943b">&#9670;&nbsp;</a></span>trx_mutex_enter_first_of_two</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_mutex_enter_first_of_two</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="trx0trx_8h.html#af3bef87718013d5f34bfa7c9bb16ba4c">trx_mutex_enter_low</a>(t, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acquire the trx-&gt;mutex (and indicate we might request one more). </p>

</div>
</div>
<a id="af3bef87718013d5f34bfa7c9bb16ba4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3bef87718013d5f34bfa7c9bb16ba4c">&#9670;&nbsp;</a></span>trx_mutex_enter_low</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_mutex_enter_low</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">first_of_two&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                             \</div><div class="line">    ut_ad(!<a class="code" href="trx0trx_8h.html#a2500d5010eab88bcf2f06b519354237f">trx_mutex_own</a>(t));                      \</div><div class="line">    ut_d(<a class="code" href="trx0trx_8h.html#a7ca10184fd4a4edd6199c7d4a51b0820">trx_before_mutex_enter</a>(t, first_of_two)); \</div><div class="line">    mutex_enter(&amp;t-&gt;mutex);                        \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trx0trx_8h_html_a2500d5010eab88bcf2f06b519354237f"><div class="ttname"><a href="trx0trx_8h.html#a2500d5010eab88bcf2f06b519354237f">trx_mutex_own</a></div><div class="ttdeci">#define trx_mutex_own(t)</div><div class="ttdoc">Test if trx-&gt;mutex is owned by the current thread. </div><div class="ttdef"><b>Definition:</b> trx0trx.h:1299</div></div>
<div class="ttc" id="trx0trx_8h_html_a7ca10184fd4a4edd6199c7d4a51b0820"><div class="ttname"><a href="trx0trx_8h.html#a7ca10184fd4a4edd6199c7d4a51b0820">trx_before_mutex_enter</a></div><div class="ttdeci">void trx_before_mutex_enter(const trx_t *trx, bool allow_another)</div><div class="ttdoc">Verifies the invariants and records debug state related to latching rules. </div><div class="ttdef"><b>Definition:</b> trx0trx.cc:2659</div></div>
</div><!-- fragment -->
<p>Please do not use this low-level macro. </p>
<p>Use trx_mutex_enter(t) instead. In rare cases where you need to take two trx-&gt;mutex-es, take the first one using trx_mutex_enter_first_of_two(t1), and the second one with trx_mutex(2) </p>

</div>
</div>
<a id="a97f30d50cfbc0d22b3730e39ad128ed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f30d50cfbc0d22b3730e39ad128ed7">&#9670;&nbsp;</a></span>trx_mutex_exit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_mutex_exit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                              \</div><div class="line">    ut_ad(<a class="code" href="trx0trx_8h.html#a2500d5010eab88bcf2f06b519354237f">trx_mutex_own</a>(t));        \</div><div class="line">    ut_d(<a class="code" href="trx0trx_8h.html#a3a40c6d70b2ac49226e764b1307f97a9">trx_before_mutex_exit</a>(t)); \</div><div class="line">    mutex_exit(&amp;t-&gt;mutex);          \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trx0trx_8h_html_a2500d5010eab88bcf2f06b519354237f"><div class="ttname"><a href="trx0trx_8h.html#a2500d5010eab88bcf2f06b519354237f">trx_mutex_own</a></div><div class="ttdeci">#define trx_mutex_own(t)</div><div class="ttdoc">Test if trx-&gt;mutex is owned by the current thread. </div><div class="ttdef"><b>Definition:</b> trx0trx.h:1299</div></div>
<div class="ttc" id="trx0trx_8h_html_a3a40c6d70b2ac49226e764b1307f97a9"><div class="ttname"><a href="trx0trx_8h.html#a3a40c6d70b2ac49226e764b1307f97a9">trx_before_mutex_exit</a></div><div class="ttdeci">void trx_before_mutex_exit(const trx_t *trx)</div><div class="ttdoc">Verifies the invariants and records debug state related to latching rules. </div><div class="ttdef"><b>Definition:</b> trx0trx.cc:2682</div></div>
</div><!-- fragment -->
<p>Release the trx-&gt;mutex. </p>

</div>
</div>
<a id="a2500d5010eab88bcf2f06b519354237f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2500d5010eab88bcf2f06b519354237f">&#9670;&nbsp;</a></span>trx_mutex_own</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_mutex_own</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="ut0mutex_8h.html#a7eccf8a96f24ab7f4012bb203640cf17">mutex_own</a>(&amp;t-&gt;<a class="el" href="memcached_8c.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if trx-&gt;mutex is owned by the current thread. </p>

</div>
</div>
<a id="a0081be50a0239c2f91a1c7e35804380c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0081be50a0239c2f91a1c7e35804380c">&#9670;&nbsp;</a></span>TRX_QUE_STATE_STR_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_QUE_STATE_STR_MAX_LEN&#160;&#160;&#160;12 /* &quot;ROLLING BACK&quot; */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0000b81548ffa235feae627a2ce6ac5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0000b81548ffa235feae627a2ce6ac5d">&#9670;&nbsp;</a></span>trx_start_if_not_started</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_start_if_not_started</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rw&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                     \</div><div class="line">    (t)-&gt;start_line = __LINE__;            \</div><div class="line">    (t)-&gt;start_file = __FILE__;            \</div><div class="line">    trx_start_if_not_started_low((t), rw); \</div><div class="line">  } <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div></div><!-- fragment -->
</div>
</div>
<a id="a5b75bf99d785dde6579f0360107894a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b75bf99d785dde6579f0360107894a5">&#9670;&nbsp;</a></span>trx_start_if_not_started_xa</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_start_if_not_started_xa</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rw&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                        \</div><div class="line">    (t)-&gt;start_line = __LINE__;               \</div><div class="line">    (t)-&gt;start_file = __FILE__;               \</div><div class="line">    trx_start_if_not_started_xa_low((t), rw); \</div><div class="line">  } <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div></div><!-- fragment -->
</div>
</div>
<a id="a0407502f2e8bc067035afd50b8d1ae0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0407502f2e8bc067035afd50b8d1ae0a">&#9670;&nbsp;</a></span>trx_start_internal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_start_internal</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                           \</div><div class="line">    (t)-&gt;start_line = __LINE__;  \</div><div class="line">    (t)-&gt;start_file = __FILE__;  \</div><div class="line">    trx_start_internal_low((t)); \</div><div class="line">  } <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div></div><!-- fragment -->
</div>
</div>
<a id="aecf86f30d06714cbe788898c036e19b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf86f30d06714cbe788898c036e19b0">&#9670;&nbsp;</a></span>trx_start_internal_read_only</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define trx_start_internal_read_only</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                   \</div><div class="line">    (t)-&gt;start_line = __LINE__;          \</div><div class="line">    (t)-&gt;start_file = __FILE__;          \</div><div class="line">    trx_start_internal_read_only_low(t); \</div><div class="line">  } <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div></div><!-- fragment -->
</div>
</div>
<a id="a56f0896d94fab6eeb73cbcb164a40945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56f0896d94fab6eeb73cbcb164a40945">&#9670;&nbsp;</a></span>TRX_WEIGHT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_WEIGHT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">t</td><td>)</td>
          <td>&#160;&#160;&#160;((t)-&gt;undo_no + <a class="el" href="ut0lst_8h.html#a132948a92c29bad601863cf8b56de5bb">UT_LIST_GET_LEN</a>((t)-&gt;lock.trx_locks))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the "weight" of a transaction. </p>
<p>The weight of one transaction is estimated as the number of altered rows + the number of locked rows. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transaction weight </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="afaaac1afb77620ef89dbd971c181b04b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaaac1afb77620ef89dbd971c181b04b">&#9670;&nbsp;</a></span>lock_pool_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;ib_lock_t *, <a class="el" href="classut__allocator.html">ut_allocator</a>&lt;ib_lock_t *&gt; &gt; <a class="el" href="trx0trx_8h.html#afaaac1afb77620ef89dbd971c181b04b">lock_pool_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afe5c6b4af5918cfb0725dbde42c65d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe5c6b4af5918cfb0725dbde42c65d3b">&#9670;&nbsp;</a></span>trx_mod_tables_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="suite__stubs_8h.html#ad287d8e71b971be7d1c8998b3284340c">std::set</a>&lt;<a class="el" href="structdict__table__t.html">dict_table_t</a> *, std::less&lt;<a class="el" href="structdict__table__t.html">dict_table_t</a> *&gt;, <a class="el" href="classut__allocator.html">ut_allocator</a>&lt;<a class="el" href="structdict__table__t.html">dict_table_t</a> *&gt; &gt; <a class="el" href="trx0trx_8h.html#afe5c6b4af5918cfb0725dbde42c65d3b">trx_mod_tables_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type used to store the list of tables that are modified by a given transaction. </p>
<p>We store pointers to the table objects in memory because we know that a table object will not be destroyed while a transaction that modified it is running. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aeda504c072953ddfe34988fe729ba0c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda504c072953ddfe34988fe729ba0c5">&#9670;&nbsp;</a></span>commit_node_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="trx0trx_8h.html#aeda504c072953ddfe34988fe729ba0c5">commit_node_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commit node states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aeda504c072953ddfe34988fe729ba0c5a58c5533d962091dde4f36df4ef999012"></a>COMMIT_NODE_SEND&#160;</td><td class="fielddoc"><p>about to send a commit signal to the transaction </p>
</td></tr>
<tr><td class="fieldname"><a id="aeda504c072953ddfe34988fe729ba0c5a9e0ee8ee1fef6293a6178e3bd1288d93"></a>COMMIT_NODE_WAIT&#160;</td><td class="fielddoc"><p>commit signal sent to the transaction, waiting for completion </p>
</td></tr>
</table>

</div>
</div>
<a id="ae2c2545708daee0f7c0f7b88b14be7ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2c2545708daee0f7c0f7b88b14be7ad">&#9670;&nbsp;</a></span>trx_rseg_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="trx0trx_8h.html#ae2c2545708daee0f7c0f7b88b14be7ad">trx_rseg_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae2c2545708daee0f7c0f7b88b14be7ada5c185d046ad70533f17062eef4eaa413"></a>TRX_RSEG_TYPE_NONE&#160;</td><td class="fielddoc"><p>void rollback segment type. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2c2545708daee0f7c0f7b88b14be7adac8063fb269c9aa562acaf56267ddc56e"></a>TRX_RSEG_TYPE_REDO&#160;</td><td class="fielddoc"><p>redo rollback segment. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae2c2545708daee0f7c0f7b88b14be7ada8db8b9302c6ad8af2abba7588ddc65e8"></a>TRX_RSEG_TYPE_NOREDO&#160;</td><td class="fielddoc"><p>non-redo rollback segment. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2cb464dfd1e6c2ff6000867e63fee8cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cb464dfd1e6c2ff6000867e63fee8cc">&#9670;&nbsp;</a></span>trx_allocate_for_background()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__t.html">trx_t</a>* trx_allocate_for_background </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a transaction object for background operations by the master thread. </p>
<dl class="section return"><dt>Returns</dt><dd>own: transaction object </dd></dl>

</div>
</div>
<a id="ae8d19073df69b437e6fa9396fd6c9806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8d19073df69b437e6fa9396fd6c9806">&#9670;&nbsp;</a></span>trx_allocate_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__t.html">trx_t</a>* trx_allocate_for_mysql </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a transaction object for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>own: transaction object </dd></dl>

</div>
</div>
<a id="aceabcaa371d826f2a22aa2565d904602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceabcaa371d826f2a22aa2565d904602">&#9670;&nbsp;</a></span>trx_arbitrate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE const <a class="el" href="structtrx__t.html">trx_t</a>* trx_arbitrate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>requestor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>holder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">requestor</td><td>Transaction requesting the lock </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">holder</td><td>Transaction holding the lock </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the transaction that will be rolled back, null don't care </dd></dl>

</div>
</div>
<a id="a2c8fd0a774b3be32177da1c54db92352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c8fd0a774b3be32177da1c54db92352">&#9670;&nbsp;</a></span>trx_assert_started()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool trx_assert_started </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Asserts that a transaction has been started. </p>
<p>The caller must hold trx_sys-&gt;mutex. </p><dl class="section return"><dt>Returns</dt><dd>true if started </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abdf39b1615cfa159e1dc50f50d97141c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdf39b1615cfa159e1dc50f50d97141c">&#9670;&nbsp;</a></span>trx_assign_read_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classReadView.html">ReadView</a>* trx_assign_read_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns a read view for a consistent read query. </p>
<p>All the consistent reads within the same transaction will get the same read view, which is created when this function is first called for a new started transaction. in: active transaction</p>
<p>All the consistent reads within the same transaction will get the same read view, which is created when this function is first called for a new started transaction. </p><dl class="section return"><dt>Returns</dt><dd>consistent read view </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: active transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8acaf6c0654f6e9825f06d0abc109d17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acaf6c0654f6e9825f06d0abc109d17">&#9670;&nbsp;</a></span>trx_assign_rseg_temp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_assign_rseg_temp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assign a temp-tablespace bound rollback-segment to a transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction that involves write to temp-table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7ca10184fd4a4edd6199c7d4a51b0820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ca10184fd4a4edd6199c7d4a51b0820">&#9670;&nbsp;</a></span>trx_before_mutex_enter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_before_mutex_enter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>allow_another</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies the invariants and records debug state related to latching rules. </p>
<p>Called during trx_mutex_enter before the actual mutex acquisition. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>The transaction for which trx_mutex_enter(trx) is called </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allow_another</td><td>If false, then no further calls to trx_mutex_enter are allowed, until trx_mutex_exit(). If true, then this must be the first trx acquisition and we will allow one more. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a40c6d70b2ac49226e764b1307f97a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a40c6d70b2ac49226e764b1307f97a9">&#9670;&nbsp;</a></span>trx_before_mutex_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_before_mutex_exit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies the invariants and records debug state related to latching rules. </p>
<p>Called during trx_mutex_exit before the actual mutex release. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>The transaction for which trx_mutex_exit(trx) is called </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8fb6471220ce01c07a8fae94bf27b989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb6471220ce01c07a8fae94bf27b989">&#9670;&nbsp;</a></span>trx_can_be_handled_by_current_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_can_be_handled_by_current_thread </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if trx can be handled by current thread, which is when trx-&gt;mysql_thd is nullptr (a "background" trx) or equals current_thd. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>The transaction to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true iff current thread can handle the transaction </dd></dl>

</div>
</div>
<a id="af9bee0e9d7331369cd78cd83247b79b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9bee0e9d7331369cd78cd83247b79b3">&#9670;&nbsp;</a></span>trx_cleanup_at_db_startup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_cleanup_at_db_startup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up a transaction at database startup. </p>
<p>The cleanup is needed if the transaction already got to the middle of a commit when the database crashed, and we cannot roll it back. in: transaction</p>
<p>The cleanup is needed if the transaction already got to the middle of a commit when the database crashed, and we cannot roll it back. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7ad2939baf98996b4536611285e30916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad2939baf98996b4536611285e30916">&#9670;&nbsp;</a></span>trx_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits a transaction. </p>
<p>in/out: transaction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae0c29148646b50fa199ed713bde256b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c29148646b50fa199ed713bde256b6">&#9670;&nbsp;</a></span>trx_commit_complete_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_commit_complete_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If required, flushes the log to disk if we called trx_commit_for_mysql() with trx-&gt;flush_log_later == TRUE. </p>
<p>in/out: transaction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afc0bc1af38fae5aef2a9669887c182f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0bc1af38fae5aef2a9669887c182f5">&#9670;&nbsp;</a></span>trx_commit_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_commit_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the transaction commit for MySQL. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error number in/out: transaction</dd>
<dd>
DB_SUCCESS or error number </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaae4a91cb2920a6e0ac1465c3eee7409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaae4a91cb2920a6e0ac1465c3eee7409">&#9670;&nbsp;</a></span>trx_commit_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_commit_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commits a transaction and a mini-transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>Transaction </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mtr</td><td>Mini-transaction (will be committed), or null if trx made no modifications </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="affaac0949d19f8f98f68fd6cb8ab6429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affaac0949d19f8f98f68fd6cb8ab6429">&#9670;&nbsp;</a></span>trx_commit_node_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcommit__node__t.html">commit_node_t</a>* trx_commit_node_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a commit command node struct. </p>
<dl class="section return"><dt>Returns</dt><dd>own: commit node struct in: mem heap where created</dd>
<dd>
own: commit node struct </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heap</td><td>in: mem heap where created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af273fab04e0e0f86def42b181448203f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af273fab04e0e0f86def42b181448203f">&#9670;&nbsp;</a></span>trx_commit_or_rollback_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_commit_or_rollback_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepares a transaction for commit/rollback. </p>
<p>in/out: transaction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7d3e131a908fd0050ff73bc5b27f7dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d3e131a908fd0050ff73bc5b27f7dba">&#9670;&nbsp;</a></span>trx_commit_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a>* trx_commit_step </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs an execution step for a commit type node in a query graph. </p>
<dl class="section return"><dt>Returns</dt><dd>query thread to run next, or NULL in: query thread</dd>
<dd>
query thread to run next, or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ddb5503a735f4540830f8fff6ed05d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ddb5503a735f4540830f8fff6ed05d7">&#9670;&nbsp;</a></span>trx_disconnect_plain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void trx_disconnect_plain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disconnect a transaction from MySQL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae5f3f22daed412fac70def43c6560c45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5f3f22daed412fac70def43c6560c45">&#9670;&nbsp;</a></span>trx_disconnect_prepared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_disconnect_prepared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect a prepared transaction from MySQL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a2d65d23b63d13b2f010a8c8359b250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a2d65d23b63d13b2f010a8c8359b250">&#9670;&nbsp;</a></span>trx_free_for_background()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_free_for_background </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a transaction that was allocated by background or user threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction object to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a45828097bb852e4c45d34165fb115cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45828097bb852e4c45d34165fb115cf9">&#9670;&nbsp;</a></span>trx_free_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_free_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a transaction object for MySQL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a29f1cd3a693f103cc1dae338aa65cf86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29f1cd3a693f103cc1dae338aa65cf86">&#9670;&nbsp;</a></span>trx_free_prepared_or_active_recovered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_free_prepared_or_active_recovered </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>At shutdown, frees a transaction object that represents either: </p>
<ul>
<li>a PREPARED transaction,</li>
<li>or a recovered ACTIVE transaction. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction object to free </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="a5779006f2811622c6c980e36c7837441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5779006f2811622c6c980e36c7837441">&#9670;&nbsp;</a></span>trx_free_resurrected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_free_resurrected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free and initialize a transaction object instantiated during recovery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction object to free and initialize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a690d5d04746f73ed3a29199e45fdcf29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690d5d04746f73ed3a29199e45fdcf29">&#9670;&nbsp;</a></span>trx_get_dict_operation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE enum <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a> trx_get_dict_operation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a transaction is a dictionary operation. </p>
<dl class="section return"><dt>Returns</dt><dd>dictionary operation mode </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a93995ce4037f0b629f78dee251b141a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93995ce4037f0b629f78dee251b141a1">&#9670;&nbsp;</a></span>trx_get_error_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE const <a class="el" href="structdict__index__t.html">dict_index_t</a>* trx_get_error_index </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the error_info field from a trx. </p>
<dl class="section return"><dt>Returns</dt><dd>the error index in: trx object </dd></dl>

</div>
</div>
<a id="a2b7ae91f363c7ac77c2d86bc27eb39f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b7ae91f363c7ac77c2d86bc27eb39f1">&#9670;&nbsp;</a></span>trx_get_id_for_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_get_id_for_print </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retreieves the transaction ID. </p>
<p>In a given point in time it is guaranteed that IDs of the running transactions are unique. The values returned by this function for readonly transactions may be reused, so a subsequent RO transaction may get the same ID as a RO transaction that existed in the past. The values returned by this function should be used for printing purposes only. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>transaction whose id to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transaction id </dd></dl>

</div>
</div>
<a id="a70150f2448c48ddb2ace0e7335e61b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70150f2448c48ddb2ace0e7335e61b05">&#9670;&nbsp;</a></span>trx_get_que_state_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE const char* trx_get_que_state_str </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves transaction's que state in a human readable string. </p>
<p>The string should not be free()'d or modified. </p><dl class="section return"><dt>Returns</dt><dd>string in the data segment in: transaction </dd></dl>

</div>
</div>
<a id="ac618a169bc66ee27280522b021a2d9ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac618a169bc66ee27280522b021a2d9ae">&#9670;&nbsp;</a></span>trx_get_read_view() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="classReadView.html">ReadView</a>* trx_get_read_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the transaction's read view or NULL if one not assigned. </dd></dl>

</div>
</div>
<a id="ae57851533c4bd8ce24b45a4c3ed34432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57851533c4bd8ce24b45a4c3ed34432">&#9670;&nbsp;</a></span>trx_get_read_view() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE const <a class="el" href="classReadView.html">ReadView</a>* trx_get_read_view </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the transaction's read view or NULL if one not assigned. </dd></dl>

</div>
</div>
<a id="a5292ad6e2ddaf68f9d7c97897828fca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5292ad6e2ddaf68f9d7c97897828fca5">&#9670;&nbsp;</a></span>trx_get_trx_by_xid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__t.html">trx_t</a>* trx_get_trx_by_xid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="sql_2handler_8h.html#a84daadfc567e8184153aac6eb9e0b822">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to find one X/Open XA distributed transaction which is in the prepared state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">xid</td><td>X/Open XA transaction identifier </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>trx or NULL; on match, the trx-&gt;xid will be invalidated; note that the trx may have been committed </dd></dl>

</div>
</div>
<a id="a5d0f7f590f17ab052505bbb43ce0c25b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d0f7f590f17ab052505bbb43ce0c25b">&#9670;&nbsp;</a></span>trx_immutable_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE uint64_t trx_immutable_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provides an id of the transaction which does not change over time. </p>
<p>Contrast this with trx-&gt;id and trx_get_id_for_print(trx) which change value once a transaction can no longer be treated as read-only and becomes read-write. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>The transaction for which you want an immutable id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the transaction's immutable id </dd></dl>

</div>
</div>
<a id="a1a144ee93ff1061b38218c3ff33a6112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a144ee93ff1061b38218c3ff33a6112">&#9670;&nbsp;</a></span>trx_is_high_priority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_is_high_priority </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>Transaction to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the transaction is a high priority transaction. </dd></dl>

</div>
</div>
<a id="a1a5ce0995025643b07a6bd0691c3a92d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a5ce0995025643b07a6bd0691c3a92d">&#9670;&nbsp;</a></span>trx_is_interrupted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool trx_is_interrupted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if the currently running transaction has been interrupted. </p>
<dl class="section return"><dt>Returns</dt><dd>true if interrupted in: transaction</dd>
<dd>
true if interrupted </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae1bd920335932721b515f79139404ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1bd920335932721b515f79139404ca">&#9670;&nbsp;</a></span>trx_is_mysql_xa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_is_mysql_xa </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if transaction is internal XA transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, iff internal XA transaction. </dd></dl>

</div>
</div>
<a id="a13e56b49b2943c1b4dcf68f41690202b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13e56b49b2943c1b4dcf68f41690202b">&#9670;&nbsp;</a></span>trx_is_rseg_updated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_is_rseg_updated </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if redo/noredo rseg is modified for insert/update. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>Transaction to check </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a24187b6b4af390120a5c3d681aecc760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24187b6b4af390120a5c3d681aecc760">&#9670;&nbsp;</a></span>trx_is_started()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_is_started </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if transaction is started. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>Transaction whose state we need to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if transaction is in state started </dd></dl>

</div>
</div>
<a id="afd763791d1b59356b2d0f6f4ca90cae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd763791d1b59356b2d0f6f4ca90cae4">&#9670;&nbsp;</a></span>trx_is_strict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool trx_is_strict </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if the currently running transaction is in strict mode. </p>
<dl class="section return"><dt>Returns</dt><dd>true if strict in: transaction</dd>
<dd>
true if strict </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a49e6e5415aa5cddeb201c75974f4f51d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49e6e5415aa5cddeb201c75974f4f51d">&#9670;&nbsp;</a></span>trx_kill_blocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_kill_blocking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If this is a high priority transaction, kill all transactions that are blocking this transaction from acquiring locks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>High priority transaction </td></tr>
  </table>
  </dd>
</dl>
<p>Kill the transactions in the lock acquisition order old -&gt; new. </p>

</div>
</div>
<a id="adf5afc626305a6fe095445d741a765ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf5afc626305a6fe095445d741a765ae">&#9670;&nbsp;</a></span>trx_lists_init_at_db_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_lists_init_at_db_start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates trx objects for transactions and initializes the trx list of trx_sys at database start. </p>
<p>Rollback segment and undo log lists must already exist when this function is called, because the lists of transactions to be rolled back or cleaned up are built based on the undo log lists.</p>
<p>Rollback segments and undo log lists must already exist when this function is called, because the lists of transactions to be rolled back or cleaned up are built based on the undo log lists. </p>

</div>
</div>
<a id="a76e191adc5826a5f78886df503183ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76e191adc5826a5f78886df503183ebe">&#9670;&nbsp;</a></span>trx_mark_sql_stat_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_mark_sql_stat_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the latest SQL statement ended. </p>
<p>in: trx handle</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: trx handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abddd49c761d973bbf99a159d2261fc9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abddd49c761d973bbf99a159d2261fc9d">&#9670;&nbsp;</a></span>trx_pool_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_pool_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the trx_t pool. </p>

</div>
</div>
<a id="a41eb566dad1d8483afc0fb1f6ec09022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41eb566dad1d8483afc0fb1f6ec09022">&#9670;&nbsp;</a></span>trx_pool_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_pool_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the trx_t pool. </p>

</div>
</div>
<a id="afd3d96e663aa75dd8974743e0e24cd10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd3d96e663aa75dd8974743e0e24cd10">&#9670;&nbsp;</a></span>trx_prepare_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_prepare_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the transaction prepare for MySQL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>Transaction instance to prepare </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac4d97ad86d27e5c07b87a6c1b149f4d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4d97ad86d27e5c07b87a6c1b149f4d9">&#9670;&nbsp;</a></span>trx_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>max_query_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints info about a transaction. </p>
<p>Acquires and releases lock_sys exclusive global latch and trx_sys-&gt;mutex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>output stream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_query_len</td><td>max query length to print, or 0 to use the default max length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d672f17aef4ef582fbd8f80ad5ae756"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d672f17aef4ef582fbd8f80ad5ae756">&#9670;&nbsp;</a></span>trx_print_latched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_print_latched </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>max_query_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints info about a transaction. </p>
<p>The caller must hold lock_sys exclusive global latch and trx_sys-&gt;mutex. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>output stream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_query_len</td><td>max query length to print, or 0 to use the default max length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afda78355fbbfe044da5291535faa95fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afda78355fbbfe044da5291535faa95fb">&#9670;&nbsp;</a></span>trx_print_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_print_low </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>max_query_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_rec_locks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_trx_locks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>heap_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints info about a transaction. </p>
<p>Caller must hold trx_sys-&gt;mutex. in: mem_heap_get_size(trx-&gt;lock.lock_heap)</p>
<p>Caller must hold trx_sys-&gt;mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>in: output stream </td></tr>
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">max_query_len</td><td>in: max query length to print, or 0 to use the default max length </td></tr>
    <tr><td class="paramname">n_rec_locks</td><td>in: lock_number_of_rows_locked(&amp;trx-&gt;lock) </td></tr>
    <tr><td class="paramname">n_trx_locks</td><td>in: length of trx-&gt;lock.trx_locks </td></tr>
    <tr><td class="paramname">heap_size</td><td>in: mem_heap_get_size(trx-&gt;lock.lock_heap) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab53d050821092784b2653e176263c5d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53d050821092784b2653e176263c5d2">&#9670;&nbsp;</a></span>trx_recover_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int trx_recover_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sql_2handler_8h.html#a4b64a240df9636d1cdaf637e00a5c782">XA_recover_txn</a> *&#160;</td>
          <td class="paramname"><em>txn_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *&#160;</td>
          <td class="paramname"><em>mem_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to find number of prepared transactions and their transaction objects for a recovery. </p>
<dl class="section return"><dt>Returns</dt><dd>number of prepared transactions in: memory for table names</dd>
<dd>
number of prepared transactions stored in xid_list </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txn_list</td><td>in/out: prepared transactions </td></tr>
    <tr><td class="paramname">len</td><td>in: number of slots in xid_list </td></tr>
    <tr><td class="paramname">mem_root</td><td>in: memory for table names </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac39e946db2a5f720fe25d2a5aeae914c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac39e946db2a5f720fe25d2a5aeae914c">&#9670;&nbsp;</a></span>trx_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structtrx__t.html">trx_t</a>* trx_reference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>do_ref_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increase the reference count. </p>
<p>If the transaction is in state TRX_STATE_COMMITTED_IN_MEMORY then the transaction is considered committed and the reference count is not incremented. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>Transaction that is being referenced </td></tr>
    <tr><td class="paramname">do_ref_count</td><td>Increment the reference iff this is true </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transaction instance if it is not committed </dd></dl>

</div>
</div>
<a id="af21f360b739c58f875010707f9740b46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af21f360b739c58f875010707f9740b46">&#9670;&nbsp;</a></span>trx_release_reference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_release_reference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release the transaction. </p>
<p>Decrease the reference count. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>Transaction that is being released </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62da6d484835d0aab2f3aa1b5c4cfa0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62da6d484835d0aab2f3aa1b5c4cfa0d">&#9670;&nbsp;</a></span>trx_resurrect_locks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_resurrect_locks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resurrect table locks for resurrected transactions. </p>

</div>
</div>
<a id="af9066529c44667bed3ddb904c4adbfdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9066529c44667bed3ddb904c4adbfdd">&#9670;&nbsp;</a></span>trx_set_detailed_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_set_detailed_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set detailed error message for the transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>Transaction struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>Detailed error message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8c7f576bf5e13ddc8a29be5b9200c0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7f576bf5e13ddc8a29be5b9200c0c4">&#9670;&nbsp;</a></span>trx_set_detailed_error_from_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_set_detailed_error_from_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set detailed error message for the transaction from a file. </p>
<p>Note that the file is rewinded before reading from it. in: file to read message from</p>
<p>Note that the file is rewinded before reading from it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction struct </td></tr>
    <tr><td class="paramname">file</td><td>in: file to read message from </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2897a812badb5f6c9f6ebdc5a0f84ae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2897a812badb5f6c9f6ebdc5a0f84ae9">&#9670;&nbsp;</a></span>trx_set_dict_operation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_set_dict_operation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="trx0types_8h.html#af79319b3cdfff988f01995fa51880599">trx_dict_op_t</a>&#160;</td>
          <td class="paramname"><em>op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag a transaction a dictionary operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">op</td><td>operation, not TRX_DICT_OP_NONE </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adcc5876d6636810e0b96bd22ea5a3e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc5876d6636810e0b96bd22ea5a3e6f">&#9670;&nbsp;</a></span>trx_set_flush_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_set_flush_observer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFlushObserver.html">FlushObserver</a> *&#160;</td>
          <td class="paramname"><em>observer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set flush observer for the transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction struct </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">observer</td><td>flush observer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e980f48dd611cefdaf1842c0c64c094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e980f48dd611cefdaf1842c0c64c094">&#9670;&nbsp;</a></span>trx_set_rw_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_set_rw_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the transaction as a read-write transaction if it is not already tagged as such. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>Transaction that needs to be "upgraded" to RW from RO</td></tr>
  </table>
  </dd>
</dl>
<p>Read-only transactions that are writing to temporary tables are assigned an ID and a rollback segment but are not added to the trx read-write list because their updates should not be visible to other transactions and therefore their changes can be ignored by by MVCC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction that is RW </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a068ef6ef1d38ac54c6e5c8c6ad1294fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a068ef6ef1d38ac54c6e5c8c6ad1294fe">&#9670;&nbsp;</a></span>trx_start_if_not_started_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_start_if_not_started_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>read_write</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the transaction if it is not yet started. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">trx</td><td>Transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_write</td><td>True if read write transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff869b3dc21337797d3f4e177c30e930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff869b3dc21337797d3f4e177c30e930">&#9670;&nbsp;</a></span>trx_start_if_not_started_xa_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_start_if_not_started_xa_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>read_write</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the transaction if it is not yet started. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>Transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_write</td><td>True if read write transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acb9d9e94366336ff875699f4f9223bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb9d9e94366336ff875699f4f9223bb4">&#9670;&nbsp;</a></span>trx_start_internal_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_start_internal_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a transaction for internal processing. </p>
<p>in/out: transaction</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9f0ab6e6668f9846426da7c7e2d975c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f0ab6e6668f9846426da7c7e2d975c9">&#9670;&nbsp;</a></span>trx_start_internal_read_only_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_start_internal_read_only_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a read-only transaction for internal processing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>transaction to be started </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba5b87828afc483ac0875159cd440598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5b87828afc483ac0875159cd440598">&#9670;&nbsp;</a></span>trx_state_eq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_state_eq </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a14bf14fe533410dc0d7b3bb9e99afcfe">trx_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if a transaction is in the given state. </p>
<p>The caller must hold trx_sys-&gt;mutex, or it must be the thread that is serving a running transaction. A running RW transaction must be in trx_sys-&gt;rw_trx_list. </p><dl class="section return"><dt>Returns</dt><dd>true if trx-&gt;state == state </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">state</td><td>in: state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a65eef27d572e0d6a6d089486c6776811"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65eef27d572e0d6a6d089486c6776811">&#9670;&nbsp;</a></span>trx_sys_update_binlog_position()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_sys_update_binlog_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update transaction binlog file name and position from session THD. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>current transaction. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4df89e9a279e9b27588c4c7b8d14533e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4df89e9a279e9b27588c4c7b8d14533e">&#9670;&nbsp;</a></span>trx_weight_ge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_weight_ge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares the "weight" (or size) of two transactions. </p>
<p>Transactions that have edited non-transactional tables are considered heavier than ones that have not. </p><dl class="section return"><dt>Returns</dt><dd>true if weight(a) &gt;= weight(b) in: the transaction to be compared</dd></dl>
<p>Transactions that have edited non-transactional tables are considered heavier than ones that have not. </p><dl class="section return"><dt>Returns</dt><dd>true if weight(a) &gt;= weight(b) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>in: transaction to be compared </td></tr>
    <tr><td class="paramname">b</td><td>in: transaction to be compared </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1c64d381cc36d6df16ab94be98f23116"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c64d381cc36d6df16ab94be98f23116">&#9670;&nbsp;</a></span>trx_dummy_sess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsess__t.html">sess_t</a>* trx_dummy_sess</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dummy session used currently in MySQL interface. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="trx0trx_8h.html">trx0trx.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
