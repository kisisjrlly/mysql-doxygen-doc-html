<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Arch_Group Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classArch__Group.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classArch__Group-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Arch_Group Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contiguous archived data for redo log or page tracking.  
 <a href="classArch__Group.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="arch0arch_8h_source.html">arch0arch.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac17bfc55339b9dc424b8c9acc68228ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#ac17bfc55339b9dc424b8c9acc68228ad">Arch_Group</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> start_lsn, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> header_len, ib_mutex_t *<a class="el" href="memcached_8c.html#a4acff8232e4aec9cd5c6dc200ac55ef3">mutex</a>)</td></tr>
<tr class="memdesc:ac17bfc55339b9dc424b8c9acc68228ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor: Initialize members.  <a href="#ac17bfc55339b9dc424b8c9acc68228ad">More...</a><br /></td></tr>
<tr class="separator:ac17bfc55339b9dc424b8c9acc68228ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69046f09c4a53f55d8858ba5a391e6cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a69046f09c4a53f55d8858ba5a391e6cf">~Arch_Group</a> ()</td></tr>
<tr class="memdesc:a69046f09c4a53f55d8858ba5a391e6cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor: Delete all files for non-durable archiving.  <a href="#a69046f09c4a53f55d8858ba5a391e6cf">More...</a><br /></td></tr>
<tr class="separator:a69046f09c4a53f55d8858ba5a391e6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a648a2db2e54bddb3a82d5277e9654c7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a648a2db2e54bddb3a82d5277e9654c7b">init_file_ctx</a> (const char *<a class="el" href="mysqldump_8cc.html#a38dcf0baefa35c1961c23cf3e06002b5">path</a>, const char *base_dir, const char *base_file, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> num_files, uint64_t <a class="el" href="mysql__config__editor_8cc.html#a14ba597917108e3c1937893de7c4ac0c">file_size</a>)</td></tr>
<tr class="memdesc:a648a2db2e54bddb3a82d5277e9654c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the file context for the archive group.  <a href="#a648a2db2e54bddb3a82d5277e9654c7b">More...</a><br /></td></tr>
<tr class="separator:a648a2db2e54bddb3a82d5277e9654c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a869fbe9fb146d1b29b8c0259a422bc85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a869fbe9fb146d1b29b8c0259a422bc85">close_file_ctxs</a> ()</td></tr>
<tr class="separator:a869fbe9fb146d1b29b8c0259a422bc85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae70260021e8ce0e7de9dd444e4daa08f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#ae70260021e8ce0e7de9dd444e4daa08f">disable</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> end_lsn)</td></tr>
<tr class="memdesc:ae70260021e8ce0e7de9dd444e4daa08f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark archive group inactive.  <a href="#ae70260021e8ce0e7de9dd444e4daa08f">More...</a><br /></td></tr>
<tr class="separator:ae70260021e8ce0e7de9dd444e4daa08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf498dc92ad566a28e368443fae151c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#aabf498dc92ad566a28e368443fae151c">attach</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classArch__Group.html#afb3b73d96b1ea526a841ef3b75cce986">is_durable</a>)</td></tr>
<tr class="memdesc:aabf498dc92ad566a28e368443fae151c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach a client to the archive group.  <a href="#aabf498dc92ad566a28e368443fae151c">More...</a><br /></td></tr>
<tr class="separator:aabf498dc92ad566a28e368443fae151c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772977e71226744b5d6dc0dc5db18e97"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a772977e71226744b5d6dc0dc5db18e97">detach</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> stop_lsn, <a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> *stop_pos)</td></tr>
<tr class="memdesc:a772977e71226744b5d6dc0dc5db18e97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach a client when archiving is stopped by the client.  <a href="#a772977e71226744b5d6dc0dc5db18e97">More...</a><br /></td></tr>
<tr class="separator:a772977e71226744b5d6dc0dc5db18e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f60fbb988fece41d748a8f08e936ab3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a9f60fbb988fece41d748a8f08e936ab3">release</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classArch__Group.html#afb3b73d96b1ea526a841ef3b75cce986">is_durable</a>)</td></tr>
<tr class="memdesc:a9f60fbb988fece41d748a8f08e936ab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the archive group from a client.  <a href="#a9f60fbb988fece41d748a8f08e936ab3">More...</a><br /></td></tr>
<tr class="separator:a9f60fbb988fece41d748a8f08e936ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64ae5c55a731efa82100ab647341bbed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a64ae5c55a731efa82100ab647341bbed">build_active_file_name</a> ()</td></tr>
<tr class="memdesc:a64ae5c55a731efa82100ab647341bbed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct file name for the active file which indicates whether a group is active or not.  <a href="#a64ae5c55a731efa82100ab647341bbed">More...</a><br /></td></tr>
<tr class="separator:a64ae5c55a731efa82100ab647341bbed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af266b9274cb91a93feba96efe47b8efb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#af266b9274cb91a93feba96efe47b8efb">build_durable_file_name</a> ()</td></tr>
<tr class="memdesc:af266b9274cb91a93feba96efe47b8efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct file name for the durable file which indicates whether a group was made durable or not.  <a href="#af266b9274cb91a93feba96efe47b8efb">More...</a><br /></td></tr>
<tr class="separator:af266b9274cb91a93feba96efe47b8efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f6a90b49220dc485c930ad0388160f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a43f6a90b49220dc485c930ad0388160f">mark_active</a> ()</td></tr>
<tr class="memdesc:a43f6a90b49220dc485c930ad0388160f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the group active by creating a file in the respective group directory.  <a href="#a43f6a90b49220dc485c930ad0388160f">More...</a><br /></td></tr>
<tr class="separator:a43f6a90b49220dc485c930ad0388160f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a65bfc2ed38be14fa1689c539234260"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a1a65bfc2ed38be14fa1689c539234260">mark_durable</a> ()</td></tr>
<tr class="memdesc:a1a65bfc2ed38be14fa1689c539234260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the group durable by creating a file in the respective group directory.  <a href="#a1a65bfc2ed38be14fa1689c539234260">More...</a><br /></td></tr>
<tr class="separator:a1a65bfc2ed38be14fa1689c539234260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60514561c1af32dbcb2cc023dcf2d6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#af60514561c1af32dbcb2cc023dcf2d6d">mark_inactive</a> ()</td></tr>
<tr class="memdesc:af60514561c1af32dbcb2cc023dcf2d6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the group inactive by deleting the 'active' file.  <a href="#af60514561c1af32dbcb2cc023dcf2d6d">More...</a><br /></td></tr>
<tr class="separator:af60514561c1af32dbcb2cc023dcf2d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d4ad77baf2ba55e16c7ef2e2c1eefd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a2d4ad77baf2ba55e16c7ef2e2c1eefd8">is_active</a> () const</td></tr>
<tr class="memdesc:a2d4ad77baf2ba55e16c7ef2e2c1eefd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if archiving is going on for this group.  <a href="#a2d4ad77baf2ba55e16c7ef2e2c1eefd8">More...</a><br /></td></tr>
<tr class="separator:a2d4ad77baf2ba55e16c7ef2e2c1eefd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa86d81e6f33920fbbfdff9894a82f4c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#aa86d81e6f33920fbbfdff9894a82f4c4">write_file_header</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *from_buffer, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> length)</td></tr>
<tr class="memdesc:aa86d81e6f33920fbbfdff9894a82f4c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header (RESET page) to an archived file.  <a href="#aa86d81e6f33920fbbfdff9894a82f4c4">More...</a><br /></td></tr>
<tr class="separator:aa86d81e6f33920fbbfdff9894a82f4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ca776c93f817c7f69101c93f7fa644"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#ab8ca776c93f817c7f69101c93f7fa644">write_to_file</a> (<a class="el" href="classArch__File__Ctx.html">Arch_File_Ctx</a> *from_file, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *from_buffer, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> length, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> partial_write, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> do_persist)</td></tr>
<tr class="memdesc:ab8ca776c93f817c7f69101c93f7fa644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Archive data to one or more files.  <a href="#ab8ca776c93f817c7f69101c93f7fa644">More...</a><br /></td></tr>
<tr class="separator:ab8ca776c93f817c7f69101c93f7fa644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a58e8d25eb544f116c09c121751adc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a3a58e8d25eb544f116c09c121751adc0">find_reset_point</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#ad242b72a11297cda4930df5a71075465">check_lsn</a>, <a class="el" href="structArch__Point.html">Arch_Point</a> &amp;reset_point)</td></tr>
<tr class="memdesc:a3a58e8d25eb544f116c09c121751adc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the appropriate reset LSN that is less than or equal to the given lsn and fetch the reset point.  <a href="#a3a58e8d25eb544f116c09c121751adc0">More...</a><br /></td></tr>
<tr class="separator:a3a58e8d25eb544f116c09c121751adc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe9fe88963ceb859cfe036a78476518"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a9fe9fe88963ceb859cfe036a78476518">find_stop_point</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#ad242b72a11297cda4930df5a71075465">check_lsn</a>, <a class="el" href="structArch__Point.html">Arch_Point</a> &amp;stop_point, <a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> write_pos)</td></tr>
<tr class="memdesc:a9fe9fe88963ceb859cfe036a78476518"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the first stop LSN that is greater than the given LSN and fetch the stop point.  <a href="#a9fe9fe88963ceb859cfe036a78476518">More...</a><br /></td></tr>
<tr class="separator:a9fe9fe88963ceb859cfe036a78476518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0756266956795663e0a73a30fbdb5e06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a0756266956795663e0a73a30fbdb5e06">adjust_end_lsn</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> &amp;stop_lsn, uint32_t &amp;blk_len)</td></tr>
<tr class="memdesc:a0756266956795663e0a73a30fbdb5e06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust end LSN to end of file.  <a href="#a0756266956795663e0a73a30fbdb5e06">More...</a><br /></td></tr>
<tr class="separator:a0756266956795663e0a73a30fbdb5e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1018923bc675001796ac81691b511e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a1b1018923bc675001796ac81691b511e">adjust_copy_length</a> (uint32_t &amp;length)</td></tr>
<tr class="memdesc:a1b1018923bc675001796ac81691b511e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust redo copy length to end of file.  <a href="#a1b1018923bc675001796ac81691b511e">More...</a><br /></td></tr>
<tr class="separator:a1b1018923bc675001796ac81691b511e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdcb9d06f913b1f6436ee097e188f489"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#abdcb9d06f913b1f6436ee097e188f489">validate_info_in_files</a> ()</td></tr>
<tr class="memdesc:abdcb9d06f913b1f6436ee097e188f489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the information maintained in the memory is the same as the information maintained in the files.  <a href="#abdcb9d06f913b1f6436ee097e188f489">More...</a><br /></td></tr>
<tr class="separator:abdcb9d06f913b1f6436ee097e188f489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0988df2e808a7e9647a7be8dec71b484"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a0988df2e808a7e9647a7be8dec71b484">get_file_count</a> () const</td></tr>
<tr class="memdesc:a0988df2e808a7e9647a7be8dec71b484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total number of archived files belonging to this group.  <a href="#a0988df2e808a7e9647a7be8dec71b484">More...</a><br /></td></tr>
<tr class="separator:a0988df2e808a7e9647a7be8dec71b484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578461fdce0562dea53ea15b9859714e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a578461fdce0562dea53ea15b9859714e">is_referenced</a> () const</td></tr>
<tr class="memdesc:a578461fdce0562dea53ea15b9859714e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any client (durable or not) is attached to the archiver.  <a href="#a578461fdce0562dea53ea15b9859714e">More...</a><br /></td></tr>
<tr class="separator:a578461fdce0562dea53ea15b9859714e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d5d3d7a8444b620a80b955ad7dd79e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a9d5d3d7a8444b620a80b955ad7dd79e1">is_durable_client_active</a> () const</td></tr>
<tr class="memdesc:a9d5d3d7a8444b620a80b955ad7dd79e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any client requiring durable archiving is active.  <a href="#a9d5d3d7a8444b620a80b955ad7dd79e1">More...</a><br /></td></tr>
<tr class="separator:a9d5d3d7a8444b620a80b955ad7dd79e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb3b73d96b1ea526a841ef3b75cce986"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#afb3b73d96b1ea526a841ef3b75cce986">is_durable</a> () const</td></tr>
<tr class="memdesc:afb3b73d96b1ea526a841ef3b75cce986"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any client requires durable archiving.  <a href="#afb3b73d96b1ea526a841ef3b75cce986">More...</a><br /></td></tr>
<tr class="separator:afb3b73d96b1ea526a841ef3b75cce986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7958a77acc88a4680247898ad89e9838"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a7958a77acc88a4680247898ad89e9838">attach_during_recovery</a> ()</td></tr>
<tr class="memdesc:a7958a77acc88a4680247898ad89e9838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach system client to the archiver during recovery if any group was active at the time of crash.  <a href="#a7958a77acc88a4680247898ad89e9838">More...</a><br /></td></tr>
<tr class="separator:a7958a77acc88a4680247898ad89e9838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a38d3b5452e974b37aca2b1c78a76e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#ac3a38d3b5452e974b37aca2b1c78a76e">purge</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> purge_lsn, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> &amp;purged_lsn)</td></tr>
<tr class="memdesc:ac3a38d3b5452e974b37aca2b1c78a76e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purge archived files until the specified purge LSN.  <a href="#ac3a38d3b5452e974b37aca2b1c78a76e">More...</a><br /></td></tr>
<tr class="separator:ac3a38d3b5452e974b37aca2b1c78a76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9846c67c51f2e01fb9c56c8907a908e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a9846c67c51f2e01fb9c56c8907a908e3">save_reset_point_in_mem</a> (<a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> <a class="el" href="xcom__base_8cc.html#a0ce0765b958f7289d206f0c78bd105c7">lsn</a>, <a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>)</td></tr>
<tr class="memdesc:a9846c67c51f2e01fb9c56c8907a908e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the reset information in the in-memory structure that we maintain for faster access.  <a href="#a9846c67c51f2e01fb9c56c8907a908e3">More...</a><br /></td></tr>
<tr class="separator:a9846c67c51f2e01fb9c56c8907a908e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a542bf7d7037d833d904ca461eef54cba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a542bf7d7037d833d904ca461eef54cba">update_stop_point</a> (<a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> stop_lsn)</td></tr>
<tr class="memdesc:a542bf7d7037d833d904ca461eef54cba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update stop lsn of a file in the group.  <a href="#a542bf7d7037d833d904ca461eef54cba">More...</a><br /></td></tr>
<tr class="separator:a542bf7d7037d833d904ca461eef54cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af946e85cdfd1681cf24385bd948ff63a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#af946e85cdfd1681cf24385bd948ff63a">recover</a> (<a class="el" href="structArch__Recv__Group__Info.html">Arch_Recv_Group_Info</a> *group_info, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &amp;new_empty_file, <a class="el" href="classArch__Dblwr__Ctx.html">Arch_Dblwr_Ctx</a> *dblwr_ctx, <a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> &amp;write_pos, <a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> &amp;reset_pos)</td></tr>
<tr class="memdesc:af946e85cdfd1681cf24385bd948ff63a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recover the information belonging to this group from the archived files.  <a href="#af946e85cdfd1681cf24385bd948ff63a">More...</a><br /></td></tr>
<tr class="separator:af946e85cdfd1681cf24385bd948ff63a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78fcee94af989778725033c537d0917"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#ae78fcee94af989778725033c537d0917">recovery_read_latest_blocks</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buf, uint64_t offset, <a class="el" href="arch0arch_8h.html#a551277d44234942061b1b3d076a53a18">Arch_Blk_Type</a> type)</td></tr>
<tr class="memdesc:ae78fcee94af989778725033c537d0917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the latest data block and reset block.  <a href="#ae78fcee94af989778725033c537d0917">More...</a><br /></td></tr>
<tr class="separator:ae78fcee94af989778725033c537d0917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5145881f32d5583dba3240c5cb37dca4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a5145881f32d5583dba3240c5cb37dca4">recovery_fetch_info</a> (<a class="el" href="structArch__Reset__File.html">Arch_Reset_File</a> &amp;reset_file, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> &amp;stop_lsn)</td></tr>
<tr class="memdesc:a5145881f32d5583dba3240c5cb37dca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the last reset file and last stop point info during recovery.  <a href="#a5145881f32d5583dba3240c5cb37dca4">More...</a><br /></td></tr>
<tr class="separator:a5145881f32d5583dba3240c5cb37dca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4be4c16105566e5b247a74a8e2de52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#afb4be4c16105566e5b247a74a8e2de52">recovery_reset_print</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> file_start_index)</td></tr>
<tr class="memdesc:afb4be4c16105566e5b247a74a8e2de52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print recovery related data.  <a href="#afb4be4c16105566e5b247a74a8e2de52">More...</a><br /></td></tr>
<tr class="separator:afb4be4c16105566e5b247a74a8e2de52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6399fac428ecd98f8c764060ce88eb78"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a6399fac428ecd98f8c764060ce88eb78">read_data</a> (<a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> cur_pos, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buff, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> buff_len)</td></tr>
<tr class="memdesc:a6399fac428ecd98f8c764060ce88eb78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse block for block info (header/data).  <a href="#a6399fac428ecd98f8c764060ce88eb78">More...</a><br /></td></tr>
<tr class="separator:a6399fac428ecd98f8c764060ce88eb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13ff052ebb450d48030b37ad88422f85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a13ff052ebb450d48030b37ad88422f85">get_file_name</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx, char *name_buf, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> buf_len)</td></tr>
<tr class="memdesc:a13ff052ebb450d48030b37ad88422f85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get archived file name at specific index in this group.  <a href="#a13ff052ebb450d48030b37ad88422f85">More...</a><br /></td></tr>
<tr class="separator:a13ff052ebb450d48030b37ad88422f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58522b0281252e9697a052b76208ae6e"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a58522b0281252e9697a052b76208ae6e">get_file_size</a> () const</td></tr>
<tr class="memdesc:a58522b0281252e9697a052b76208ae6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get file size for this group.  <a href="#a58522b0281252e9697a052b76208ae6e">More...</a><br /></td></tr>
<tr class="separator:a58522b0281252e9697a052b76208ae6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5fbab134e944a20236437087f985ba4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#af5fbab134e944a20236437087f985ba4">get_begin_lsn</a> () const</td></tr>
<tr class="memdesc:af5fbab134e944a20236437087f985ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get start LSN for this group.  <a href="#af5fbab134e944a20236437087f985ba4">More...</a><br /></td></tr>
<tr class="separator:af5fbab134e944a20236437087f985ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc232583eb94684172c91c20f1d3c681"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#acc232583eb94684172c91c20f1d3c681">get_end_lsn</a> () const</td></tr>
<tr class="separator:acc232583eb94684172c91c20f1d3c681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d55a1a284e14c2ebd7e3ba5977c6322"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a8d55a1a284e14c2ebd7e3ba5977c6322">get_stop_pos</a> () const</td></tr>
<tr class="separator:a8d55a1a284e14c2ebd7e3ba5977c6322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa7e1f890b84559b050096851bfb569d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#aaa7e1f890b84559b050096851bfb569d">get_status</a> (std::vector&lt; std::pair&lt; <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&gt; &amp;<a class="el" href="mysql_8cc.html#a1025e6cbbd3179d2d91b9b4afb8f8efc">status</a>)</td></tr>
<tr class="memdesc:aaa7e1f890b84559b050096851bfb569d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the status of the page tracking system.  <a href="#aaa7e1f890b84559b050096851bfb569d">More...</a><br /></td></tr>
<tr class="separator:aaa7e1f890b84559b050096851bfb569d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b39caec7f8b18189ccc88b6cc45ed97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a7b39caec7f8b18189ccc88b6cc45ed97">Arch_Group</a> (<a class="el" href="classArch__Group.html">Arch_Group</a> const &amp;)=delete</td></tr>
<tr class="memdesc:a7b39caec7f8b18189ccc88b6cc45ed97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable copy construction.  <a href="#a7b39caec7f8b18189ccc88b6cc45ed97">More...</a><br /></td></tr>
<tr class="separator:a7b39caec7f8b18189ccc88b6cc45ed97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff1e401a51a732eb6bc36f43210c881"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArch__Group.html">Arch_Group</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a2ff1e401a51a732eb6bc36f43210c881">operator=</a> (<a class="el" href="classArch__Group.html">Arch_Group</a> const &amp;)=delete</td></tr>
<tr class="memdesc:a2ff1e401a51a732eb6bc36f43210c881"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable assignment.  <a href="#a2ff1e401a51a732eb6bc36f43210c881">More...</a><br /></td></tr>
<tr class="separator:a2ff1e401a51a732eb6bc36f43210c881"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af23b1e09fd97ef5fd96e97c63e196724"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#af23b1e09fd97ef5fd96e97c63e196724">init_dblwr_file_ctx</a> (const char *<a class="el" href="mysqldump_8cc.html#a38dcf0baefa35c1961c23cf3e06002b5">path</a>, const char *base_file, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> num_files, uint64_t <a class="el" href="mysql__config__editor_8cc.html#a14ba597917108e3c1937893de7c4ac0c">file_size</a>)</td></tr>
<tr class="memdesc:af23b1e09fd97ef5fd96e97c63e196724"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the doublewrite buffer file context for the archive group.  <a href="#af23b1e09fd97ef5fd96e97c63e196724">More...</a><br /></td></tr>
<tr class="separator:af23b1e09fd97ef5fd96e97c63e196724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80804703145d1a0564b2a10de7ba84a7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a80804703145d1a0564b2a10de7ba84a7">write_to_doublewrite_file</a> (<a class="el" href="classArch__File__Ctx.html">Arch_File_Ctx</a> *from_file, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *from_buffer, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> write_size, <a class="el" href="arch0arch_8h.html#a499664a5a0ee93d1bbf1975a67a4ff6f">Arch_Page_Dblwr_Offset</a> offset)</td></tr>
<tr class="memdesc:a80804703145d1a0564b2a10de7ba84a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the doublewrite buffer before writing archived data to a file.  <a href="#a80804703145d1a0564b2a10de7ba84a7">More...</a><br /></td></tr>
<tr class="separator:a80804703145d1a0564b2a10de7ba84a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae405479979d1e6d6d5605e438cebdcb6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#ae405479979d1e6d6d5605e438cebdcb6">shutdown</a> ()</td></tr>
<tr class="memdesc:ae405479979d1e6d6d5605e438cebdcb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operations to be done at the time of shutdown.  <a href="#ae405479979d1e6d6d5605e438cebdcb6">More...</a><br /></td></tr>
<tr class="separator:ae405479979d1e6d6d5605e438cebdcb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a05c607629f027885db5927faf8b507d7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a05c607629f027885db5927faf8b507d7">read_from_file</a> (<a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> *read_pos, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> read_len, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *read_buff)</td></tr>
<tr class="memdesc:a05c607629f027885db5927faf8b507d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get page IDs from archived file.  <a href="#a05c607629f027885db5927faf8b507d7">More...</a><br /></td></tr>
<tr class="separator:a05c607629f027885db5927faf8b507d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcea8fb59c48a7656229e56017229d56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#adcea8fb59c48a7656229e56017229d56">get_dir_name</a> (char *name_buf, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> buf_len)</td></tr>
<tr class="memdesc:adcea8fb59c48a7656229e56017229d56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the directory name for this archive group.  <a href="#adcea8fb59c48a7656229e56017229d56">More...</a><br /></td></tr>
<tr class="separator:adcea8fb59c48a7656229e56017229d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5eb1c73ef92af905778b8ab7916fb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a8b5eb1c73ef92af905778b8ab7916fb8">recovery_replace_pages_from_dblwr</a> (<a class="el" href="classArch__Dblwr__Ctx.html">Arch_Dblwr_Ctx</a> *dblwr_ctx)</td></tr>
<tr class="memdesc:a8b5eb1c73ef92af905778b8ab7916fb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check and replace blocks in archived files belonging to a group from the doublewrite buffer if required.  <a href="#a8b5eb1c73ef92af905778b8ab7916fb8">More...</a><br /></td></tr>
<tr class="separator:a8b5eb1c73ef92af905778b8ab7916fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbdc38e5510cab479de6d25431147bd4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#afbdc38e5510cab479de6d25431147bd4">recovery_cleanup_if_required</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> &amp;num_files, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> start_index, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> durable, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &amp;empty_file)</td></tr>
<tr class="memdesc:afbdc38e5510cab479de6d25431147bd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the last file if there are no blocks flushed to it.  <a href="#afbdc38e5510cab479de6d25431147bd4">More...</a><br /></td></tr>
<tr class="separator:afbdc38e5510cab479de6d25431147bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5010e5cc0e9c8e77483ce162b4a62d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#ae5010e5cc0e9c8e77483ce162b4a62d3">recovery_parse</a> (<a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> &amp;write_pos, <a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> &amp;reset_pos, size_t start_index)</td></tr>
<tr class="memdesc:ae5010e5cc0e9c8e77483ce162b4a62d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start parsing the archive file for archive group information.  <a href="#ae5010e5cc0e9c8e77483ce162b4a62d3">More...</a><br /></td></tr>
<tr class="separator:ae5010e5cc0e9c8e77483ce162b4a62d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa611bf19a58a1f042981f5d530360b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#aaa611bf19a58a1f042981f5d530360b8">open_file_during_recovery</a> (<a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> write_pos, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> empty_file)</td></tr>
<tr class="memdesc:aaa611bf19a58a1f042981f5d530360b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the file which was open at the time of a crash, during crash recovery, and set the file offset to the last written offset.  <a href="#aaa611bf19a58a1f042981f5d530360b8">More...</a><br /></td></tr>
<tr class="separator:aaa611bf19a58a1f042981f5d530360b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aaedf8fedcfc70a6bcdd92f48ef8569d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#aaedf8fedcfc70a6bcdd92f48ef8569d4">m_is_active</a> {<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>}</td></tr>
<tr class="memdesc:aaedf8fedcfc70a6bcdd92f48ef8569d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the group is active.  <a href="#aaedf8fedcfc70a6bcdd92f48ef8569d4">More...</a><br /></td></tr>
<tr class="separator:aaedf8fedcfc70a6bcdd92f48ef8569d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d07f170c99e54cf62bdc0257aca5ab"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a32d07f170c99e54cf62bdc0257aca5ab">m_active_file_name</a> {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td></tr>
<tr class="memdesc:a32d07f170c99e54cf62bdc0257aca5ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">To know which group was active at the time of a crash/shutdown during recovery we create an empty file in the group directory.  <a href="#a32d07f170c99e54cf62bdc0257aca5ab">More...</a><br /></td></tr>
<tr class="separator:a32d07f170c99e54cf62bdc0257aca5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97c666886005d64276db9d057304ac9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpfs__os__file__t.html">pfs_os_file_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a97c666886005d64276db9d057304ac9b">m_active_file</a></td></tr>
<tr class="memdesc:a97c666886005d64276db9d057304ac9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">File descriptor for a file required to indicate that the group was active at the time of crash during recovery .  <a href="#a97c666886005d64276db9d057304ac9b">More...</a><br /></td></tr>
<tr class="separator:a97c666886005d64276db9d057304ac9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1cafd95889d95b2f27968ffa45b02f"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a0d1cafd95889d95b2f27968ffa45b02f">m_durable_file_name</a> {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td></tr>
<tr class="memdesc:a0d1cafd95889d95b2f27968ffa45b02f"><td class="mdescLeft">&#160;</td><td class="mdescRight">File name for the durable file which indicates whether a group was made durable or not.  <a href="#a0d1cafd95889d95b2f27968ffa45b02f">More...</a><br /></td></tr>
<tr class="separator:a0d1cafd95889d95b2f27968ffa45b02f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c4bf90f2a32d504ec2de3e015634eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpfs__os__file__t.html">pfs_os_file_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a53c4bf90f2a32d504ec2de3e015634eb">m_durable_file</a></td></tr>
<tr class="memdesc:a53c4bf90f2a32d504ec2de3e015634eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">File descriptor for a file to indicate that the group was made durable or not.  <a href="#a53c4bf90f2a32d504ec2de3e015634eb">More...</a><br /></td></tr>
<tr class="separator:a53c4bf90f2a32d504ec2de3e015634eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ed890ac4654ce51b9289b229aa1ad1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a01ed890ac4654ce51b9289b229aa1ad1">m_ref_count</a> {}</td></tr>
<tr class="memdesc:a01ed890ac4654ce51b9289b229aa1ad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of clients referencing the group.  <a href="#a01ed890ac4654ce51b9289b229aa1ad1">More...</a><br /></td></tr>
<tr class="separator:a01ed890ac4654ce51b9289b229aa1ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd79aa2708b4bd153d579d37db181328"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#afd79aa2708b4bd153d579d37db181328">m_dur_ref_count</a> {}</td></tr>
<tr class="memdesc:afd79aa2708b4bd153d579d37db181328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of clients referencing for durable archiving.  <a href="#afd79aa2708b4bd153d579d37db181328">More...</a><br /></td></tr>
<tr class="separator:afd79aa2708b4bd153d579d37db181328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c70e7697f5792316f396487ba522a92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a5c70e7697f5792316f396487ba522a92">m_num_active</a> {}</td></tr>
<tr class="memdesc:a5c70e7697f5792316f396487ba522a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of clients for which archiving is in progress.  <a href="#a5c70e7697f5792316f396487ba522a92">More...</a><br /></td></tr>
<tr class="separator:a5c70e7697f5792316f396487ba522a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad750e2ad70456173c23602841e77372"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#aad750e2ad70456173c23602841e77372">m_begin_lsn</a> {<a class="el" href="log0log_8h.html#a6122458191bbf5ee9f1f6e00a56e1501">LSN_MAX</a>}</td></tr>
<tr class="memdesc:aad750e2ad70456173c23602841e77372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start LSN for the archive group.  <a href="#aad750e2ad70456173c23602841e77372">More...</a><br /></td></tr>
<tr class="separator:aad750e2ad70456173c23602841e77372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d9b81f3d326ecbb898b9c723b23eab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#af8d9b81f3d326ecbb898b9c723b23eab">m_end_lsn</a> {<a class="el" href="log0log_8h.html#a6122458191bbf5ee9f1f6e00a56e1501">LSN_MAX</a>}</td></tr>
<tr class="memdesc:af8d9b81f3d326ecbb898b9c723b23eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">End lsn for this archive group.  <a href="#af8d9b81f3d326ecbb898b9c723b23eab">More...</a><br /></td></tr>
<tr class="separator:af8d9b81f3d326ecbb898b9c723b23eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0cb9db263eef0e7d7ee00c2e07d91d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#acb0cb9db263eef0e7d7ee00c2e07d91d">m_stop_pos</a> {}</td></tr>
<tr class="memdesc:acb0cb9db263eef0e7d7ee00c2e07d91d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop position of the group, if it's not active.  <a href="#acb0cb9db263eef0e7d7ee00c2e07d91d">More...</a><br /></td></tr>
<tr class="separator:acb0cb9db263eef0e7d7ee00c2e07d91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902162a3098b6e95e51138dc39b1154e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a902162a3098b6e95e51138dc39b1154e">m_header_len</a> {}</td></tr>
<tr class="memdesc:a902162a3098b6e95e51138dc39b1154e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header length for the archived files.  <a href="#a902162a3098b6e95e51138dc39b1154e">More...</a><br /></td></tr>
<tr class="separator:a902162a3098b6e95e51138dc39b1154e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a277a31857f66211c2c4c7e463a144"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArch__File__Ctx.html">Arch_File_Ctx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a65a277a31857f66211c2c4c7e463a144">m_file_ctx</a></td></tr>
<tr class="memdesc:a65a277a31857f66211c2c4c7e463a144"><td class="mdescLeft">&#160;</td><td class="mdescRight">Archive file context.  <a href="#a65a277a31857f66211c2c4c7e463a144">More...</a><br /></td></tr>
<tr class="separator:a65a277a31857f66211c2c4c7e463a144"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d08caf93c8641e38e0198746fb4766"><td class="memItemLeft" align="right" valign="top">ib_mutex_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#a92d08caf93c8641e38e0198746fb4766">m_arch_mutex</a></td></tr>
<tr class="memdesc:a92d08caf93c8641e38e0198746fb4766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex protecting concurrent operations by multiple clients.  <a href="#a92d08caf93c8641e38e0198746fb4766">More...</a><br /></td></tr>
<tr class="separator:a92d08caf93c8641e38e0198746fb4766"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aa94556775b376f80d09c221d8084c505"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classArch__File__Ctx.html">Arch_File_Ctx</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArch__Group.html#aa94556775b376f80d09c221d8084c505">s_dblwr_file_ctx</a></td></tr>
<tr class="memdesc:aa94556775b376f80d09c221d8084c505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Doublewrite buffer file context.  <a href="#aa94556775b376f80d09c221d8084c505">More...</a><br /></td></tr>
<tr class="separator:aa94556775b376f80d09c221d8084c505"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contiguous archived data for redo log or page tracking. </p>
<p>If there is a gap, that is if archiving is stopped and started, a new group is created. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac17bfc55339b9dc424b8c9acc68228ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17bfc55339b9dc424b8c9acc68228ad">&#9670;&nbsp;</a></span>Arch_Group() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Arch_Group::Arch_Group </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>start_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>header_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_mutex_t *&#160;</td>
          <td class="paramname"><em>mutex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor: Initialize members. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">start_lsn</td><td>start LSN for the group </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">header_len</td><td>length of header for archived files </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mutex</td><td>archive system mutex from caller </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a69046f09c4a53f55d8858ba5a391e6cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69046f09c4a53f55d8858ba5a391e6cf">&#9670;&nbsp;</a></span>~Arch_Group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Arch_Group::~Arch_Group </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor: Delete all files for non-durable archiving. </p>

</div>
</div>
<a id="a7b39caec7f8b18189ccc88b6cc45ed97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b39caec7f8b18189ccc88b6cc45ed97">&#9670;&nbsp;</a></span>Arch_Group() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Arch_Group::Arch_Group </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArch__Group.html">Arch_Group</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable copy construction. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1b1018923bc675001796ac81691b511e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1018923bc675001796ac81691b511e">&#9670;&nbsp;</a></span>adjust_copy_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::adjust_copy_length </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust redo copy length to end of file. </p>
<p>This is used in debug mode to archive only till end of file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">length</td><td>data to copy in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0756266956795663e0a73a30fbdb5e06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0756266956795663e0a73a30fbdb5e06">&#9670;&nbsp;</a></span>adjust_end_lsn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::adjust_end_lsn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> &amp;&#160;</td>
          <td class="paramname"><em>stop_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>blk_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust end LSN to end of file. </p>
<p>This is used in debug mode to test the case when LSN is at file boundary. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">stop_lsn</td><td>stop lsn for client </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">blk_len</td><td>last block length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aabf498dc92ad566a28e368443fae151c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf498dc92ad566a28e368443fae151c">&#9670;&nbsp;</a></span>attach()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_durable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attach a client to the archive group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">is_durable</td><td>true, if durable tracking is requested </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7958a77acc88a4680247898ad89e9838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7958a77acc88a4680247898ad89e9838">&#9670;&nbsp;</a></span>attach_during_recovery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::attach_during_recovery </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Attach system client to the archiver during recovery if any group was active at the time of crash. </p>

</div>
</div>
<a id="a64ae5c55a731efa82100ab647341bbed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64ae5c55a731efa82100ab647341bbed">&#9670;&nbsp;</a></span>build_active_file_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::build_active_file_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct file name for the active file which indicates whether a group is active or not. </p>
<dl class="section note"><dt>Note</dt><dd>Used only by the page archiver. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="af266b9274cb91a93feba96efe47b8efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af266b9274cb91a93feba96efe47b8efb">&#9670;&nbsp;</a></span>build_durable_file_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::build_durable_file_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct file name for the durable file which indicates whether a group was made durable or not. </p>
<dl class="section note"><dt>Note</dt><dd>Used only by the page archiver. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a869fbe9fb146d1b29b8c0259a422bc85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a869fbe9fb146d1b29b8c0259a422bc85">&#9670;&nbsp;</a></span>close_file_ctxs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::close_file_ctxs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a772977e71226744b5d6dc0dc5db18e97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772977e71226744b5d6dc0dc5db18e97">&#9670;&nbsp;</a></span>detach()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Arch_Group::detach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>stop_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> *&#160;</td>
          <td class="paramname"><em>stop_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Detach a client when archiving is stopped by the client. </p>
<p>The client still has reference to the group so that the group is not destroyed when it retrieves the archived data. The reference is removed later by Arch_Group::release. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stop_lsn</td><td>archive stop lsn for client </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stop_pos</td><td>archive stop position for client. Used only by the page_archiver. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of active clients </dd></dl>

</div>
</div>
<a id="ae70260021e8ce0e7de9dd444e4daa08f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae70260021e8ce0e7de9dd444e4daa08f">&#9670;&nbsp;</a></span>disable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>end_lsn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark archive group inactive. </p>
<p>A group is marked inactive by archiver background before entering into idle state ARCH_STATE_IDLE. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">end_lsn</td><td>lsn where redo archiving is stopped </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a58e8d25eb544f116c09c121751adc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a58e8d25eb544f116c09c121751adc0">&#9670;&nbsp;</a></span>find_reset_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Arch_Group::find_reset_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>check_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArch__Point.html">Arch_Point</a> &amp;&#160;</td>
          <td class="paramname"><em>reset_point</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the appropriate reset LSN that is less than or equal to the given lsn and fetch the reset point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">check_lsn</td><td>LSN to be searched against </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reset_point</td><td>reset position of the fetched reset point </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the search was successful. </dd></dl>

</div>
</div>
<a id="a9fe9fe88963ceb859cfe036a78476518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe9fe88963ceb859cfe036a78476518">&#9670;&nbsp;</a></span>find_stop_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Arch_Group::find_stop_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>check_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArch__Point.html">Arch_Point</a> &amp;&#160;</td>
          <td class="paramname"><em>stop_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a>&#160;</td>
          <td class="paramname"><em>write_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the first stop LSN that is greater than the given LSN and fetch the stop point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">check_lsn</td><td>LSN to be searched against </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stop_point</td><td>stop point </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">write_pos</td><td>latest write_pos </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the search was successful. </dd></dl>

</div>
</div>
<a id="af5fbab134e944a20236437087f985ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5fbab134e944a20236437087f985ba4">&#9670;&nbsp;</a></span>get_begin_lsn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> Arch_Group::get_begin_lsn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get start LSN for this group. </p>
<dl class="section return"><dt>Returns</dt><dd>start LSN </dd></dl>

</div>
</div>
<a id="adcea8fb59c48a7656229e56017229d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcea8fb59c48a7656229e56017229d56">&#9670;&nbsp;</a></span>get_dir_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::get_dir_name </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the directory name for this archive group. </p>
<p>It is used for cleaning up the archive directory. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">name_buf</td><td>directory name and path. Caller must allocate the buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_len</td><td>buffer length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc232583eb94684172c91c20f1d3c681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc232583eb94684172c91c20f1d3c681">&#9670;&nbsp;</a></span>get_end_lsn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> Arch_Group::get_end_lsn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>stop LSN for this group </dd></dl>

</div>
</div>
<a id="a0988df2e808a7e9647a7be8dec71b484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0988df2e808a7e9647a7be8dec71b484">&#9670;&nbsp;</a></span>get_file_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Arch_Group::get_file_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the total number of archived files belonging to this group. </p>
<dl class="section return"><dt>Returns</dt><dd>number of archived files </dd></dl>

</div>
</div>
<a id="a13ff052ebb450d48030b37ad88422f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13ff052ebb450d48030b37ad88422f85">&#9670;&nbsp;</a></span>get_file_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::get_file_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get archived file name at specific index in this group. </p>
<p>Caller would use it to open and copy data from archived files. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">idx</td><td>file index in the group </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">name_buf</td><td>file name and path. Caller must allocate the buffer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_len</td><td>allocated buffer length </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a58522b0281252e9697a052b76208ae6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58522b0281252e9697a052b76208ae6e">&#9670;&nbsp;</a></span>get_file_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t Arch_Group::get_file_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get file size for this group. </p>
<p>Fixed size files are used for archiving data in a group. </p><dl class="section return"><dt>Returns</dt><dd>file size in bytes </dd></dl>

</div>
</div>
<a id="aaa7e1f890b84559b050096851bfb569d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa7e1f890b84559b050096851bfb569d">&#9670;&nbsp;</a></span>get_status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::get_status </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::pair&lt; <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the status of the page tracking system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>vector of a pair of (ID, bool) where ID is the start/stop point and bool is true if the ID is a start point else false </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8d55a1a284e14c2ebd7e3ba5977c6322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d55a1a284e14c2ebd7e3ba5977c6322">&#9670;&nbsp;</a></span>get_stop_pos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> Arch_Group::get_stop_pos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>stop block position of the group. </dd></dl>

</div>
</div>
<a id="af23b1e09fd97ef5fd96e97c63e196724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af23b1e09fd97ef5fd96e97c63e196724">&#9670;&nbsp;</a></span>init_dblwr_file_ctx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::init_dblwr_file_ctx </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>num_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>file_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the doublewrite buffer file context for the archive group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>path to the file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base_file</td><td>file name prefix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_files</td><td>initial number of files </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_size</td><td>file size in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a648a2db2e54bddb3a82d5277e9654c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a648a2db2e54bddb3a82d5277e9654c7b">&#9670;&nbsp;</a></span>init_file_ctx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::init_file_ctx </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>base_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>num_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>file_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the file context for the archive group. </p>
<p>File context keeps the archived data in files on disk. There is one file context for a archive group. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>path to the file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base_dir</td><td>directory name prefix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base_file</td><td>file name prefix </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_files</td><td>initial number of files </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_size</td><td>file size in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a2d4ad77baf2ba55e16c7ef2e2c1eefd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d4ad77baf2ba55e16c7ef2e2c1eefd8">&#9670;&nbsp;</a></span>is_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Arch_Group::is_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if archiving is going on for this group. </p>
<dl class="section return"><dt>Returns</dt><dd>true, if the group is active </dd></dl>

</div>
</div>
<a id="afb3b73d96b1ea526a841ef3b75cce986"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb3b73d96b1ea526a841ef3b75cce986">&#9670;&nbsp;</a></span>is_durable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Arch_Group::is_durable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if any client requires durable archiving. </p>
<dl class="section return"><dt>Returns</dt><dd>true if there is at least 1 client that requires durable archiving </dd></dl>

</div>
</div>
<a id="a9d5d3d7a8444b620a80b955ad7dd79e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5d3d7a8444b620a80b955ad7dd79e1">&#9670;&nbsp;</a></span>is_durable_client_active()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Arch_Group::is_durable_client_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if any client requiring durable archiving is active. </p>
<dl class="section return"><dt>Returns</dt><dd>true if any durable client is still attached, else false </dd></dl>

</div>
</div>
<a id="a578461fdce0562dea53ea15b9859714e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a578461fdce0562dea53ea15b9859714e">&#9670;&nbsp;</a></span>is_referenced()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Arch_Group::is_referenced </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if any client (durable or not) is attached to the archiver. </p>
<dl class="section return"><dt>Returns</dt><dd>true if any client is attached, else false </dd></dl>

</div>
</div>
<a id="a43f6a90b49220dc485c930ad0388160f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f6a90b49220dc485c930ad0388160f">&#9670;&nbsp;</a></span>mark_active()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Arch_Group::mark_active </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the group active by creating a file in the respective group directory. </p>
<p>This is required at the time of recovery to know whether a group was active or not in case of a crash. </p><dl class="section note"><dt>Note</dt><dd>Used only by the page archiver. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a1a65bfc2ed38be14fa1689c539234260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a65bfc2ed38be14fa1689c539234260">&#9670;&nbsp;</a></span>mark_durable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Arch_Group::mark_durable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the group durable by creating a file in the respective group directory. </p>
<p>This is required at the time of recovery to differentiate durable group from group left over by crash during clone operation. </p><dl class="section note"><dt>Note</dt><dd>Used only by the page archiver. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="af60514561c1af32dbcb2cc023dcf2d6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af60514561c1af32dbcb2cc023dcf2d6d">&#9670;&nbsp;</a></span>mark_inactive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Arch_Group::mark_inactive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark the group inactive by deleting the 'active' file. </p>
<p>This is required at the time of crash recovery to know whether a group was active or not in case of a crash. </p><dl class="section note"><dt>Note</dt><dd>Used only by the page archiver. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="aaa611bf19a58a1f042981f5d530360b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa611bf19a58a1f042981f5d530360b8">&#9670;&nbsp;</a></span>open_file_during_recovery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::open_file_during_recovery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a>&#160;</td>
          <td class="paramname"><em>write_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>empty_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open the file which was open at the time of a crash, during crash recovery, and set the file offset to the last written offset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">write_pos</td><td>block position from where page IDs will be tracked </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">empty_file</td><td>true if an empty archived file was present at the time of crash. We delete this file as part of crash recovery process so this needs to be handled here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a2ff1e401a51a732eb6bc36f43210c881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff1e401a51a732eb6bc36f43210c881">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArch__Group.html">Arch_Group</a>&amp; Arch_Group::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArch__Group.html">Arch_Group</a> const &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable assignment. </p>

</div>
</div>
<a id="ac3a38d3b5452e974b37aca2b1c78a76e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3a38d3b5452e974b37aca2b1c78a76e">&#9670;&nbsp;</a></span>purge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Arch_Group::purge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>purge_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> &amp;&#160;</td>
          <td class="paramname"><em>purged_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Purge archived files until the specified purge LSN. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">purge_lsn</td><td>LSN until which archived files needs to be purged </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">purged_lsn</td><td>LSN until which purging is successfule; LSN_MAX if there was no purging done </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>
<p>For a group (active or non-active) if there are any non-durable clients attached then we don't purge the group at all. </p>

</div>
</div>
<a id="a6399fac428ecd98f8c764060ce88eb78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6399fac428ecd98f8c764060ce88eb78">&#9670;&nbsp;</a></span>read_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Arch_Group::read_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a>&#160;</td>
          <td class="paramname"><em>cur_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>buff_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse block for block info (header/data). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cur_pos</td><td>position to read </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buff</td><td>buffer into which to write the parsed data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buff_len</td><td>length of the buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="a05c607629f027885db5927faf8b507d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05c607629f027885db5927faf8b507d7">&#9670;&nbsp;</a></span>read_from_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Arch_Group::read_from_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> *&#160;</td>
          <td class="paramname"><em>read_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>read_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>read_buff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get page IDs from archived file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">read_pos</td><td>position to read from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_len</td><td>length of data to read </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_buff</td><td>buffer to read page IDs </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="af946e85cdfd1681cf24385bd948ff63a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af946e85cdfd1681cf24385bd948ff63a">&#9670;&nbsp;</a></span>recover()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::recover </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structArch__Recv__Group__Info.html">Arch_Recv_Group_Info</a> *&#160;</td>
          <td class="paramname"><em>group_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &amp;&#160;</td>
          <td class="paramname"><em>new_empty_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classArch__Dblwr__Ctx.html">Arch_Dblwr_Ctx</a> *&#160;</td>
          <td class="paramname"><em>dblwr_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> &amp;&#160;</td>
          <td class="paramname"><em>write_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> &amp;&#160;</td>
          <td class="paramname"><em>reset_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recover the information belonging to this group from the archived files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">group_info</td><td>structure containing information of a group obtained during recovery by scanning files </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">new_empty_file</td><td>true if there is/was an empty archived file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dblwr_ctx</td><td>file context related to doublewrite buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">write_pos</td><td>latest write position at the time of crash /shutdown that needs to be filled </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reset_pos</td><td>latest reset position at the time crash /shutdown that needs to be filled </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="afbdc38e5510cab479de6d25431147bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbdc38e5510cab479de6d25431147bd4">&#9670;&nbsp;</a></span>recovery_cleanup_if_required()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::recovery_cleanup_if_required </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> &amp;&#160;</td>
          <td class="paramname"><em>num_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>start_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>durable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &amp;&#160;</td>
          <td class="paramname"><em>empty_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the last file if there are no blocks flushed to it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">num_files</td><td>number of files present in the group </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_index</td><td>file index from where the files are present If this is not 0 then the files with file index less that this might have been purged. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">durable</td><td>true if the group is durable </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">empty_file</td><td>true if there is/was an empty archived file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code. </dd></dl>

</div>
</div>
<a id="a5145881f32d5583dba3240c5cb37dca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5145881f32d5583dba3240c5cb37dca4">&#9670;&nbsp;</a></span>recovery_fetch_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::recovery_fetch_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structArch__Reset__File.html">Arch_Reset_File</a> &amp;&#160;</td>
          <td class="paramname"><em>reset_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> &amp;&#160;</td>
          <td class="paramname"><em>stop_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetch the last reset file and last stop point info during recovery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">reset_file</td><td>last reset file to be updated </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">stop_lsn</td><td>last stop lsn to be updated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae5010e5cc0e9c8e77483ce162b4a62d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5010e5cc0e9c8e77483ce162b4a62d3">&#9670;&nbsp;</a></span>recovery_parse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::recovery_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> &amp;&#160;</td>
          <td class="paramname"><em>write_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> &amp;&#160;</td>
          <td class="paramname"><em>reset_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>start_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start parsing the archive file for archive group information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">write_pos</td><td>latest write position at the time of crash /shutdown that needs to be filled </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reset_pos</td><td>latest reset position at the time crash /shutdown that needs to be filled </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_index</td><td>file index from where the files are present If this is not 0 then the files with file index less that this might have been purged. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="ae78fcee94af989778725033c537d0917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae78fcee94af989778725033c537d0917">&#9670;&nbsp;</a></span>recovery_read_latest_blocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::recovery_read_latest_blocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arch0arch_8h.html#a551277d44234942061b1b3d076a53a18">Arch_Blk_Type</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the latest data block and reset block. </p>
<p>This would be required in case of active group to start page archiving after recovery, and in case of inactive group to fetch stop lsn. So we perform this operation regardless of whether it's an active or inactive group. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer to read the blocks into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>offset from where to read </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>block type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="a8b5eb1c73ef92af905778b8ab7916fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b5eb1c73ef92af905778b8ab7916fb8">&#9670;&nbsp;</a></span>recovery_replace_pages_from_dblwr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::recovery_replace_pages_from_dblwr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArch__Dblwr__Ctx.html">Arch_Dblwr_Ctx</a> *&#160;</td>
          <td class="paramname"><em>dblwr_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check and replace blocks in archived files belonging to a group from the doublewrite buffer if required. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dblwr_ctx</td><td>Doublewrite context which has the doublewrite buffer blocks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="afb4be4c16105566e5b247a74a8e2de52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4be4c16105566e5b247a74a8e2de52">&#9670;&nbsp;</a></span>recovery_reset_print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::recovery_reset_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>file_start_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print recovery related data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_start_index</td><td>file index from where to begin </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9f60fbb988fece41d748a8f08e936ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f60fbb988fece41d748a8f08e936ab3">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_durable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release the archive group from a client. </p>
<p>Reduce the reference count. When all clients release the group, the reference count falls down to zero. The function would then return zero and the caller can remove the group. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">is_durable</td><td>the client needs durable archiving </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9846c67c51f2e01fb9c56c8907a908e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9846c67c51f2e01fb9c56c8907a908e3">&#9670;&nbsp;</a></span>save_reset_point_in_mem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::save_reset_point_in_mem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a>&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the reset information in the in-memory structure that we maintain for faster access. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lsn</td><td>lsn at the time of reset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>pos at the time of reset </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the reset point was saved </td></tr>
    <tr><td class="paramname">false</td><td>if the reset point wasn't saved because it was already saved </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae405479979d1e6d6d5605e438cebdcb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae405479979d1e6d6d5605e438cebdcb6">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void Arch_Group::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Operations to be done at the time of shutdown. </p>

</div>
</div>
<a id="a542bf7d7037d833d904ca461eef54cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a542bf7d7037d833d904ca461eef54cba">&#9670;&nbsp;</a></span>update_stop_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Arch_Group::update_stop_point </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a>&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>stop_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update stop lsn of a file in the group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>stop position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stop_lsn</td><td>stop point </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abdcb9d06f913b1f6436ee097e188f489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdcb9d06f913b1f6436ee097e188f489">&#9670;&nbsp;</a></span>validate_info_in_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Arch_Group::validate_info_in_files </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the information maintained in the memory is the same as the information maintained in the files. </p>
<dl class="section return"><dt>Returns</dt><dd>true if both sets of information are the same </dd></dl>

</div>
</div>
<a id="aa86d81e6f33920fbbfdff9894a82f4c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa86d81e6f33920fbbfdff9894a82f4c4">&#9670;&nbsp;</a></span>write_file_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::write_file_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>from_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the header (RESET page) to an archived file. </p>
<dl class="section note"><dt>Note</dt><dd>Used only by the Page Archiver and not by the Redo Log Archiver. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">from_buffer</td><td>buffer to copy data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>size of data to copy in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Used only by the Page Archiver. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="a80804703145d1a0564b2a10de7ba84a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80804703145d1a0564b2a10de7ba84a7">&#9670;&nbsp;</a></span>write_to_doublewrite_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::write_to_doublewrite_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArch__File__Ctx.html">Arch_File_Ctx</a> *&#160;</td>
          <td class="paramname"><em>from_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>from_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>write_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="arch0arch_8h.html#a499664a5a0ee93d1bbf1975a67a4ff6f">Arch_Page_Dblwr_Offset</a>&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write to the doublewrite buffer before writing archived data to a file. </p>
<p>The source is either a file context or buffer. Caller must ensure that data is in single file in source file context. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">from_file</td><td>file context to copy data from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_buffer</td><td>buffer to copy data or NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">write_size</td><td>size of data to write in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>offset from where to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Used only by the Page Archiver. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<a id="ab8ca776c93f817c7f69101c93f7fa644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ca776c93f817c7f69101c93f7fa644">&#9670;&nbsp;</a></span>write_to_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Arch_Group::write_to_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArch__File__Ctx.html">Arch_File_Ctx</a> *&#160;</td>
          <td class="paramname"><em>from_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>from_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>partial_write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>do_persist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Archive data to one or more files. </p>
<p>The source is either a file context or buffer. Caller must ensure that data is in single file in source file context. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">from_file</td><td>file context to copy data from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_buffer</td><td>buffer to copy data or NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>size of data to copy in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">partial_write</td><td>true if the operation is part of partial flush </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">do_persist</td><td>doublewrite to ensure persistence </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a97c666886005d64276db9d057304ac9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97c666886005d64276db9d057304ac9b">&#9670;&nbsp;</a></span>m_active_file</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpfs__os__file__t.html">pfs_os_file_t</a> Arch_Group::m_active_file</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File descriptor for a file required to indicate that the group was active at the time of crash during recovery . </p>

</div>
</div>
<a id="a32d07f170c99e54cf62bdc0257aca5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d07f170c99e54cf62bdc0257aca5ab">&#9670;&nbsp;</a></span>m_active_file_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Arch_Group::m_active_file_name {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To know which group was active at the time of a crash/shutdown during recovery we create an empty file in the group directory. </p>
<p>This holds the name of the file. </p>

</div>
</div>
<a id="a92d08caf93c8641e38e0198746fb4766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d08caf93c8641e38e0198746fb4766">&#9670;&nbsp;</a></span>m_arch_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ib_mutex_t* Arch_Group::m_arch_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex protecting concurrent operations by multiple clients. </p>
<p>This is either the redo log or page archive system mutex. Currently used for assert checks. </p>

</div>
</div>
<a id="aad750e2ad70456173c23602841e77372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad750e2ad70456173c23602841e77372">&#9670;&nbsp;</a></span>m_begin_lsn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> Arch_Group::m_begin_lsn {<a class="el" href="log0log_8h.html#a6122458191bbf5ee9f1f6e00a56e1501">LSN_MAX</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start LSN for the archive group. </p>

</div>
</div>
<a id="afd79aa2708b4bd153d579d37db181328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd79aa2708b4bd153d579d37db181328">&#9670;&nbsp;</a></span>m_dur_ref_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Arch_Group::m_dur_ref_count {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of clients referencing for durable archiving. </p>

</div>
</div>
<a id="a53c4bf90f2a32d504ec2de3e015634eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c4bf90f2a32d504ec2de3e015634eb">&#9670;&nbsp;</a></span>m_durable_file</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpfs__os__file__t.html">pfs_os_file_t</a> Arch_Group::m_durable_file</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File descriptor for a file to indicate that the group was made durable or not. </p>
<p>Required to differentiate durable group from group left over by crash during clone operation. </p>

</div>
</div>
<a id="a0d1cafd95889d95b2f27968ffa45b02f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d1cafd95889d95b2f27968ffa45b02f">&#9670;&nbsp;</a></span>m_durable_file_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Arch_Group::m_durable_file_name {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File name for the durable file which indicates whether a group was made durable or not. </p>
<p>Required to differentiate durable group from group left over by crash during clone operation. </p>

</div>
</div>
<a id="af8d9b81f3d326ecbb898b9c723b23eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8d9b81f3d326ecbb898b9c723b23eab">&#9670;&nbsp;</a></span>m_end_lsn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> Arch_Group::m_end_lsn {<a class="el" href="log0log_8h.html#a6122458191bbf5ee9f1f6e00a56e1501">LSN_MAX</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>End lsn for this archive group. </p>

</div>
</div>
<a id="a65a277a31857f66211c2c4c7e463a144"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a277a31857f66211c2c4c7e463a144">&#9670;&nbsp;</a></span>m_file_ctx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArch__File__Ctx.html">Arch_File_Ctx</a> Arch_Group::m_file_ctx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Archive file context. </p>

</div>
</div>
<a id="a902162a3098b6e95e51138dc39b1154e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902162a3098b6e95e51138dc39b1154e">&#9670;&nbsp;</a></span>m_header_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Arch_Group::m_header_len {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Header length for the archived files. </p>

</div>
</div>
<a id="aaedf8fedcfc70a6bcdd92f48ef8569d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaedf8fedcfc70a6bcdd92f48ef8569d4">&#9670;&nbsp;</a></span>m_is_active</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Arch_Group::m_is_active {<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the group is active. </p>

</div>
</div>
<a id="a5c70e7697f5792316f396487ba522a92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c70e7697f5792316f396487ba522a92">&#9670;&nbsp;</a></span>m_num_active</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Arch_Group::m_num_active {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of clients for which archiving is in progress. </p>

</div>
</div>
<a id="a01ed890ac4654ce51b9289b229aa1ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ed890ac4654ce51b9289b229aa1ad1">&#9670;&nbsp;</a></span>m_ref_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Arch_Group::m_ref_count {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of clients referencing the group. </p>

</div>
</div>
<a id="acb0cb9db263eef0e7d7ee00c2e07d91d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb0cb9db263eef0e7d7ee00c2e07d91d">&#9670;&nbsp;</a></span>m_stop_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structArch__Page__Pos.html">Arch_Page_Pos</a> Arch_Group::m_stop_pos {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop position of the group, if it's not active. </p>

</div>
</div>
<a id="aa94556775b376f80d09c221d8084c505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa94556775b376f80d09c221d8084c505">&#9670;&nbsp;</a></span>s_dblwr_file_ctx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArch__File__Ctx.html">Arch_File_Ctx</a> Arch_Group::s_dblwr_file_ctx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Doublewrite buffer file context. </p>
<p>Note - Used only in the case of page archiver. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>storage/innobase/include/<a class="el" href="arch0arch_8h_source.html">arch0arch.h</a></li>
<li>storage/innobase/arch/<a class="el" href="arch0arch_8cc.html">arch0arch.cc</a></li>
<li>storage/innobase/arch/<a class="el" href="arch0log_8cc.html">arch0log.cc</a></li>
<li>storage/innobase/arch/<a class="el" href="arch0page_8cc.html">arch0page.cc</a></li>
<li>storage/innobase/arch/<a class="el" href="arch0recv_8cc.html">arch0recv.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classArch__Group.html">Arch_Group</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
