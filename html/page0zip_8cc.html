<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/page/page0zip.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page0zip_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">page0zip.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Compressed page interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="page0zip_8h_source.html">page0zip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0size_8h_source.html">page0size.h</a>&quot;</code><br />
<code>#include &lt;zlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="btr0cur_8h_source.html">btr0cur.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0dict_8h_source.html">dict0dict.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0recv_8h_source.html">log0recv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtr0log_8h_source.html">mtr0log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0page_8h_source.html">page0page.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0types_8h_source.html">page0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0sea_8h_source.html">btr0sea.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0buf_8h_source.html">buf0buf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0lru_8h_source.html">buf0lru.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0boot_8h_source.html">dict0boot.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock0lock_8h_source.html">lock0lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0mon_8h_source.html">srv0mon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0srv_8h_source.html">srv0srv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0crc32_8h_source.html">ut0crc32.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8175d6be93b5fcbb87cea304a42b0255"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a8175d6be93b5fcbb87cea304a42b0255">ASSERT_ZERO</a>(b,  s)</td></tr>
<tr class="memdesc:a8175d6be93b5fcbb87cea304a42b0255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that a block of memory is filled with zero bytes.  <a href="#a8175d6be93b5fcbb87cea304a42b0255">More...</a><br /></td></tr>
<tr class="separator:a8175d6be93b5fcbb87cea304a42b0255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad542e4e3584140b2d5004ef38d5cdb37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#ad542e4e3584140b2d5004ef38d5cdb37">ASSERT_ZERO_BLOB</a>(b)&#160;&#160;&#160;<a class="el" href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a>(!memcmp(b, <a class="el" href="page0zip_8cc.html#ae29a72610f136f92c97d23f955ee368f">field_ref_zero</a>, sizeof <a class="el" href="page0zip_8cc.html#ae29a72610f136f92c97d23f955ee368f">field_ref_zero</a>))</td></tr>
<tr class="memdesc:ad542e4e3584140b2d5004ef38d5cdb37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that a BLOB pointer is filled with zero bytes.  <a href="#ad542e4e3584140b2d5004ef38d5cdb37">More...</a><br /></td></tr>
<tr class="separator:ad542e4e3584140b2d5004ef38d5cdb37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d4a274f3bd9d0059d94a4501b4afdc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#ab1d4a274f3bd9d0059d94a4501b4afdc">page_zip_dir_start_low</a>(page_zip,  n_dense)&#160;&#160;&#160;((page_zip)-&gt;data + page_zip_dir_start_offs(page_zip, n_dense))</td></tr>
<tr class="memdesc:ab1d4a274f3bd9d0059d94a4501b4afdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the compressed page trailer (the dense page directory), including deleted records (the free list).  <a href="#ab1d4a274f3bd9d0059d94a4501b4afdc">More...</a><br /></td></tr>
<tr class="separator:ab1d4a274f3bd9d0059d94a4501b4afdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918934b4045dc229439a2112df64da19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a918934b4045dc229439a2112df64da19">page_zip_dir_start</a>(page_zip)&#160;&#160;&#160;<a class="el" href="page0zip_8cc.html#ab1d4a274f3bd9d0059d94a4501b4afdc">page_zip_dir_start_low</a>(page_zip, page_zip_dir_elems(page_zip))</td></tr>
<tr class="memdesc:a918934b4045dc229439a2112df64da19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a pointer to the compressed page trailer (the dense page directory), including deleted records (the free list).  <a href="#a918934b4045dc229439a2112df64da19">More...</a><br /></td></tr>
<tr class="separator:a918934b4045dc229439a2112df64da19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfbb2890789989dee91cc29af9ad9c22"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#acfbb2890789989dee91cc29af9ad9c22">PAGE_ZIP_COMPRESS_DBG</a></td></tr>
<tr class="memdesc:acfbb2890789989dee91cc29af9ad9c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Symbol for enabling compression and decompression diagnostics.  <a href="#acfbb2890789989dee91cc29af9ad9c22">More...</a><br /></td></tr>
<tr class="separator:acfbb2890789989dee91cc29af9ad9c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0329e7e0d129126c4eadc70c74d900ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a0329e7e0d129126c4eadc70c74d900ce">deflate</a>(strm,  <a class="el" href="suite__stubs_8h.html#aae477e2a5594b8ee2d1e3b58f01c2374">flush</a>)&#160;&#160;&#160;<a class="el" href="page0zip_8cc.html#a5a7ccc865ef0de3936e1795a4aff6478">page_zip_compress_deflate</a>(logfile, strm, <a class="el" href="suite__stubs_8h.html#aae477e2a5594b8ee2d1e3b58f01c2374">flush</a>)</td></tr>
<tr class="memdesc:a0329e7e0d129126c4eadc70c74d900ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug wrapper for the zlib compression routine deflate().  <a href="#a0329e7e0d129126c4eadc70c74d900ce">More...</a><br /></td></tr>
<tr class="separator:a0329e7e0d129126c4eadc70c74d900ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af676d90106c2910827562a313f5399d6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a>&#160;&#160;&#160;FILE *logfile,</td></tr>
<tr class="memdesc:af676d90106c2910827562a313f5399d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declaration of the logfile parameter.  <a href="#af676d90106c2910827562a313f5399d6">More...</a><br /></td></tr>
<tr class="separator:af676d90106c2910827562a313f5399d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3fef197146b932f5ad01fce683a66b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a6d3fef197146b932f5ad01fce683a66b">LOGFILE</a>&#160;&#160;&#160;logfile,</td></tr>
<tr class="memdesc:a6d3fef197146b932f5ad01fce683a66b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logfile parameter.  <a href="#a6d3fef197146b932f5ad01fce683a66b">More...</a><br /></td></tr>
<tr class="separator:a6d3fef197146b932f5ad01fce683a66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9309c4facb2f158164c3298dd8ede083"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a9309c4facb2f158164c3298dd8ede083">page_zip_empty_size</a> (ulint n_fields, ulint zip_size)</td></tr>
<tr class="memdesc:a9309c4facb2f158164c3298dd8ede083"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the guaranteed free space on an empty page.  <a href="#a9309c4facb2f158164c3298dd8ede083">More...</a><br /></td></tr>
<tr class="separator:a9309c4facb2f158164c3298dd8ede083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0ce0146de6b874e1c8e97f3214d13a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#aac0ce0146de6b874e1c8e97f3214d13a">page_zip_is_too_big</a> (const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *<a class="el" href="completion__hash_8h.html#aea3abbd5a90d07f8abee93d6c28bce9a">entry</a>)</td></tr>
<tr class="memdesc:aac0ce0146de6b874e1c8e97f3214d13a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a tuple is too big for compressed table.  <a href="#aac0ce0146de6b874e1c8e97f3214d13a">More...</a><br /></td></tr>
<tr class="separator:aac0ce0146de6b874e1c8e97f3214d13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb72db5004326fcf3006cfbef033aa88"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#acb72db5004326fcf3006cfbef033aa88">page_zip_dir_find</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, ulint offset)</td></tr>
<tr class="memdesc:acb72db5004326fcf3006cfbef033aa88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the slot of the given non-free record in the dense page directory.  <a href="#acb72db5004326fcf3006cfbef033aa88">More...</a><br /></td></tr>
<tr class="separator:acb72db5004326fcf3006cfbef033aa88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93e2941b0cead612c7c549769f0013fd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a93e2941b0cead612c7c549769f0013fd">page_zip_compress_write_log</a> (const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a93e2941b0cead612c7c549769f0013fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a log record of compressing an index page.  <a href="#a93e2941b0cead612c7c549769f0013fd">More...</a><br /></td></tr>
<tr class="separator:a93e2941b0cead612c7c549769f0013fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b0fcd1993a033070fb0c85bdb182f37"><td class="memItemLeft" align="right" valign="top">static ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a4b0fcd1993a033070fb0c85bdb182f37">page_zip_get_n_prev_extern</a> (const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>)</td></tr>
<tr class="memdesc:a4b0fcd1993a033070fb0c85bdb182f37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine how many externally stored columns are contained in existing records with smaller heap_no than rec.  <a href="#a4b0fcd1993a033070fb0c85bdb182f37">More...</a><br /></td></tr>
<tr class="separator:a4b0fcd1993a033070fb0c85bdb182f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d75b7122e5a2fe8579d3bb0680fc40"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#aa8d75b7122e5a2fe8579d3bb0680fc40">page_zip_fixed_field_encode</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buf, ulint val)</td></tr>
<tr class="memdesc:aa8d75b7122e5a2fe8579d3bb0680fc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encode the length of a fixed-length column.  <a href="#aa8d75b7122e5a2fe8579d3bb0680fc40">More...</a><br /></td></tr>
<tr class="separator:aa8d75b7122e5a2fe8579d3bb0680fc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84960401a9acd1d93597a01f4ff046bd"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a84960401a9acd1d93597a01f4ff046bd">page_zip_fields_encode</a> (ulint <a class="el" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, ulint trx_id_pos, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buf)</td></tr>
<tr class="memdesc:a84960401a9acd1d93597a01f4ff046bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the index information for the compressed page.  <a href="#a84960401a9acd1d93597a01f4ff046bd">More...</a><br /></td></tr>
<tr class="separator:a84960401a9acd1d93597a01f4ff046bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea9f986ad6a05b9847a02bd9e52e71d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a0ea9f986ad6a05b9847a02bd9e52e71d">page_zip_dir_encode</a> (const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buf, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> **recs)</td></tr>
<tr class="memdesc:a0ea9f986ad6a05b9847a02bd9e52e71d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate the dense page directory from the sparse directory.  <a href="#a0ea9f986ad6a05b9847a02bd9e52e71d">More...</a><br /></td></tr>
<tr class="separator:a0ea9f986ad6a05b9847a02bd9e52e71d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7ccc865ef0de3936e1795a4aff6478"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a5a7ccc865ef0de3936e1795a4aff6478">page_zip_compress_deflate</a> (FILE *logfile, z_streamp strm, int <a class="el" href="suite__stubs_8h.html#aae477e2a5594b8ee2d1e3b58f01c2374">flush</a>)</td></tr>
<tr class="memdesc:a5a7ccc865ef0de3936e1795a4aff6478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper for deflate().  <a href="#a5a7ccc865ef0de3936e1795a4aff6478">More...</a><br /></td></tr>
<tr class="separator:a5a7ccc865ef0de3936e1795a4aff6478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a664a4d99e0e58bc5f9b1c3e26b6a1cc3"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a664a4d99e0e58bc5f9b1c3e26b6a1cc3">page_zip_compress_node_ptrs</a> (<a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a> z_stream *c_stream, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> **recs, ulint n_dense, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *storage, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap)</td></tr>
<tr class="memdesc:a664a4d99e0e58bc5f9b1c3e26b6a1cc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress the records of a node pointer page.  <a href="#a664a4d99e0e58bc5f9b1c3e26b6a1cc3">More...</a><br /></td></tr>
<tr class="separator:a664a4d99e0e58bc5f9b1c3e26b6a1cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8aad3d6235b73532aca4c57ea6bae22"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#ac8aad3d6235b73532aca4c57ea6bae22">page_zip_compress_sec</a> (<a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a> z_stream *c_stream, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> **recs, ulint n_dense)</td></tr>
<tr class="memdesc:ac8aad3d6235b73532aca4c57ea6bae22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress the records of a leaf node of a secondary index.  <a href="#ac8aad3d6235b73532aca4c57ea6bae22">More...</a><br /></td></tr>
<tr class="separator:ac8aad3d6235b73532aca4c57ea6bae22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af7a3796ac8d960fd1efe4ef97f0c06"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a5af7a3796ac8d960fd1efe4ef97f0c06">page_zip_compress_clust_ext</a> (<a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a> z_stream *c_stream, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, const ulint *offsets, ulint trx_id_col, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *deleted, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *storage, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> **externs, ulint *n_blobs)</td></tr>
<tr class="memdesc:a5af7a3796ac8d960fd1efe4ef97f0c06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress a record of a leaf node of a clustered index that contains externally stored columns.  <a href="#a5af7a3796ac8d960fd1efe4ef97f0c06">More...</a><br /></td></tr>
<tr class="separator:a5af7a3796ac8d960fd1efe4ef97f0c06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5546de9c1e1c5331906db775c953dd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#add5546de9c1e1c5331906db775c953dd">page_zip_compress_clust</a> (<a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a> z_stream *c_stream, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> **recs, ulint n_dense, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, ulint *n_blobs, ulint trx_id_col, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *deleted, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *storage, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap)</td></tr>
<tr class="memdesc:add5546de9c1e1c5331906db775c953dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress the records of a leaf node of a clustered index.  <a href="#add5546de9c1e1c5331906db775c953dd">More...</a><br /></td></tr>
<tr class="separator:add5546de9c1e1c5331906db775c953dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57d226ffb3d508fe195a876feb72c61"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#ac57d226ffb3d508fe195a876feb72c61">page_zip_compress</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, ulint level, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:ac57d226ffb3d508fe195a876feb72c61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress a page.  <a href="#ac57d226ffb3d508fe195a876feb72c61">More...</a><br /></td></tr>
<tr class="separator:ac57d226ffb3d508fe195a876feb72c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9589a0d4f77b6976d0ea6793e712f7"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#aff9589a0d4f77b6976d0ea6793e712f7">page_zip_decompress</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, ibool <a class="el" href="xcom__transport_8cc.html#a2ca19ac59047f1b932b7737dac46b7b8">all</a>)</td></tr>
<tr class="memdesc:aff9589a0d4f77b6976d0ea6793e712f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decompress a page.  <a href="#aff9589a0d4f77b6976d0ea6793e712f7">More...</a><br /></td></tr>
<tr class="separator:aff9589a0d4f77b6976d0ea6793e712f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06498ad32dcbc1b1140ae220df903559"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a06498ad32dcbc1b1140ae220df903559">page_zip_header_cmp</a> (const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>)</td></tr>
<tr class="memdesc:a06498ad32dcbc1b1140ae220df903559"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert that the compressed and decompressed page headers match.  <a href="#a06498ad32dcbc1b1140ae220df903559">More...</a><br /></td></tr>
<tr class="separator:a06498ad32dcbc1b1140ae220df903559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdde445da40b5ce8cb06ebc36739c915"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#abdde445da40b5ce8cb06ebc36739c915">page_zip_write_rec_ext</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const ulint *offsets, ulint create, ulint trx_id_col, ulint heap_no, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *storage, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *data)</td></tr>
<tr class="memdesc:abdde445da40b5ce8cb06ebc36739c915"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a record on the compressed page that contains externally stored columns.  <a href="#abdde445da40b5ce8cb06ebc36739c915">More...</a><br /></td></tr>
<tr class="separator:abdde445da40b5ce8cb06ebc36739c915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd56029c47910da062e02459c2808bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#afdd56029c47910da062e02459c2808bb">page_zip_write_rec</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const ulint *offsets, ulint create)</td></tr>
<tr class="memdesc:afdd56029c47910da062e02459c2808bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an entire record on the compressed page.  <a href="#afdd56029c47910da062e02459c2808bb">More...</a><br /></td></tr>
<tr class="separator:afdd56029c47910da062e02459c2808bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95985f5b6ffb9e8398235f203cab59ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a95985f5b6ffb9e8398235f203cab59ef">page_zip_parse_write_blob_ptr</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a95985f5b6ffb9e8398235f203cab59ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of writing a BLOB pointer of a record.  <a href="#a95985f5b6ffb9e8398235f203cab59ef">More...</a><br /></td></tr>
<tr class="separator:a95985f5b6ffb9e8398235f203cab59ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48404683423cb65c4270a2ec293ee6e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a48404683423cb65c4270a2ec293ee6e5">page_zip_write_blob_ptr</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const ulint *offsets, ulint <a class="el" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a48404683423cb65c4270a2ec293ee6e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a BLOB pointer of a record on the leaf page of a clustered index.  <a href="#a48404683423cb65c4270a2ec293ee6e5">More...</a><br /></td></tr>
<tr class="separator:a48404683423cb65c4270a2ec293ee6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a495bed46ce6693b76767cadcb54e8262"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a495bed46ce6693b76767cadcb54e8262">page_zip_parse_write_node_ptr</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a495bed46ce6693b76767cadcb54e8262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of writing the node pointer of a record.  <a href="#a495bed46ce6693b76767cadcb54e8262">More...</a><br /></td></tr>
<tr class="separator:a495bed46ce6693b76767cadcb54e8262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad0066cc8c62f823f938eb3dc4e920b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a8ad0066cc8c62f823f938eb3dc4e920b">page_zip_write_node_ptr</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, ulint size, ulint ptr, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a8ad0066cc8c62f823f938eb3dc4e920b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the node pointer of a record on a non-leaf compressed page.  <a href="#a8ad0066cc8c62f823f938eb3dc4e920b">More...</a><br /></td></tr>
<tr class="separator:a8ad0066cc8c62f823f938eb3dc4e920b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31557e6cbb54295e371a3c4058273d20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a31557e6cbb54295e371a3c4058273d20">page_zip_write_trx_id_and_roll_ptr</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const ulint *offsets, ulint trx_id_col, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id, <a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> roll_ptr)</td></tr>
<tr class="memdesc:a31557e6cbb54295e371a3c4058273d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the trx_id and roll_ptr of a record on a B-tree leaf node page.  <a href="#a31557e6cbb54295e371a3c4058273d20">More...</a><br /></td></tr>
<tr class="separator:a31557e6cbb54295e371a3c4058273d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc510488025a7007e924e8dffcd53200"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#acc510488025a7007e924e8dffcd53200">page_zip_clear_rec</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const ulint *offsets)</td></tr>
<tr class="memdesc:acc510488025a7007e924e8dffcd53200"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear an area on the uncompressed and compressed page.  <a href="#acc510488025a7007e924e8dffcd53200">More...</a><br /></td></tr>
<tr class="separator:acc510488025a7007e924e8dffcd53200"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99124a810c91d67bc291512be3508ece"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a99124a810c91d67bc291512be3508ece">page_zip_rec_set_deleted</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, ulint <a class="el" href="hp__test2_8cc.html#a49fd07a69e183ac48c658336ad8bbb27">flag</a>)</td></tr>
<tr class="memdesc:a99124a810c91d67bc291512be3508ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the "deleted" flag of a record on a compressed page.  <a href="#a99124a810c91d67bc291512be3508ece">More...</a><br /></td></tr>
<tr class="separator:a99124a810c91d67bc291512be3508ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac1cf704492fb8ad23e167b36b880d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a0ac1cf704492fb8ad23e167b36b880d8">page_zip_rec_set_owned</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, ulint <a class="el" href="hp__test2_8cc.html#a49fd07a69e183ac48c658336ad8bbb27">flag</a>)</td></tr>
<tr class="memdesc:a0ac1cf704492fb8ad23e167b36b880d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the "owned" flag of a record on a compressed page.  <a href="#a0ac1cf704492fb8ad23e167b36b880d8">More...</a><br /></td></tr>
<tr class="separator:a0ac1cf704492fb8ad23e167b36b880d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6193c59b0b845661a6119f991690da3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#af6193c59b0b845661a6119f991690da3">page_zip_dir_insert</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *prev_rec, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *free_rec, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec)</td></tr>
<tr class="memdesc:af6193c59b0b845661a6119f991690da3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a record to the dense page directory.  <a href="#af6193c59b0b845661a6119f991690da3">More...</a><br /></td></tr>
<tr class="separator:af6193c59b0b845661a6119f991690da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6b26aad6173acf9d541e796f16c351"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a1d6b26aad6173acf9d541e796f16c351">page_zip_dir_delete</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const ulint *offsets, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="lexyy_8cc.html#ab2d959f7fd0a704078b7e2d78a4d116d">free</a>)</td></tr>
<tr class="memdesc:a1d6b26aad6173acf9d541e796f16c351"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift the dense page directory and the array of BLOB pointers when a record is deleted.  <a href="#a1d6b26aad6173acf9d541e796f16c351">More...</a><br /></td></tr>
<tr class="separator:a1d6b26aad6173acf9d541e796f16c351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11c1e70e86f29b0eb1a340d97f9d9ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#ab11c1e70e86f29b0eb1a340d97f9d9ab">page_zip_dir_add_slot</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_clustered)</td></tr>
<tr class="memdesc:ab11c1e70e86f29b0eb1a340d97f9d9ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a slot to the dense page directory.  <a href="#ab11c1e70e86f29b0eb1a340d97f9d9ab">More...</a><br /></td></tr>
<tr class="separator:ab11c1e70e86f29b0eb1a340d97f9d9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5b83ce7e507fd509f424c4fac08b1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a8b5b83ce7e507fd509f424c4fac08b1f">page_zip_parse_write_header</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a8b5b83ce7e507fd509f424c4fac08b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of writing to the header of a page.  <a href="#a8b5b83ce7e507fd509f424c4fac08b1f">More...</a><br /></td></tr>
<tr class="separator:a8b5b83ce7e507fd509f424c4fac08b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6273a0ce1af3413db06629915a2c992c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a6273a0ce1af3413db06629915a2c992c">page_zip_write_header_log</a> (const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *data, ulint length, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a6273a0ce1af3413db06629915a2c992c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a log record of writing to the uncompressed header portion of a page.  <a href="#a6273a0ce1af3413db06629915a2c992c">More...</a><br /></td></tr>
<tr class="separator:a6273a0ce1af3413db06629915a2c992c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f66871aaaaecfb3ad28752e50d84f46"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a5f66871aaaaecfb3ad28752e50d84f46">page_zip_reorganize</a> (<a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a5f66871aaaaecfb3ad28752e50d84f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reorganize and compress a page.  <a href="#a5f66871aaaaecfb3ad28752e50d84f46">More...</a><br /></td></tr>
<tr class="separator:a5f66871aaaaecfb3ad28752e50d84f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e204099bc0ede1e6ca7d8dc1874fa18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a9e204099bc0ede1e6ca7d8dc1874fa18">page_zip_copy_recs</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *src_zip, const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *src, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a9e204099bc0ede1e6ca7d8dc1874fa18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the records of a page byte for byte.  <a href="#a9e204099bc0ede1e6ca7d8dc1874fa18">More...</a><br /></td></tr>
<tr class="separator:a9e204099bc0ede1e6ca7d8dc1874fa18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189cc0dd20d83efa4e521e2d85e656ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a189cc0dd20d83efa4e521e2d85e656ce">page_zip_parse_compress</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a189cc0dd20d83efa4e521e2d85e656ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of compressing an index page.  <a href="#a189cc0dd20d83efa4e521e2d85e656ce">More...</a><br /></td></tr>
<tr class="separator:a189cc0dd20d83efa4e521e2d85e656ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae29a72610f136f92c97d23f955ee368f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#ae29a72610f136f92c97d23f955ee368f">field_ref_zero</a> [<a class="el" href="page0size_8h.html#a58c9400e64f49f7a0e2d066c10050ddd">FIELD_REF_SIZE</a>]</td></tr>
<tr class="memdesc:ae29a72610f136f92c97d23f955ee368f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A BLOB field reference full of zero, for use in assertions and tests.  <a href="#ae29a72610f136f92c97d23f955ee368f">More...</a><br /></td></tr>
<tr class="separator:ae29a72610f136f92c97d23f955ee368f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0430004e6b831bf96225615a010122bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpage__zip__stat__t.html">page_zip_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#a0430004e6b831bf96225615a010122bb">page_zip_stat</a> [<a class="el" href="page0types_8h.html#abafca45baefc76a04e46a3a12e243cc9">PAGE_ZIP_SSIZE_MAX</a>]</td></tr>
<tr class="memdesc:a0430004e6b831bf96225615a010122bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statistics on compression, indexed by page_zip_des_t::ssize - 1.  <a href="#a0430004e6b831bf96225615a010122bb">More...</a><br /></td></tr>
<tr class="separator:a0430004e6b831bf96225615a010122bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ab94d2bf3c6d9bb3e9a7cec9420c7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="page0types_8h.html#a437accad703bb7e8320bc031b512b01d">page_zip_stat_per_index_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#af7ab94d2bf3c6d9bb3e9a7cec9420c7d">page_zip_stat_per_index</a></td></tr>
<tr class="memdesc:af7ab94d2bf3c6d9bb3e9a7cec9420c7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statistics on compression, indexed by index-&gt;id.  <a href="#af7ab94d2bf3c6d9bb3e9a7cec9420c7d">More...</a><br /></td></tr>
<tr class="separator:af7ab94d2bf3c6d9bb3e9a7cec9420c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea66c6883a243a29d44f8945ad9dabc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#aeea66c6883a243a29d44f8945ad9dabc">page_zip_level</a> = <a class="el" href="page0zip_8h.html#a84baa186e3925a5c3ac0ff54e339e40c">DEFAULT_COMPRESSION_LEVEL</a></td></tr>
<tr class="memdesc:aeea66c6883a243a29d44f8945ad9dabc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Zip compression level.  <a href="#aeea66c6883a243a29d44f8945ad9dabc">More...</a><br /></td></tr>
<tr class="separator:aeea66c6883a243a29d44f8945ad9dabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ad4905c0fb7b2bafc809881da51935"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#af8ad4905c0fb7b2bafc809881da51935">page_zip_log_pages</a> = <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td></tr>
<tr class="separator:af8ad4905c0fb7b2bafc809881da51935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f26ed0c8044f4852a445ec2abda0a7"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#af4f26ed0c8044f4852a445ec2abda0a7">page_zip_compress_dbg</a></td></tr>
<tr class="memdesc:af4f26ed0c8044f4852a445ec2abda0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set this variable in a debugger to enable excessive logging in page_zip_compress().  <a href="#af4f26ed0c8044f4852a445ec2abda0a7">More...</a><br /></td></tr>
<tr class="separator:af4f26ed0c8044f4852a445ec2abda0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac725bd48a87f83cec38074755e413dc1"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8cc.html#ac725bd48a87f83cec38074755e413dc1">page_zip_compress_log</a></td></tr>
<tr class="memdesc:ac725bd48a87f83cec38074755e413dc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set this variable in a debugger to enable binary logging of the data passed to deflate().  <a href="#ac725bd48a87f83cec38074755e413dc1">More...</a><br /></td></tr>
<tr class="separator:ac725bd48a87f83cec38074755e413dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Compressed page interface. </p>
<p>Created June 2005 by Marko Makela </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8175d6be93b5fcbb87cea304a42b0255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8175d6be93b5fcbb87cea304a42b0255">&#9670;&nbsp;</a></span>ASSERT_ZERO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_ZERO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">s&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a>(!memcmp(b, <a class="code" href="page0zip_8cc.html#ae29a72610f136f92c97d23f955ee368f">field_ref_zero</a>, \</div><div class="line">                <a class="code" href="ut0ut_8h.html#aae0896787c8f541ecaa3cdd348009b38">ut_min</a>(static_cast&lt;size_t&gt;(s), <span class="keyword">sizeof</span> <a class="code" href="page0zip_8cc.html#ae29a72610f136f92c97d23f955ee368f">field_ref_zero</a>)));</div><div class="ttc" id="ut0ut_8h_html_aae0896787c8f541ecaa3cdd348009b38"><div class="ttname"><a href="ut0ut_8h.html#aae0896787c8f541ecaa3cdd348009b38">ut_min</a></div><div class="ttdeci">#define ut_min</div><div class="ttdef"><b>Definition:</b> ut0ut.h:151</div></div>
<div class="ttc" id="page0zip_8cc_html_ae29a72610f136f92c97d23f955ee368f"><div class="ttname"><a href="page0zip_8cc.html#ae29a72610f136f92c97d23f955ee368f">field_ref_zero</a></div><div class="ttdeci">const byte field_ref_zero[FIELD_REF_SIZE]</div><div class="ttdoc">A BLOB field reference full of zero, for use in assertions and tests. </div><div class="ttdef"><b>Definition:</b> page0zip.cc:41</div></div>
<div class="ttc" id="ut0dbg_8h_html_a17113dab7f37e298e889ac8818ab13d0"><div class="ttname"><a href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a></div><div class="ttdeci">#define ut_ad(EXPR)</div><div class="ttdoc">Debug assertion. </div><div class="ttdef"><b>Definition:</b> ut0dbg.h:66</div></div>
</div><!-- fragment -->
<p>Assert that a block of memory is filled with zero bytes. </p>
<p>Compare at most sizeof(field_ref_zero) bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>in: memory block </td></tr>
    <tr><td class="paramname">s</td><td>in: size of the memory block, in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad542e4e3584140b2d5004ef38d5cdb37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad542e4e3584140b2d5004ef38d5cdb37">&#9670;&nbsp;</a></span>ASSERT_ZERO_BLOB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_ZERO_BLOB</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a>(!memcmp(b, <a class="el" href="page0zip_8cc.html#ae29a72610f136f92c97d23f955ee368f">field_ref_zero</a>, sizeof <a class="el" href="page0zip_8cc.html#ae29a72610f136f92c97d23f955ee368f">field_ref_zero</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assert that a BLOB pointer is filled with zero bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>in: BLOB pointer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0329e7e0d129126c4eadc70c74d900ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0329e7e0d129126c4eadc70c74d900ce">&#9670;&nbsp;</a></span>deflate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define deflate</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">strm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="suite__stubs_8h.html#aae477e2a5594b8ee2d1e3b58f01c2374">flush</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="page0zip_8cc.html#a5a7ccc865ef0de3936e1795a4aff6478">page_zip_compress_deflate</a>(logfile, strm, <a class="el" href="suite__stubs_8h.html#aae477e2a5594b8ee2d1e3b58f01c2374">flush</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug wrapper for the zlib compression routine deflate(). </p>
<p>Log the operation if page_zip_compress_dbg is set. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">strm</td><td>in/out: compressed stream </td></tr>
    <tr><td class="paramname">flush</td><td>in: flushing method </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>deflate() status: Z_OK, Z_BUF_ERROR, ... </dd></dl>

</div>
</div>
<a id="af676d90106c2910827562a313f5399d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af676d90106c2910827562a313f5399d6">&#9670;&nbsp;</a></span>FILE_LOGFILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILE_LOGFILE&#160;&#160;&#160;FILE *logfile,</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Declaration of the logfile parameter. </p>

</div>
</div>
<a id="a6d3fef197146b932f5ad01fce683a66b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d3fef197146b932f5ad01fce683a66b">&#9670;&nbsp;</a></span>LOGFILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOGFILE&#160;&#160;&#160;logfile,</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The logfile parameter. </p>

</div>
</div>
<a id="acfbb2890789989dee91cc29af9ad9c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfbb2890789989dee91cc29af9ad9c22">&#9670;&nbsp;</a></span>PAGE_ZIP_COMPRESS_DBG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ZIP_COMPRESS_DBG</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Symbol for enabling compression and decompression diagnostics. </p>

</div>
</div>
<a id="a918934b4045dc229439a2112df64da19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918934b4045dc229439a2112df64da19">&#9670;&nbsp;</a></span>page_zip_dir_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define page_zip_dir_start</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">page_zip</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="page0zip_8cc.html#ab1d4a274f3bd9d0059d94a4501b4afdc">page_zip_dir_start_low</a>(page_zip, page_zip_dir_elems(page_zip))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a pointer to the compressed page trailer (the dense page directory), including deleted records (the free list). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">page_zip</td><td>compressed page </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the dense page directory </dd></dl>

</div>
</div>
<a id="ab1d4a274f3bd9d0059d94a4501b4afdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1d4a274f3bd9d0059d94a4501b4afdc">&#9670;&nbsp;</a></span>page_zip_dir_start_low</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define page_zip_dir_start_low</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">page_zip, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n_dense&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((page_zip)-&gt;data + page_zip_dir_start_offs(page_zip, n_dense))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a pointer to the compressed page trailer (the dense page directory), including deleted records (the free list). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">page_zip</td><td>compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_dense</td><td>number of entries in the directory </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the dense page directory </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acc510488025a7007e924e8dffcd53200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc510488025a7007e924e8dffcd53200">&#9670;&nbsp;</a></span>page_zip_clear_rec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void page_zip_clear_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear an area on the uncompressed and compressed page. </p>
<p>Do not clear the data payload, as that would grow the modification log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
    <tr><td class="paramname">rec</td><td>in: record to clear </td></tr>
    <tr><td class="paramname">index</td><td>in: index of rec </td></tr>
    <tr><td class="paramname">offsets</td><td>in: rec_get_offsets(rec, index) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac57d226ffb3d508fe195a876feb72c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac57d226ffb3d508fe195a876feb72c61">&#9670;&nbsp;</a></span>page_zip_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool page_zip_compress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compress a page. </p>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure; page_zip will be left intact on failure. </dd></dl>
<p>&lt; index field information</p>
<p>&lt; compressed payload of the page</p>
<p>&lt; dense page directory, sorted by address </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: size; out: data, n_blobs, m_start, m_end, m_nonempty </td></tr>
    <tr><td class="paramname">page</td><td>in: uncompressed page </td></tr>
    <tr><td class="paramname">index</td><td>in: index tree </td></tr>
    <tr><td class="paramname">level</td><td>in: commpression level </td></tr>
    <tr><td class="paramname">mtr</td><td>in/out: mini-transaction, or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add5546de9c1e1c5331906db775c953dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add5546de9c1e1c5331906db775c953dd">&#9670;&nbsp;</a></span>page_zip_compress_clust()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int page_zip_compress_clust </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a> z_stream *&#160;</td>
          <td class="paramname"><em>c_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> **&#160;</td>
          <td class="paramname"><em>recs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_dense</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>n_blobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>trx_id_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>deleted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress the records of a leaf node of a clustered index. </p>
<dl class="section return"><dt>Returns</dt><dd>Z_OK, or a zlib error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c_stream</td><td>in/out: compressed page stream </td></tr>
    <tr><td class="paramname">recs</td><td>in: dense page directory sorted by address </td></tr>
    <tr><td class="paramname">n_dense</td><td>in: size of recs[] </td></tr>
    <tr><td class="paramname">index</td><td>in: the index of the page </td></tr>
    <tr><td class="paramname">n_blobs</td><td>in: 0; out: number of externally stored columns </td></tr>
    <tr><td class="paramname">trx_id_col</td><td>index of the trx_id column </td></tr>
    <tr><td class="paramname">deleted</td><td>in: dense directory entry pointing to the head of the free list </td></tr>
    <tr><td class="paramname">storage</td><td>in: end of dense page directory </td></tr>
    <tr><td class="paramname">heap</td><td>in: temporary memory heap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5af7a3796ac8d960fd1efe4ef97f0c06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af7a3796ac8d960fd1efe4ef97f0c06">&#9670;&nbsp;</a></span>page_zip_compress_clust_ext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int page_zip_compress_clust_ext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a> z_stream *&#160;</td>
          <td class="paramname"><em>c_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>trx_id_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>deleted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> **&#160;</td>
          <td class="paramname"><em>externs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>n_blobs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress a record of a leaf node of a clustered index that contains externally stored columns. </p>
<dl class="section return"><dt>Returns</dt><dd>Z_OK, or a zlib error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c_stream</td><td>in/out: compressed page stream </td></tr>
    <tr><td class="paramname">rec</td><td>in: record </td></tr>
    <tr><td class="paramname">offsets</td><td>in: rec_get_offsets(rec) </td></tr>
    <tr><td class="paramname">trx_id_col</td><td>in: position of of DB_TRX_ID </td></tr>
    <tr><td class="paramname">deleted</td><td>in: dense directory entry pointing to the head of the free list </td></tr>
    <tr><td class="paramname">storage</td><td>in: end of dense page directory </td></tr>
    <tr><td class="paramname">externs</td><td>in/out: pointer to the next available BLOB pointer </td></tr>
    <tr><td class="paramname">n_blobs</td><td>in/out: number of externally stored columns </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a7ccc865ef0de3936e1795a4aff6478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7ccc865ef0de3936e1795a4aff6478">&#9670;&nbsp;</a></span>page_zip_compress_deflate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int page_zip_compress_deflate </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>logfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">z_streamp&#160;</td>
          <td class="paramname"><em>strm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wrapper for deflate(). </p>
<p>Log the operation if page_zip_compress_dbg is set. </p><dl class="section return"><dt>Returns</dt><dd>deflate() status: Z_OK, Z_BUF_ERROR, ... </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">logfile</td><td>in: log file, or NULL </td></tr>
    <tr><td class="paramname">strm</td><td>in/out: compressed stream for deflate() </td></tr>
    <tr><td class="paramname">flush</td><td>in: deflate() flushing method </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a664a4d99e0e58bc5f9b1c3e26b6a1cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a664a4d99e0e58bc5f9b1c3e26b6a1cc3">&#9670;&nbsp;</a></span>page_zip_compress_node_ptrs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int page_zip_compress_node_ptrs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a> z_stream *&#160;</td>
          <td class="paramname"><em>c_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> **&#160;</td>
          <td class="paramname"><em>recs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_dense</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress the records of a node pointer page. </p>
<dl class="section return"><dt>Returns</dt><dd>Z_OK, or a zlib error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c_stream</td><td>in/out: compressed page stream </td></tr>
    <tr><td class="paramname">recs</td><td>in: dense page directory sorted by address </td></tr>
    <tr><td class="paramname">n_dense</td><td>in: size of recs[] </td></tr>
    <tr><td class="paramname">index</td><td>in: the index of the page </td></tr>
    <tr><td class="paramname">storage</td><td>in: end of dense page directory </td></tr>
    <tr><td class="paramname">heap</td><td>in: temporary memory heap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac8aad3d6235b73532aca4c57ea6bae22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8aad3d6235b73532aca4c57ea6bae22">&#9670;&nbsp;</a></span>page_zip_compress_sec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int page_zip_compress_sec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0zip_8cc.html#af676d90106c2910827562a313f5399d6">FILE_LOGFILE</a> z_stream *&#160;</td>
          <td class="paramname"><em>c_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> **&#160;</td>
          <td class="paramname"><em>recs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_dense</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress the records of a leaf node of a secondary index. </p>
<dl class="section return"><dt>Returns</dt><dd>Z_OK, or a zlib error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c_stream</td><td>in/out: compressed page stream </td></tr>
    <tr><td class="paramname">recs</td><td>in: dense page directory sorted by address </td></tr>
    <tr><td class="paramname">n_dense</td><td>in: size of recs[] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a93e2941b0cead612c7c549769f0013fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93e2941b0cead612c7c549769f0013fd">&#9670;&nbsp;</a></span>page_zip_compress_write_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void page_zip_compress_write_log </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a log record of compressing an index page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: compressed page </td></tr>
    <tr><td class="paramname">page</td><td>in: uncompressed page </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the B-tree node </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e204099bc0ede1e6ca7d8dc1874fa18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e204099bc0ede1e6ca7d8dc1874fa18">&#9670;&nbsp;</a></span>page_zip_copy_recs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_copy_recs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>src_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the records of a page byte for byte. </p>
<p>Do not copy the page header or trailer, except those B-tree header fields that are directly related to the storage of records. Also copy PAGE_MAX_TRX_ID. NOTE: The caller must update the lock table and the adaptive hash index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>out: copy of src_zip (n_blobs, m_start, m_end, m_nonempty, data[0..size-1]) </td></tr>
    <tr><td class="paramname">page</td><td>out: copy of src </td></tr>
    <tr><td class="paramname">src_zip</td><td>in: compressed page </td></tr>
    <tr><td class="paramname">src</td><td>in: page </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the B-tree </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff9589a0d4f77b6976d0ea6793e712f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9589a0d4f77b6976d0ea6793e712f7">&#9670;&nbsp;</a></span>page_zip_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool page_zip_decompress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>all</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decompress a page. </p>
<p>This function should tolerate errors on the compressed page. Instead of letting assertions fail, it will return FALSE if an inconsistency is detected. </p><dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: data, ssize; out: m_start, m_end, m_nonempty, n_blobs </td></tr>
    <tr><td class="paramname">page</td><td>out: uncompressed page, may be trashed </td></tr>
    <tr><td class="paramname">all</td><td>in: TRUE=decompress the whole page; FALSE=verify but do not copy some page header fields that should not change after page creation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab11c1e70e86f29b0eb1a340d97f9d9ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab11c1e70e86f29b0eb1a340d97f9d9ab">&#9670;&nbsp;</a></span>page_zip_dir_add_slot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_dir_add_slot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_clustered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a slot to the dense page directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_clustered</td><td>Nonzero for clustered index, zero for others </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1d6b26aad6173acf9d541e796f16c351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6b26aad6173acf9d541e796f16c351">&#9670;&nbsp;</a></span>page_zip_dir_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_dir_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift the dense page directory and the array of BLOB pointers when a record is deleted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>deleted record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>index of rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>rec_get_offsets(rec) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free</td><td>previous start of the free list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ea9f986ad6a05b9847a02bd9e52e71d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ea9f986ad6a05b9847a02bd9e52e71d">&#9670;&nbsp;</a></span>page_zip_dir_encode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void page_zip_dir_encode </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> **&#160;</td>
          <td class="paramname"><em>recs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Populate the dense page directory from the sparse directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page</td><td>in: compact page </td></tr>
    <tr><td class="paramname">buf</td><td>in: pointer to dense page directory[-1]; out: dense directory on compressed page </td></tr>
    <tr><td class="paramname">recs</td><td>in: pointer to an array of 0, or NULL; out: dense page directory sorted by ascending address (and heap_no) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acb72db5004326fcf3006cfbef033aa88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb72db5004326fcf3006cfbef033aa88">&#9670;&nbsp;</a></span>page_zip_dir_find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_dir_find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the slot of the given non-free record in the dense page directory. </p>
<dl class="section return"><dt>Returns</dt><dd>dense directory slot, or NULL if record not found </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: compressed page </td></tr>
    <tr><td class="paramname">offset</td><td>in: offset of user record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6193c59b0b845661a6119f991690da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6193c59b0b845661a6119f991690da3">&#9670;&nbsp;</a></span>page_zip_dir_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_dir_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>prev_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>free_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a record to the dense page directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev_rec</td><td>Record after which to insert </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free_rec</td><td>Record from which rec was allocated, or null </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Record to insert </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9309c4facb2f158164c3298dd8ede083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9309c4facb2f158164c3298dd8ede083">&#9670;&nbsp;</a></span>page_zip_empty_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint page_zip_empty_size </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the guaranteed free space on an empty page. </p>
<dl class="section return"><dt>Returns</dt><dd>minimum payload size on the page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_fields</td><td>in: number of columns in the index </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a84960401a9acd1d93597a01f4ff046bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84960401a9acd1d93597a01f4ff046bd">&#9670;&nbsp;</a></span>page_zip_fields_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint page_zip_fields_encode </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>trx_id_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the index information for the compressed page. </p>
<dl class="section return"><dt>Returns</dt><dd>used size of buf </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>in: number of fields to compress </td></tr>
    <tr><td class="paramname">index</td><td>in: index comprising at least n fields </td></tr>
    <tr><td class="paramname">trx_id_pos</td><td>in: position of the trx_id column in the index, or ULINT_UNDEFINED if this is a non-leaf page </td></tr>
    <tr><td class="paramname">buf</td><td>out: buffer of (n + 1) * 2 bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8d75b7122e5a2fe8579d3bb0680fc40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8d75b7122e5a2fe8579d3bb0680fc40">&#9670;&nbsp;</a></span>page_zip_fixed_field_encode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_fixed_field_encode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encode the length of a fixed-length column. </p>
<dl class="section return"><dt>Returns</dt><dd>buf + length of encoded val </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>in: pointer to buffer where to write </td></tr>
    <tr><td class="paramname">val</td><td>in: value to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4b0fcd1993a033070fb0c85bdb182f37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b0fcd1993a033070fb0c85bdb182f37">&#9670;&nbsp;</a></span>page_zip_get_n_prev_extern()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ulint page_zip_get_n_prev_extern </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine how many externally stored columns are contained in existing records with smaller heap_no than rec. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">page_zip</td><td>Dense page directory on compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Compact physical record on a b-tree leaf page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Record descriptor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a06498ad32dcbc1b1140ae220df903559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06498ad32dcbc1b1140ae220df903559">&#9670;&nbsp;</a></span>page_zip_header_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ibool page_zip_header_cmp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assert that the compressed and decompressed page headers match. </p>
<dl class="section return"><dt>Returns</dt><dd>true </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: compressed page </td></tr>
    <tr><td class="paramname">page</td><td>in: uncompressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac0ce0146de6b874e1c8e97f3214d13a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0ce0146de6b874e1c8e97f3214d13a">&#9670;&nbsp;</a></span>page_zip_is_too_big()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> page_zip_is_too_big </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether a tuple is too big for compressed table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>dict index object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entry</td><td>entry for the index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it's too big, otherwise false </dd></dl>

</div>
</div>
<a id="a189cc0dd20d83efa4e521e2d85e656ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189cc0dd20d83efa4e521e2d85e656ce">&#9670;&nbsp;</a></span>page_zip_parse_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_compress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of compressing an index page. </p>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>out: uncompressed page </td></tr>
    <tr><td class="paramname">page_zip</td><td>out: compressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95985f5b6ffb9e8398235f203cab59ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95985f5b6ffb9e8398235f203cab59ef">&#9670;&nbsp;</a></span>page_zip_parse_write_blob_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_write_blob_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of writing a BLOB pointer of a record. </p>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: redo log buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: redo log buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in/out: uncompressed page </td></tr>
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b5b83ce7e507fd509f424c4fac08b1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b5b83ce7e507fd509f424c4fac08b1f">&#9670;&nbsp;</a></span>page_zip_parse_write_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_write_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of writing to the header of a page. </p>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: redo log buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: redo log buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in/out: uncompressed page </td></tr>
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a495bed46ce6693b76767cadcb54e8262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a495bed46ce6693b76767cadcb54e8262">&#9670;&nbsp;</a></span>page_zip_parse_write_node_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_write_node_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of writing the node pointer of a record. </p>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: redo log buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: redo log buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in/out: uncompressed page </td></tr>
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a99124a810c91d67bc291512be3508ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99124a810c91d67bc291512be3508ece">&#9670;&nbsp;</a></span>page_zip_rec_set_deleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_rec_set_deleted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the "deleted" flag of a record on a compressed page. </p>
<p>The flag must already have been written on the uncompressed page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
    <tr><td class="paramname">rec</td><td>in: record on the uncompressed page </td></tr>
    <tr><td class="paramname">flag</td><td>in: the deleted flag (nonzero=TRUE) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ac1cf704492fb8ad23e167b36b880d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac1cf704492fb8ad23e167b36b880d8">&#9670;&nbsp;</a></span>page_zip_rec_set_owned()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_rec_set_owned </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the "owned" flag of a record on a compressed page. </p>
<p>The n_owned field must already have been written on the uncompressed page. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Record on the uncompressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flag</td><td>The owned flag (nonzero=true) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f66871aaaaecfb3ad28752e50d84f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f66871aaaaecfb3ad28752e50d84f46">&#9670;&nbsp;</a></span>page_zip_reorganize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool page_zip_reorganize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reorganize and compress a page. </p>
<p>This is a low-level operation for compressed pages, to be used when page_zip_compress() fails. On success, a redo log entry MLOG_ZIP_PAGE_COMPRESS will be written. The function btr_page_reorganize() should be preferred whenever possible. IMPORTANT: if page_zip_reorganize() is invoked on a leaf page of a non-clustered index, the caller must update the insert buffer free bits in the same mini-transaction in such a way that the modification will be redo-logged. </p><dl class="section return"><dt>Returns</dt><dd>true on success, false on failure; page_zip will be left intact on failure, but page will be overwritten. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>in/out: page with compressed page; on the compressed page, in: size; out: data, n_blobs, m_start, m_end, m_nonempty </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the B-tree node </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48404683423cb65c4270a2ec293ee6e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48404683423cb65c4270a2ec293ee6e5">&#9670;&nbsp;</a></span>page_zip_write_blob_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_blob_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a BLOB pointer of a record on the leaf page of a clustered index. </p>
<p>The information must already have been updated on the uncompressed page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
    <tr><td class="paramname">rec</td><td>in/out: record whose data is being written </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the page </td></tr>
    <tr><td class="paramname">offsets</td><td>in: rec_get_offsets(rec, index) </td></tr>
    <tr><td class="paramname">n</td><td>in: column index </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mini-transaction handle, or NULL if no logging is needed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6273a0ce1af3413db06629915a2c992c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6273a0ce1af3413db06629915a2c992c">&#9670;&nbsp;</a></span>page_zip_write_header_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_header_log </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a log record of writing to the uncompressed header portion of a page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>in: data on the uncompressed page </td></tr>
    <tr><td class="paramname">length</td><td>in: length of the data </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ad0066cc8c62f823f938eb3dc4e920b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad0066cc8c62f823f938eb3dc4e920b">&#9670;&nbsp;</a></span>page_zip_write_node_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_node_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the node pointer of a record on a non-leaf compressed page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rec</td><td>Record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Data size of rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>Node pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>Mini-transaction, or null </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afdd56029c47910da062e02459c2808bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd56029c47910da062e02459c2808bb">&#9670;&nbsp;</a></span>page_zip_write_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an entire record on the compressed page. </p>
<p>The data must already have been written to the uncompressed page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
    <tr><td class="paramname">rec</td><td>in: record being written </td></tr>
    <tr><td class="paramname">index</td><td>in: the index the record belongs to </td></tr>
    <tr><td class="paramname">offsets</td><td>in: rec_get_offsets(rec, index) </td></tr>
    <tr><td class="paramname">create</td><td>in: nonzero=insert, zero=update </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abdde445da40b5ce8cb06ebc36739c915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdde445da40b5ce8cb06ebc36739c915">&#9670;&nbsp;</a></span>page_zip_write_rec_ext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_write_rec_ext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>create</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>trx_id_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>heap_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a record on the compressed page that contains externally stored columns. </p>
<p>The data must already have been written to the uncompressed page. </p><dl class="section return"><dt>Returns</dt><dd>end of modification log </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
    <tr><td class="paramname">page</td><td>in: page containing rec </td></tr>
    <tr><td class="paramname">rec</td><td>in: record being written </td></tr>
    <tr><td class="paramname">index</td><td>in: record descriptor </td></tr>
    <tr><td class="paramname">offsets</td><td>in: rec_get_offsets(rec, index) </td></tr>
    <tr><td class="paramname">create</td><td>in: nonzero=insert, zero=update </td></tr>
    <tr><td class="paramname">trx_id_col</td><td>in: position of DB_TRX_ID </td></tr>
    <tr><td class="paramname">heap_no</td><td>in: heap number of rec </td></tr>
    <tr><td class="paramname">storage</td><td>in: end of dense page directory </td></tr>
    <tr><td class="paramname">data</td><td>in: end of modification log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a31557e6cbb54295e371a3c4058273d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31557e6cbb54295e371a3c4058273d20">&#9670;&nbsp;</a></span>page_zip_write_trx_id_and_roll_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_trx_id_and_roll_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>trx_id_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a>&#160;</td>
          <td class="paramname"><em>roll_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the trx_id and roll_ptr of a record on a B-tree leaf node page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rec</td><td>Record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>Rec_get_offsets(rec, index) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trx_id_col</td><td>Column number of trx_id in rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trx_id</td><td>Transaction identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">roll_ptr</td><td>Roll_ptr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae29a72610f136f92c97d23f955ee368f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae29a72610f136f92c97d23f955ee368f">&#9670;&nbsp;</a></span>field_ref_zero</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> field_ref_zero[<a class="el" href="page0size_8h.html#a58c9400e64f49f7a0e2d066c10050ddd">FIELD_REF_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,</div><div class="line">}</div></div><!-- fragment -->
<p>A BLOB field reference full of zero, for use in assertions and tests. </p>
<p>A BLOB field reference full of zero, for use in assertions and tests.Initially, BLOB field references are set to zero, in dtuple_convert_big_rec().</p>
<p>Initially, BLOB field references are set to zero, in dtuple_convert_big_rec(). </p>

</div>
</div>
<a id="af4f26ed0c8044f4852a445ec2abda0a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f26ed0c8044f4852a445ec2abda0a7">&#9670;&nbsp;</a></span>page_zip_compress_dbg</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ibool page_zip_compress_dbg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set this variable in a debugger to enable excessive logging in page_zip_compress(). </p>

</div>
</div>
<a id="ac725bd48a87f83cec38074755e413dc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac725bd48a87f83cec38074755e413dc1">&#9670;&nbsp;</a></span>page_zip_compress_log</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned page_zip_compress_log</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set this variable in a debugger to enable binary logging of the data passed to deflate(). </p>
<p>When this variable is nonzero, it will act as a log file name generator. </p>

</div>
</div>
<a id="aeea66c6883a243a29d44f8945ad9dabc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeea66c6883a243a29d44f8945ad9dabc">&#9670;&nbsp;</a></span>page_zip_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> page_zip_level = <a class="el" href="page0zip_8h.html#a84baa186e3925a5c3ac0ff54e339e40c">DEFAULT_COMPRESSION_LEVEL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default Zip compression level. </p>

</div>
</div>
<a id="af8ad4905c0fb7b2bafc809881da51935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ad4905c0fb7b2bafc809881da51935">&#9670;&nbsp;</a></span>page_zip_log_pages</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> page_zip_log_pages = <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0430004e6b831bf96225615a010122bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0430004e6b831bf96225615a010122bb">&#9670;&nbsp;</a></span>page_zip_stat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpage__zip__stat__t.html">page_zip_stat_t</a> page_zip_stat[<a class="el" href="page0types_8h.html#abafca45baefc76a04e46a3a12e243cc9">PAGE_ZIP_SSIZE_MAX</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Statistics on compression, indexed by page_zip_des_t::ssize - 1. </p>

</div>
</div>
<a id="af7ab94d2bf3c6d9bb3e9a7cec9420c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ab94d2bf3c6d9bb3e9a7cec9420c7d">&#9670;&nbsp;</a></span>page_zip_stat_per_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="page0types_8h.html#a437accad703bb7e8320bc031b512b01d">page_zip_stat_per_index_t</a> page_zip_stat_per_index</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Statistics on compression, indexed by index-&gt;id. </p>
<p>Statistics on compression, indexed by dict_index_t::id. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_7bd8f96740b7dc138f256daa629f1e06.html">page</a></li><li class="navelem"><a class="el" href="page0zip_8cc.html">page0zip.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
