<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/item_timefunc.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('item__timefunc_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">item_timefunc.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file defines all time functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="item__timefunc_8h_source.html">sql/item_timefunc.h</a>&quot;</code><br />
<code>#include &quot;my_config.h&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;climits&gt;</code><br />
<code>#include &lt;cstdio&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &quot;<a class="el" href="decimal_8h_source.html">decimal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__string_8h_source.html">m_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__compiler_8h_source.html">my_compiler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__systime_8h_source.html">my_systime.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__com_8h_source.html">mysql_com.h</a>&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="current__thd_8h_source.html">sql/current_thd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="info__schema_2table__stats_8h_source.html">sql/dd/info_schema/table_stats.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="object__id_8h_source.html">sql/dd/object_id.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="derror_8h_source.html">sql/derror.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__decimal_8h_source.html">sql/my_decimal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="parse__tree__node__base_8h_source.html">sql/parse_tree_node_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__class_8h_source.html">sql/sql_class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__error_8h_source.html">sql/sql_error.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__lex_8h_source.html">sql/sql_lex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__locale_8h_source.html">sql/sql_locale.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__time_8h_source.html">sql/sql_time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="strfunc_8h_source.html">sql/strfunc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system__variables_8h_source.html">sql/system_variables.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2table_8h_source.html">sql/table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tztime_8h_source.html">sql/tztime.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="template__utils_8h_source.html">template_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="typelib_8h_source.html">typelib.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad35c7c9b478019ca37dd0ca5e5f4f174"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#ad35c7c9b478019ca37dd0ca5e5f4f174">adjust_time_range_with_warn</a> (<a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="el" href="my__inttypes_8h.html#a33a5e996e7a90acefb8b1c0bea47e365">uint8</a> decimals)</td></tr>
<tr class="memdesc:ad35c7c9b478019ca37dd0ca5e5f4f174"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check and adjust a time value with a warning.  <a href="#ad35c7c9b478019ca37dd0ca5e5f4f174">More...</a><br /></td></tr>
<tr class="separator:ad35c7c9b478019ca37dd0ca5e5f4f174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a5a0062d98cd52649f4d9a4e400ec9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#ac4a5a0062d98cd52649f4d9a4e400ec9">sec_to_time</a> (lldiv_t <a class="el" href="task_8h.html#a541442824a656f9c820631f4b8adf441">seconds</a>, <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)</td></tr>
<tr class="separator:ac4a5a0062d98cd52649f4d9a4e400ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919aa981cbae8179253d4063cc4d42c2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#a919aa981cbae8179253d4063cc4d42c2">extract_date_time</a> (const <a class="el" href="structDate__time__format.html">Date_time_format</a> *format, const char *val, size_t length, <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *l_time, <a class="el" href="mysql__time_8h.html#aa633db8da896a5a0cc00ffcfb7477e73">enum_mysql_timestamp_type</a> cached_timestamp_type, const char **sub_pattern_end, const char *date_time_type)</td></tr>
<tr class="memdesc:a919aa981cbae8179253d4063cc4d42c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract datetime value to MYSQL_TIME struct from string value according to format string.  <a href="#a919aa981cbae8179253d4063cc4d42c2">More...</a><br /></td></tr>
<tr class="separator:a919aa981cbae8179253d4063cc4d42c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ead3ffa32904a658111145ea4d0681"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#a06ead3ffa32904a658111145ea4d0681">make_date_time</a> (<a class="el" href="structDate__time__format.html">Date_time_format</a> *format, <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *l_time, <a class="el" href="mysql__time_8h.html#aa633db8da896a5a0cc00ffcfb7477e73">enum_mysql_timestamp_type</a> type, <a class="el" href="classString.html">String</a> *str)</td></tr>
<tr class="memdesc:a06ead3ffa32904a658111145ea4d0681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a formated date/time value in a string.  <a href="#a06ead3ffa32904a658111145ea4d0681">More...</a><br /></td></tr>
<tr class="separator:a06ead3ffa32904a658111145ea4d0681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af452e66f00265103556c0896c0193ee8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#af452e66f00265103556c0896c0193ee8">get_interval_info</a> (<a class="el" href="classItem.html">Item</a> *args, <a class="el" href="classString.html">String</a> *<a class="el" href="test__status__var__service__unreg__only_8cc.html#a4df9f0843338cac2e855f13a01f88485">str_value</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *is_negative, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> *values, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> transform_msec)</td></tr>
<tr class="separator:af452e66f00265103556c0896c0193ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48991d7689daea303354bdd32e303e30"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#a48991d7689daea303354bdd32e303e30">week_mode</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> mode)</td></tr>
<tr class="separator:a48991d7689daea303354bdd32e303e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3ccde6d4d690b4fe5c04ec45385da3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#af3ccde6d4d690b4fe5c04ec45385da3d">get_interval_value</a> (<a class="el" href="classItem.html">Item</a> *args, <a class="el" href="my__time_8h.html#af377beb7ca9bd4c4d525c8750d9a1da0">interval_type</a> int_type, <a class="el" href="classString.html">String</a> *<a class="el" href="test__status__var__service__unreg__only_8cc.html#a4df9f0843338cac2e855f13a01f88485">str_value</a>, <a class="el" href="structInterval.html">Interval</a> *<a class="el" href="mysqladmin_8cc.html#ae0c690118932b32ef40a74bb6a259acd">interval</a>)</td></tr>
<tr class="memdesc:af3ccde6d4d690b4fe5c04ec45385da3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string to a interval value.  <a href="#af3ccde6d4d690b4fe5c04ec45385da3d">More...</a><br /></td></tr>
<tr class="separator:af3ccde6d4d690b4fe5c04ec45385da3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde873155f1c4eb59a7b507994e7dde7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#adde873155f1c4eb59a7b507994e7dde7">date_should_be_null</a> (<a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> target_type, const <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> &amp;time, <a class="el" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzy_date)</td></tr>
<tr class="memdesc:adde873155f1c4eb59a7b507994e7dde7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether this date should be NULL (and a warning raised) under the given sql_mode.  <a href="#adde873155f1c4eb59a7b507994e7dde7">More...</a><br /></td></tr>
<tr class="separator:adde873155f1c4eb59a7b507994e7dde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a07c7eb138a769d4ed71497783b8632e3"><td class="memItemLeft" align="right" valign="top">static constexpr const <a class="el" href="structKnown__date__time__format.html">Known_date_time_format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#a07c7eb138a769d4ed71497783b8632e3">known_date_time_formats</a> [6]</td></tr>
<tr class="memdesc:a07c7eb138a769d4ed71497783b8632e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of known date_time formats.  <a href="#a07c7eb138a769d4ed71497783b8632e3">More...</a><br /></td></tr>
<tr class="separator:a07c7eb138a769d4ed71497783b8632e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee67a9d80c92eabedde2796e947d7c3"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structDate__time__format.html">Date_time_format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#a6ee67a9d80c92eabedde2796e947d7c3">time_ampm_format</a> = {{0}, {&quot;%I:%i:%S %<a class="el" href="ctype-mb_8cc.html#a6bc6b007533335efe02bafff799ec64c">p</a>&quot;, 11}}</td></tr>
<tr class="separator:a6ee67a9d80c92eabedde2796e947d7c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada531936f88cd3dad8450ae1d7ee9f69"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="structDate__time__format.html">Date_time_format</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#ada531936f88cd3dad8450ae1d7ee9f69">time_24hrs_format</a> = {{0}, {&quot;%H:%i:%S&quot;, 8}}</td></tr>
<tr class="separator:ada531936f88cd3dad8450ae1d7ee9f69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0187a877408c82ba9d8353e2fefb6814"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__timefunc_8cc.html#a0187a877408c82ba9d8353e2fefb6814">interval_names</a> []</td></tr>
<tr class="separator:a0187a877408c82ba9d8353e2fefb6814"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines all time functions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad35c7c9b478019ca37dd0ca5e5f4f174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35c7c9b478019ca37dd0ca5e5f4f174">&#9670;&nbsp;</a></span>adjust_time_range_with_warn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> adjust_time_range_with_warn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *&#160;</td>
          <td class="paramname"><em>ltime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a33a5e996e7a90acefb8b1c0bea47e365">uint8</a>&#160;</td>
          <td class="paramname"><em>decimals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check and adjust a time value with a warning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ltime</td><td>Time variable. </td></tr>
    <tr><td class="paramname">decimals</td><td>Precision. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">True</td><td>on error, false of success. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adde873155f1c4eb59a7b507994e7dde7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde873155f1c4eb59a7b507994e7dde7">&#9670;&nbsp;</a></span>date_should_be_null()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> date_should_be_null </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>target_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> &amp;&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a>&#160;</td>
          <td class="paramname"><em>fuzzy_date</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines whether this date should be NULL (and a warning raised) under the given sql_mode. </p>
<p>Zeroes are allowed in the date if the data type is TIME.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target_type</td><td>The data type of the time/date. </td></tr>
    <tr><td class="paramname">time</td><td>Date and time data </td></tr>
    <tr><td class="paramname">fuzzy_date</td><td>What sql_mode dictates. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the result is valid or NULL. </dd></dl>

</div>
</div>
<a id="a919aa981cbae8179253d4063cc4d42c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a919aa981cbae8179253d4063cc4d42c2">&#9670;&nbsp;</a></span>extract_date_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> extract_date_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structDate__time__format.html">Date_time_format</a> *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *&#160;</td>
          <td class="paramname"><em>l_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mysql__time_8h.html#aa633db8da896a5a0cc00ffcfb7477e73">enum_mysql_timestamp_type</a>&#160;</td>
          <td class="paramname"><em>cached_timestamp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>sub_pattern_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>date_time_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extract datetime value to MYSQL_TIME struct from string value according to format string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>date/time format specification </td></tr>
    <tr><td class="paramname">val</td><td>String to decode </td></tr>
    <tr><td class="paramname">length</td><td>Length of string </td></tr>
    <tr><td class="paramname">l_time</td><td>Store result here </td></tr>
    <tr><td class="paramname">cached_timestamp_type</td><td>It uses to get an appropriate warning in the case when the value is truncated. </td></tr>
    <tr><td class="paramname">sub_pattern_end</td><td>if non-zero then we are parsing string which should correspond compound specifier (like T or r) and this parameter is pointer to place where pointer to end of string matching this specifier should be stored. </td></tr>
    <tr><td class="paramname">date_time_type</td><td>"time" or "datetime", used for the error/warning msg</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Possibility to parse strings matching to patterns equivalent to compound specifiers is mainly intended for use from inside of this function in order to understand T and r conversion specifiers, so number of conversion specifiers that can be used in such sub-patterns is limited. Also most of checks are skipped in this case.</dd>
<dd>
If one adds new format specifiers to this function he should also consider adding them to Item_func_str_to_date::fix_from_format().</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>ok </td></tr>
    <tr><td class="paramname">1</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af452e66f00265103556c0896c0193ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af452e66f00265103556c0896c0193ee8">&#9670;&nbsp;</a></span>get_interval_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> get_interval_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>str_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>is_negative</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> *&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>transform_msec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a array of positive numbers from a string object. Each number is separated by 1 non digit character Return error if there is too many numbers. If there is too few numbers, assume that the numbers are left out from the high end. This allows one to give: DAY_TO_SECOND as "D MM:HH:SS", "MM:HH:SS" "HH:SS" or as seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>item expression which we convert to an ASCII string </td></tr>
    <tr><td class="paramname">str_value</td><td>string buffer </td></tr>
    <tr><td class="paramname">is_negative</td><td>set to true if interval is prefixed by '-' </td></tr>
    <tr><td class="paramname">count</td><td>count of elements in result array </td></tr>
    <tr><td class="paramname">values</td><td>array of results </td></tr>
    <tr><td class="paramname">transform_msec</td><td>if value is true we suppose that the last part of string value is microseconds and we should transform value to six digit value. For example, '1.1' -&gt; '1.100000' </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af3ccde6d4d690b4fe5c04ec45385da3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ccde6d4d690b4fe5c04ec45385da3d">&#9670;&nbsp;</a></span>get_interval_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> get_interval_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__time_8h.html#af377beb7ca9bd4c4d525c8750d9a1da0">interval_type</a>&#160;</td>
          <td class="paramname"><em>int_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>str_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structInterval.html">Interval</a> *&#160;</td>
          <td class="paramname"><em>interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a string to a interval value. </p>
<p>To make code easy, allow interval objects without separators. </p>

</div>
</div>
<a id="a06ead3ffa32904a658111145ea4d0681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ead3ffa32904a658111145ea4d0681">&#9670;&nbsp;</a></span>make_date_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> make_date_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDate__time__format.html">Date_time_format</a> *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *&#160;</td>
          <td class="paramname"><em>l_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mysql__time_8h.html#aa633db8da896a5a0cc00ffcfb7477e73">enum_mysql_timestamp_type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a formated date/time value in a string. </p>

</div>
</div>
<a id="ac4a5a0062d98cd52649f4d9a4e400ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4a5a0062d98cd52649f4d9a4e400ec9">&#9670;&nbsp;</a></span>sec_to_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sec_to_time </td>
          <td>(</td>
          <td class="paramtype">lldiv_t&#160;</td>
          <td class="paramname"><em>seconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *&#160;</td>
          <td class="paramname"><em>ltime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a48991d7689daea303354bdd32e303e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48991d7689daea303354bdd32e303e30">&#9670;&nbsp;</a></span>week_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> week_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0187a877408c82ba9d8353e2fefb6814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0187a877408c82ba9d8353e2fefb6814">&#9670;&nbsp;</a></span>interval_names</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* interval_names[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {<span class="stringliteral">&quot;year&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;quarter&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;month&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;week&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;day&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;hour&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;minute&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;second&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;microsecond&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;year_month&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;day_hour&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;day_minute&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;day_second&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;hour_minute&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;hour_second&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;minute_second&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;day_microsecond&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;hour_microsecond&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;minute_microsecond&quot;</span>,</div><div class="line">                                <span class="stringliteral">&quot;second_microsecond&quot;</span>}</div></div><!-- fragment -->
</div>
</div>
<a id="a07c7eb138a769d4ed71497783b8632e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c7eb138a769d4ed71497783b8632e3">&#9670;&nbsp;</a></span>known_date_time_formats</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const <a class="el" href="structKnown__date__time__format.html">Known_date_time_format</a> known_date_time_formats[6]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    {<span class="stringliteral">&quot;USA&quot;</span>, <span class="stringliteral">&quot;%m.%d.%Y&quot;</span>, <span class="stringliteral">&quot;%Y-%m-%d %H.%i.%s&quot;</span>, <span class="stringliteral">&quot;%h:%i:%s %p&quot;</span>},</div><div class="line">    {<span class="stringliteral">&quot;JIS&quot;</span>, <span class="stringliteral">&quot;%Y-%m-%d&quot;</span>, <span class="stringliteral">&quot;%Y-%m-%d %H:%i:%s&quot;</span>, <span class="stringliteral">&quot;%H:%i:%s&quot;</span>},</div><div class="line">    {<span class="stringliteral">&quot;ISO&quot;</span>, <span class="stringliteral">&quot;%Y-%m-%d&quot;</span>, <span class="stringliteral">&quot;%Y-%m-%d %H:%i:%s&quot;</span>, <span class="stringliteral">&quot;%H:%i:%s&quot;</span>},</div><div class="line">    {<span class="stringliteral">&quot;EUR&quot;</span>, <span class="stringliteral">&quot;%d.%m.%Y&quot;</span>, <span class="stringliteral">&quot;%Y-%m-%d %H.%i.%s&quot;</span>, <span class="stringliteral">&quot;%H.%i.%s&quot;</span>},</div><div class="line">    {<span class="stringliteral">&quot;INTERNAL&quot;</span>, <span class="stringliteral">&quot;%Y%m%d&quot;</span>, <span class="stringliteral">&quot;%Y%m%d%H%i%s&quot;</span>, <span class="stringliteral">&quot;%H%i%s&quot;</span>},</div><div class="line">    {<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>}}</div></div><!-- fragment -->
<p>Array of known date_time formats. </p>

</div>
</div>
<a id="ada531936f88cd3dad8450ae1d7ee9f69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada531936f88cd3dad8450ae1d7ee9f69">&#9670;&nbsp;</a></span>time_24hrs_format</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structDate__time__format.html">Date_time_format</a> time_24hrs_format = {{0}, {&quot;%H:%i:%S&quot;, 8}}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6ee67a9d80c92eabedde2796e947d7c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee67a9d80c92eabedde2796e947d7c3">&#9670;&nbsp;</a></span>time_ampm_format</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structDate__time__format.html">Date_time_format</a> time_ampm_format = {{0}, {&quot;%I:%i:%S %<a class="el" href="ctype-mb_8cc.html#a6bc6b007533335efe02bafff799ec64c">p</a>&quot;, 11}}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="item__timefunc_8cc.html">item_timefunc.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
