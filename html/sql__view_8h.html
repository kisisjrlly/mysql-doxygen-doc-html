<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/sql_view.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sql__view_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sql_view.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="auth__acls_8h_source.html">sql/auth/auth_acls.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem__root__array_8h_source.html">sql/mem_root_array.h</a>&quot;</code><br />
</div>
<p><a href="sql__view_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classList.html">List&lt; T &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmem__root__deque.html">mem_root_deque&lt; Element_type &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A (partial) implementation of std::deque allocating its blocks on a MEM_ROOT.  <a href="classmem__root__deque.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a51e34106c9ccd5a741398a6f3e698a9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a51e34106c9ccd5a741398a6f3e698a9d">VIEW_ANY_ACL</a>&#160;&#160;&#160;(<a class="el" href="auth__acls_8h.html#aade8caa3dad489d79cc71c040b102e37">SELECT_ACL</a> | <a class="el" href="auth__acls_8h.html#a83a5a06a32abe34fab15342e29b7f714">UPDATE_ACL</a> | <a class="el" href="auth__acls_8h.html#a9f495938a50ed8acd8c73464a09e4c07">INSERT_ACL</a> | <a class="el" href="auth__acls_8h.html#a26277737b9c47b4fc3c34750fab64a0f">DELETE_ACL</a>)</td></tr>
<tr class="separator:a51e34106c9ccd5a741398a6f3e698a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a451c6961fe464e9960916ae4eaf591cf"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classMem__root__array__YY.html">Mem_root_array_YY</a>&lt; <a class="el" href="lex__string_8h.html#a01c5da2ec635d24c374ba1a995dbe2aa">LEX_CSTRING</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a451c6961fe464e9960916ae4eaf591cf">Create_col_name_list</a></td></tr>
<tr class="separator:a451c6961fe464e9960916ae4eaf591cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af85ad6b1940ee1bd572c758554ffb94a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#af85ad6b1940ee1bd572c758554ffb94a">create_view_precheck</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *tables, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view, <a class="el" href="group__GROUP__PARSER.html#ga3d35a45e59ca01c71d8f469bb1023aff">enum_view_create_mode</a> mode)</td></tr>
<tr class="memdesc:af85ad6b1940ee1bd572c758554ffb94a"><td class="mdescLeft">&#160;</td><td class="mdescRight">CREATE VIEW privileges pre-check.  <a href="#af85ad6b1940ee1bd572c758554ffb94a">More...</a><br /></td></tr>
<tr class="separator:af85ad6b1940ee1bd572c758554ffb94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3f53b134c69e31df2d20d8aced20de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a9f3f53b134c69e31df2d20d8aced20de">mysql_create_view</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view, <a class="el" href="group__GROUP__PARSER.html#ga3d35a45e59ca01c71d8f469bb1023aff">enum_view_create_mode</a> mode)</td></tr>
<tr class="memdesc:a9f3f53b134c69e31df2d20d8aced20de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creating/altering VIEW procedure.  <a href="#a9f3f53b134c69e31df2d20d8aced20de">More...</a><br /></td></tr>
<tr class="separator:a9f3f53b134c69e31df2d20d8aced20de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328109cadf59c86aa66061030acefeee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a328109cadf59c86aa66061030acefeee">mysql_register_view</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view, <a class="el" href="group__GROUP__PARSER.html#ga3d35a45e59ca01c71d8f469bb1023aff">enum_view_create_mode</a> mode)</td></tr>
<tr class="memdesc:a328109cadf59c86aa66061030acefeee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register view by writing its definition to the data-dictionary.  <a href="#a328109cadf59c86aa66061030acefeee">More...</a><br /></td></tr>
<tr class="separator:a328109cadf59c86aa66061030acefeee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c368caaaa3c071b17c05ba23996c668"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a5c368caaaa3c071b17c05ba23996c668">mysql_drop_view</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view)</td></tr>
<tr class="memdesc:a5c368caaaa3c071b17c05ba23996c668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop view.  <a href="#a5c368caaaa3c071b17c05ba23996c668">More...</a><br /></td></tr>
<tr class="separator:a5c368caaaa3c071b17c05ba23996c668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52cb24ddb6b54c33e7e1fe2399cfb0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#ab52cb24ddb6b54c33e7e1fe2399cfb0c">check_key_in_view</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view, const <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *table_ref)</td></tr>
<tr class="memdesc:ab52cb24ddb6b54c33e7e1fe2399cfb0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">check of key (primary or unique) presence in updatable view  <a href="#ab52cb24ddb6b54c33e7e1fe2399cfb0c">More...</a><br /></td></tr>
<tr class="separator:ab52cb24ddb6b54c33e7e1fe2399cfb0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3459e2171264de1bc89f5ee2042a8a91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a3459e2171264de1bc89f5ee2042a8a91">insert_view_fields</a> (<a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; *<a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">list</a>, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view)</td></tr>
<tr class="separator:a3459e2171264de1bc89f5ee2042a8a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cfdc1b307a18b41ec7a1ae0bbba419"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a34cfdc1b307a18b41ec7a1ae0bbba419">check_duplicate_names</a> (const <a class="el" href="parser__yystype_8h.html#a451c6961fe464e9960916ae4eaf591cf">Create_col_name_list</a> *<a class="el" href="mysql_8cc.html#a190608c5e87274f24a4a17a301c08c75">column_names</a>, const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;item_list, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> gen_unique_view_names)</td></tr>
<tr class="memdesc:a34cfdc1b307a18b41ec7a1ae0bbba419"><td class="mdescLeft">&#160;</td><td class="mdescRight">When creating a derived table, check if duplicate column names are present, and possibly generate unique names instead.  <a href="#a34cfdc1b307a18b41ec7a1ae0bbba419">More...</a><br /></td></tr>
<tr class="separator:a34cfdc1b307a18b41ec7a1ae0bbba419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac477caf9c0d3b43b5bcc80208e756537"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#ac477caf9c0d3b43b5bcc80208e756537">make_valid_column_names</a> (<a class="el" href="structLEX.html">LEX</a> *lex)</td></tr>
<tr class="memdesc:ac477caf9c0d3b43b5bcc80208e756537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if auto generated column names are conforming and possibly generate a conforming name for them if not.  <a href="#ac477caf9c0d3b43b5bcc80208e756537">More...</a><br /></td></tr>
<tr class="separator:ac477caf9c0d3b43b5bcc80208e756537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a6b6810c2d35f6ef04eb898d71c5ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a80a6b6810c2d35f6ef04eb898d71c5ec">open_and_read_view</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *share, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view_ref)</td></tr>
<tr class="memdesc:a80a6b6810c2d35f6ef04eb898d71c5ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open and read a view definition.  <a href="#a80a6b6810c2d35f6ef04eb898d71c5ec">More...</a><br /></td></tr>
<tr class="separator:a80a6b6810c2d35f6ef04eb898d71c5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd3e072b2e8d7ce3bae4fd9776585b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a7cd3e072b2e8d7ce3bae4fd9776585b0">parse_view_definition</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view_ref)</td></tr>
<tr class="memdesc:a7cd3e072b2e8d7ce3bae4fd9776585b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a view definition.  <a href="#a7cd3e072b2e8d7ce3bae4fd9776585b0">More...</a><br /></td></tr>
<tr class="separator:a7cd3e072b2e8d7ce3bae4fd9776585b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00c88abd166254178d4f40a70bf2a089"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__view_8h.html#a00c88abd166254178d4f40a70bf2a089">is_updatable_view</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view)</td></tr>
<tr class="separator:a00c88abd166254178d4f40a70bf2a089"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a51e34106c9ccd5a741398a6f3e698a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51e34106c9ccd5a741398a6f3e698a9d">&#9670;&nbsp;</a></span>VIEW_ANY_ACL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIEW_ANY_ACL&#160;&#160;&#160;(<a class="el" href="auth__acls_8h.html#aade8caa3dad489d79cc71c040b102e37">SELECT_ACL</a> | <a class="el" href="auth__acls_8h.html#a83a5a06a32abe34fab15342e29b7f714">UPDATE_ACL</a> | <a class="el" href="auth__acls_8h.html#a9f495938a50ed8acd8c73464a09e4c07">INSERT_ACL</a> | <a class="el" href="auth__acls_8h.html#a26277737b9c47b4fc3c34750fab64a0f">DELETE_ACL</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a451c6961fe464e9960916ae4eaf591cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a451c6961fe464e9960916ae4eaf591cf">&#9670;&nbsp;</a></span>Create_col_name_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classMem__root__array__YY.html">Mem_root_array_YY</a>&lt;<a class="el" href="lex__string_8h.html#a01c5da2ec635d24c374ba1a995dbe2aa">LEX_CSTRING</a>&gt; <a class="el" href="parser__yystype_8h.html#a451c6961fe464e9960916ae4eaf591cf">Create_col_name_list</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a34cfdc1b307a18b41ec7a1ae0bbba419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34cfdc1b307a18b41ec7a1ae0bbba419">&#9670;&nbsp;</a></span>check_duplicate_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_duplicate_names </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="parser__yystype_8h.html#a451c6961fe464e9960916ae4eaf591cf">Create_col_name_list</a> *&#160;</td>
          <td class="paramname"><em>column_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>item_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>gen_unique_view_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When creating a derived table, check if duplicate column names are present, and possibly generate unique names instead. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">column_names</td><td>User-provided list of column names, NULL if none </td></tr>
    <tr><td class="paramname">item_list</td><td>SELECT list of underlying query expression </td></tr>
    <tr><td class="paramname">gen_unique_view_name</td><td>See description.</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>If a list of column names has been provided: it is simply searched for duplicates (which cause an error).</li>
<li>otherwise, column names are derived from the underlying query expression's SELECT list elements; if two of those elements have duplicate autogenerated names: if gen_unique_view_name is false: error it it is true: we generate a unique name using make_unique_view_field_name()</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>true if error. </dd></dl>

</div>
</div>
<a id="ab52cb24ddb6b54c33e7e1fe2399cfb0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab52cb24ddb6b54c33e7e1fe2399cfb0c">&#9670;&nbsp;</a></span>check_key_in_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_key_in_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>table_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check of key (primary or unique) presence in updatable view </p>
<p>If the table to be checked is a view and the query has LIMIT clause, then check that the view fulfills one of the following constraints: 1) it contains the primary key of the underlying updatable table. 2) it contains a unique key of the underlying updatable table whose columns are all non-nullable. 3) it contains all columns of the underlying updatable table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handler </td></tr>
    <tr><td class="paramname">view</td><td>view for check with opened table </td></tr>
    <tr><td class="paramname">table_ref</td><td>underlying updatable table of the view</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false is success, true if error </dd></dl>

</div>
</div>
<a id="af85ad6b1940ee1bd572c758554ffb94a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af85ad6b1940ee1bd572c758554ffb94a">&#9670;&nbsp;</a></span>create_view_precheck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> create_view_precheck </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>tables</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga3d35a45e59ca01c71d8f469bb1023aff">enum_view_create_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CREATE VIEW privileges pre-check. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handler </td></tr>
    <tr><td class="paramname">tables</td><td>tables used in the view </td></tr>
    <tr><td class="paramname">view</td><td>views to create </td></tr>
    <tr><td class="paramname">mode</td><td>VIEW_CREATE_NEW, VIEW_ALTER, VIEW_CREATE_OR_REPLACE</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Operation was a success. </td></tr>
    <tr><td class="paramname">true</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3459e2171264de1bc89f5ee2042a8a91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3459e2171264de1bc89f5ee2042a8a91">&#9670;&nbsp;</a></span>insert_view_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> insert_view_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a00c88abd166254178d4f40a70bf2a089"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00c88abd166254178d4f40a70bf2a089">&#9670;&nbsp;</a></span>is_updatable_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_updatable_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd>SELECT_LEX::merge_derived() </dd></dl>

</div>
</div>
<a id="ac477caf9c0d3b43b5bcc80208e756537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac477caf9c0d3b43b5bcc80208e756537">&#9670;&nbsp;</a></span>make_valid_column_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void make_valid_column_names </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLEX.html">LEX</a> *&#160;</td>
          <td class="paramname"><em>lex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if auto generated column names are conforming and possibly generate a conforming name for them if not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lex</td><td>LEX for this thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9f3f53b134c69e31df2d20d8aced20de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f3f53b134c69e31df2d20d8aced20de">&#9670;&nbsp;</a></span>mysql_create_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mysql_create_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>views</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga3d35a45e59ca01c71d8f469bb1023aff">enum_view_create_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creating/altering VIEW procedure. </p>
<p>Atomicity: The operation to create, alter and create_or_replace a view is atomic/crash-safe. Changes to the Data-dictionary and writing event to binlog are part of the same transaction. All the changes are done as part of the same transaction or do not have any side effects on the operation failure. Data-dictionary and table definition caches are in sync with operation state. Cache do not contain any stale/incorrect data in case of failure. In case of crash, there won't be any discrepancy between the data-dictionary table and the binary log.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handler </td></tr>
    <tr><td class="paramname">views</td><td>views to create </td></tr>
    <tr><td class="paramname">mode</td><td>VIEW_CREATE_NEW, VIEW_ALTER, VIEW_CREATE_OR_REPLACE</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function handles both create and alter view commands.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Operation was a success. </td></tr>
    <tr><td class="paramname">true</td><td>An error occurred. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5c368caaaa3c071b17c05ba23996c668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c368caaaa3c071b17c05ba23996c668">&#9670;&nbsp;</a></span>mysql_drop_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mysql_drop_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>views</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drop view. </p>
<p>Atomicity: The operation to drop a view is atomic/crash-safe. Changes to the Data-dictionary and writing event to binlog are part of the same transaction. All the changes are done as part of the same transaction or do not have any side effects on the operation failure. Data-dictionary and table definition caches are in sync with operation state. Cache do not contain any stale/incorrect data in case of failure. In case of crash, there won't be any discrepancy between the data-dictionary table and the binary log. The partial execution of a drop view statement is not supported any more with atomic drop view implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>thread handler </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">views</td><td>views to delete</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>OK </td></tr>
    <tr><td class="paramname">true</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a328109cadf59c86aa66061030acefeee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a328109cadf59c86aa66061030acefeee">&#9670;&nbsp;</a></span>mysql_register_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mysql_register_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__GROUP__PARSER.html#ga3d35a45e59ca01c71d8f469bb1023aff">enum_view_create_mode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register view by writing its definition to the data-dictionary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handler. </td></tr>
    <tr><td class="paramname">view</td><td>View description </td></tr>
    <tr><td class="paramname">mode</td><td>VIEW_CREATE_NEW, VIEW_ALTER or VIEW_CREATE_OR_REPLACE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The caller must rollback both statement and transaction on failure, before any further accesses to DD. This is because such a failure might be caused by a deadlock, which requires rollback before any other operations on SE (including reads using attachable transactions) can be done.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>OK </td></tr>
    <tr><td class="paramname">true</td><td>Error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>Item::print_for_order() </dd></dl>

</div>
</div>
<a id="a80a6b6810c2d35f6ef04eb898d71c5ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80a6b6810c2d35f6ef04eb898d71c5ec">&#9670;&nbsp;</a></span>open_and_read_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> open_and_read_view </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *&#160;</td>
          <td class="paramname"><em>share</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open and read a view definition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Thread handler </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">share</td><td>Share object of view </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">view_ref</td><td>TABLE_LIST structure for view reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false-in case of success, true-in case of error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>In case true value returned an error has been already set in DA. </dd></dl>

</div>
</div>
<a id="a7cd3e072b2e8d7ce3bae4fd9776585b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd3e072b2e8d7ce3bae4fd9776585b0">&#9670;&nbsp;</a></span>parse_view_definition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> parse_view_definition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a view definition. </p>
<p>Among other effects, it adds underlying tables to the global list of tables, so the next iteration in open_tables() will open them.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Thread handler </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">view_ref</td><td>TABLE_LIST structure for view reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false-in case of success, true-in case of error.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>In case true value returned an error has been already set in DA. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="sql__view_8h.html">sql_view.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
