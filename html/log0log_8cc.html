<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/log/log0log.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('log0log_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">log0log.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Redo log system - provides durability for unflushed modifications to contents of data pages.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="log0types_8h_source.html">log0types.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="debug__sync_8h_source.html">debug_sync.h</a>&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;<a class="el" href="time_8h_source.html">time.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="dict0boot_8h_source.html">dict0boot.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ha__prototypes_8h_source.html">ha_prototypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0meb_8h_source.html">log0meb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0thread-create_8h_source.html">os0thread-create.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0sys_8h_source.html">trx0sys.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Allocation / deallocation of buffers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:ae1e10bd2814b685d5a77cbcd5d9bb1a8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#ae1e10bd2814b685d5a77cbcd5d9bb1a8">log_allocate_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:ae1e10bd2814b685d5a77cbcd5d9bb1a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates proper size for the log buffer and allocates the log buffer.  <a href="#ae1e10bd2814b685d5a77cbcd5d9bb1a8">More...</a><br /></td></tr>
<tr class="separator:ae1e10bd2814b685d5a77cbcd5d9bb1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e697e4a43f59138fcb13a9d90c8150c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a4e697e4a43f59138fcb13a9d90c8150c">log_deallocate_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a4e697e4a43f59138fcb13a9d90c8150c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the log buffer.  <a href="#a4e697e4a43f59138fcb13a9d90c8150c">More...</a><br /></td></tr>
<tr class="separator:a4e697e4a43f59138fcb13a9d90c8150c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97bc60473ae5ac79242dbad51c54c866"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a97bc60473ae5ac79242dbad51c54c866">log_allocate_write_ahead_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a97bc60473ae5ac79242dbad51c54c866"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the log write-ahead buffer (aligned to system page for easier migrations between NUMA nodes).  <a href="#a97bc60473ae5ac79242dbad51c54c866">More...</a><br /></td></tr>
<tr class="separator:a97bc60473ae5ac79242dbad51c54c866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd581d8b672d29511cab5f21cb9cba8d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#acd581d8b672d29511cab5f21cb9cba8d">log_deallocate_write_ahead_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:acd581d8b672d29511cab5f21cb9cba8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the log write-ahead buffer.  <a href="#acd581d8b672d29511cab5f21cb9cba8d">More...</a><br /></td></tr>
<tr class="separator:acd581d8b672d29511cab5f21cb9cba8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc87c4f90011787a812660102b729f5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a4dc87c4f90011787a812660102b729f5">log_allocate_checkpoint_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a4dc87c4f90011787a812660102b729f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the log checkpoint buffer (used to write checkpoint headers).  <a href="#a4dc87c4f90011787a812660102b729f5">More...</a><br /></td></tr>
<tr class="separator:a4dc87c4f90011787a812660102b729f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdab10711cdd6b2518aca76f10d8de83"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#abdab10711cdd6b2518aca76f10d8de83">log_deallocate_checkpoint_buffer</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:abdab10711cdd6b2518aca76f10d8de83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the log checkpoint buffer.  <a href="#abdab10711cdd6b2518aca76f10d8de83">More...</a><br /></td></tr>
<tr class="separator:abdab10711cdd6b2518aca76f10d8de83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13eeae3e713d4ee0e214bd56095e63f9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a13eeae3e713d4ee0e214bd56095e63f9">log_allocate_flush_events</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a13eeae3e713d4ee0e214bd56095e63f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the array with flush events.  <a href="#a13eeae3e713d4ee0e214bd56095e63f9">More...</a><br /></td></tr>
<tr class="separator:a13eeae3e713d4ee0e214bd56095e63f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f49fc424bb2ab42eb99b165ba4a3ef"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a84f49fc424bb2ab42eb99b165ba4a3ef">log_deallocate_flush_events</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a84f49fc424bb2ab42eb99b165ba4a3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the array with flush events.  <a href="#a84f49fc424bb2ab42eb99b165ba4a3ef">More...</a><br /></td></tr>
<tr class="separator:a84f49fc424bb2ab42eb99b165ba4a3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9100635ca4ea85900c5cc19a2d614b6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#ae9100635ca4ea85900c5cc19a2d614b6">log_deallocate_write_events</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:ae9100635ca4ea85900c5cc19a2d614b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the array with write events.  <a href="#ae9100635ca4ea85900c5cc19a2d614b6">More...</a><br /></td></tr>
<tr class="separator:ae9100635ca4ea85900c5cc19a2d614b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bacce4c531c998a484bc6b4738e0698"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a4bacce4c531c998a484bc6b4738e0698">log_allocate_write_events</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a4bacce4c531c998a484bc6b4738e0698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the array with write events.  <a href="#a4bacce4c531c998a484bc6b4738e0698">More...</a><br /></td></tr>
<tr class="separator:a4bacce4c531c998a484bc6b4738e0698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7a67f99e5b8553462e59527e553fa6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a3a7a67f99e5b8553462e59527e553fa6">log_allocate_recent_written</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a3a7a67f99e5b8553462e59527e553fa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the log recent written buffer.  <a href="#a3a7a67f99e5b8553462e59527e553fa6">More...</a><br /></td></tr>
<tr class="separator:a3a7a67f99e5b8553462e59527e553fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75fd3c59b70c5d0813c4b9ab3f7f6ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#ab75fd3c59b70c5d0813c4b9ab3f7f6ae">log_deallocate_recent_written</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:ab75fd3c59b70c5d0813c4b9ab3f7f6ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the log recent written buffer.  <a href="#ab75fd3c59b70c5d0813c4b9ab3f7f6ae">More...</a><br /></td></tr>
<tr class="separator:ab75fd3c59b70c5d0813c4b9ab3f7f6ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af336f3fc109ec7d4a84dab01a8923219"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#af336f3fc109ec7d4a84dab01a8923219">log_allocate_recent_closed</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:af336f3fc109ec7d4a84dab01a8923219"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates the log recent closed buffer.  <a href="#af336f3fc109ec7d4a84dab01a8923219">More...</a><br /></td></tr>
<tr class="separator:af336f3fc109ec7d4a84dab01a8923219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a67065c4fbb1e45bb41432170f6902"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a11a67065c4fbb1e45bb41432170f6902">log_deallocate_recent_closed</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a11a67065c4fbb1e45bb41432170f6902"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the log recent closed buffer.  <a href="#a11a67065c4fbb1e45bb41432170f6902">More...</a><br /></td></tr>
<tr class="separator:a11a67065c4fbb1e45bb41432170f6902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55a096e522010c9e541c0a14281b3da9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a55a096e522010c9e541c0a14281b3da9">log_allocate_file_header_buffers</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a55a096e522010c9e541c0a14281b3da9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates buffers for headers of the log files.  <a href="#a55a096e522010c9e541c0a14281b3da9">More...</a><br /></td></tr>
<tr class="separator:a55a096e522010c9e541c0a14281b3da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5864d3c20cc9772738bf3f268bf27d13"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a5864d3c20cc9772738bf3f268bf27d13">log_deallocate_file_header_buffers</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a5864d3c20cc9772738bf3f268bf27d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates buffers for headers of the log files.  <a href="#a5864d3c20cc9772738bf3f268bf27d13">More...</a><br /></td></tr>
<tr class="separator:a5864d3c20cc9772738bf3f268bf27d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Resizing of buffers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:a081435209376c101037f34b008d337cd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a081435209376c101037f34b008d337cd">log_calc_buf_size</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a081435209376c101037f34b008d337cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates proper size of the log buffer and updates related fields.  <a href="#a081435209376c101037f34b008d337cd">More...</a><br /></td></tr>
<tr class="separator:a081435209376c101037f34b008d337cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c552d6cbdf0f5d5b39eefd26b6a5db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a78c552d6cbdf0f5d5b39eefd26b6a5db">log_buffer_resize_low</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, size_t new_size, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> end_lsn)</td></tr>
<tr class="memdesc:a78c552d6cbdf0f5d5b39eefd26b6a5db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes size of the log buffer.  <a href="#a78c552d6cbdf0f5d5b39eefd26b6a5db">More...</a><br /></td></tr>
<tr class="separator:a78c552d6cbdf0f5d5b39eefd26b6a5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad07511d85b9d1bee506b87a8638a9297"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#ad07511d85b9d1bee506b87a8638a9297">log_buffer_resize</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, size_t new_size)</td></tr>
<tr class="memdesc:ad07511d85b9d1bee506b87a8638a9297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes size of the log buffer.  <a href="#ad07511d85b9d1bee506b87a8638a9297">More...</a><br /></td></tr>
<tr class="separator:ad07511d85b9d1bee506b87a8638a9297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7e8132e91400928e8728c2d37087db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a7e7e8132e91400928e8728c2d37087db">log_write_ahead_resize</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, size_t new_size)</td></tr>
<tr class="memdesc:a7e7e8132e91400928e8728c2d37087db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the write ahead buffer in the redo log.  <a href="#a7e7e8132e91400928e8728c2d37087db">More...</a><br /></td></tr>
<tr class="separator:a7e7e8132e91400928e8728c2d37087db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Start / stop of background threads</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:aba39f4293b2680b80643905711149e5f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#aba39f4293b2680b80643905711149e5f">log_pause_writer_threads</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:aba39f4293b2680b80643905711149e5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pauses writer, flusher and notifiers and switches user threads to write log as former version.  <a href="#aba39f4293b2680b80643905711149e5f">More...</a><br /></td></tr>
<tr class="separator:aba39f4293b2680b80643905711149e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a992813cca123bdec7cde4836caba3bca"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a992813cca123bdec7cde4836caba3bca">log_resume_writer_threads</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a992813cca123bdec7cde4836caba3bca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resumes writer, flusher and notifiers and switches user threads not to write log.  <a href="#a992813cca123bdec7cde4836caba3bca">More...</a><br /></td></tr>
<tr class="separator:a992813cca123bdec7cde4836caba3bca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45dc1bd04804a39c9a7557e4ab269e53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a45dc1bd04804a39c9a7557e4ab269e53">log_writer_thread_active_validate</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a45dc1bd04804a39c9a7557e4ab269e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates that the log writer thread is active.  <a href="#a45dc1bd04804a39c9a7557e4ab269e53">More...</a><br /></td></tr>
<tr class="separator:a45dc1bd04804a39c9a7557e4ab269e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23a8ce9b2714fffe6237559c970b1f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#ab23a8ce9b2714fffe6237559c970b1f0">log_background_write_threads_active_validate</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:ab23a8ce9b2714fffe6237559c970b1f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates that the log writer, flusher threads are active.  <a href="#ab23a8ce9b2714fffe6237559c970b1f0">More...</a><br /></td></tr>
<tr class="separator:ab23a8ce9b2714fffe6237559c970b1f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc7bbe603548b1956c00fe819b31000"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a7fc7bbe603548b1956c00fe819b31000">log_background_threads_active_validate</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a7fc7bbe603548b1956c00fe819b31000"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates that all the log background threads are active.  <a href="#a7fc7bbe603548b1956c00fe819b31000">More...</a><br /></td></tr>
<tr class="separator:a7fc7bbe603548b1956c00fe819b31000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98093cd144b6bfc7dddd826ede3b347e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a98093cd144b6bfc7dddd826ede3b347e">log_background_threads_inactive_validate</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a98093cd144b6bfc7dddd826ede3b347e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates that all the log background threads are inactive.  <a href="#a98093cd144b6bfc7dddd826ede3b347e">More...</a><br /></td></tr>
<tr class="separator:a98093cd144b6bfc7dddd826ede3b347e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8054a1cd19c466df4004669256c850"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#ace8054a1cd19c466df4004669256c850">log_start_background_threads</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:ace8054a1cd19c466df4004669256c850"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts all the log background threads.  <a href="#ace8054a1cd19c466df4004669256c850">More...</a><br /></td></tr>
<tr class="separator:ace8054a1cd19c466df4004669256c850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ace4ec47faa13749ccde629922dfa6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a9ace4ec47faa13749ccde629922dfa6b">log_stop_background_threads</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a9ace4ec47faa13749ccde629922dfa6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops all the log background threads.  <a href="#a9ace4ec47faa13749ccde629922dfa6b">More...</a><br /></td></tr>
<tr class="separator:a9ace4ec47faa13749ccde629922dfa6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1cac412e567bb0159b1b931ca96ebb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#af1cac412e567bb0159b1b931ca96ebb3">log_stop_background_threads_nowait</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:af1cac412e567bb0159b1b931ca96ebb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks the flag which tells log threads to stop and wakes them.  <a href="#af1cac412e567bb0159b1b931ca96ebb3">More...</a><br /></td></tr>
<tr class="separator:af1cac412e567bb0159b1b931ca96ebb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6827f997232dd06255e72f1454df386"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#ab6827f997232dd06255e72f1454df386">log_wake_threads</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:ab6827f997232dd06255e72f1454df386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up all log threads which are alive.  <a href="#ab6827f997232dd06255e72f1454df386">More...</a><br /></td></tr>
<tr class="separator:ab6827f997232dd06255e72f1454df386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8250c2adb474a140ef5a8b8bc05c773c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a8250c2adb474a140ef5a8b8bc05c773c">log_control_writer_threads</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a8250c2adb474a140ef5a8b8bc05c773c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause/Resume the log writer threads based on innodb_log_writer_threads value.  <a href="#a8250c2adb474a140ef5a8b8bc05c773c">More...</a><br /></td></tr>
<tr class="separator:a8250c2adb474a140ef5a8b8bc05c773c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Initialization and finalization of log_sys</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:a7318e382a37df97b9aa1296e982dc51f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a7318e382a37df97b9aa1296e982dc51f">log_sys_init</a> (uint32_t n_files, uint64_t <a class="el" href="mysql__config__editor_8cc.html#a14ba597917108e3c1937893de7c4ac0c">file_size</a>, <a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> space_id)</td></tr>
<tr class="memdesc:a7318e382a37df97b9aa1296e982dc51f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the log system.  <a href="#a7318e382a37df97b9aa1296e982dc51f">More...</a><br /></td></tr>
<tr class="separator:a7318e382a37df97b9aa1296e982dc51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7886027e2ec83cb3f1ef57248233a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#adb7886027e2ec83cb3f1ef57248233a0">log_start</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#a0639412909d27380307488ac5cd2af5e">checkpoint_no_t</a> checkpoint_no, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> checkpoint_lsn, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> start_lsn)</td></tr>
<tr class="memdesc:adb7886027e2ec83cb3f1ef57248233a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the initialized redo log system using a provided checkpoint_lsn and current lsn.  <a href="#adb7886027e2ec83cb3f1ef57248233a0">More...</a><br /></td></tr>
<tr class="separator:adb7886027e2ec83cb3f1ef57248233a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe4945f1a00533b09d295f6e6b4b4e71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#abe4945f1a00533b09d295f6e6b4b4e71">log_sys_close</a> ()</td></tr>
<tr class="memdesc:abe4945f1a00533b09d295f6e6b4b4e71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the log system data structures.  <a href="#abe4945f1a00533b09d295f6e6b4b4e71">More...</a><br /></td></tr>
<tr class="separator:abe4945f1a00533b09d295f6e6b4b4e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Status printing</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:aa3289b8449ef5a345156b38736a7ea3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#aa3289b8449ef5a345156b38736a7ea3d">log_print</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, FILE *file)</td></tr>
<tr class="memdesc:aa3289b8449ef5a345156b38736a7ea3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints information about important lsn values used in the redo log, and some statistics about speed of writing and flushing of data.  <a href="#aa3289b8449ef5a345156b38736a7ea3d">More...</a><br /></td></tr>
<tr class="separator:aa3289b8449ef5a345156b38736a7ea3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8c717dc4702e0b13c649f849eed4ebb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#af8c717dc4702e0b13c649f849eed4ebb">log_refresh_stats</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:af8c717dc4702e0b13c649f849eed4ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refreshes the statistics used to print per-second averages in log_print().  <a href="#af8c717dc4702e0b13c649f849eed4ebb">More...</a><br /></td></tr>
<tr class="separator:af8c717dc4702e0b13c649f849eed4ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Log position locking (for replication)</div></td></tr>
<tr><td colspan="2"><div class="groupText"><pre class="fragment"></pre> </div></td></tr>
<tr class="memitem:a872b3763558358d4abac37b9e3f9b75b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a872b3763558358d4abac37b9e3f9b75b">log_position_lock</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:a872b3763558358d4abac37b9e3f9b75b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock redo log.  <a href="#a872b3763558358d4abac37b9e3f9b75b">More...</a><br /></td></tr>
<tr class="separator:a872b3763558358d4abac37b9e3f9b75b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ebc008243c3c7ef6645fa30530c801"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#aa2ebc008243c3c7ef6645fa30530c801">log_position_unlock</a> (<a class="el" href="structlog__t.html">log_t</a> &amp;log)</td></tr>
<tr class="memdesc:aa2ebc008243c3c7ef6645fa30530c801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock the locked redo log.  <a href="#aa2ebc008243c3c7ef6645fa30530c801">More...</a><br /></td></tr>
<tr class="separator:aa2ebc008243c3c7ef6645fa30530c801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a691cb5dbe03d3152a8c3372d4e65d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a1a691cb5dbe03d3152a8c3372d4e65d7">log_position_collect_lsn_info</a> (const <a class="el" href="structlog__t.html">log_t</a> &amp;log, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> *current_lsn, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> *checkpoint_lsn)</td></tr>
<tr class="memdesc:a1a691cb5dbe03d3152a8c3372d4e65d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collect coordinates in the locked redo log.  <a href="#a1a691cb5dbe03d3152a8c3372d4e65d7">More...</a><br /></td></tr>
<tr class="separator:a1a691cb5dbe03d3152a8c3372d4e65d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1d3d26cf4ca71800d18a85ba2fd153f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log0types_8h.html#a427e47d06405197f75f8dec7fc686804">log_checksum_func_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a1d3d26cf4ca71800d18a85ba2fd153f3">log_checksum_algorithm_ptr</a></td></tr>
<tr class="memdesc:a1d3d26cf4ca71800d18a85ba2fd153f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the log checksum calculation function.  <a href="#a1d3d26cf4ca71800d18a85ba2fd153f3">More...</a><br /></td></tr>
<tr class="separator:a1d3d26cf4ca71800d18a85ba2fd153f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af342f41eca622e4edb67b0dbaabf3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classaligned__pointer.html">aligned_pointer</a>&lt; <a class="el" href="structlog__t.html">log_t</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a6af342f41eca622e4edb67b0dbaabf3a">log_sys_object</a></td></tr>
<tr class="memdesc:a6af342f41eca622e4edb67b0dbaabf3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redo log system.  <a href="#a6af342f41eca622e4edb67b0dbaabf3a">More...</a><br /></td></tr>
<tr class="separator:a6af342f41eca622e4edb67b0dbaabf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313f6981ccf5fd96b4aa9661b4938dc5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlog__t.html">log_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log0log_8cc.html#a313f6981ccf5fd96b4aa9661b4938dc5">log_sys</a></td></tr>
<tr class="memdesc:a313f6981ccf5fd96b4aa9661b4938dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redo log system (singleton).  <a href="#a313f6981ccf5fd96b4aa9661b4938dc5">More...</a><br /></td></tr>
<tr class="separator:a313f6981ccf5fd96b4aa9661b4938dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Redo log system - provides durability for unflushed modifications to contents of data pages. </p>
<p>This file covers general maintenance, including:</p><ol type="1">
<li>Allocation and deallocation of the redo log data structures.</li>
<li>Initialization and shutdown of the redo log.</li>
<li>Start / stop for the log background threads.</li>
<li>Runtime updates of server variables.</li>
<li>Extending size of the redo log buffers.</li>
<li>Locking redo position (for replication).</li>
</ol>
<p>Code responsible for writing to redo log could be found in log0buf.cc, log0write.cc, and log0log.ic. The log writer, flusher, write notifier, flush notifier, and closer threads are implemented in log0write.cc.</p>
<p>Code responsible for checkpoints could be found in log0chkp.cc. The log checkpointer thread is implemented there.</p>
<p>Created 12/9/1995 Heikki Tuuri </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae1e10bd2814b685d5a77cbcd5d9bb1a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e10bd2814b685d5a77cbcd5d9bb1a8">&#9670;&nbsp;</a></span>log_allocate_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_allocate_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates proper size for the log buffer and allocates the log buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4dc87c4f90011787a812660102b729f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dc87c4f90011787a812660102b729f5">&#9670;&nbsp;</a></span>log_allocate_checkpoint_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_allocate_checkpoint_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the log checkpoint buffer (used to write checkpoint headers). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a55a096e522010c9e541c0a14281b3da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55a096e522010c9e541c0a14281b3da9">&#9670;&nbsp;</a></span>log_allocate_file_header_buffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_allocate_file_header_buffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates buffers for headers of the log files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a13eeae3e713d4ee0e214bd56095e63f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13eeae3e713d4ee0e214bd56095e63f9">&#9670;&nbsp;</a></span>log_allocate_flush_events()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_allocate_flush_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the array with flush events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af336f3fc109ec7d4a84dab01a8923219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af336f3fc109ec7d4a84dab01a8923219">&#9670;&nbsp;</a></span>log_allocate_recent_closed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_allocate_recent_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the log recent closed buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a7a67f99e5b8553462e59527e553fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a7a67f99e5b8553462e59527e553fa6">&#9670;&nbsp;</a></span>log_allocate_recent_written()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_allocate_recent_written </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the log recent written buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97bc60473ae5ac79242dbad51c54c866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97bc60473ae5ac79242dbad51c54c866">&#9670;&nbsp;</a></span>log_allocate_write_ahead_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_allocate_write_ahead_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the log write-ahead buffer (aligned to system page for easier migrations between NUMA nodes). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4bacce4c531c998a484bc6b4738e0698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bacce4c531c998a484bc6b4738e0698">&#9670;&nbsp;</a></span>log_allocate_write_events()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_allocate_write_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates the array with write events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7fc7bbe603548b1956c00fe819b31000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc7bbe603548b1956c00fe819b31000">&#9670;&nbsp;</a></span>log_background_threads_active_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_background_threads_active_validate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates that all the log background threads are active. </p>
<p>Used only to assert, that the state is correct. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a98093cd144b6bfc7dddd826ede3b347e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98093cd144b6bfc7dddd826ede3b347e">&#9670;&nbsp;</a></span>log_background_threads_inactive_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_background_threads_inactive_validate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates that all the log background threads are inactive. </p>
<p>Used only to assert, that the state is correct. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab23a8ce9b2714fffe6237559c970b1f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab23a8ce9b2714fffe6237559c970b1f0">&#9670;&nbsp;</a></span>log_background_write_threads_active_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_background_write_threads_active_validate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates that the log writer, flusher threads are active. </p>
<p>Used only to assert, that the state is correct. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad07511d85b9d1bee506b87a8638a9297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad07511d85b9d1bee506b87a8638a9297">&#9670;&nbsp;</a></span>log_buffer_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_buffer_resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes size of the log buffer. </p>
<p>This is a thread-safe version. It is used by SET GLOBAL innodb_log_buffer_size = X. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_size</td><td>requested new size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true iff succeeded in resize </dd></dl>

</div>
</div>
<a id="a78c552d6cbdf0f5d5b39eefd26b6a5db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c552d6cbdf0f5d5b39eefd26b6a5db">&#9670;&nbsp;</a></span>log_buffer_resize_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_buffer_resize_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>end_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes size of the log buffer. </p>
<p>This is a non-thread-safe version which might be invoked only when there are no concurrent possible writes to the log buffer. It is used in log_buffer_reserve() when a requested size to reserve is larger than size of the log buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_size</td><td>requested new size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_lsn</td><td>maximum lsn written to log buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true iff succeeded in resize </dd></dl>

</div>
</div>
<a id="a081435209376c101037f34b008d337cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a081435209376c101037f34b008d337cd">&#9670;&nbsp;</a></span>log_calc_buf_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_calc_buf_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates proper size of the log buffer and updates related fields. </p>
<p>Calculations are based on current value of srv_log_buffer_size. Note, that the proper size of the log buffer should be a power of two. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8250c2adb474a140ef5a8b8bc05c773c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8250c2adb474a140ef5a8b8bc05c773c">&#9670;&nbsp;</a></span>log_control_writer_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_control_writer_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause/Resume the log writer threads based on innodb_log_writer_threads value. </p>
<p>NOTE: These pause/resume functions should be protected by mutex while serving. The caller innodb_log_writer_threads_update() is protected by LOCK_global_system_variables in mysqld. </p>

</div>
</div>
<a id="a4e697e4a43f59138fcb13a9d90c8150c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e697e4a43f59138fcb13a9d90c8150c">&#9670;&nbsp;</a></span>log_deallocate_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_deallocate_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates the log buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abdab10711cdd6b2518aca76f10d8de83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdab10711cdd6b2518aca76f10d8de83">&#9670;&nbsp;</a></span>log_deallocate_checkpoint_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_deallocate_checkpoint_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates the log checkpoint buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5864d3c20cc9772738bf3f268bf27d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5864d3c20cc9772738bf3f268bf27d13">&#9670;&nbsp;</a></span>log_deallocate_file_header_buffers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_deallocate_file_header_buffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates buffers for headers of the log files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a84f49fc424bb2ab42eb99b165ba4a3ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f49fc424bb2ab42eb99b165ba4a3ef">&#9670;&nbsp;</a></span>log_deallocate_flush_events()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_deallocate_flush_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates the array with flush events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a11a67065c4fbb1e45bb41432170f6902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11a67065c4fbb1e45bb41432170f6902">&#9670;&nbsp;</a></span>log_deallocate_recent_closed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_deallocate_recent_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates the log recent closed buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab75fd3c59b70c5d0813c4b9ab3f7f6ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75fd3c59b70c5d0813c4b9ab3f7f6ae">&#9670;&nbsp;</a></span>log_deallocate_recent_written()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_deallocate_recent_written </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates the log recent written buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd581d8b672d29511cab5f21cb9cba8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd581d8b672d29511cab5f21cb9cba8d">&#9670;&nbsp;</a></span>log_deallocate_write_ahead_buffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_deallocate_write_ahead_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates the log write-ahead buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9100635ca4ea85900c5cc19a2d614b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9100635ca4ea85900c5cc19a2d614b6">&#9670;&nbsp;</a></span>log_deallocate_write_events()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_deallocate_write_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates the array with write events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba39f4293b2680b80643905711149e5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba39f4293b2680b80643905711149e5f">&#9670;&nbsp;</a></span>log_pause_writer_threads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_pause_writer_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pauses writer, flusher and notifiers and switches user threads to write log as former version. </p>
<p>NOTE: These pause/resume functions should be protected by mutex while serving. The caller innodb_log_writer_threads_update() is protected by LOCK_global_system_variables in mysqld. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1a691cb5dbe03d3152a8c3372d4e65d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a691cb5dbe03d3152a8c3372d4e65d7">&#9670;&nbsp;</a></span>log_position_collect_lsn_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_position_collect_lsn_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> *&#160;</td>
          <td class="paramname"><em>current_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> *&#160;</td>
          <td class="paramname"><em>checkpoint_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collect coordinates in the locked redo log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>locked redo log </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">current_lsn</td><td>stores current lsn there </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">checkpoint_lsn</td><td>stores checkpoint lsn there </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a872b3763558358d4abac37b9e3f9b75b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a872b3763558358d4abac37b9e3f9b75b">&#9670;&nbsp;</a></span>log_position_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_position_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock redo log. </p>
<p>Both current lsn and checkpoint lsn will not change until the redo log is unlocked. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log to lock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa2ebc008243c3c7ef6645fa30530c801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2ebc008243c3c7ef6645fa30530c801">&#9670;&nbsp;</a></span>log_position_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_position_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock the locked redo log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log to unlock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa3289b8449ef5a345156b38736a7ea3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3289b8449ef5a345156b38736a7ea3d">&#9670;&nbsp;</a></span>log_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_print </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints information about important lsn values used in the redo log, and some statistics about speed of writing and flushing of data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log for which print information </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">file</td><td>file where to print </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af8c717dc4702e0b13c649f849eed4ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8c717dc4702e0b13c649f849eed4ebb">&#9670;&nbsp;</a></span>log_refresh_stats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_refresh_stats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refreshes the statistics used to print per-second averages in log_print(). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a992813cca123bdec7cde4836caba3bca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a992813cca123bdec7cde4836caba3bca">&#9670;&nbsp;</a></span>log_resume_writer_threads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_resume_writer_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resumes writer, flusher and notifiers and switches user threads not to write log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adb7886027e2ec83cb3f1ef57248233a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb7886027e2ec83cb3f1ef57248233a0">&#9670;&nbsp;</a></span>log_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#a0639412909d27380307488ac5cd2af5e">checkpoint_no_t</a>&#160;</td>
          <td class="paramname"><em>checkpoint_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>checkpoint_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a>&#160;</td>
          <td class="paramname"><em>start_lsn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the initialized redo log system using a provided checkpoint_lsn and current lsn. </p>
<p>Block for current_lsn must be properly initialized in the log buffer prior to calling this function. Therefore a proper value of first_rec_group must be set for that block before log_start is called. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">checkpoint_no</td><td>checkpoint no (sequential number) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">checkpoint_lsn</td><td>checkpoint lsn </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_lsn</td><td>current lsn to start at </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace8054a1cd19c466df4004669256c850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace8054a1cd19c466df4004669256c850">&#9670;&nbsp;</a></span>log_start_background_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_start_background_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts all the log background threads. </p>
<p>This can be called only, when the threads are inactive. This should never be called concurrently. This may not be called during read-only mode. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9ace4ec47faa13749ccde629922dfa6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ace4ec47faa13749ccde629922dfa6b">&#9670;&nbsp;</a></span>log_stop_background_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_stop_background_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops all the log background threads. </p>
<p>This can be called only, when the threads are active. This should never be called concurrently. This may not be called in read-only mode. Note that is is impossible to start log background threads in such case. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af1cac412e567bb0159b1b931ca96ebb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1cac412e567bb0159b1b931ca96ebb3">&#9670;&nbsp;</a></span>log_stop_background_threads_nowait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_stop_background_threads_nowait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Marks the flag which tells log threads to stop and wakes them. </p>
<p>Does not wait until they are stopped. </p>

</div>
</div>
<a id="abe4945f1a00533b09d295f6e6b4b4e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe4945f1a00533b09d295f6e6b4b4e71">&#9670;&nbsp;</a></span>log_sys_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_sys_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the log system data structures. </p>
<p>Deallocate all the related memory. </p>

</div>
</div>
<a id="a7318e382a37df97b9aa1296e982dc51f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7318e382a37df97b9aa1296e982dc51f">&#9670;&nbsp;</a></span>log_sys_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_sys_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>n_files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>file_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td>
          <td class="paramname"><em>space_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the log system. </p>
<p>Note that the log system is not ready for user writes after this call is finished. It should be followed by a call to log_start. Also, log background threads need to be started manually using log_start_background_threads afterwards.</p>
<p>Hence the proper order of calls looks like this:</p><ul>
<li>log_sys_init(),</li>
<li>log_start(),</li>
<li>log_start_background_threads().</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n_files</td><td>number of log files </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_size</td><td>size of each log file in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">space_id</td><td>space id of the file space with log files </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab6827f997232dd06255e72f1454df386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6827f997232dd06255e72f1454df386">&#9670;&nbsp;</a></span>log_wake_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_wake_threads </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wakes up all log threads which are alive. </p>

</div>
</div>
<a id="a7e7e8132e91400928e8728c2d37087db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7e8132e91400928e8728c2d37087db">&#9670;&nbsp;</a></span>log_write_ahead_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_write_ahead_resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resizes the write ahead buffer in the redo log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">log</td><td>redo log </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_size</td><td>new size (in bytes) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a45dc1bd04804a39c9a7557e4ab269e53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45dc1bd04804a39c9a7557e4ab269e53">&#9670;&nbsp;</a></span>log_writer_thread_active_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_writer_thread_active_validate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlog__t.html">log_t</a> &amp;&#160;</td>
          <td class="paramname"><em>log</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates that the log writer thread is active. </p>
<p>Used only to assert, that the state is correct. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">log</td><td>redo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1d3d26cf4ca71800d18a85ba2fd153f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3d26cf4ca71800d18a85ba2fd153f3">&#9670;&nbsp;</a></span>log_checksum_algorithm_ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log0types_8h.html#a427e47d06405197f75f8dec7fc686804">log_checksum_func_t</a> log_checksum_algorithm_ptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the log checksum calculation function. </p>

</div>
</div>
<a id="a313f6981ccf5fd96b4aa9661b4938dc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a313f6981ccf5fd96b4aa9661b4938dc5">&#9670;&nbsp;</a></span>log_sys</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlog__t.html">log_t</a>* log_sys</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redo log system (singleton). </p>

</div>
</div>
<a id="a6af342f41eca622e4edb67b0dbaabf3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af342f41eca622e4edb67b0dbaabf3a">&#9670;&nbsp;</a></span>log_sys_object</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classaligned__pointer.html">aligned_pointer</a>&lt;<a class="el" href="structlog__t.html">log_t</a>&gt;* log_sys_object</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Redo log system. </p>
<p>Singleton used to populate global pointer. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_7c61b8982e4f26eda8a4a9a87fddd769.html">log</a></li><li class="navelem"><a class="el" href="log0log_8cc.html">log0log.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
