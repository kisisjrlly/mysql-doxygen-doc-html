<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: DDTableBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classDDTableBuffer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classDDTableBuffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DDTableBuffer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Wrapper for the mysql.innodb_dynamic_metadata used to buffer the persistent dynamic metadata.  
 <a href="classDDTableBuffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dict0dict_8h_source.html">dict0dict.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a879f3f0e51f94389a6d2df7f26bf1e3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a879f3f0e51f94389a6d2df7f26bf1e3b">DDTableBuffer</a> ()</td></tr>
<tr class="memdesc:a879f3f0e51f94389a6d2df7f26bf1e3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a879f3f0e51f94389a6d2df7f26bf1e3b">More...</a><br /></td></tr>
<tr class="separator:a879f3f0e51f94389a6d2df7f26bf1e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05263730583fd6336e40c2e5e8770477"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a05263730583fd6336e40c2e5e8770477">~DDTableBuffer</a> ()</td></tr>
<tr class="memdesc:a05263730583fd6336e40c2e5e8770477"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a05263730583fd6336e40c2e5e8770477">More...</a><br /></td></tr>
<tr class="separator:a05263730583fd6336e40c2e5e8770477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae19338d6bc4d057c9f9116b3cfd9a9cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#ae19338d6bc4d057c9f9116b3cfd9a9cf">replace</a> (<a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a> <a class="el" href="xcom__base_8cc.html#a7307f729d2752bdbe1d32d9fda65f30a">id</a>, uint64_t <a class="el" href="persisted__variable_8cc.html#a7b9a5d15d5aee3e2250719b5fcd930cc">version</a>, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="persisted__variable_8cc.html#a17632c4b396fac52c8df4d4f83af6923">metadata</a>, size_t len)</td></tr>
<tr class="memdesc:ae19338d6bc4d057c9f9116b3cfd9a9cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace the dynamic metadata for a specific table.  <a href="#ae19338d6bc4d057c9f9116b3cfd9a9cf">More...</a><br /></td></tr>
<tr class="separator:ae19338d6bc4d057c9f9116b3cfd9a9cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97a458ed70b9809b0f7386ee5aa7e96"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#ac97a458ed70b9809b0f7386ee5aa7e96">remove</a> (<a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a> <a class="el" href="xcom__base_8cc.html#a7307f729d2752bdbe1d32d9fda65f30a">id</a>)</td></tr>
<tr class="memdesc:ac97a458ed70b9809b0f7386ee5aa7e96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the whole row for a specific table.  <a href="#ac97a458ed70b9809b0f7386ee5aa7e96">More...</a><br /></td></tr>
<tr class="separator:ac97a458ed70b9809b0f7386ee5aa7e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ac7964225c4a594e1acc3566c86118"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#ac2ac7964225c4a594e1acc3566c86118">truncate</a> (void)</td></tr>
<tr class="memdesc:ac2ac7964225c4a594e1acc3566c86118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Truncate the table.  <a href="#ac2ac7964225c4a594e1acc3566c86118">More...</a><br /></td></tr>
<tr class="separator:ac2ac7964225c4a594e1acc3566c86118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18ad9a2d7ea9a8ca84c4da737005db7"><td class="memItemLeft" align="right" valign="top">std::string *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#aa18ad9a2d7ea9a8ca84c4da737005db7">get</a> (<a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a> <a class="el" href="xcom__base_8cc.html#a7307f729d2752bdbe1d32d9fda65f30a">id</a>, <a class="el" href="my__inttypes_8h.html#abc0f5bc07737e498f287334775dff2b6">uint64</a> *<a class="el" href="persisted__variable_8cc.html#a7b9a5d15d5aee3e2250719b5fcd930cc">version</a>)</td></tr>
<tr class="memdesc:aa18ad9a2d7ea9a8ca84c4da737005db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the buffered metadata for a specific table, the caller has to delete the returned std::string object by UT_DELETE.  <a href="#aa18ad9a2d7ea9a8ca84c4da737005db7">More...</a><br /></td></tr>
<tr class="separator:aa18ad9a2d7ea9a8ca84c4da737005db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a76ab90416b5fb7fae1fc38beb5a5e348"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a76ab90416b5fb7fae1fc38beb5a5e348">init</a> ()</td></tr>
<tr class="memdesc:a76ab90416b5fb7fae1fc38beb5a5e348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize m_index, the in-memory clustered index of the table and two tuples used in this class.  <a href="#a76ab90416b5fb7fae1fc38beb5a5e348">More...</a><br /></td></tr>
<tr class="separator:a76ab90416b5fb7fae1fc38beb5a5e348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa509710438e08f1c9ab1099a0e6ba75c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#aa509710438e08f1c9ab1099a0e6ba75c">open</a> ()</td></tr>
<tr class="memdesc:aa509710438e08f1c9ab1099a0e6ba75c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the mysql.innodb_dynamic_metadata when DD is not fully up.  <a href="#aa509710438e08f1c9ab1099a0e6ba75c">More...</a><br /></td></tr>
<tr class="separator:aa509710438e08f1c9ab1099a0e6ba75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71e798526042e74afb25eaacc7ec1c86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a71e798526042e74afb25eaacc7ec1c86">create_tuples</a> ()</td></tr>
<tr class="memdesc:a71e798526042e74afb25eaacc7ec1c86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the search and replace tuples.  <a href="#a71e798526042e74afb25eaacc7ec1c86">More...</a><br /></td></tr>
<tr class="separator:a71e798526042e74afb25eaacc7ec1c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1199cf17ecd24ed704e7d7bebcab9c37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a1199cf17ecd24ed704e7d7bebcab9c37">init_tuple_with_id</a> (<a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, <a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a> <a class="el" href="xcom__base_8cc.html#a7307f729d2752bdbe1d32d9fda65f30a">id</a>)</td></tr>
<tr class="memdesc:a1199cf17ecd24ed704e7d7bebcab9c37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the id field of tuple.  <a href="#a1199cf17ecd24ed704e7d7bebcab9c37">More...</a><br /></td></tr>
<tr class="separator:a1199cf17ecd24ed704e7d7bebcab9c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3770b78e62342b2790965cd6f9cc1e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#aa3770b78e62342b2790965cd6f9cc1e9">close</a> ()</td></tr>
<tr class="memdesc:aa3770b78e62342b2790965cd6f9cc1e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the things initialized in init()  <a href="#aa3770b78e62342b2790965cd6f9cc1e9">More...</a><br /></td></tr>
<tr class="separator:aa3770b78e62342b2790965cd6f9cc1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3bd1ec887958f80c427e4496727e95a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structupd__t.html">upd_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#aa3bd1ec887958f80c427e4496727e95a">update_set_metadata</a> (const <a class="el" href="structdtuple__t.html">dtuple_t</a> *<a class="el" href="completion__hash_8h.html#aea3abbd5a90d07f8abee93d6c28bce9a">entry</a>, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec)</td></tr>
<tr class="memdesc:aa3bd1ec887958f80c427e4496727e95a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare for a update on METADATA field.  <a href="#aa3bd1ec887958f80c427e4496727e95a">More...</a><br /></td></tr>
<tr class="separator:aa3bd1ec887958f80c427e4496727e95a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a72c750998862771f70e35fe77f8bde2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a72c750998862771f70e35fe77f8bde2e">m_index</a></td></tr>
<tr class="memdesc:a72c750998862771f70e35fe77f8bde2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The clustered index of this system table.  <a href="#a72c750998862771f70e35fe77f8bde2e">More...</a><br /></td></tr>
<tr class="separator:a72c750998862771f70e35fe77f8bde2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87b1d637d3e59ddb6a81c53cea10944"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#ad87b1d637d3e59ddb6a81c53cea10944">m_dynamic_heap</a></td></tr>
<tr class="memdesc:ad87b1d637d3e59ddb6a81c53cea10944"><td class="mdescLeft">&#160;</td><td class="mdescRight">The heap used for dynamic allocations, which should always be freed before return.  <a href="#ad87b1d637d3e59ddb6a81c53cea10944">More...</a><br /></td></tr>
<tr class="separator:ad87b1d637d3e59ddb6a81c53cea10944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c7e724770882ceebfebd74603a68e12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a2c7e724770882ceebfebd74603a68e12">m_replace_heap</a></td></tr>
<tr class="memdesc:a2c7e724770882ceebfebd74603a68e12"><td class="mdescLeft">&#160;</td><td class="mdescRight">The heap used during replace() operation, which should always be freed before return.  <a href="#a2c7e724770882ceebfebd74603a68e12">More...</a><br /></td></tr>
<tr class="separator:a2c7e724770882ceebfebd74603a68e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac0c474966745463136f3f5e8ddfa5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#adac0c474966745463136f3f5e8ddfa5e">m_heap</a></td></tr>
<tr class="memdesc:adac0c474966745463136f3f5e8ddfa5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The heap used to create the search tuple and replace tuple.  <a href="#adac0c474966745463136f3f5e8ddfa5e">More...</a><br /></td></tr>
<tr class="separator:adac0c474966745463136f3f5e8ddfa5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0610fec5bfe63d483bf27c35d795d95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#ac0610fec5bfe63d483bf27c35d795d95">m_search_tuple</a></td></tr>
<tr class="memdesc:ac0610fec5bfe63d483bf27c35d795d95"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tuple used to search for specified table, it's protected by dict_persist-&gt;mutex.  <a href="#ac0610fec5bfe63d483bf27c35d795d95">More...</a><br /></td></tr>
<tr class="separator:ac0610fec5bfe63d483bf27c35d795d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b86a1336bee27480958ebaa1ab21673"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a8b86a1336bee27480958ebaa1ab21673">m_replace_tuple</a></td></tr>
<tr class="memdesc:a8b86a1336bee27480958ebaa1ab21673"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tuple used to replace for specified table, it's protected by dict_persist-&gt;mutex.  <a href="#a8b86a1336bee27480958ebaa1ab21673">More...</a><br /></td></tr>
<tr class="separator:a8b86a1336bee27480958ebaa1ab21673"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a2b2c7f8262088ea9f4dcd9bac7c307f4"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a2b2c7f8262088ea9f4dcd9bac7c307f4">TABLE_ID_COL_NO</a> = 0</td></tr>
<tr class="memdesc:a2b2c7f8262088ea9f4dcd9bac7c307f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Column number of mysql.innodb_dynamic_metadata.table_id.  <a href="#a2b2c7f8262088ea9f4dcd9bac7c307f4">More...</a><br /></td></tr>
<tr class="separator:a2b2c7f8262088ea9f4dcd9bac7c307f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e519d86cc010760cab29e6787aa259"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#af3e519d86cc010760cab29e6787aa259">VERSION_COL_NO</a> = 1</td></tr>
<tr class="memdesc:af3e519d86cc010760cab29e6787aa259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Column number of mysql.innodb_dynamic_metadata.version.  <a href="#af3e519d86cc010760cab29e6787aa259">More...</a><br /></td></tr>
<tr class="separator:af3e519d86cc010760cab29e6787aa259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a774abec4befd18dc530139a271dc6b41"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a774abec4befd18dc530139a271dc6b41">METADATA_COL_NO</a> = 2</td></tr>
<tr class="memdesc:a774abec4befd18dc530139a271dc6b41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Column number of mysql.innodb_dynamic_metadata.metadata.  <a href="#a774abec4befd18dc530139a271dc6b41">More...</a><br /></td></tr>
<tr class="separator:a774abec4befd18dc530139a271dc6b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba5b655f84c8443dd01b40c282d145f"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a0ba5b655f84c8443dd01b40c282d145f">N_USER_COLS</a> = <a class="el" href="classDDTableBuffer.html#a774abec4befd18dc530139a271dc6b41">METADATA_COL_NO</a> + 1</td></tr>
<tr class="memdesc:a0ba5b655f84c8443dd01b40c282d145f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of user columns.  <a href="#a0ba5b655f84c8443dd01b40c282d145f">More...</a><br /></td></tr>
<tr class="separator:a0ba5b655f84c8443dd01b40c282d145f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace838e668d4b87551f48d5f3e85b2ba"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#aace838e668d4b87551f48d5f3e85b2ba">N_COLS</a> = <a class="el" href="classDDTableBuffer.html#a0ba5b655f84c8443dd01b40c282d145f">N_USER_COLS</a> + <a class="el" href="data0type_8h.html#a3cd9a891dfbbfb1f5f54402f7cc845ee">DATA_N_SYS_COLS</a></td></tr>
<tr class="memdesc:aace838e668d4b87551f48d5f3e85b2ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of columns.  <a href="#aace838e668d4b87551f48d5f3e85b2ba">More...</a><br /></td></tr>
<tr class="separator:aace838e668d4b87551f48d5f3e85b2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa886594587859f9d4efe32f16083bee5"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#aa886594587859f9d4efe32f16083bee5">TABLE_ID_FIELD_NO</a> = <a class="el" href="classDDTableBuffer.html#a2b2c7f8262088ea9f4dcd9bac7c307f4">TABLE_ID_COL_NO</a></td></tr>
<tr class="memdesc:aa886594587859f9d4efe32f16083bee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clustered index field number of mysql.innodb_dynamic_metadata.table_id.  <a href="#aa886594587859f9d4efe32f16083bee5">More...</a><br /></td></tr>
<tr class="separator:aa886594587859f9d4efe32f16083bee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77718d5efe7c8018e35b3287da674e32"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a77718d5efe7c8018e35b3287da674e32">VERSION_FIELD_NO</a> = <a class="el" href="classDDTableBuffer.html#af3e519d86cc010760cab29e6787aa259">VERSION_COL_NO</a> + 2</td></tr>
<tr class="memdesc:a77718d5efe7c8018e35b3287da674e32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clustered index field number of mysql.innodb_dynamic_metadata.version.  <a href="#a77718d5efe7c8018e35b3287da674e32">More...</a><br /></td></tr>
<tr class="separator:a77718d5efe7c8018e35b3287da674e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9999d7f6696405efa14b97cebb65bdc6"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#a9999d7f6696405efa14b97cebb65bdc6">METADATA_FIELD_NO</a> = <a class="el" href="classDDTableBuffer.html#a774abec4befd18dc530139a271dc6b41">METADATA_COL_NO</a> + 2</td></tr>
<tr class="memdesc:a9999d7f6696405efa14b97cebb65bdc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clustered index field number of mysql.innodb_dynamic_metadata.metadata Plusing 2 here skips the DATA_TRX_ID and DATA_ROLL_PTR fields.  <a href="#a9999d7f6696405efa14b97cebb65bdc6">More...</a><br /></td></tr>
<tr class="separator:a9999d7f6696405efa14b97cebb65bdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd09b2581cc833121181bde48a79a73b"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDDTableBuffer.html#abd09b2581cc833121181bde48a79a73b">N_FIELDS</a> = <a class="el" href="classDDTableBuffer.html#a9999d7f6696405efa14b97cebb65bdc6">METADATA_FIELD_NO</a> + 1</td></tr>
<tr class="memdesc:abd09b2581cc833121181bde48a79a73b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of fields in the clustered index.  <a href="#abd09b2581cc833121181bde48a79a73b">More...</a><br /></td></tr>
<tr class="separator:abd09b2581cc833121181bde48a79a73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Wrapper for the mysql.innodb_dynamic_metadata used to buffer the persistent dynamic metadata. </p>
<p>This should be a table with only clustered index, no delete-marked records, no locking, no undo logging, no purge, no adaptive hash index. We should always use low level btr functions to access and modify the table. Accessing this table should be protected by dict_sys-&gt;mutex </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a879f3f0e51f94389a6d2df7f26bf1e3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879f3f0e51f94389a6d2df7f26bf1e3b">&#9670;&nbsp;</a></span>DDTableBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DDTableBuffer::DDTableBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

</div>
</div>
<a id="a05263730583fd6336e40c2e5e8770477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05263730583fd6336e40c2e5e8770477">&#9670;&nbsp;</a></span>~DDTableBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DDTableBuffer::~DDTableBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa3770b78e62342b2790965cd6f9cc1e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3770b78e62342b2790965cd6f9cc1e9">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DDTableBuffer::close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free the things initialized in init() </p>

</div>
</div>
<a id="a71e798526042e74afb25eaacc7ec1c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71e798526042e74afb25eaacc7ec1c86">&#9670;&nbsp;</a></span>create_tuples()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DDTableBuffer::create_tuples </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create the search and replace tuples. </p>

</div>
</div>
<a id="aa18ad9a2d7ea9a8ca84c4da737005db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa18ad9a2d7ea9a8ca84c4da737005db7">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string * DDTableBuffer::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#abc0f5bc07737e498f287334775dff2b6">uint64</a> *&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the buffered metadata for a specific table, the caller has to delete the returned std::string object by UT_DELETE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>table id </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">version</td><td>table dynamic metadata version </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the metadata saved in a string object, if nothing, the string would be of length 0 </dd></dl>

</div>
</div>
<a id="a76ab90416b5fb7fae1fc38beb5a5e348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ab90416b5fb7fae1fc38beb5a5e348">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DDTableBuffer::init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize m_index, the in-memory clustered index of the table and two tuples used in this class. </p>
<p>Initialize the in-memory index. </p>

</div>
</div>
<a id="a1199cf17ecd24ed704e7d7bebcab9c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1199cf17ecd24ed704e7d7bebcab9c37">&#9670;&nbsp;</a></span>init_tuple_with_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DDTableBuffer::init_tuple_with_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the id field of tuple. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">tuple</td><td>the tuple to be initialized </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>table id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa509710438e08f1c9ab1099a0e6ba75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa509710438e08f1c9ab1099a0e6ba75c">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DDTableBuffer::open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open the mysql.innodb_dynamic_metadata when DD is not fully up. </p>

</div>
</div>
<a id="ac97a458ed70b9809b0f7386ee5aa7e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97a458ed70b9809b0f7386ee5aa7e96">&#9670;&nbsp;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> DDTableBuffer::remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove the whole row for a specific table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>table id </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>

</div>
</div>
<a id="ae19338d6bc4d057c9f9116b3cfd9a9cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae19338d6bc4d057c9f9116b3cfd9a9cf">&#9670;&nbsp;</a></span>replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> DDTableBuffer::replace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace the dynamic metadata for a specific table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>table id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">version</td><td>table dynamic metadata version </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">metadata</td><td>the metadata we want to replace </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>the metadata length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>

</div>
</div>
<a id="ac2ac7964225c4a594e1acc3566c86118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ac7964225c4a594e1acc3566c86118">&#9670;&nbsp;</a></span>truncate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DDTableBuffer::truncate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Truncate the table. </p>
<p>We can call it after all the dynamic metadata has been written back to DD table </p>

</div>
</div>
<a id="aa3bd1ec887958f80c427e4496727e95a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3bd1ec887958f80c427e4496727e95a">&#9670;&nbsp;</a></span>update_set_metadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structupd__t.html">upd_t</a> * DDTableBuffer::update_set_metadata </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare for a update on METADATA field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">entry</td><td>clustered index entry to replace rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>clustered index record </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>update vector of differing fields without system columns, or NULL if there isn't any different field </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad87b1d637d3e59ddb6a81c53cea10944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad87b1d637d3e59ddb6a81c53cea10944">&#9670;&nbsp;</a></span>m_dynamic_heap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a>* DDTableBuffer::m_dynamic_heap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The heap used for dynamic allocations, which should always be freed before return. </p>

</div>
</div>
<a id="adac0c474966745463136f3f5e8ddfa5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac0c474966745463136f3f5e8ddfa5e">&#9670;&nbsp;</a></span>m_heap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a>* DDTableBuffer::m_heap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The heap used to create the search tuple and replace tuple. </p>

</div>
</div>
<a id="a72c750998862771f70e35fe77f8bde2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c750998862771f70e35fe77f8bde2e">&#9670;&nbsp;</a></span>m_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__index__t.html">dict_index_t</a>* DDTableBuffer::m_index</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The clustered index of this system table. </p>

</div>
</div>
<a id="a2c7e724770882ceebfebd74603a68e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c7e724770882ceebfebd74603a68e12">&#9670;&nbsp;</a></span>m_replace_heap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a>* DDTableBuffer::m_replace_heap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The heap used during replace() operation, which should always be freed before return. </p>

</div>
</div>
<a id="a8b86a1336bee27480958ebaa1ab21673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b86a1336bee27480958ebaa1ab21673">&#9670;&nbsp;</a></span>m_replace_tuple</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdtuple__t.html">dtuple_t</a>* DDTableBuffer::m_replace_tuple</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The tuple used to replace for specified table, it's protected by dict_persist-&gt;mutex. </p>

</div>
</div>
<a id="ac0610fec5bfe63d483bf27c35d795d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0610fec5bfe63d483bf27c35d795d95">&#9670;&nbsp;</a></span>m_search_tuple</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdtuple__t.html">dtuple_t</a>* DDTableBuffer::m_search_tuple</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The tuple used to search for specified table, it's protected by dict_persist-&gt;mutex. </p>

</div>
</div>
<a id="a774abec4befd18dc530139a271dc6b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a774abec4befd18dc530139a271dc6b41">&#9670;&nbsp;</a></span>METADATA_COL_NO</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::METADATA_COL_NO = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Column number of mysql.innodb_dynamic_metadata.metadata. </p>

</div>
</div>
<a id="a9999d7f6696405efa14b97cebb65bdc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9999d7f6696405efa14b97cebb65bdc6">&#9670;&nbsp;</a></span>METADATA_FIELD_NO</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::METADATA_FIELD_NO = <a class="el" href="classDDTableBuffer.html#a774abec4befd18dc530139a271dc6b41">METADATA_COL_NO</a> + 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clustered index field number of mysql.innodb_dynamic_metadata.metadata Plusing 2 here skips the DATA_TRX_ID and DATA_ROLL_PTR fields. </p>

</div>
</div>
<a id="aace838e668d4b87551f48d5f3e85b2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace838e668d4b87551f48d5f3e85b2ba">&#9670;&nbsp;</a></span>N_COLS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::N_COLS = <a class="el" href="classDDTableBuffer.html#a0ba5b655f84c8443dd01b40c282d145f">N_USER_COLS</a> + <a class="el" href="data0type_8h.html#a3cd9a891dfbbfb1f5f54402f7cc845ee">DATA_N_SYS_COLS</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of columns. </p>

</div>
</div>
<a id="abd09b2581cc833121181bde48a79a73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd09b2581cc833121181bde48a79a73b">&#9670;&nbsp;</a></span>N_FIELDS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::N_FIELDS = <a class="el" href="classDDTableBuffer.html#a9999d7f6696405efa14b97cebb65bdc6">METADATA_FIELD_NO</a> + 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of fields in the clustered index. </p>

</div>
</div>
<a id="a0ba5b655f84c8443dd01b40c282d145f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba5b655f84c8443dd01b40c282d145f">&#9670;&nbsp;</a></span>N_USER_COLS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::N_USER_COLS = <a class="el" href="classDDTableBuffer.html#a774abec4befd18dc530139a271dc6b41">METADATA_COL_NO</a> + 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of user columns. </p>

</div>
</div>
<a id="a2b2c7f8262088ea9f4dcd9bac7c307f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2c7f8262088ea9f4dcd9bac7c307f4">&#9670;&nbsp;</a></span>TABLE_ID_COL_NO</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::TABLE_ID_COL_NO = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Column number of mysql.innodb_dynamic_metadata.table_id. </p>

</div>
</div>
<a id="aa886594587859f9d4efe32f16083bee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa886594587859f9d4efe32f16083bee5">&#9670;&nbsp;</a></span>TABLE_ID_FIELD_NO</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::TABLE_ID_FIELD_NO = <a class="el" href="classDDTableBuffer.html#a2b2c7f8262088ea9f4dcd9bac7c307f4">TABLE_ID_COL_NO</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clustered index field number of mysql.innodb_dynamic_metadata.table_id. </p>

</div>
</div>
<a id="af3e519d86cc010760cab29e6787aa259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3e519d86cc010760cab29e6787aa259">&#9670;&nbsp;</a></span>VERSION_COL_NO</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::VERSION_COL_NO = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Column number of mysql.innodb_dynamic_metadata.version. </p>

</div>
</div>
<a id="a77718d5efe7c8018e35b3287da674e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77718d5efe7c8018e35b3287da674e32">&#9670;&nbsp;</a></span>VERSION_FIELD_NO</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned DDTableBuffer::VERSION_FIELD_NO = <a class="el" href="classDDTableBuffer.html#af3e519d86cc010760cab29e6787aa259">VERSION_COL_NO</a> + 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clustered index field number of mysql.innodb_dynamic_metadata.version. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>storage/innobase/include/<a class="el" href="dict0dict_8h_source.html">dict0dict.h</a></li>
<li>storage/innobase/dict/<a class="el" href="dict0dict_8cc.html">dict0dict.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classDDTableBuffer.html">DDTableBuffer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
