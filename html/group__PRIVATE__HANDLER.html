<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: InnoDB Partitioning Private Handler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__PRIVATE__HANDLER.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">InnoDB Partitioning Private Handler</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions specific for native InnoDB partitioning.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga66a08d8985fdef61524c17bb9b704096"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga66a08d8985fdef61524c17bb9b704096">ha_innopart::open</a> (const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, int mode, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> test_if_locked, const <a class="el" href="classdd_1_1Table.html">dd::Table</a> *<a class="el" href="classtable__def.html">table_def</a>) override</td></tr>
<tr class="memdesc:ga66a08d8985fdef61524c17bb9b704096"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open an InnoDB table.  <a href="#ga66a08d8985fdef61524c17bb9b704096">More...</a><br /></td></tr>
<tr class="separator:ga66a08d8985fdef61524c17bb9b704096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1693c8027c0450cf42f9fe78a32593cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga1693c8027c0450cf42f9fe78a32593cc">ha_innopart::close</a> () override</td></tr>
<tr class="memdesc:ga1693c8027c0450cf42f9fe78a32593cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a handle to an InnoDB table.  <a href="#ga1693c8027c0450cf42f9fe78a32593cc">More...</a><br /></td></tr>
<tr class="separator:ga1693c8027c0450cf42f9fe78a32593cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25bb5886aa04e2b4488ee3a82e5cbc02"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga25bb5886aa04e2b4488ee3a82e5cbc02">ha_innopart::scan_time</a> () override</td></tr>
<tr class="memdesc:ga25bb5886aa04e2b4488ee3a82e5cbc02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time estimate for full table scan.  <a href="#ga25bb5886aa04e2b4488ee3a82e5cbc02">More...</a><br /></td></tr>
<tr class="separator:ga25bb5886aa04e2b4488ee3a82e5cbc02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4144012d1f7d568dfcb896d1131af698"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga4144012d1f7d568dfcb896d1131af698">ha_innopart::was_semi_consistent_read</a> () override</td></tr>
<tr class="memdesc:ga4144012d1f7d568dfcb896d1131af698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Was the last returned row semi consistent read.  <a href="#ga4144012d1f7d568dfcb896d1131af698">More...</a><br /></td></tr>
<tr class="separator:ga4144012d1f7d568dfcb896d1131af698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92a0f60851cef91f64a913af312ed240"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga92a0f60851cef91f64a913af312ed240">ha_innopart::try_semi_consistent_read</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> yes) override</td></tr>
<tr class="memdesc:ga92a0f60851cef91f64a913af312ed240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try semi consistent read.  <a href="#ga92a0f60851cef91f64a913af312ed240">More...</a><br /></td></tr>
<tr class="separator:ga92a0f60851cef91f64a913af312ed240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ac38c8df0ffeb09b7de13f3a6cd10d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga7ac38c8df0ffeb09b7de13f3a6cd10d3">ha_innopart::unlock_row</a> () override</td></tr>
<tr class="memdesc:ga7ac38c8df0ffeb09b7de13f3a6cd10d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a lock on a row.  <a href="#ga7ac38c8df0ffeb09b7de13f3a6cd10d3">More...</a><br /></td></tr>
<tr class="separator:ga7ac38c8df0ffeb09b7de13f3a6cd10d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83c8a1c634d734625f5b02356b558593"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga83c8a1c634d734625f5b02356b558593">ha_innopart::index_init</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sorted) override</td></tr>
<tr class="memdesc:ga83c8a1c634d734625f5b02356b558593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a handle to use an index.  <a href="#ga83c8a1c634d734625f5b02356b558593">More...</a><br /></td></tr>
<tr class="separator:ga83c8a1c634d734625f5b02356b558593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga410bd45d099e12e2d372ad7229566d25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga410bd45d099e12e2d372ad7229566d25">ha_innopart::index_end</a> () override</td></tr>
<tr class="memdesc:ga410bd45d099e12e2d372ad7229566d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">End index cursor.  <a href="#ga410bd45d099e12e2d372ad7229566d25">More...</a><br /></td></tr>
<tr class="separator:ga410bd45d099e12e2d372ad7229566d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga251b5008a845bb57a23b38a8c339c90f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga251b5008a845bb57a23b38a8c339c90f">ha_innopart::rnd_init</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> scan) override</td></tr>
<tr class="memdesc:ga251b5008a845bb57a23b38a8c339c90f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a table scan.  <a href="#ga251b5008a845bb57a23b38a8c339c90f">More...</a><br /></td></tr>
<tr class="separator:ga251b5008a845bb57a23b38a8c339c90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac16c679b99fbcf88b1651e50726b8b6b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#gac16c679b99fbcf88b1651e50726b8b6b">ha_innopart::rnd_end</a> () override</td></tr>
<tr class="memdesc:gac16c679b99fbcf88b1651e50726b8b6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends a table scan.  <a href="#gac16c679b99fbcf88b1651e50726b8b6b">More...</a><br /></td></tr>
<tr class="separator:gac16c679b99fbcf88b1651e50726b8b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8b49ac0f42b6e6c6a79eb326f5522e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#gac8b49ac0f42b6e6c6a79eb326f5522e4">ha_innopart::external_lock</a> (<a class="el" href="classTHD.html">THD</a> *thd, int lock_type) override</td></tr>
<tr class="memdesc:gac8b49ac0f42b6e6c6a79eb326f5522e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock/prepare to lock table.  <a href="#gac8b49ac0f42b6e6c6a79eb326f5522e4">More...</a><br /></td></tr>
<tr class="separator:gac8b49ac0f42b6e6c6a79eb326f5522e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9774a407435944f61025ab5c3d8a2347"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTHR__LOCK__DATA.html">THR_LOCK_DATA</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga9774a407435944f61025ab5c3d8a2347">ha_innopart::store_lock</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTHR__LOCK__DATA.html">THR_LOCK_DATA</a> **to, <a class="el" href="thr__lock_8h.html#a43801b0a0281484bf8f90c80d701ccb3">thr_lock_type</a> lock_type) override</td></tr>
<tr class="memdesc:ga9774a407435944f61025ab5c3d8a2347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to store lock for all partitions in native partitioned table.  <a href="#ga9774a407435944f61025ab5c3d8a2347">More...</a><br /></td></tr>
<tr class="separator:ga9774a407435944f61025ab5c3d8a2347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga450ee9e6861663b2a9e814d3ee5bbf01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga450ee9e6861663b2a9e814d3ee5bbf01">ha_innopart::write_row</a> (<a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="structrecord.html">record</a>) override</td></tr>
<tr class="memdesc:ga450ee9e6861663b2a9e814d3ee5bbf01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores a row in an InnoDB database, to the table specified in this handle.  <a href="#ga450ee9e6861663b2a9e814d3ee5bbf01">More...</a><br /></td></tr>
<tr class="separator:ga450ee9e6861663b2a9e814d3ee5bbf01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94fc3f3ee0e1c409a055d8447a783f26"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#ga94fc3f3ee0e1c409a055d8447a783f26">ha_innopart::update_row</a> (const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *old_record, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *new_record) override</td></tr>
<tr class="memdesc:ga94fc3f3ee0e1c409a055d8447a783f26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates a row given as a parameter to a new value.  <a href="#ga94fc3f3ee0e1c409a055d8447a783f26">More...</a><br /></td></tr>
<tr class="separator:ga94fc3f3ee0e1c409a055d8447a783f26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae30201abe4fb1340b988ce3a277bdfe6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PRIVATE__HANDLER.html#gae30201abe4fb1340b988ce3a277bdfe6">ha_innopart::delete_row</a> (const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="structrecord.html">record</a>) override</td></tr>
<tr class="memdesc:gae30201abe4fb1340b988ce3a277bdfe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a row given as the parameter.  <a href="#gae30201abe4fb1340b988ce3a277bdfe6">More...</a><br /></td></tr>
<tr class="separator:gae30201abe4fb1340b988ce3a277bdfe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions specific for native InnoDB partitioning. </p>
<dl class="section see"><dt>See also</dt><dd>handler.h </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1693c8027c0450cf42f9fe78a32593cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1693c8027c0450cf42f9fe78a32593cc">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes a handle to an InnoDB table. </p>
<dl class="section return"><dt>Returns</dt><dd>0 </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a8644a1842b94dae86679d3166d85c2a6">ha_innobase</a>.</p>

</div>
</div>
<a id="gae30201abe4fb1340b988ce3a277bdfe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae30201abe4fb1340b988ce3a277bdfe6">&#9670;&nbsp;</a></span>delete_row()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::delete_row </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes a row given as the parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>error number or 0 </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#afca34d7d3d9efcb40f6143fc11f9d5af">ha_innobase</a>.</p>

</div>
</div>
<a id="gac8b49ac0f42b6e6c6a79eb326f5522e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8b49ac0f42b6e6c6a79eb326f5522e4">&#9670;&nbsp;</a></span>external_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::external_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lock_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lock/prepare to lock table. </p>
<p>As MySQL will execute an external lock for every new table it uses when it starts to process an SQL statement (an exception is when MySQL calls start_stmt for the handle) we can use this function to store the pointer to the THD in the handle. We will also use this function to communicate to InnoDB that a new SQL statement has started and that we must store a savepoint to our transaction handle, so that we are able to roll back the SQL statement in case of an error. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Handle to the user thread. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_type</td><td>Lock type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or error number. </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#aa9ee606c8a0bcb787cd57b3f0f808adc">ha_innobase</a>.</p>

</div>
</div>
<a id="ga410bd45d099e12e2d372ad7229566d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga410bd45d099e12e2d372ad7229566d25">&#9670;&nbsp;</a></span>index_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::index_end </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>End index cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>0 or error code. </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a539589601452095deb50f43eed9153e0">ha_innobase</a>.</p>

</div>
</div>
<a id="ga83c8a1c634d734625f5b02356b558593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83c8a1c634d734625f5b02356b558593">&#9670;&nbsp;</a></span>index_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::index_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>keynr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>sorted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes a handle to use an index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">keynr</td><td>Key (index) number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sorted</td><td>True if result MUST be sorted according to index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or error number. </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#aba62194dbbc6666c763284c900781cde">ha_innobase</a>.</p>

</div>
</div>
<a id="ga66a08d8985fdef61524c17bb9b704096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66a08d8985fdef61524c17bb9b704096">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>test_if_locked</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Table.html">dd::Table</a> *&#160;</td>
          <td class="paramname"><em>table_def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open an InnoDB table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>table name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>access mode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">test_if_locked</td><td>test if the file to be opened is locked </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table_def</td><td>dd::Table describing table to be opened </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if error </td></tr>
    <tr><td class="paramname">0</td><td>if success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a928d9a737a350ec3bdc246bce46c469a">ha_innobase</a>.</p>

</div>
</div>
<a id="gac16c679b99fbcf88b1651e50726b8b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac16c679b99fbcf88b1651e50726b8b6b">&#9670;&nbsp;</a></span>rnd_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::rnd_end </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ends a table scan. </p>
<dl class="section return"><dt>Returns</dt><dd>0 or error number </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a4f3100a96ea13005f90e2b65e391f9eb">ha_innobase</a>.</p>

</div>
</div>
<a id="ga251b5008a845bb57a23b38a8c339c90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga251b5008a845bb57a23b38a8c339c90f">&#9670;&nbsp;</a></span>rnd_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::rnd_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>scan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize a table scan. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">scan</td><td>whether this is a second call to rnd_init() without rnd_end() in between </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or error number </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a6a8e8805da5c40b0ab44d83815865aa6">ha_innobase</a>.</p>

</div>
</div>
<a id="ga25bb5886aa04e2b4488ee3a82e5cbc02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25bb5886aa04e2b4488ee3a82e5cbc02">&#9670;&nbsp;</a></span>scan_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ha_innopart::scan_time </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time estimate for full table scan. </p>
<p>How many seeks it will take to read through the table. This is to be comparable to the number returned by records_in_range so that we can decide if we should scan the table or use keys. </p><dl class="section return"><dt>Returns</dt><dd>estimated time measured in disk seeks. </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a3505b4fcd544e155238c18326eaac51a">ha_innobase</a>.</p>

</div>
</div>
<a id="ga9774a407435944f61025ab5c3d8a2347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9774a407435944f61025ab5c3d8a2347">&#9670;&nbsp;</a></span>store_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTHR__LOCK__DATA.html">THR_LOCK_DATA</a> ** ha_innopart::store_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTHR__LOCK__DATA.html">THR_LOCK_DATA</a> **&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="thr__lock_8h.html#a43801b0a0281484bf8f90c80d701ccb3">thr_lock_type</a>&#160;</td>
          <td class="paramname"><em>lock_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to store lock for all partitions in native partitioned table. </p>
<p>Also look at ha_innobase::store_lock for more details. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>user thread handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to</td><td>pointer to the current element in an array of pointers to lock structs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_type</td><td>lock type to store in 'lock'; this may also be TL_IGNORE </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">to</td><td>pointer to the current element in the 'to' array </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a9d647e97f555625b358f8916af249c0d">ha_innobase</a>.</p>

</div>
</div>
<a id="ga92a0f60851cef91f64a913af312ed240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92a0f60851cef91f64a913af312ed240">&#9670;&nbsp;</a></span>try_semi_consistent_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ha_innopart::try_semi_consistent_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>yes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try semi consistent read. </p>
<p>Tell the engine whether it should avoid unnecessary lock waits. If yes, in an UPDATE or DELETE, if the row under the cursor was locked by another transaction, the engine may try an optimistic read of the last committed row value under the cursor. </p><dl class="section see"><dt>See also</dt><dd>handler.h and row0mysql.h </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">yes</td><td>Should semi-consistent read be used. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#ac9584f11c212c4ad6e1e270055122435">ha_innobase</a>.</p>

</div>
</div>
<a id="ga7ac38c8df0ffeb09b7de13f3a6cd10d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ac38c8df0ffeb09b7de13f3a6cd10d3">&#9670;&nbsp;</a></span>unlock_row()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ha_innopart::unlock_row </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a lock on a row. </p>
<p>Removes a new lock set on a row, if it was not read optimistically. This can be called after a row has been read in the processing of an UPDATE or a DELETE query. </p><dl class="section see"><dt>See also</dt><dd>ha_innobase::unlock_row(). </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a79f39bfde37d1a055be72730da08c0d4">ha_innobase</a>.</p>

</div>
</div>
<a id="ga94fc3f3ee0e1c409a055d8447a783f26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94fc3f3ee0e1c409a055d8447a783f26">&#9670;&nbsp;</a></span>update_row()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::update_row </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>old_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>new_row</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates a row given as a parameter to a new value. </p>
<p>Note that we are given whole rows, not just the fields which are updated: this incurs some overhead for CPU when we check which fields are actually updated. TODO: currently InnoDB does not prevent the 'Halloween problem': in a searched update a single row can get updated several times if its index columns are updated! </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">old_row</td><td>Old row contents in MySQL format </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">new_row</td><td>Updated row contents in MySQL format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error number or 0 </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a517b1ecde7d65b3da61b8d2bba00389c">ha_innobase</a>.</p>

</div>
</div>
<a id="ga4144012d1f7d568dfcb896d1131af698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4144012d1f7d568dfcb896d1131af698">&#9670;&nbsp;</a></span>was_semi_consistent_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> ha_innopart::was_semi_consistent_read </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Was the last returned row semi consistent read. </p>
<p>In an UPDATE or DELETE, if the row under the cursor was locked by another transaction, and the engine used an optimistic read of the last committed row value under the cursor, then the engine returns 1 from this function. MySQL must NOT try to update this optimistic value. If the optimistic value does not match the WHERE condition, MySQL can decide to skip over this row. This can be used to avoid unnecessary lock waits.</p>
<p>If this method returns true, it will also signal the storage engine that the next read will be a locking re-read of the row. </p><dl class="section see"><dt>See also</dt><dd>handler.h and row0mysql.h </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>true if last read was semi consistent else false. </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#a82ed82289ef82d7553b4dde7536bab3e">ha_innobase</a>.</p>

</div>
</div>
<a id="ga450ee9e6861663b2a9e814d3ee5bbf01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga450ee9e6861663b2a9e814d3ee5bbf01">&#9670;&nbsp;</a></span>write_row()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ha_innopart::write_row </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>record</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores a row in an InnoDB database, to the table specified in this handle. </p>
<dl class="section return"><dt>Returns</dt><dd>error code </dd></dl>

<p>Reimplemented from <a class="el" href="classha__innobase.html#ae89861bd4a0fd74b4a8b0d495472a363">ha_innobase</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
