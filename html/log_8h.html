<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/log.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('log_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">log.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Error logging, slow query logging, general query logging: If it's server-internal, and it's logging, it's here.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="log__shared_8h_source.html">mysql/components/services/log_shared.h</a>&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__command_8h_source.html">my_command.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__compiler_8h_source.html">my_compiler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__inttypes_8h_source.html">my_inttypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__io_8h_source.html">my_io.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__loglevel_8h_source.html">my_loglevel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__psi__config_8h_source.html">my_psi_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__thread__local_8h_source.html">my_thread_local.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__mutex__bits_8h_source.html">mysql/components/services/mysql_mutex_bits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__rwlock__bits_8h_source.html">mysql/components/services/mysql_rwlock_bits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__file__bits_8h_source.html">mysql/components/services/psi_file_bits.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi_2mysql__mutex_8h_source.html">mysql/psi/mysql_mutex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__com_8h_source.html">mysql_com.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__security__ctx_8h_source.html">sql/auth/sql_security_ctx.h</a>&quot;</code><br />
</div>
<p><a href="log_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLog__event__handler.html">Log_event_handler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract superclass for handling logging to slow/general logs.  <a href="classLog__event__handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLog__to__csv__event__handler.html">Log_to_csv_event_handler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class responsible for table based logging.  <a href="classLog__to__csv__event__handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQuery__logger.html">Query_logger</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class which manages slow and general log event handlers.  <a href="classQuery__logger.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLog__throttle.html">Log_throttle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base class for rate-limiting a log (slow query log etc.)  <a href="classLog__throttle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSlow__log__throttle.html">Slow_log_throttle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for rate-limiting the slow query log.  <a href="classSlow__log__throttle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classError__log__throttle.html">Error_log_throttle</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2427d8c48455f1a515a3516dadbe0e5b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a2427d8c48455f1a515a3516dadbe0e5b">log_errlog</a>(level,  errcode, ...)</td></tr>
<tr class="memdesc:a2427d8c48455f1a515a3516dadbe0e5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up basics, fetch message for "errcode", insert any va_args, call the new error stack.  <a href="#a2427d8c48455f1a515a3516dadbe0e5b">More...</a><br /></td></tr>
<tr class="separator:a2427d8c48455f1a515a3516dadbe0e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c0daef8512e69af5a6cf096c05c891"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a17c0daef8512e69af5a6cf096c05c891">log_errlog_formatted</a>(level, ...)</td></tr>
<tr class="memdesc:a17c0daef8512e69af5a6cf096c05c891"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default tags + freeform message.  <a href="#a17c0daef8512e69af5a6cf096c05c891">More...</a><br /></td></tr>
<tr class="separator:a17c0daef8512e69af5a6cf096c05c891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5432ac2bf9126f9d5b719bcf77a9a7d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a5432ac2bf9126f9d5b719bcf77a9a7d8">log_errlog_rich</a>(level, ...)</td></tr>
<tr class="memdesc:a5432ac2bf9126f9d5b719bcf77a9a7d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the default tags, then let us add/override any key/value we like, call the new error stack.  <a href="#a5432ac2bf9126f9d5b719bcf77a9a7d8">More...</a><br /></td></tr>
<tr class="separator:a5432ac2bf9126f9d5b719bcf77a9a7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91043ac8ecffe867a699fecb1136dcf2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a91043ac8ecffe867a699fecb1136dcf2">sql_print_information</a>(...)&#160;&#160;&#160;<a class="el" href="log_8h.html#a17c0daef8512e69af5a6cf096c05c891">log_errlog_formatted</a>(<a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82a75ffab26ca0aaa9aac3275564ba60772">INFORMATION_LEVEL</a>, ##__VA_ARGS__)</td></tr>
<tr class="memdesc:a91043ac8ecffe867a699fecb1136dcf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define sql_print_*() so they use the new log_message() variadic convenience interface to logging.  <a href="#a91043ac8ecffe867a699fecb1136dcf2">More...</a><br /></td></tr>
<tr class="separator:a91043ac8ecffe867a699fecb1136dcf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d36982e9d50987adbd9654fd4be2521"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a3d36982e9d50987adbd9654fd4be2521">sql_print_warning</a>(...)&#160;&#160;&#160;<a class="el" href="log_8h.html#a17c0daef8512e69af5a6cf096c05c891">log_errlog_formatted</a>(<a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82a1ff684c66a37ba2ca37fb888f9144443">WARNING_LEVEL</a>, ##__VA_ARGS__)</td></tr>
<tr class="separator:a3d36982e9d50987adbd9654fd4be2521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25bc67fecf372794b41bc7d28ff0809f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a25bc67fecf372794b41bc7d28ff0809f">sql_print_error</a>(...)&#160;&#160;&#160;<a class="el" href="log_8h.html#a17c0daef8512e69af5a6cf096c05c891">log_errlog_formatted</a>(<a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82a24d71b948063eaf4e964c1ebc22ed5e8">ERROR_LEVEL</a>, ##__VA_ARGS__)</td></tr>
<tr class="separator:a25bc67fecf372794b41bc7d28ff0809f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a48ddaff1dfcb5a7f4472d652ac3e0b8f"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6">enum_log_error_stack_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a48ddaff1dfcb5a7f4472d652ac3e0b8f">log_error_stack_error</a></td></tr>
<tr class="memdesc:a48ddaff1dfcb5a7f4472d652ac3e0b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Well-known values returned by log_error_stack().  <a href="#a48ddaff1dfcb5a7f4472d652ac3e0b8f">More...</a><br /></td></tr>
<tr class="separator:a48ddaff1dfcb5a7f4472d652ac3e0b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9f1845bedd997e2518589e06dcf0d774"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774">enum_log_table_type</a> { <a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774a79f921c0d9b77294c0d27c38d02f7ce5">QUERY_LOG_NONE</a> = 0, 
<a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774acdcf14e18198613e77c0d4e71fc110ff">QUERY_LOG_SLOW</a> = 1, 
<a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774a918d5a3cc599e30ba3f933e5d59211d4">QUERY_LOG_GENERAL</a> = 2
 }<tr class="memdesc:a9f1845bedd997e2518589e06dcf0d774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the log table.  <a href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a9f1845bedd997e2518589e06dcf0d774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f360b22dd15e3eecd53c745522cacaf"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a0f360b22dd15e3eecd53c745522cacaf">enum_iso8601_tzmode</a> { <a class="el" href="log_8h.html#a0f360b22dd15e3eecd53c745522cacafa358e085021b35af8117492d71398bf86">iso8601_sysvar_logtimestamps</a> = -1, 
<a class="el" href="log_8h.html#a0f360b22dd15e3eecd53c745522cacafa19a64e8a784941ac303ebba72d3dc6ea">iso8601_utc</a> = 0, 
<a class="el" href="log_8h.html#a0f360b22dd15e3eecd53c745522cacafaffadb53dd632ed1e69ba5c60e6bee3a2">iso8601_system_time</a> = 1
 }<tr class="memdesc:a0f360b22dd15e3eecd53c745522cacaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to generate a UTC timestamp, or one following system-time.  <a href="log_8h.html#a0f360b22dd15e3eecd53c745522cacaf">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a0f360b22dd15e3eecd53c745522cacaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7514ec4074e0a3539e565295086466f6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6">enum_log_error_stack_error</a> { <br />
&#160;&#160;<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a4bd36af0565aefcce4da3cfb03473cc0">LOG_ERROR_STACK_SUCCESS</a> = 0, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a88a5aaad2073824aade88d365ab6e51d">LOG_ERROR_STACK_DELIMITER_MISSING</a> = -1, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a189156ffba8a9bedf49f2ebf27159cc5">LOG_ERROR_STACK_SERVICE_MISSING</a> = -2, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a43c69fb19d923b6c43e348a565303fc2">LOG_ERROR_STACK_CACHE_ENTRY_OOM</a> = -3, 
<br />
&#160;&#160;<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a37d8b091262b943346b32389c50a38e8">LOG_ERROR_STACK_MULTITON_DENIED</a> = -4, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a34b1a6d406970ac59f839ad5e59ffc17">LOG_ERROR_STACK_SERVICE_INSTANCE_OOM</a> = -5, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a658302f5af6de8137fb72727be35d1f2">LOG_ERROR_STACK_ENDS_IN_NON_SINK</a> = -6, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6aad5609b1c9b8207411c89f364f66196f">LOG_ERROR_STACK_SERVICE_UNAVAILABLE</a> = -7, 
<br />
&#160;&#160;<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a342d2900f3498c56ba8c506d826c2140">LOG_ERROR_STACK_NO_PFS_SUPPORT</a> = -50, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a8f1455b534a93d597cd85e521fe9f737">LOG_ERROR_STACK_NO_LOG_PARSER</a> = -51, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a57d6320fb9b3f1d20825b88f008aa4e9">LOG_ERROR_MULTIPLE_FILTERS</a> = -52, 
<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6a6a362209c48dc7fb3e7c538bd888bcc7">LOG_ERROR_UNEXPECTED_DELIMITER_FOUND</a> = -101, 
<br />
&#160;&#160;<a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6ab47c405d2188845d11f34ed72653aa60">LOG_ERROR_MIXED_DELIMITERS</a> = -102
<br />
 }<tr class="memdesc:a7514ec4074e0a3539e565295086466f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Well-known values returned by log_error_stack().  <a href="log_8h.html#a7514ec4074e0a3539e565295086466f6">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a7514ec4074e0a3539e565295086466f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4838f429e08c58de37dd5d20d61f55a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ac4838f429e08c58de37dd5d20d61f55a">log_vmessage</a> (int <a class="el" href="mi__log_8cc.html#ad1e2a6d9014a2af70dfa80ce7b69d4b0">log_type</a>, va_list lili)</td></tr>
<tr class="memdesc:ac4838f429e08c58de37dd5d20d61f55a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a message to a log (for now just used for error log).  <a href="#ac4838f429e08c58de37dd5d20d61f55a">More...</a><br /></td></tr>
<tr class="separator:ac4838f429e08c58de37dd5d20d61f55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a777f7139b72c0f21f68afbf34a81c96b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a777f7139b72c0f21f68afbf34a81c96b">log_message</a> (int <a class="el" href="mi__log_8cc.html#ad1e2a6d9014a2af70dfa80ce7b69d4b0">log_type</a>,...)</td></tr>
<tr class="memdesc:a777f7139b72c0f21f68afbf34a81c96b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variadic convenience function for logging.  <a href="#a777f7139b72c0f21f68afbf34a81c96b">More...</a><br /></td></tr>
<tr class="separator:a777f7139b72c0f21f68afbf34a81c96b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8f1cf32366ee67ad98128ceedd1a0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a0d8f1cf32366ee67ad98128ceedd1a0f">log_get_thread_id</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a0d8f1cf32366ee67ad98128ceedd1a0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper that we can stubify so we don't have to pull all of THD into the unit tests.  <a href="#a0d8f1cf32366ee67ad98128ceedd1a0f">More...</a><br /></td></tr>
<tr class="separator:a0d8f1cf32366ee67ad98128ceedd1a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c28006a83045969be252194e6de2380"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a6c28006a83045969be252194e6de2380">make_query_log_name</a> (char *buff, <a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774">enum_log_table_type</a> <a class="el" href="mi__log_8cc.html#ad1e2a6d9014a2af70dfa80ce7b69d4b0">log_type</a>)</td></tr>
<tr class="memdesc:a6c28006a83045969be252194e6de2380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the name of the query log specified.  <a href="#a6c28006a83045969be252194e6de2380">More...</a><br /></td></tr>
<tr class="separator:a6c28006a83045969be252194e6de2380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2af629ac67940dc8839f8273499435e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ad2af629ac67940dc8839f8273499435e">is_valid_log_name</a> (const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, size_t len)</td></tr>
<tr class="memdesc:ad2af629ac67940dc8839f8273499435e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check given log name against certain blacklisted names/extensions.  <a href="#ad2af629ac67940dc8839f8273499435e">More...</a><br /></td></tr>
<tr class="separator:ad2af629ac67940dc8839f8273499435e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93624d7ffd4d872d5e820e5b8ce8432b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a93624d7ffd4d872d5e820e5b8ce8432b">log_slow_applicable</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a93624d7ffd4d872d5e820e5b8ce8432b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether we need to write the current statement (or its rewritten version if it exists) to the slow query log.  <a href="#a93624d7ffd4d872d5e820e5b8ce8432b">More...</a><br /></td></tr>
<tr class="separator:a93624d7ffd4d872d5e820e5b8ce8432b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cdc0b2173b661dc8947545c1e413714"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a8cdc0b2173b661dc8947545c1e413714">log_slow_do</a> (<a class="el" href="classTHD.html">THD</a> *thd, struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *query_start_status)</td></tr>
<tr class="memdesc:a8cdc0b2173b661dc8947545c1e413714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unconditionally writes the current statement (or its rewritten version if it exists) to the slow query log.  <a href="#a8cdc0b2173b661dc8947545c1e413714">More...</a><br /></td></tr>
<tr class="separator:a8cdc0b2173b661dc8947545c1e413714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9363e6bb9e4a15e200c63a8adc98eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a9d9363e6bb9e4a15e200c63a8adc98eb">log_slow_statement</a> (<a class="el" href="classTHD.html">THD</a> *thd, struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *query_start_status)</td></tr>
<tr class="memdesc:a9d9363e6bb9e4a15e200c63a8adc98eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether we need to write the current statement to the slow query log.  <a href="#a9d9363e6bb9e4a15e200c63a8adc98eb">More...</a><br /></td></tr>
<tr class="separator:a9d9363e6bb9e4a15e200c63a8adc98eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa362d324596d832eff3db28169416dbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#aa362d324596d832eff3db28169416dbf">error_log_print</a> (enum <a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82">loglevel</a> level, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> ecode, va_list args)</td></tr>
<tr class="memdesc:aa362d324596d832eff3db28169416dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints a printf style message to the error log.  <a href="#aa362d324596d832eff3db28169416dbf">More...</a><br /></td></tr>
<tr class="separator:aa362d324596d832eff3db28169416dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f975b7bef20efd9b02c43b586552b11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a1f975b7bef20efd9b02c43b586552b11">init_error_log</a> ()</td></tr>
<tr class="memdesc:a1f975b7bef20efd9b02c43b586552b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize structures (e.g.  <a href="#a1f975b7bef20efd9b02c43b586552b11">More...</a><br /></td></tr>
<tr class="separator:a1f975b7bef20efd9b02c43b586552b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb746e3e853726524507e516af35358c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#afb746e3e853726524507e516af35358c">open_error_log</a> (const char *<a class="el" href="mi__test3_8cc.html#a7efa5e9c7494c7d4586359300221aa5d">filename</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> get_lock)</td></tr>
<tr class="memdesc:afb746e3e853726524507e516af35358c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the error log and redirect stderr and optionally stdout to the error log file.  <a href="#afb746e3e853726524507e516af35358c">More...</a><br /></td></tr>
<tr class="separator:afb746e3e853726524507e516af35358c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe0135f4ab5c952477d44d09aa4c8ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a3fe0135f4ab5c952477d44d09aa4c8ef">destroy_error_log</a> ()</td></tr>
<tr class="memdesc:a3fe0135f4ab5c952477d44d09aa4c8ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free any error log resources.  <a href="#a3fe0135f4ab5c952477d44d09aa4c8ef">More...</a><br /></td></tr>
<tr class="separator:a3fe0135f4ab5c952477d44d09aa4c8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e8562061634d5d00f0b68b8d318ba3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a5e8562061634d5d00f0b68b8d318ba3d">reopen_error_log</a> ()</td></tr>
<tr class="memdesc:a5e8562061634d5d00f0b68b8d318ba3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush any pending data to disk and reopen the error log.  <a href="#a5e8562061634d5d00f0b68b8d318ba3d">More...</a><br /></td></tr>
<tr class="separator:a5e8562061634d5d00f0b68b8d318ba3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b1f8b834f5de1e9cc2bf6c44d5dea0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ad6b1f8b834f5de1e9cc2bf6c44d5dea0">discard_error_log_messages</a> ()</td></tr>
<tr class="memdesc:ad6b1f8b834f5de1e9cc2bf6c44d5dea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard all buffered messages and deallocate buffer without printing anything.  <a href="#ad6b1f8b834f5de1e9cc2bf6c44d5dea0">More...</a><br /></td></tr>
<tr class="separator:ad6b1f8b834f5de1e9cc2bf6c44d5dea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffcb1a4793a1b3805d7fa26b4db4e1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#adffcb1a4793a1b3805d7fa26b4db4e1e">flush_error_log_messages</a> ()</td></tr>
<tr class="memdesc:adffcb1a4793a1b3805d7fa26b4db4e1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">We buffer all error log messages that have been printed before the error log has been opened.  <a href="#adffcb1a4793a1b3805d7fa26b4db4e1e">More...</a><br /></td></tr>
<tr class="separator:adffcb1a4793a1b3805d7fa26b4db4e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042b20922fe7610655f4d48c3dbe3fd9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a042b20922fe7610655f4d48c3dbe3fd9">log_string_compare</a> (const char *a, const char *b, size_t len, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> case_insensitive)</td></tr>
<tr class="memdesc:a042b20922fe7610655f4d48c3dbe3fd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modular logger: log line and key/value manipulation helpers.  <a href="#a042b20922fe7610655f4d48c3dbe3fd9">More...</a><br /></td></tr>
<tr class="separator:a042b20922fe7610655f4d48c3dbe3fd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13cadd60a24aa95a547ffb21ec170939"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a13cadd60a24aa95a547ffb21ec170939">log_item_generic_type</a> (<a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:a13cadd60a24aa95a547ffb21ec170939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate used to determine whether a type is generic (generic string, generic float, generic integer) rather than a well-known type.  <a href="#a13cadd60a24aa95a547ffb21ec170939">More...</a><br /></td></tr>
<tr class="separator:a13cadd60a24aa95a547ffb21ec170939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec0161a62f641cc9943d0faed044e54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a3ec0161a62f641cc9943d0faed044e54">log_item_string_class</a> (<a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a> c)</td></tr>
<tr class="memdesc:a3ec0161a62f641cc9943d0faed044e54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate used to determine whether a class is a string class (C-string or Lex-string).  <a href="#a3ec0161a62f641cc9943d0faed044e54">More...</a><br /></td></tr>
<tr class="separator:a3ec0161a62f641cc9943d0faed044e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a567a0c2387c511cb804d6c305c2f26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a4a567a0c2387c511cb804d6c305c2f26">log_item_numeric_class</a> (<a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a> c)</td></tr>
<tr class="memdesc:a4a567a0c2387c511cb804d6c305c2f26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate used to determine whether a class is a numeric class (integer or float).  <a href="#a4a567a0c2387c511cb804d6c305c2f26">More...</a><br /></td></tr>
<tr class="separator:a4a567a0c2387c511cb804d6c305c2f26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63830bebb1fb3453d88c40ec59bdc0ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a63830bebb1fb3453d88c40ec59bdc0ff">log_item_get_int</a> (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> *i)</td></tr>
<tr class="memdesc:a63830bebb1fb3453d88c40ec59bdc0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an integer value from a log-item of float or integer type.  <a href="#a63830bebb1fb3453d88c40ec59bdc0ff">More...</a><br /></td></tr>
<tr class="separator:a63830bebb1fb3453d88c40ec59bdc0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75a593d51641bfa2fb5eb39a52a41abc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a75a593d51641bfa2fb5eb39a52a41abc">log_item_get_float</a> (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, double *f)</td></tr>
<tr class="memdesc:a75a593d51641bfa2fb5eb39a52a41abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a float value from a log-item of float or integer type.  <a href="#a75a593d51641bfa2fb5eb39a52a41abc">More...</a><br /></td></tr>
<tr class="separator:a75a593d51641bfa2fb5eb39a52a41abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeabecc603d399815ab2aeac831b8f133"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#aeabecc603d399815ab2aeac831b8f133">log_item_get_string</a> (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, char **str, size_t *len)</td></tr>
<tr class="memdesc:aeabecc603d399815ab2aeac831b8f133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a string value from a log-item of C-string or Lex string type.  <a href="#aeabecc603d399815ab2aeac831b8f133">More...</a><br /></td></tr>
<tr class="separator:aeabecc603d399815ab2aeac831b8f133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e459f86c26b047badfa3788f08f169"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ad9e459f86c26b047badfa3788f08f169">log_item_set_int</a> (<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> i)</td></tr>
<tr class="memdesc:ad9e459f86c26b047badfa3788f08f169"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an integer value on a log_item.  <a href="#ad9e459f86c26b047badfa3788f08f169">More...</a><br /></td></tr>
<tr class="separator:ad9e459f86c26b047badfa3788f08f169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32a109c10cd230793b4ba21ddd221ee7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a32a109c10cd230793b4ba21ddd221ee7">log_item_set_float</a> (<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, double f)</td></tr>
<tr class="memdesc:a32a109c10cd230793b4ba21ddd221ee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a floating point value on a log_item.  <a href="#a32a109c10cd230793b4ba21ddd221ee7">More...</a><br /></td></tr>
<tr class="separator:a32a109c10cd230793b4ba21ddd221ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb670282f41522f50820f18f1bbbdbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a0fb670282f41522f50820f18f1bbbdbc">log_item_set_lexstring</a> (<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, const char *s, size_t s_len)</td></tr>
<tr class="memdesc:a0fb670282f41522f50820f18f1bbbdbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a string value on a log_item.  <a href="#a0fb670282f41522f50820f18f1bbbdbc">More...</a><br /></td></tr>
<tr class="separator:a0fb670282f41522f50820f18f1bbbdbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acedb6759422c4ac37f92b8c0395cfae1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#acedb6759422c4ac37f92b8c0395cfae1">log_item_set_cstring</a> (<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, const char *s)</td></tr>
<tr class="memdesc:acedb6759422c4ac37f92b8c0395cfae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a string value on a log_item.  <a href="#acedb6759422c4ac37f92b8c0395cfae1">More...</a><br /></td></tr>
<tr class="separator:acedb6759422c4ac37f92b8c0395cfae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4c3aed333cbc755f314237acb183f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#afe4c3aed333cbc755f314237acb183f5">log_item_wellknown_by_name</a> (const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, size_t len)</td></tr>
<tr class="memdesc:afe4c3aed333cbc755f314237acb183f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">See whether a string is a wellknown field name.  <a href="#afe4c3aed333cbc755f314237acb183f5">More...</a><br /></td></tr>
<tr class="separator:afe4c3aed333cbc755f314237acb183f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02334fb008faf33b0e3e3086360a419e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a02334fb008faf33b0e3e3086360a419e">log_item_wellknown_by_type</a> (<a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:a02334fb008faf33b0e3e3086360a419e"><td class="mdescLeft">&#160;</td><td class="mdescRight">See whether a type is wellknown.  <a href="#a02334fb008faf33b0e3e3086360a419e">More...</a><br /></td></tr>
<tr class="separator:a02334fb008faf33b0e3e3086360a419e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a154fd9f38a2841c959056236d40d1863"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a154fd9f38a2841c959056236d40d1863">log_item_wellknown_get_name</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx)</td></tr>
<tr class="memdesc:a154fd9f38a2841c959056236d40d1863"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor: from a record describing a wellknown key, get its name.  <a href="#a154fd9f38a2841c959056236d40d1863">More...</a><br /></td></tr>
<tr class="separator:a154fd9f38a2841c959056236d40d1863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0ce12b10b028480b02bc1e74ad1950c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#aa0ce12b10b028480b02bc1e74ad1950c">log_item_wellknown_get_type</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx)</td></tr>
<tr class="memdesc:aa0ce12b10b028480b02bc1e74ad1950c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor: from a record describing a wellknown key, get its type.  <a href="#aa0ce12b10b028480b02bc1e74ad1950c">More...</a><br /></td></tr>
<tr class="separator:aa0ce12b10b028480b02bc1e74ad1950c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71918bba3c6f2738b195a048bb46f036"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a71918bba3c6f2738b195a048bb46f036">log_item_wellknown_get_class</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx)</td></tr>
<tr class="memdesc:a71918bba3c6f2738b195a048bb46f036"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor: from a record describing a wellknown key, get its class.  <a href="#a71918bba3c6f2738b195a048bb46f036">More...</a><br /></td></tr>
<tr class="separator:a71918bba3c6f2738b195a048bb46f036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a794da9352e063799bcd19715181dc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a0a794da9352e063799bcd19715181dc2">log_item_free</a> (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li)</td></tr>
<tr class="memdesc:a0a794da9352e063799bcd19715181dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release any of key and value on a log-item that were dynamically allocated.  <a href="#a0a794da9352e063799bcd19715181dc2">More...</a><br /></td></tr>
<tr class="separator:a0a794da9352e063799bcd19715181dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f54dc501d35fd582b15264e9163470"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a77f54dc501d35fd582b15264e9163470">log_line_full</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a77f54dc501d35fd582b15264e9163470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate indicating whether a log line is "willing" to accept any more key/value pairs.  <a href="#a77f54dc501d35fd582b15264e9163470">More...</a><br /></td></tr>
<tr class="separator:a77f54dc501d35fd582b15264e9163470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781d08b134d5c71cc03c481a284ba7d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a781d08b134d5c71cc03c481a284ba7d2">log_line_item_count</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a781d08b134d5c71cc03c481a284ba7d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many items are currently set on the given log_line?  <a href="#a781d08b134d5c71cc03c481a284ba7d2">More...</a><br /></td></tr>
<tr class="separator:a781d08b134d5c71cc03c481a284ba7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a124f632572692cbebee488d5214c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#af03da2cb6c6eadac3c6f59b2a629eeee">log_item_type_mask</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ac5a124f632572692cbebee488d5214c2">log_line_item_types_seen</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#af03da2cb6c6eadac3c6f59b2a629eeee">log_item_type_mask</a> m)</td></tr>
<tr class="memdesc:ac5a124f632572692cbebee488d5214c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether a given type is presumed present on the log line.  <a href="#ac5a124f632572692cbebee488d5214c2">More...</a><br /></td></tr>
<tr class="separator:ac5a124f632572692cbebee488d5214c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a617df56802fa60ace39cc20354ace659"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a617df56802fa60ace39cc20354ace659">log_line_init</a> ()</td></tr>
<tr class="memdesc:a617df56802fa60ace39cc20354ace659"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a log_line.  <a href="#a617df56802fa60ace39cc20354ace659">More...</a><br /></td></tr>
<tr class="separator:a617df56802fa60ace39cc20354ace659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c56769dc6ae6b90744f37d2f81d508"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a62c56769dc6ae6b90744f37d2f81d508">log_line_exit</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a62c56769dc6ae6b90744f37d2f81d508"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a log_line allocated with log_line_init.  <a href="#a62c56769dc6ae6b90744f37d2f81d508">More...</a><br /></td></tr>
<tr class="separator:a62c56769dc6ae6b90744f37d2f81d508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f0edb355e22f7f24995b1a7a7600ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a27f0edb355e22f7f24995b1a7a7600ce">log_line_get_output_buffer</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a27f0edb355e22f7f24995b1a7a7600ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get log-line's output buffer.  <a href="#a27f0edb355e22f7f24995b1a7a7600ce">More...</a><br /></td></tr>
<tr class="separator:a27f0edb355e22f7f24995b1a7a7600ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d5d597ec7ff531418fab92bc77f07d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a28d5d597ec7ff531418fab92bc77f07d">log_line_item_free</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, size_t elem)</td></tr>
<tr class="memdesc:a28d5d597ec7ff531418fab92bc77f07d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release log line item (key/value pair) with the index elem in log line ll.  <a href="#a28d5d597ec7ff531418fab92bc77f07d">More...</a><br /></td></tr>
<tr class="separator:a28d5d597ec7ff531418fab92bc77f07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd8fa6a77bfed5d4e075bebd38ef9492"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#afd8fa6a77bfed5d4e075bebd38ef9492">log_line_item_free_all</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:afd8fa6a77bfed5d4e075bebd38ef9492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release all log line items (key/value pairs) in log line ll.  <a href="#afd8fa6a77bfed5d4e075bebd38ef9492">More...</a><br /></td></tr>
<tr class="separator:afd8fa6a77bfed5d4e075bebd38ef9492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b8cc5fda1fd13c2159f21ff28789dbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a9b8cc5fda1fd13c2159f21ff28789dbb">log_line_item_remove</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, int elem)</td></tr>
<tr class="memdesc:a9b8cc5fda1fd13c2159f21ff28789dbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release log line item (key/value pair) with the index elem in log line ll.  <a href="#a9b8cc5fda1fd13c2159f21ff28789dbb">More...</a><br /></td></tr>
<tr class="separator:a9b8cc5fda1fd13c2159f21ff28789dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e179553aef2271b286481e10ed090d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a9e179553aef2271b286481e10ed090d8">log_line_index_by_name</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="memdesc:a9e179553aef2271b286481e10ed090d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the (index of the) last key/value pair of the given name in the log line.  <a href="#a9e179553aef2271b286481e10ed090d8">More...</a><br /></td></tr>
<tr class="separator:a9e179553aef2271b286481e10ed090d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a257ccf5a3ec362360f9a3ab3e16a7336"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a257ccf5a3ec362360f9a3ab3e16a7336">log_line_item_by_name</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="memdesc:a257ccf5a3ec362360f9a3ab3e16a7336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the last item matching the given key in the log line.  <a href="#a257ccf5a3ec362360f9a3ab3e16a7336">More...</a><br /></td></tr>
<tr class="separator:a257ccf5a3ec362360f9a3ab3e16a7336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82986e92acbcc2f13951daf684c141e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a82986e92acbcc2f13951daf684c141e2">log_line_index_by_type</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:a82986e92acbcc2f13951daf684c141e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the (index of the) first key/value pair of the given type in the log line.  <a href="#a82986e92acbcc2f13951daf684c141e2">More...</a><br /></td></tr>
<tr class="separator:a82986e92acbcc2f13951daf684c141e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147e51823df900623c27fd0dc00a0e82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a147e51823df900623c27fd0dc00a0e82">log_line_index_by_item</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *ref)</td></tr>
<tr class="memdesc:a147e51823df900623c27fd0dc00a0e82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the (index of the) first key/value pair of the given type in the log line.  <a href="#a147e51823df900623c27fd0dc00a0e82">More...</a><br /></td></tr>
<tr class="separator:a147e51823df900623c27fd0dc00a0e82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d890f4a28031c2eff072ad270ea8121"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a5d890f4a28031c2eff072ad270ea8121">log_item_init</a> (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li)</td></tr>
<tr class="memdesc:a5d890f4a28031c2eff072ad270ea8121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a log entry for use.  <a href="#a5d890f4a28031c2eff072ad270ea8121">More...</a><br /></td></tr>
<tr class="separator:a5d890f4a28031c2eff072ad270ea8121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9590a4444c7e9123f63707c20389bab3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a9590a4444c7e9123f63707c20389bab3">log_line_item_init</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a9590a4444c7e9123f63707c20389bab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an entry in a log line for use.  <a href="#a9590a4444c7e9123f63707c20389bab3">More...</a><br /></td></tr>
<tr class="separator:a9590a4444c7e9123f63707c20389bab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03828d3817688ad231938859bef75648"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a03828d3817688ad231938859bef75648">log_item_set_with_key</a> (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t, const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> alloc)</td></tr>
<tr class="memdesc:a03828d3817688ad231938859bef75648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new log item with key name "key", and allocation flags of "alloc" (see enum_log_item_free).  <a href="#a03828d3817688ad231938859bef75648">More...</a><br /></td></tr>
<tr class="separator:a03828d3817688ad231938859bef75648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0bbcf52fd12cd4d295ac69803661e0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#af0bbcf52fd12cd4d295ac69803661e0d">log_line_item_set_with_key</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t, const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> alloc)</td></tr>
<tr class="memdesc:af0bbcf52fd12cd4d295ac69803661e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new log item in log line "ll", with key name "key", and allocation flags of "alloc" (see enum_log_item_free).  <a href="#af0bbcf52fd12cd4d295ac69803661e0d">More...</a><br /></td></tr>
<tr class="separator:af0bbcf52fd12cd4d295ac69803661e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4242fe5641dc97a79215bb379d3933ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a4242fe5641dc97a79215bb379d3933ba">log_item_set</a> (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:a4242fe5641dc97a79215bb379d3933ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">As log_item_set_with_key(), except that the key is automatically derived from the wellknown log_item_type t.  <a href="#a4242fe5641dc97a79215bb379d3933ba">More...</a><br /></td></tr>
<tr class="separator:a4242fe5641dc97a79215bb379d3933ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1463bf3827799b813bbc78786043b3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ab1463bf3827799b813bbc78786043b3e">log_line_item_set</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:ab1463bf3827799b813bbc78786043b3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new log item of well-known type "t" in log line "ll".  <a href="#ab1463bf3827799b813bbc78786043b3e">More...</a><br /></td></tr>
<tr class="separator:ab1463bf3827799b813bbc78786043b3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ac0e3cca76ee832e49384fbd3f08cb"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ac8ac0e3cca76ee832e49384fbd3f08cb">log_label_from_prio</a> (int prio)</td></tr>
<tr class="memdesc:ac8ac0e3cca76ee832e49384fbd3f08cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function: Derive a log label ("error", "warning", "information") from a severity.  <a href="#ac8ac0e3cca76ee832e49384fbd3f08cb">More...</a><br /></td></tr>
<tr class="separator:ac8ac0e3cca76ee832e49384fbd3f08cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a4146096cda4970aead162327ad1ccc"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82">loglevel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a3a4146096cda4970aead162327ad1ccc">log_prio_from_label</a> (const char *label)</td></tr>
<tr class="memdesc:a3a4146096cda4970aead162327ad1ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Derive the event's priority (SYSTEM_LEVEL, ERROR_LEVEL, ...) from a textual label.  <a href="#a3a4146096cda4970aead162327ad1ccc">More...</a><br /></td></tr>
<tr class="separator:a3a4146096cda4970aead162327ad1ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51db7882b6bd9aeb8cd56702589725d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a51db7882b6bd9aeb8cd56702589725d3">log_line_submit</a> (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a51db7882b6bd9aeb8cd56702589725d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete, filter, and write submitted log items.  <a href="#a51db7882b6bd9aeb8cd56702589725d3">More...</a><br /></td></tr>
<tr class="separator:a51db7882b6bd9aeb8cd56702589725d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86816b3776e6d9dd2f274ee70c29fde"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ac86816b3776e6d9dd2f274ee70c29fde">make_iso8601_timestamp</a> (char *buf, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> utime, enum <a class="el" href="log_8h.html#a0f360b22dd15e3eecd53c745522cacaf">enum_iso8601_tzmode</a> mode)</td></tr>
<tr class="memdesc:ac86816b3776e6d9dd2f274ee70c29fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make and return an ISO 8601 / RFC 3339 compliant timestamp.  <a href="#ac86816b3776e6d9dd2f274ee70c29fde">More...</a><br /></td></tr>
<tr class="separator:ac86816b3776e6d9dd2f274ee70c29fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb64d9c637f164af98c476c3159ca333"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#afb64d9c637f164af98c476c3159ca333">iso8601_timestamp_to_microseconds</a> (const char *<a class="el" href="persisted__variable_8cc.html#a7ae4492f386ecb304442670d1dee0f0d">timestamp</a>, size_t len)</td></tr>
<tr class="memdesc:afb64d9c637f164af98c476c3159ca333"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a ISO8601 timestamp and return the number of microseconds since the epoch.  <a href="#afb64d9c637f164af98c476c3159ca333">More...</a><br /></td></tr>
<tr class="separator:afb64d9c637f164af98c476c3159ca333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bdf986bdc77222e89aec6b7e9416e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log_8h.html#a48ddaff1dfcb5a7f4472d652ac3e0b8f">log_error_stack_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a63bdf986bdc77222e89aec6b7e9416e1">log_builtins_error_stack</a> (const char *conf, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_only, size_t *<a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>)</td></tr>
<tr class="memdesc:a63bdf986bdc77222e89aec6b7e9416e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up custom error logging stack.  <a href="#a63bdf986bdc77222e89aec6b7e9416e1">More...</a><br /></td></tr>
<tr class="separator:a63bdf986bdc77222e89aec6b7e9416e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe0f751a90b0aea7231691774eb3824"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#acbe0f751a90b0aea7231691774eb3824">log_builtins_error_stack_flush</a> ()</td></tr>
<tr class="memdesc:acbe0f751a90b0aea7231691774eb3824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call flush() on all log_services.  <a href="#acbe0f751a90b0aea7231691774eb3824">More...</a><br /></td></tr>
<tr class="separator:acbe0f751a90b0aea7231691774eb3824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a8808cc3d04432bc8c9648846b99371"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a9a8808cc3d04432bc8c9648846b99371">log_builtins_init</a> ()</td></tr>
<tr class="memdesc:a9a8808cc3d04432bc8c9648846b99371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the structured logging subsystem.  <a href="#a9a8808cc3d04432bc8c9648846b99371">More...</a><br /></td></tr>
<tr class="separator:a9a8808cc3d04432bc8c9648846b99371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92caf99142ff5d42d33165f21c94f70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#ac92caf99142ff5d42d33165f21c94f70">log_builtins_exit</a> ()</td></tr>
<tr class="memdesc:ac92caf99142ff5d42d33165f21c94f70"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-initialize the structured logging subsystem.  <a href="#ac92caf99142ff5d42d33165f21c94f70">More...</a><br /></td></tr>
<tr class="separator:ac92caf99142ff5d42d33165f21c94f70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ebe31ce2f892ac71ad62e1db22c0999"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a1ebe31ce2f892ac71ad62e1db22c0999">log_write_errstream</a> (const char *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t length)</td></tr>
<tr class="memdesc:a1ebe31ce2f892ac71ad62e1db22c0999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interim helper: write to the default error stream.  <a href="#a1ebe31ce2f892ac71ad62e1db22c0999">More...</a><br /></td></tr>
<tr class="separator:a1ebe31ce2f892ac71ad62e1db22c0999"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a77c2d659c2b6bad0bb44b706e620e365"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a77c2d659c2b6bad0bb44b706e620e365">LOG_NONE</a> = 1</td></tr>
<tr class="separator:a77c2d659c2b6bad0bb44b706e620e365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577b7383866fd056b104dec852ea9469"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a577b7383866fd056b104dec852ea9469">LOG_FILE</a> = 2</td></tr>
<tr class="separator:a577b7383866fd056b104dec852ea9469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af98b3c68905c835565c45887186c3b7e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#af98b3c68905c835565c45887186c3b7e">LOG_TABLE</a> = 4</td></tr>
<tr class="separator:af98b3c68905c835565c45887186c3b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2552742edb23ad2bc0bc18c7e2fa6efe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQuery__logger.html">Query_logger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#a2552742edb23ad2bc0bc18c7e2fa6efe">query_logger</a></td></tr>
<tr class="separator:a2552742edb23ad2bc0bc18c7e2fa6efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaac20a4f9e1453f105d50ae860eacb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSlow__log__throttle.html">Slow_log_throttle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8h.html#abaac20a4f9e1453f105d50ae860eacb1">log_throttle_qni</a></td></tr>
<tr class="separator:abaac20a4f9e1453f105d50ae860eacb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Error logging, slow query logging, general query logging: If it's server-internal, and it's logging, it's here. </p>
<p>Components/services should NOT include this, but include include/mysql/components/services/log_builtins.h instead to gain access to the error logging stack.</p>
<p>Legacy plugins (pre-"services") will likely include include/mysql/service_my_plugin_log.h instead. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2427d8c48455f1a515a3516dadbe0e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2427d8c48455f1a515a3516dadbe0e5b">&#9670;&nbsp;</a></span>log_errlog</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define log_errlog</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">errcode, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="log_8h.html#a777f7139b72c0f21f68afbf34a81c96b">log_message</a>(<a class="code" href="log__shared_8h.html#a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407">LOG_TYPE_ERROR</a>, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e">LOG_ITEM_LOG_PRIO</a>, (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)level,        \</div><div class="line">              <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8">LOG_ITEM_SRV_SUBSYS</a>, <a class="code" href="log__sink__test_8cc.html#ae9c5d0f3c016e3484e490bb8950ebc74">LOG_SUBSYSTEM_TAG</a>, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8">LOG_ITEM_SRC_LINE</a>, \</div><div class="line">              (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)__LINE__, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863">LOG_ITEM_SRC_FILE</a>, <a class="code" href="my__basename_8h.html#acadd8feb4d96c58a8fc775c9c4d47ccf">MY_BASENAME</a>,        \</div><div class="line">              <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308ebae1a726d186b8876834ed89a379438935">LOG_ITEM_LOG_LOOKUP</a>, (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)errcode, ##__VA_ARGS__)</div><div class="ttc" id="log__sink__test_8cc_html_ae9c5d0f3c016e3484e490bb8950ebc74"><div class="ttname"><a href="log__sink__test_8cc.html#ae9c5d0f3c016e3484e490bb8950ebc74">LOG_SUBSYSTEM_TAG</a></div><div class="ttdeci">#define LOG_SUBSYSTEM_TAG</div><div class="ttdef"><b>Definition:</b> log_sink_test.cc:26</div></div>
<div class="ttc" id="log_8h_html_a777f7139b72c0f21f68afbf34a81c96b"><div class="ttname"><a href="log_8h.html#a777f7139b72c0f21f68afbf34a81c96b">log_message</a></div><div class="ttdeci">int log_message(int log_type,...)</div><div class="ttdoc">Variadic convenience function for logging. </div><div class="ttdef"><b>Definition:</b> log.cc:2335</div></div>
<div class="ttc" id="log__shared_8h_html_a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407"><div class="ttname"><a href="log__shared_8h.html#a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407">LOG_TYPE_ERROR</a></div><div class="ttdef"><b>Definition:</b> log_shared.h:67</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863">LOG_ITEM_SRC_FILE</a></div><div class="ttdoc">log called from file ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:131</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308ebae1a726d186b8876834ed89a379438935"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308ebae1a726d186b8876834ed89a379438935">LOG_ITEM_LOG_LOOKUP</a></div><div class="ttdoc">insert message by error-code </div><div class="ttdef"><b>Definition:</b> log_shared.h:145</div></div>
<div class="ttc" id="my__inttypes_8h_html_a9c0acdcb1b083d30069a62cee1ece644"><div class="ttname"><a href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a></div><div class="ttdeci">long long int longlong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:54</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8">LOG_ITEM_SRC_LINE</a></div><div class="ttdoc">log called from line ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:132</div></div>
<div class="ttc" id="my__basename_8h_html_acadd8feb4d96c58a8fc775c9c4d47ccf"><div class="ttname"><a href="my__basename_8h.html#acadd8feb4d96c58a8fc775c9c4d47ccf">MY_BASENAME</a></div><div class="ttdeci">#define MY_BASENAME</div><div class="ttdef"><b>Definition:</b> my_basename.h:39</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e">LOG_ITEM_LOG_PRIO</a></div><div class="ttdoc">log priority (error, warn, ...) </div><div class="ttdef"><b>Definition:</b> log_shared.h:141</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8">LOG_ITEM_SRV_SUBSYS</a></div><div class="ttdoc">log called from subsystem ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:134</div></div>
</div><!-- fragment -->
<p>Set up basics, fetch message for "errcode", insert any va_args, call the new error stack. </p>
<p>A helper for the transition to the new stack. </p>

</div>
</div>
<a id="a17c0daef8512e69af5a6cf096c05c891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17c0daef8512e69af5a6cf096c05c891">&#9670;&nbsp;</a></span>log_errlog_formatted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define log_errlog_formatted</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="log_8h.html#a777f7139b72c0f21f68afbf34a81c96b">log_message</a>(<a class="code" href="log__shared_8h.html#a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407">LOG_TYPE_ERROR</a>, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e">LOG_ITEM_LOG_PRIO</a>, (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)level,        \</div><div class="line">              <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8">LOG_ITEM_SRV_SUBSYS</a>, <a class="code" href="log__sink__test_8cc.html#ae9c5d0f3c016e3484e490bb8950ebc74">LOG_SUBSYSTEM_TAG</a>, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8">LOG_ITEM_SRC_LINE</a>, \</div><div class="line">              (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)__LINE__, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863">LOG_ITEM_SRC_FILE</a>, <a class="code" href="my__basename_8h.html#acadd8feb4d96c58a8fc775c9c4d47ccf">MY_BASENAME</a>,        \</div><div class="line">              <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba6a7de876b7cdfd7e674f6b7ced3415e9">LOG_ITEM_LOG_MESSAGE</a>, ##__VA_ARGS__)</div><div class="ttc" id="log__sink__test_8cc_html_ae9c5d0f3c016e3484e490bb8950ebc74"><div class="ttname"><a href="log__sink__test_8cc.html#ae9c5d0f3c016e3484e490bb8950ebc74">LOG_SUBSYSTEM_TAG</a></div><div class="ttdeci">#define LOG_SUBSYSTEM_TAG</div><div class="ttdef"><b>Definition:</b> log_sink_test.cc:26</div></div>
<div class="ttc" id="log_8h_html_a777f7139b72c0f21f68afbf34a81c96b"><div class="ttname"><a href="log_8h.html#a777f7139b72c0f21f68afbf34a81c96b">log_message</a></div><div class="ttdeci">int log_message(int log_type,...)</div><div class="ttdoc">Variadic convenience function for logging. </div><div class="ttdef"><b>Definition:</b> log.cc:2335</div></div>
<div class="ttc" id="log__shared_8h_html_a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407"><div class="ttname"><a href="log__shared_8h.html#a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407">LOG_TYPE_ERROR</a></div><div class="ttdef"><b>Definition:</b> log_shared.h:67</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863">LOG_ITEM_SRC_FILE</a></div><div class="ttdoc">log called from file ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:131</div></div>
<div class="ttc" id="my__inttypes_8h_html_a9c0acdcb1b083d30069a62cee1ece644"><div class="ttname"><a href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a></div><div class="ttdeci">long long int longlong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:54</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8">LOG_ITEM_SRC_LINE</a></div><div class="ttdoc">log called from line ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:132</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba6a7de876b7cdfd7e674f6b7ced3415e9"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba6a7de876b7cdfd7e674f6b7ced3415e9">LOG_ITEM_LOG_MESSAGE</a></div><div class="ttdoc">the message, format string </div><div class="ttdef"><b>Definition:</b> log_shared.h:144</div></div>
<div class="ttc" id="my__basename_8h_html_acadd8feb4d96c58a8fc775c9c4d47ccf"><div class="ttname"><a href="my__basename_8h.html#acadd8feb4d96c58a8fc775c9c4d47ccf">MY_BASENAME</a></div><div class="ttdeci">#define MY_BASENAME</div><div class="ttdef"><b>Definition:</b> my_basename.h:39</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e">LOG_ITEM_LOG_PRIO</a></div><div class="ttdoc">log priority (error, warn, ...) </div><div class="ttdef"><b>Definition:</b> log_shared.h:141</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8">LOG_ITEM_SRV_SUBSYS</a></div><div class="ttdoc">log called from subsystem ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:134</div></div>
</div><!-- fragment -->
<p>Default tags + freeform message. </p>
<p>A helper for re::defining sql_print_*() to go through the new error log service stack.</p>
<p>Remember to never blindly LOG_MESSAGE a string you that may contain user input as it may contain % which will be treated as substitutions.</p>
<p>BAD: LOG_ITEM_LOG_MESSAGE, dodgy_message OK: LOG_ITEM_LOG_MESSAGE, "%s", dodgy_message GOOD: LOG_ITEM_LOG_VERBATIM, dodgy_message </p>

</div>
</div>
<a id="a5432ac2bf9126f9d5b719bcf77a9a7d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5432ac2bf9126f9d5b719bcf77a9a7d8">&#9670;&nbsp;</a></span>log_errlog_rich</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define log_errlog_rich</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">level, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="log_8h.html#a777f7139b72c0f21f68afbf34a81c96b">log_message</a>(<a class="code" href="log__shared_8h.html#a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407">LOG_TYPE_ERROR</a>, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e">LOG_ITEM_LOG_PRIO</a>, (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)level,        \</div><div class="line">              <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8">LOG_ITEM_SRV_SUBSYS</a>, <a class="code" href="log__sink__test_8cc.html#ae9c5d0f3c016e3484e490bb8950ebc74">LOG_SUBSYSTEM_TAG</a>, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8">LOG_ITEM_SRC_LINE</a>, \</div><div class="line">              (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)__LINE__, <a class="code" href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863">LOG_ITEM_SRC_FILE</a>, <a class="code" href="my__basename_8h.html#acadd8feb4d96c58a8fc775c9c4d47ccf">MY_BASENAME</a>, __VA_ARGS__)</div><div class="ttc" id="log__sink__test_8cc_html_ae9c5d0f3c016e3484e490bb8950ebc74"><div class="ttname"><a href="log__sink__test_8cc.html#ae9c5d0f3c016e3484e490bb8950ebc74">LOG_SUBSYSTEM_TAG</a></div><div class="ttdeci">#define LOG_SUBSYSTEM_TAG</div><div class="ttdef"><b>Definition:</b> log_sink_test.cc:26</div></div>
<div class="ttc" id="log_8h_html_a777f7139b72c0f21f68afbf34a81c96b"><div class="ttname"><a href="log_8h.html#a777f7139b72c0f21f68afbf34a81c96b">log_message</a></div><div class="ttdeci">int log_message(int log_type,...)</div><div class="ttdoc">Variadic convenience function for logging. </div><div class="ttdef"><b>Definition:</b> log.cc:2335</div></div>
<div class="ttc" id="log__shared_8h_html_a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407"><div class="ttname"><a href="log__shared_8h.html#a936a64cf835f929c48d24f34531a86a2a3f562274d5bec808bc1a9cb8ad95a407">LOG_TYPE_ERROR</a></div><div class="ttdef"><b>Definition:</b> log_shared.h:67</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba5dd142b0193d93edc1a975a04993b863">LOG_ITEM_SRC_FILE</a></div><div class="ttdoc">log called from file ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:131</div></div>
<div class="ttc" id="my__inttypes_8h_html_a9c0acdcb1b083d30069a62cee1ece644"><div class="ttname"><a href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a></div><div class="ttdeci">long long int longlong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:54</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308ebab6be8e2381ff45df20e5e8057e4e6fa8">LOG_ITEM_SRC_LINE</a></div><div class="ttdoc">log called from line ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:132</div></div>
<div class="ttc" id="my__basename_8h_html_acadd8feb4d96c58a8fc775c9c4d47ccf"><div class="ttname"><a href="my__basename_8h.html#acadd8feb4d96c58a8fc775c9c4d47ccf">MY_BASENAME</a></div><div class="ttdeci">#define MY_BASENAME</div><div class="ttdef"><b>Definition:</b> my_basename.h:39</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba878dfa064e5ce5e6f6d664932ad5555e">LOG_ITEM_LOG_PRIO</a></div><div class="ttdoc">log priority (error, warn, ...) </div><div class="ttdef"><b>Definition:</b> log_shared.h:141</div></div>
<div class="ttc" id="log__shared_8h_html_a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8"><div class="ttname"><a href="log__shared_8h.html#a99f32dac35bea78fa32b805fd5f308eba962e2352487cc6564cae67ee851d5cc8">LOG_ITEM_SRV_SUBSYS</a></div><div class="ttdoc">log called from subsystem ... </div><div class="ttdef"><b>Definition:</b> log_shared.h:134</div></div>
</div><!-- fragment -->
<p>Set up the default tags, then let us add/override any key/value we like, call the new error stack. </p>
<p>A helper for the transition to the new stack. </p>

</div>
</div>
<a id="a25bc67fecf372794b41bc7d28ff0809f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25bc67fecf372794b41bc7d28ff0809f">&#9670;&nbsp;</a></span>sql_print_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sql_print_error</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="log_8h.html#a17c0daef8512e69af5a6cf096c05c891">log_errlog_formatted</a>(<a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82a24d71b948063eaf4e964c1ebc22ed5e8">ERROR_LEVEL</a>, ##__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91043ac8ecffe867a699fecb1136dcf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91043ac8ecffe867a699fecb1136dcf2">&#9670;&nbsp;</a></span>sql_print_information</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sql_print_information</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="log_8h.html#a17c0daef8512e69af5a6cf096c05c891">log_errlog_formatted</a>(<a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82a75ffab26ca0aaa9aac3275564ba60772">INFORMATION_LEVEL</a>, ##__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define sql_print_*() so they use the new log_message() variadic convenience interface to logging. </p>
<p>This lets us switch over the bulk of the messages right away until we can attend to them individually; it also verifies that we no longer use function pointers to log functions.</p>
<p>As before, sql_print_*() only accepts a printf-style format string, and the arguments to same, if any. </p>

</div>
</div>
<a id="a3d36982e9d50987adbd9654fd4be2521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d36982e9d50987adbd9654fd4be2521">&#9670;&nbsp;</a></span>sql_print_warning</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sql_print_warning</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="log_8h.html#a17c0daef8512e69af5a6cf096c05c891">log_errlog_formatted</a>(<a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82a1ff684c66a37ba2ca37fb888f9144443">WARNING_LEVEL</a>, ##__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a48ddaff1dfcb5a7f4472d652ac3e0b8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ddaff1dfcb5a7f4472d652ac3e0b8f">&#9670;&nbsp;</a></span>log_error_stack_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6">enum_log_error_stack_error</a>  <a class="el" href="log_8h.html#a48ddaff1dfcb5a7f4472d652ac3e0b8f">log_error_stack_error</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Well-known values returned by log_error_stack(). </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0f360b22dd15e3eecd53c745522cacaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f360b22dd15e3eecd53c745522cacaf">&#9670;&nbsp;</a></span>enum_iso8601_tzmode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="log_8h.html#a0f360b22dd15e3eecd53c745522cacaf">enum_iso8601_tzmode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether to generate a UTC timestamp, or one following system-time. </p>
<p>These values are not arbitrary; they must correspond to the range and meaning of opt_log_timestamps. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0f360b22dd15e3eecd53c745522cacafa358e085021b35af8117492d71398bf86"></a>iso8601_sysvar_logtimestamps&#160;</td><td class="fielddoc"><p>use value of opt_log_timestamps </p>
</td></tr>
<tr><td class="fieldname"><a id="a0f360b22dd15e3eecd53c745522cacafa19a64e8a784941ac303ebba72d3dc6ea"></a>iso8601_utc&#160;</td><td class="fielddoc"><p>create UTC timestamp </p>
</td></tr>
<tr><td class="fieldname"><a id="a0f360b22dd15e3eecd53c745522cacafaffadb53dd632ed1e69ba5c60e6bee3a2"></a>iso8601_system_time&#160;</td><td class="fielddoc"><p>use system time </p>
</td></tr>
</table>

</div>
</div>
<a id="a7514ec4074e0a3539e565295086466f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7514ec4074e0a3539e565295086466f6">&#9670;&nbsp;</a></span>enum_log_error_stack_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="log_8h.html#a7514ec4074e0a3539e565295086466f6">enum_log_error_stack_error</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Well-known values returned by log_error_stack(). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a4bd36af0565aefcce4da3cfb03473cc0"></a>LOG_ERROR_STACK_SUCCESS&#160;</td><td class="fielddoc"><p>success </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a88a5aaad2073824aade88d365ab6e51d"></a>LOG_ERROR_STACK_DELIMITER_MISSING&#160;</td><td class="fielddoc"><p>expected delimiter not found </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a189156ffba8a9bedf49f2ebf27159cc5"></a>LOG_ERROR_STACK_SERVICE_MISSING&#160;</td><td class="fielddoc"><p>one or more services not found </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a43c69fb19d923b6c43e348a565303fc2"></a>LOG_ERROR_STACK_CACHE_ENTRY_OOM&#160;</td><td class="fielddoc"><p>couldn't create service cache entry </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a37d8b091262b943346b32389c50a38e8"></a>LOG_ERROR_STACK_MULTITON_DENIED&#160;</td><td class="fielddoc"><p>tried to multi-open singleton </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a34b1a6d406970ac59f839ad5e59ffc17"></a>LOG_ERROR_STACK_SERVICE_INSTANCE_OOM&#160;</td><td class="fielddoc"><p>couldn't create service instance entry </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a658302f5af6de8137fb72727be35d1f2"></a>LOG_ERROR_STACK_ENDS_IN_NON_SINK&#160;</td><td class="fielddoc"><p>last element in pipeline should be a sink </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6aad5609b1c9b8207411c89f364f66196f"></a>LOG_ERROR_STACK_SERVICE_UNAVAILABLE&#160;</td><td class="fielddoc"><p>service only available during start-up (may not be set by the user) </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a342d2900f3498c56ba8c506d826c2140"></a>LOG_ERROR_STACK_NO_PFS_SUPPORT&#160;</td><td class="fielddoc"><p>check-only warning: no sink supporting pfs given </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a8f1455b534a93d597cd85e521fe9f737"></a>LOG_ERROR_STACK_NO_LOG_PARSER&#160;</td><td class="fielddoc"><p>check-only warning: no log-parser given </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a57d6320fb9b3f1d20825b88f008aa4e9"></a>LOG_ERROR_MULTIPLE_FILTERS&#160;</td><td class="fielddoc"><p>check-only warning: more than one log-filter given </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6a6a362209c48dc7fb3e7c538bd888bcc7"></a>LOG_ERROR_UNEXPECTED_DELIMITER_FOUND&#160;</td><td class="fielddoc"><p>service name may not start with a delimiter </p>
</td></tr>
<tr><td class="fieldname"><a id="a7514ec4074e0a3539e565295086466f6ab47c405d2188845d11f34ed72653aa60"></a>LOG_ERROR_MIXED_DELIMITERS&#160;</td><td class="fielddoc"><p>delimiters ',' and ';' may not be mixed </p>
</td></tr>
</table>

</div>
</div>
<a id="a9f1845bedd997e2518589e06dcf0d774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f1845bedd997e2518589e06dcf0d774">&#9670;&nbsp;</a></span>enum_log_table_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774">enum_log_table_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of the log table. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9f1845bedd997e2518589e06dcf0d774a79f921c0d9b77294c0d27c38d02f7ce5"></a>QUERY_LOG_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9f1845bedd997e2518589e06dcf0d774acdcf14e18198613e77c0d4e71fc110ff"></a>QUERY_LOG_SLOW&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9f1845bedd997e2518589e06dcf0d774a918d5a3cc599e30ba3f933e5d59211d4"></a>QUERY_LOG_GENERAL&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3fe0135f4ab5c952477d44d09aa4c8ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe0135f4ab5c952477d44d09aa4c8ef">&#9670;&nbsp;</a></span>destroy_error_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_error_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free any error log resources. </p>
<dl class="section note"><dt>Note</dt><dd>This function accesses shared resources without protection, so it should only be called while the server is running single-threaded.</dd>
<dd>
The error log can still be used after this function is called, but that should only be done single-threaded. All buffered messages should be flushed before calling this function. </dd></dl>

</div>
</div>
<a id="ad6b1f8b834f5de1e9cc2bf6c44d5dea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b1f8b834f5de1e9cc2bf6c44d5dea0">&#9670;&nbsp;</a></span>discard_error_log_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void discard_error_log_messages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discard all buffered messages and deallocate buffer without printing anything. </p>
<p>Needed when terminating launching process after daemon has started. At this point we may have messages in the error log, but we don't want to show them to stderr (the daemon will output them in its error log). </p>

</div>
</div>
<a id="aa362d324596d832eff3db28169416dbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa362d324596d832eff3db28169416dbf">&#9670;&nbsp;</a></span>error_log_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void error_log_print </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82">loglevel</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>ecode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints a printf style message to the error log. </p>
<p>A thin wrapper around log_message() for local_message_hook, Table_check_intact::report_error, and others.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The level of the msg significance </td></tr>
    <tr><td class="paramname">ecode</td><td>Error code of the error message. </td></tr>
    <tr><td class="paramname">args</td><td>va_list list of arguments for the message </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adffcb1a4793a1b3805d7fa26b4db4e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adffcb1a4793a1b3805d7fa26b4db4e1e">&#9670;&nbsp;</a></span>flush_error_log_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flush_error_log_messages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>We buffer all error log messages that have been printed before the error log has been opened. </p>
<p>This allows us to write them to the correct file once the error log has been opened.</p>
<p>This function will explicitly flush buffered messages to stderr. It is only needed in cases where open_error_log() is not called as it otherwise will be done there.</p>
<p>This function also turns buffering off (there is no way to turn buffering back on). </p>

</div>
</div>
<a id="a1f975b7bef20efd9b02c43b586552b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f975b7bef20efd9b02c43b586552b11">&#9670;&nbsp;</a></span>init_error_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> init_error_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize structures (e.g. </p>
<p>mutex) needed by the error log.</p>
<dl class="section note"><dt>Note</dt><dd>This function accesses shared resources without protection, so it should only be called while the server is running single-threaded.</dd>
<dd>
The error log can still be used before this function is called, but that should only be done single-threaded.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>an error occurred </td></tr>
    <tr><td class="paramname">false</td><td>basic error logging is now available in multi-threaded mode</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize structures (e.g.</p>
<p>Since we're initializing various locks here, we must call this late enough so this is clean, but early enough so it still happens while we're running single-threaded &ndash; this specifically also means we must call it before we start plug-ins / storage engines / external components!</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>an error occurred </td></tr>
    <tr><td class="paramname">false</td><td>basic error logging is now available in multi-threaded mode </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2af629ac67940dc8839f8273499435e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2af629ac67940dc8839f8273499435e">&#9670;&nbsp;</a></span>is_valid_log_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_valid_log_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check given log name against certain blacklisted names/extensions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Log name to check </td></tr>
    <tr><td class="paramname">len</td><td>Length of log name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if name is valid, false otherwise. </dd></dl>

</div>
</div>
<a id="afb64d9c637f164af98c476c3159ca333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb64d9c637f164af98c476c3159ca333">&#9670;&nbsp;</a></span>iso8601_timestamp_to_microseconds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> iso8601_timestamp_to_microseconds </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a ISO8601 timestamp and return the number of microseconds since the epoch. </p>
<p>Heeds +/- timezone info if present.</p>
<dl class="section see"><dt>See also</dt><dd>make_iso8601_timestamp()</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>an ASCII string containing an ISO8601 timestamp </td></tr>
    <tr><td class="paramname">len</td><td>Length in bytes of the aforementioned string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>microseconds since the epoch </dd></dl>

</div>
</div>
<a id="a63bdf986bdc77222e89aec6b7e9416e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63bdf986bdc77222e89aec6b7e9416e1">&#9670;&nbsp;</a></span>log_builtins_error_stack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log_8h.html#a48ddaff1dfcb5a7f4472d652ac3e0b8f">log_error_stack_error</a> log_builtins_error_stack </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>check_only</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up custom error logging stack. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">conf</td><td>The configuration string </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">check_only</td><td>If true, report on whether configuration is valid (i.e. whether all requested services are available), but do not apply the new configuration. if false, set the configuration (acquire the necessary services, update the hash by adding/deleting entries as necessary) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pos</td><td>If an error occurs and this pointer is non-null, the position in the configuration string where the error occurred will be written to the pointed-to size_t.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_ERROR_STACK_SUCCESS</td><td>success</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_DELIMITER_MISSING</td><td>expected delimiter not found</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_SERVICE_MISSING</td><td>one or more services not found</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_CACHE_ENTRY_OOM</td><td>couldn't create service cache entry</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_MULTITON_DENIED</td><td>tried to multi-open singleton</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_SERVICE_INSTANCE_OOM</td><td>couldn't create service instance entry</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_ENDS_IN_NON_SINK</td><td>last element should be a sink</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_SERVICE_UNAVAILABLE</td><td>service only available during start-up (may not be set by the user)</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_NO_PFS_SUPPORT</td><td>(check_only warning) no sink with performance_schema support selected</td></tr>
    <tr><td class="paramname">LOG_ERROR_STACK_NO_LOG_PARSER</td><td>(check_only warning) no sink providing a log-parser selected</td></tr>
    <tr><td class="paramname">LOG_ERROR_MULTIPLE_FILTERS</td><td>(check_only warning) more than one filter service selected</td></tr>
    <tr><td class="paramname">LOG_ERROR_UNEXPECTED_DELIMITER_FOUND</td><td>service starts with a delimiter</td></tr>
    <tr><td class="paramname">LOG_ERROR_MIXED_DELIMITERS</td><td>use ',' or ';', not both! </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acbe0f751a90b0aea7231691774eb3824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe0f751a90b0aea7231691774eb3824">&#9670;&nbsp;</a></span>log_builtins_error_stack_flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_builtins_error_stack_flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call flush() on all log_services. </p>
<p>flush() function must not try to log anything, as we hold an exclusive lock on the stack.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>no problems </td></tr>
    <tr><td class="paramname">-1</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac92caf99142ff5d42d33165f21c94f70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92caf99142ff5d42d33165f21c94f70">&#9670;&nbsp;</a></span>log_builtins_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_builtins_exit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-initialize the structured logging subsystem. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>no errors </td></tr>
    <tr><td class="paramname">-1</td><td>not stopping, never started </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9a8808cc3d04432bc8c9648846b99371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a8808cc3d04432bc8c9648846b99371">&#9670;&nbsp;</a></span>log_builtins_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_builtins_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the structured logging subsystem. </p>
<p>Since we're initializing various locks here, we must call this late enough so this is clean, but early enough so it still happens while we're running single-threaded &ndash; this specifically also means we must call it before we start plug-ins / storage engines / external components!</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>no errors </td></tr>
    <tr><td class="paramname">-1</td><td>couldn't initialize stack lock </td></tr>
    <tr><td class="paramname">-2</td><td>couldn't initialize built-in default filter </td></tr>
    <tr><td class="paramname">-3</td><td>couldn't set up service hash </td></tr>
    <tr><td class="paramname">-4</td><td>couldn't initialize syseventlog lock </td></tr>
    <tr><td class="paramname">-5</td><td>couldn't set service pipeline </td></tr>
    <tr><td class="paramname">-6</td><td>couldn't initialize buffered logging lock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d8f1cf32366ee67ad98128ceedd1a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8f1cf32366ee67ad98128ceedd1a0f">&#9670;&nbsp;</a></span>log_get_thread_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> log_get_thread_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A helper that we can stubify so we don't have to pull all of THD into the unit tests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>a thd </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">its</td><td>thread-ID </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a794da9352e063799bcd19715181dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a794da9352e063799bcd19715181dc2">&#9670;&nbsp;</a></span>log_item_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_item_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td>
          <td class="paramname"><em>li</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release any of key and value on a log-item that were dynamically allocated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">li</td><td>log-item to release the payload of </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a13cadd60a24aa95a547ffb21ec170939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13cadd60a24aa95a547ffb21ec170939">&#9670;&nbsp;</a></span>log_item_generic_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_item_generic_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate used to determine whether a type is generic (generic string, generic float, generic integer) rather than a well-known type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>log item type to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if generic type </td></tr>
    <tr><td class="paramname">false</td><td>if wellknown type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75a593d51641bfa2fb5eb39a52a41abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a593d51641bfa2fb5eb39a52a41abc">&#9670;&nbsp;</a></span>log_item_get_float()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_item_get_float </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td>
          <td class="paramname"><em>li</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a float value from a log-item of float or integer type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">li</td><td>log item to get the value from </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">f</td><td>float to store the value in</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">li</td><td>log item to get the value from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">f</td><td>float to store the value in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63830bebb1fb3453d88c40ec59bdc0ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63830bebb1fb3453d88c40ec59bdc0ff">&#9670;&nbsp;</a></span>log_item_get_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_item_get_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td>
          <td class="paramname"><em>li</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> *&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an integer value from a log-item of float or integer type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">li</td><td>log item to get the value from </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">i</td><td>longlong to store the value in</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">li</td><td>log item to get the value from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">i</td><td>longlong to store the value in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeabecc603d399815ab2aeac831b8f133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeabecc603d399815ab2aeac831b8f133">&#9670;&nbsp;</a></span>log_item_get_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_item_get_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td>
          <td class="paramname"><em>li</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a string value from a log-item of C-string or Lex string type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">li</td><td>log item to get the value from </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">str</td><td>char-pointer to store the pointer to the value in </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">len</td><td>size_t pointer to store the length of the value in</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">li</td><td>log item to get the value from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">str</td><td>char-pointer to store the pointer to the value in </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">len</td><td>size_t pointer to store the length of the value in </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d890f4a28031c2eff072ad270ea8121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d890f4a28031c2eff072ad270ea8121">&#9670;&nbsp;</a></span>log_item_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_item_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td>
          <td class="paramname"><em>li</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a log entry for use. </p>
<p>This simply puts it in a defined state; if you wish to reset an existing item, see log_item_free().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">li</td><td>the log-item to initialize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a567a0c2387c511cb804d6c305c2f26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a567a0c2387c511cb804d6c305c2f26">&#9670;&nbsp;</a></span>log_item_numeric_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_item_numeric_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate used to determine whether a class is a numeric class (integer or float). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>log item class to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if of a numeric class </td></tr>
    <tr><td class="paramname">false</td><td>if not of a numeric class </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4242fe5641dc97a79215bb379d3933ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4242fe5641dc97a79215bb379d3933ba">&#9670;&nbsp;</a></span>log_item_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a>* log_item_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td>
          <td class="paramname"><em>li</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>As log_item_set_with_key(), except that the key is automatically derived from the wellknown log_item_type t. </p>
<p>Create new log item with type "t". Will return a pointer to the item's log_item_data struct for convenience. This is mostly interesting for filters and other services that create items that are not part of a log_line; sources etc. that intend to create an item for a log_line (the more common case) should usually use the below line_item_set_with_key() which creates an item (like this function does), but also correctly inserts it into a log_line.</p>
<p>The allocation of this item will be LOG_ITEM_FREE_NONE; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">li</td><td>the log_item to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the log_item's log_data, for easy chaining: log_item_set_with_key(...)-&gt;data_integer= 1; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acedb6759422c4ac37f92b8c0395cfae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acedb6759422c4ac37f92b8c0395cfae1">&#9670;&nbsp;</a></span>log_item_set_cstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_item_set_cstring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *&#160;</td>
          <td class="paramname"><em>lid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a string value on a log_item. </p>
<p>Fails gracefully if not log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">s</td><td>pointer to NTBS</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well</td></tr>
  </table>
  </dd>
</dl>
<p>Fails gracefully if no log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">s</td><td>pointer to NTBS</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a32a109c10cd230793b4ba21ddd221ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32a109c10cd230793b4ba21ddd221ee7">&#9670;&nbsp;</a></span>log_item_set_float()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_item_set_float </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *&#160;</td>
          <td class="paramname"><em>lid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a floating point value on a log_item. </p>
<p>Fails gracefully if not log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">f</td><td>float to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well</td></tr>
  </table>
  </dd>
</dl>
<p>Fails gracefully if no log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">f</td><td>float to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9e459f86c26b047badfa3788f08f169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9e459f86c26b047badfa3788f08f169">&#9670;&nbsp;</a></span>log_item_set_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_item_set_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *&#160;</td>
          <td class="paramname"><em>lid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an integer value on a log_item. </p>
<p>Fails gracefully if not log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">i</td><td>integer to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well</td></tr>
  </table>
  </dd>
</dl>
<p>Fails gracefully if no log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">i</td><td>integer to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0fb670282f41522f50820f18f1bbbdbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fb670282f41522f50820f18f1bbbdbc">&#9670;&nbsp;</a></span>log_item_set_lexstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_item_set_lexstring </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *&#160;</td>
          <td class="paramname"><em>lid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a string value on a log_item. </p>
<p>Fails gracefully if not log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">s</td><td>pointer to string </td></tr>
    <tr><td class="paramname">s_len</td><td>length of string</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well</td></tr>
  </table>
  </dd>
</dl>
<p>Fails gracefully if no log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">s</td><td>pointer to string </td></tr>
    <tr><td class="paramname">s_len</td><td>length of string</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a03828d3817688ad231938859bef75648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03828d3817688ad231938859bef75648">&#9670;&nbsp;</a></span>log_item_set_with_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a>* log_item_set_with_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td>
          <td class="paramname"><em>li</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td>
          <td class="paramname"><em>alloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create new log item with key name "key", and allocation flags of "alloc" (see enum_log_item_free). </p>
<p>Will return a pointer to the item's log_item_data struct for convenience. This is mostly interesting for filters and other services that create items that are not part of a log_line; sources etc. that intend to create an item for a log_line (the more common case) should usually use the below line_item_set_with_key() which creates an item (like this function does), but also correctly inserts it into a log_line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">li</td><td>the log_item to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type </td></tr>
    <tr><td class="paramname">key</td><td>the key to set on the item. ignored for non-generic types (may pass nullptr for those) see alloc </td></tr>
    <tr><td class="paramname">alloc</td><td>LOG_ITEM_FREE_KEY if key was allocated by caller LOG_ITEM_FREE_NONE if key was not allocated Allocated keys will automatically free()d when the log_item is. The log_item's alloc flags will be set to the submitted value; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the log_item's log_data, for easy chaining: log_item_set_with_key(...)-&gt;data_integer= 1; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3ec0161a62f641cc9943d0faed044e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ec0161a62f641cc9943d0faed044e54">&#9670;&nbsp;</a></span>log_item_string_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_item_string_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a>&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate used to determine whether a class is a string class (C-string or Lex-string). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>log item class to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if of a string class </td></tr>
    <tr><td class="paramname">false</td><td>if not of a string class </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe4c3aed333cbc755f314237acb183f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe4c3aed333cbc755f314237acb183f5">&#9670;&nbsp;</a></span>log_item_wellknown_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_item_wellknown_by_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See whether a string is a wellknown field name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>potential key starts here </td></tr>
    <tr><td class="paramname">len</td><td>length of the string to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_ITEM_TYPE_RESERVED</td><td>reserved, but not "wellknown" key </td></tr>
    <tr><td class="paramname">LOG_ITEM_TYPE_NOT_FOUND</td><td>key not found </td></tr>
    <tr><td class="paramname">&gt;0</td><td>index in array of wellknowns </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a02334fb008faf33b0e3e3086360a419e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02334fb008faf33b0e3e3086360a419e">&#9670;&nbsp;</a></span>log_item_wellknown_by_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_item_wellknown_by_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See whether a type is wellknown. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>log item type to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_ITEM_TYPE_NOT_FOUND</td><td>key not found </td></tr>
    <tr><td class="paramname">&gt;0</td><td>index in array of wellknowns </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a71918bba3c6f2738b195a048bb46f036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71918bba3c6f2738b195a048bb46f036">&#9670;&nbsp;</a></span>log_item_wellknown_get_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a> log_item_wellknown_get_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessor: from a record describing a wellknown key, get its class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>index in array of wellknowns, see log_item_wellknown_by_...()</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>log item class for the wellknown key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a154fd9f38a2841c959056236d40d1863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a154fd9f38a2841c959056236d40d1863">&#9670;&nbsp;</a></span>log_item_wellknown_get_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* log_item_wellknown_get_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessor: from a record describing a wellknown key, get its name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>index in array of wellknowns, see log_item_wellknown_by_...()</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">name</td><td>(NTBS) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa0ce12b10b028480b02bc1e74ad1950c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0ce12b10b028480b02bc1e74ad1950c">&#9670;&nbsp;</a></span>log_item_wellknown_get_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> log_item_wellknown_get_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessor: from a record describing a wellknown key, get its type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>index in array of wellknowns, see log_item_wellknown_by_...()</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>log item type for the wellknown key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac8ac0e3cca76ee832e49384fbd3f08cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ac0e3cca76ee832e49384fbd3f08cb">&#9670;&nbsp;</a></span>log_label_from_prio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* log_label_from_prio </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience function: Derive a log label ("error", "warning", "information") from a severity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prio</td><td>the severity/prio in question</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a label corresponding to that priority. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ERROR</td><td>for prio of ERROR_LEVEL or higher </td></tr>
    <tr><td class="paramname">Warning</td><td>for prio of WARNING_LEVEL </td></tr>
    <tr><td class="paramname">Note</td><td>otherwise</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prio</td><td>the severity/prio in question</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a label corresponding to that priority. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">System</td><td>for prio of SYSTEM_LEVEL </td></tr>
    <tr><td class="paramname">Error</td><td>for prio of ERROR_LEVEL </td></tr>
    <tr><td class="paramname">Warning</td><td>for prio of WARNING_LEVEL </td></tr>
    <tr><td class="paramname">Note</td><td>for prio of INFORMATION_LEVEL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62c56769dc6ae6b90744f37d2f81d508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62c56769dc6ae6b90744f37d2f81d508">&#9670;&nbsp;</a></span>log_line_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_line_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a log_line allocated with log_line_init. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nullptr</td><td>could not set up buffer (too small?) </td></tr>
    <tr><td class="paramname">other</td><td>address of the newly initialized log_line</td></tr>
  </table>
  </dd>
</dl>
<p>Release a log_line allocated with log_line_init.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>a log_line previously allocated with line_init() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77f54dc501d35fd582b15264e9163470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f54dc501d35fd582b15264e9163470">&#9670;&nbsp;</a></span>log_line_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_line_full </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate indicating whether a log line is "willing" to accept any more key/value pairs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log-line to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>if not full / if able to accept another log_item </td></tr>
    <tr><td class="paramname">true</td><td>if full </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27f0edb355e22f7f24995b1a7a7600ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f0edb355e22f7f24995b1a7a7600ce">&#9670;&nbsp;</a></span>log_line_get_output_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a>* log_line_get_output_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get log-line's output buffer. </p>
<p>If the logger core provides this buffer, the log-service may use it to assemble its output therein and implicitly return it to the core. Participation is required for services that support populating performance_schema.error_log, and optional for all others.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nullptr</td><td>success, an output buffer is available </td></tr>
    <tr><td class="paramname">otherwise</td><td>failure, no output buffer is available </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a147e51823df900623c27fd0dc00a0e82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147e51823df900623c27fd0dc00a0e82">&#9670;&nbsp;</a></span>log_line_index_by_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_line_index_by_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the (index of the) first key/value pair of the given type in the log line. </p>
<p>This variant accepts a reference item and looks for an item that is of the same type (for wellknown types), or one that is of a generic type, and with the same key name (for generic types). For example, a reference item containing a generic string with key "foo" will a generic string, integer, or float with the key "foo".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log line </td></tr>
    <tr><td class="paramname">ref</td><td>a reference item of the log item type to look for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>none found </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>index of the key/value pair in the log line</td></tr>
  </table>
  </dd>
</dl>
<p>Find the (index of the) first key/value pair of the given type in the log line.</p>
<p>This variant accepts a reference item and looks for an item that is of the same type (for wellknown types), or one that is of a generic type, and with the same key name (for generic types). For example, a reference item containing a generic string with key "foo" will a generic string, integer, or float with the key "foo".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log line </td></tr>
    <tr><td class="paramname">ref</td><td>a reference item of the log item type to look for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>none found </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>index of the key/value pair in the log line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e179553aef2271b286481e10ed090d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e179553aef2271b286481e10ed090d8">&#9670;&nbsp;</a></span>log_line_index_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_line_index_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the (index of the) last key/value pair of the given name in the log line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log line </td></tr>
    <tr><td class="paramname">key</td><td>the key to look for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>none found </td></tr>
    <tr><td class="paramname">-2</td><td>invalid search-key given </td></tr>
    <tr><td class="paramname">-3</td><td>no log_line given </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>index of the key/value pair in the log line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a82986e92acbcc2f13951daf684c141e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82986e92acbcc2f13951daf684c141e2">&#9670;&nbsp;</a></span>log_line_index_by_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_line_index_by_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the (index of the) first key/value pair of the given type in the log line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log line </td></tr>
    <tr><td class="paramname">t</td><td>the log item type to look for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>none found </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>index of the key/value pair in the log line</td></tr>
  </table>
  </dd>
</dl>
<p>Find the (index of the) first key/value pair of the given type in the log line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log line </td></tr>
    <tr><td class="paramname">t</td><td>the log item type to look for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;0</td><td>none found </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>index of the key/value pair in the log line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a617df56802fa60ace39cc20354ace659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a617df56802fa60ace39cc20354ace659">&#9670;&nbsp;</a></span>log_line_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a>* log_line_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a log_line. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nullptr</td><td>could not set up buffer (too small?) </td></tr>
    <tr><td class="paramname">other</td><td>address of the newly initialized log_line</td></tr>
  </table>
  </dd>
</dl>
<p>Initialize a log_line.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nullptr</td><td>could not set up buffer (too small?) </td></tr>
    <tr><td class="paramname">other</td><td>address of the newly initialized log_line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a257ccf5a3ec362360f9a3ab3e16a7336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a257ccf5a3ec362360f9a3ab3e16a7336">&#9670;&nbsp;</a></span>log_line_item_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a>* log_line_item_by_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the last item matching the given key in the log line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log line </td></tr>
    <tr><td class="paramname">key</td><td>the key to look for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nullptr</td><td>item not found </td></tr>
    <tr><td class="paramname">otherwise</td><td>pointer to the item (not a copy thereof!) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a781d08b134d5c71cc03c481a284ba7d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a781d08b134d5c71cc03c481a284ba7d2">&#9670;&nbsp;</a></span>log_line_item_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_line_item_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many items are currently set on the given log_line? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log-line to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>number of items set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a28d5d597ec7ff531418fab92bc77f07d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28d5d597ec7ff531418fab92bc77f07d">&#9670;&nbsp;</a></span>log_line_item_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_line_item_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release log line item (key/value pair) with the index elem in log line ll. </p>
<p>This frees whichever of key and value were dynamically allocated. This leaves a "gap" in the bag that may immediately be overwritten with an updated element. If the intention is to remove the item without replacing it, use log_line_item_remove() instead!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log_line </td></tr>
    <tr><td class="paramname">elem</td><td>index of the key/value pair to release </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afd8fa6a77bfed5d4e075bebd38ef9492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd8fa6a77bfed5d4e075bebd38ef9492">&#9670;&nbsp;</a></span>log_line_item_free_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_line_item_free_all </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release all log line items (key/value pairs) in log line ll. </p>
<p>This frees whichever keys and values were dynamically allocated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log_line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9590a4444c7e9123f63707c20389bab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9590a4444c7e9123f63707c20389bab3">&#9670;&nbsp;</a></span>log_line_item_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a>* log_line_item_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an entry in a log line for use. </p>
<p>This simply puts it in a defined state; if you wish to reset an existing item, see log_item_free(). This resets the element beyond the last. The element count is not adjusted; this is for the caller to do once it sets up a valid element to suit its needs in the cleared slot. Finally, it is up to the caller to make sure that an element can be allocated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log-line to initialize a log_item in</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>address of the cleared log_item </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9b8cc5fda1fd13c2159f21ff28789dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b8cc5fda1fd13c2159f21ff28789dbb">&#9670;&nbsp;</a></span>log_line_item_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_line_item_remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>elem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release log line item (key/value pair) with the index elem in log line ll. </p>
<p>This frees whichever of key and value were dynamically allocated. This moves any trailing items to fill the "gap" and decreases the counter of elements in the log line. If the intention is to leave a "gap" in the bag that may immediately be overwritten with an updated element, use log_line_item_free() instead!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>log_line </td></tr>
    <tr><td class="paramname">elem</td><td>index of the key/value pair to release </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab1463bf3827799b813bbc78786043b3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1463bf3827799b813bbc78786043b3e">&#9670;&nbsp;</a></span>log_line_item_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a>* log_line_item_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new log item of well-known type "t" in log line "ll". </p>
<p>On success, the number of registered items on the log line is increased, the item's type is added to the log_line's "seen" property, and a pointer to the item's log_item_data struct is returned for convenience.</p>
<p>It is up to the caller to ensure the log_line can accept more items (e.g. by using log_line_full(ll)).</p>
<p>The allocation of this item will be LOG_ITEM_FREE_NONE; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the log_item's log_data, for easy chaining: log_line_item_set_with_key(...)-&gt;data_integer= 1;</td></tr>
  </table>
  </dd>
</dl>
<p>On success, the number of registered items on the log line is increased, the item's type is added to the log_line's "seen" property, and a pointer to the item's log_item_data struct is returned for convenience.</p>
<p>The allocation of this item will be LOG_ITEM_FREE_NONE; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">!nullptr</td><td>a pointer to the log_item's log_data, for easy chaining: log_line_item_set(...)-&gt;data_integer= 1; </td></tr>
    <tr><td class="paramname">nullptr</td><td>could not create a log_item in given log_line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af0bbcf52fd12cd4d295ac69803661e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bbcf52fd12cd4d295ac69803661e0d">&#9670;&nbsp;</a></span>log_line_item_set_with_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a>* log_line_item_set_with_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td>
          <td class="paramname"><em>alloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create new log item in log line "ll", with key name "key", and allocation flags of "alloc" (see enum_log_item_free). </p>
<p>It is up to the caller to ensure the log_line can accept more items (e.g. by using log_line_full(ll)). On success, the number of registered items on the log line is increased, the item's type is added to the log_line's "seen" property, and a pointer to the item's log_item_data struct is returned for convenience.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type </td></tr>
    <tr><td class="paramname">key</td><td>the key to set on the item. ignored for non-generic types (may pass nullptr for those) see alloc </td></tr>
    <tr><td class="paramname">alloc</td><td>LOG_ITEM_FREE_KEY if key was allocated by caller LOG_ITEM_FREE_NONE if key was not allocated Allocated keys will automatically free()d when the log_item is. The log_item's alloc flags will be set to the submitted value; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the log_item's log_data, for easy chaining: log_line_item_set_with_key(...)-&gt;data_integer= 1;</td></tr>
  </table>
  </dd>
</dl>
<p>On success, the number of registered items on the log line is increased, the item's type is added to the log_line's "seen" property, and a pointer to the item's log_item_data struct is returned for convenience.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type </td></tr>
    <tr><td class="paramname">key</td><td>the key to set on the item. ignored for non-generic types (may pass nullptr for those) see alloc </td></tr>
    <tr><td class="paramname">alloc</td><td>LOG_ITEM_FREE_KEY if key was allocated by caller LOG_ITEM_FREE_NONE if key was not allocated Allocated keys will automatically free()d when the log_item is. The log_item's alloc flags will be set to the submitted value; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">!nullptr</td><td>a pointer to the log_item's log_data, for easy chaining: log_line_item_set_with_key(...)-&gt;data_integer= 1; </td></tr>
    <tr><td class="paramname">nullptr</td><td>could not create a log_item in given log_line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac5a124f632572692cbebee488d5214c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5a124f632572692cbebee488d5214c2">&#9670;&nbsp;</a></span>log_line_item_types_seen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#af03da2cb6c6eadac3c6f59b2a629eeee">log_item_type_mask</a> log_line_item_types_seen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#af03da2cb6c6eadac3c6f59b2a629eeee">log_item_type_mask</a>&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test whether a given type is presumed present on the log line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to examine </td></tr>
    <tr><td class="paramname">m</td><td>the log_type to test for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>not present </td></tr>
    <tr><td class="paramname">!=0</td><td>present </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51db7882b6bd9aeb8cd56702589725d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51db7882b6bd9aeb8cd56702589725d3">&#9670;&nbsp;</a></span>log_line_submit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_line_submit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *&#160;</td>
          <td class="paramname"><em>ll</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete, filter, and write submitted log items. </p>
<p>This expects a log_line collection of log-related key/value pairs, e.g. from log_message().</p>
<p>Where missing, timestamp, priority, thread-ID (if any) and so forth are added.</p>
<p>Log item source services, log item filters, and log item sinks are then called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>key/value pairs describing info to log</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>number of fields in created log line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a777f7139b72c0f21f68afbf34a81c96b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a777f7139b72c0f21f68afbf34a81c96b">&#9670;&nbsp;</a></span>log_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_message </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>log_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variadic convenience function for logging. </p>
<p>This fills in the array that is used by the filter and log-writer services. Where missing, timestamp, priority, and thread-ID (if any) are added. Log item source services, log item filters, and log item writers are called.</p>
<p>see log_vmessage() for more information.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_type</td><td>what log should this go to? </td></tr>
    <tr><td class="paramname">...</td><td>fields: LOG_ITEM_* tag, [[key], value] </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>return value of log_vmessage() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a4146096cda4970aead162327ad1ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a4146096cda4970aead162327ad1ccc">&#9670;&nbsp;</a></span>log_prio_from_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="my__loglevel_8h.html#a246c20287aef048a7befd7c863325d82">loglevel</a> log_prio_from_label </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Derive the event's priority (SYSTEM_LEVEL, ERROR_LEVEL, ...) from a textual label. </p>
<p>If the label can not be identified, default to ERROR_LEVEL as it is better to keep something that needn't be kept than to discard something that shouldn't be.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">label</td><td>The prio label as a \0 terminated C-string.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>priority (as an enum loglevel) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a93624d7ffd4d872d5e820e5b8ce8432b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93624d7ffd4d872d5e820e5b8ce8432b">&#9670;&nbsp;</a></span>log_slow_applicable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> log_slow_applicable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether we need to write the current statement (or its rewritten version if it exists) to the slow query log. </p>
<p>As a side-effect, a digest of suppressed statements may be written.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>statement needs to be logged </td></tr>
    <tr><td class="paramname">false</td><td>statement does not need to be logged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8cdc0b2173b661dc8947545c1e413714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cdc0b2173b661dc8947545c1e413714">&#9670;&nbsp;</a></span>log_slow_do()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_slow_do </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *&#160;</td>
          <td class="paramname"><em>query_start_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unconditionally writes the current statement (or its rewritten version if it exists) to the slow query log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handle </td></tr>
    <tr><td class="paramname">query_start_status</td><td>Pointer to a snapshot of thd-&gt;status_var taken at the start of execution </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d9363e6bb9e4a15e200c63a8adc98eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d9363e6bb9e4a15e200c63a8adc98eb">&#9670;&nbsp;</a></span>log_slow_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_slow_statement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structSystem__status__var.html">System_status_var</a> *&#160;</td>
          <td class="paramname"><em>query_start_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether we need to write the current statement to the slow query log. </p>
<p>If so, do so. This is a wrapper for the two functions above; most callers should use this wrapper. Only use the above functions directly if you have expensive rewriting that you only need to do if the query actually needs to be logged (e.g. SP variables / NAME_CONST substitution when executing a PROCEDURE). A digest of suppressed statements may be logged instead of the current statement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handle </td></tr>
    <tr><td class="paramname">query_start_status</td><td>Pointer to a snapshot of thd-&gt;status_var taken at the start of execution </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a042b20922fe7610655f4d48c3dbe3fd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042b20922fe7610655f4d48c3dbe3fd9">&#9670;&nbsp;</a></span>log_string_compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_string_compare </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>case_insensitive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modular logger: log line and key/value manipulation helpers. </p>
<p>Server-internal. External services should access these via the log_builtins service API (cf. preamble for this file). Compare two NUL-terminated byte strings</p>
<p>Note that when comparing without length limit, the long string is greater if they're equal up to the length of the shorter string, but the shorter string will be considered greater if its "value" up to that point is greater:</p>
<p>compare 'abc','abcd': -100 (longer wins if otherwise same) compare 'abca','abcd': -3 (higher value wins) compare 'abcaaaaa','abcd': -3 (higher value wins)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>the first string </td></tr>
    <tr><td class="paramname">b</td><td>the second string </td></tr>
    <tr><td class="paramname">len</td><td>compare at most this many characters &ndash; 0 for no limit </td></tr>
    <tr><td class="paramname">case_insensitive</td><td>ignore upper/lower case in comparison</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>a &lt; b </td></tr>
    <tr><td class="paramname">0</td><td>a == b </td></tr>
    <tr><td class="paramname">1</td><td>a &gt; b</td></tr>
  </table>
  </dd>
</dl>
<p>Modular logger: log line and key/value manipulation helpers.</p>
<p>Note that when comparing without length limit, the long string is greater if they're equal up to the length of the shorter string, but the shorter string will be considered greater if its "value" up to that point is greater:</p>
<p>compare 'abc','abcd': -100 (longer wins if otherwise same) compare 'abca','abcd': -3 (higher value wins) compare 'abcaaaaa','abcd': -3 (higher value wins)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>the first string </td></tr>
    <tr><td class="paramname">b</td><td>the second string </td></tr>
    <tr><td class="paramname">len</td><td>compare at most this many characters &ndash; 0 for no limit </td></tr>
    <tr><td class="paramname">case_insensitive</td><td>ignore upper/lower case in comparison</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>a &lt; b </td></tr>
    <tr><td class="paramname">0</td><td>a == b </td></tr>
    <tr><td class="paramname">1</td><td>a &gt; b </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac4838f429e08c58de37dd5d20d61f55a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4838f429e08c58de37dd5d20d61f55a">&#9670;&nbsp;</a></span>log_vmessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_vmessage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>log_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>fili</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a message to a log (for now just used for error log). </p>
<p>This is a variadic convenience interface to the logging components (which use the log_line structure internally), e.g.</p>
<p>log_message(LOG_TYPE_ERROR, LOG_ITEM_LOG_PRIO, INFORMATION_LEVEL, LOG_ITEM_LOG_MESSAGE, "file %s is %f %% yellow", filename, yellowfication);</p>
<p>For use by legacy sql_print_*(), legacy my_plugin_log_message(); also available via the log_builtins service as message().</p>
<p>Wherever possible, use the fluent C++ wrapper LogErr() (see log_builtins.h) instead.</p>
<p>See log_shared.h for LOG_TYPEs as well as for allowed LOG_ITEM_ types.</p>
<p>Write a message to a log (for now just used for error log).</p>
<p>This fills in the array that is used by the filter and log-writer services. Where missing, timestamp, priority, and thread-ID (if any) are added. Log item source services, log item filters, and log item writers are called.</p>
<p>For convenience, any number of fields may be added:</p>
<ul>
<li>"well-known" field types require a type tag and the payload: LOG_ITEM_LOG_LABEL, "ohai"</li>
<li>"generic" field types require a type tag, a key (C-string), and the payload: LOG_ITEM_GEN_FLOAT, "myPi", 3.1415926927</li>
</ul>
<p>Newer items (further to the right/bottom) overwrite older ones (further to the left/top).</p>
<p>If a message is given, it must be the last tag in the argument list. The message may be given verbatim as a C format string, followed by its arguments:</p>
<p>LOG_ITEM_LOG_MESSAGE, "format string %s %d abc", "arg1", 12345</p>
<p>To avoid substitutions, use</p>
<p>LOG_ITEM_LOG_VERBATIM, "message from other subsys containing %user input"</p>
<p>Alternatively, an error code may be specified &ndash; the corresponding error message will be looked up and inserted &ndash;, followed by any arguments required by the error message:</p>
<p>LOG_ITEM_LOG_LOOKUP, ER_CANT_SET_DATA_DIR, filename, errno, strerror(errno)</p>
<p>If no message is to be included (this should never be the case for the erorr log), LOG_ITEM_END may be used instead to terminate the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_type</td><td>what log should this go to? </td></tr>
    <tr><td class="paramname">fili</td><td>field list: LOG_ITEM_* tag, [[key], value] </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>return value of log_line_submit() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1ebe31ce2f892ac71ad62e1db22c0999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ebe31ce2f892ac71ad62e1db22c0999">&#9670;&nbsp;</a></span>log_write_errstream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_write_errstream </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interim helper: write to the default error stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>buffer containing serialized error message </td></tr>
    <tr><td class="paramname">length</td><td>number of bytes in buffer</td></tr>
  </table>
  </dd>
</dl>
<p>Interim helper: write to the default error stream.</p>
<p>Automatically appends a "\n", so the caller needn't. Does its own locking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>data to write </td></tr>
    <tr><td class="paramname">length</td><td>length of the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>number of added fields, if any </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac86816b3776e6d9dd2f274ee70c29fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86816b3776e6d9dd2f274ee70c29fde">&#9670;&nbsp;</a></span>make_iso8601_timestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int make_iso8601_timestamp </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td>
          <td class="paramname"><em>utime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="log_8h.html#a0f360b22dd15e3eecd53c745522cacaf">enum_iso8601_tzmode</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make and return an ISO 8601 / RFC 3339 compliant timestamp. </p>
<p>Accepts the log_timestamps global variable in its third parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>A buffer of at least 26 bytes to store the timestamp in (19 + tzinfo tail + \0) </td></tr>
    <tr><td class="paramname">utime</td><td>Microseconds since the epoch </td></tr>
    <tr><td class="paramname">mode</td><td>if 0, use UTC; if 1, use local time</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">length</td><td>of timestamp (excluding \0) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c28006a83045969be252194e6de2380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c28006a83045969be252194e6de2380">&#9670;&nbsp;</a></span>make_query_log_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* make_query_log_name </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log_8h.html#a9f1845bedd997e2518589e06dcf0d774">enum_log_table_type</a>&#160;</td>
          <td class="paramname"><em>log_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the name of the query log specified. </p>
<p>This method forms a new path + file name for the log specified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buff</td><td>Location for building new string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">log_type</td><td>QUERY_LOG_SLOW or QUERY_LOG_GENERAL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to new string containing the name. </dd></dl>

</div>
</div>
<a id="afb746e3e853726524507e516af35358c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb746e3e853726524507e516af35358c">&#9670;&nbsp;</a></span>open_error_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> open_error_log </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>get_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open the error log and redirect stderr and optionally stdout to the error log file. </p>
<p>The streams are reopened only for appending (writing at end of file).</p>
<dl class="section note"><dt>Note</dt><dd>On error, my_error() is not called here. So, caller of this function should call my_error() to keep the protocol.</dd>
<dd>
This function also writes any error log messages that have been buffered by calling flush_error_log_messages().</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name of error log file </td></tr>
    <tr><td class="paramname">get_lock</td><td>Should we acquire LOCK_error_log? </td></tr>
  </table>
  </dd>
</dl>
<p>Make sure, file is writable if it exists. If file does not exists then make sure directory path exists and it is writable.</p>

</div>
</div>
<a id="a5e8562061634d5d00f0b68b8d318ba3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e8562061634d5d00f0b68b8d318ba3d">&#9670;&nbsp;</a></span>reopen_error_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> reopen_error_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush any pending data to disk and reopen the error log. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a577b7383866fd056b104dec852ea9469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a577b7383866fd056b104dec852ea9469">&#9670;&nbsp;</a></span>LOG_FILE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> LOG_FILE = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a77c2d659c2b6bad0bb44b706e620e365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c2d659c2b6bad0bb44b706e620e365">&#9670;&nbsp;</a></span>LOG_NONE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> LOG_NONE = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af98b3c68905c835565c45887186c3b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af98b3c68905c835565c45887186c3b7e">&#9670;&nbsp;</a></span>LOG_TABLE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> LOG_TABLE = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abaac20a4f9e1453f105d50ae860eacb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaac20a4f9e1453f105d50ae860eacb1">&#9670;&nbsp;</a></span>log_throttle_qni</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSlow__log__throttle.html">Slow_log_throttle</a> log_throttle_qni</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2552742edb23ad2bc0bc18c7e2fa6efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2552742edb23ad2bc0bc18c7e2fa6efe">&#9670;&nbsp;</a></span>query_logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQuery__logger.html">Query_logger</a> query_logger</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="log_8h.html">log.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
