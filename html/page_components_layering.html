<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Component Infrastructure Layers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page_components_layering.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Component Infrastructure Layers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sect_components_minimal_chassis"></a>
The Minimal Chassis</h1>
<p>The core of the component infrastructure is the so called "minimal chassis". It consists of implementations of the registry and the dynamic loader. These are enough to bootstrap the subsystem and do not require any extra functionality.</p>
<p>The minimal chassis can theoretically be embedded into any binary (be it an executable or a shared library) and can be used to provide extensibility to it. Hence it can even be isolated into a standalone library.</p>
<p>However the minimal chassis is currently is statically linked into the server executable. Since the minimal chassis is logically independent it can (and is) initialized very early in the server bootstrap process.</p>
<p>The minimal chassis lacks an impelmentation of persistent storage, i.e. every time it's bootstraped it will only contain the registry and the dynamic loader services. While this is a good basis it lacks a central functionality expected from a mysql server extension system: keep a persisted list of extensions that are to be loaded automatically into the infrastructure in an orderly way to provide the functionality contained in them to server users.</p>
<p>Hence an extra logical layer is added on top of the minimal chassis:</p>
<p>The minimal chassis library has three exposed apis those are:</p><ul>
<li>minimal_chassis_init()</li>
<li>minimal_chassis_deinit()</li>
<li>minimal_chassis_services_refresh() (see <a class="el" href="minimal__chassis_8cc.html">minimal_chassis.cc</a>)</li>
</ul>
<p>Note: minimal chassis support the native implementation of rwlocks and trylocks and it doesn't support the prlock because the prlock native implementaion depends on mysql server code.</p>
<h1><a class="anchor" id="sect_components_layering_server_component"></a>
The Server Component</h1>
<p>The server component is currently the whole of the server binary code. It's not loaded dynamically (as any ordinary component is) since it's embedded into the same OS binary as the minimal chassis: the mysql server executable binary. As any other component the server component too can expose any of the functionality it encapsulates via the service implementations it provides to the other components in the component infrastructure.</p>
<p>The server component is initialized relatively late in the bootstrap process: when all of the server is initialized and it's ready to "go" (i.e. accept client connections). At that time the component persistency table is read and all of the component sets defined in it are loaded and initialized.</p>
<p>Note that, albeit being in the same binary (component) the server component and the minimal chassis are and should remain two distinct layers. Mostly to allow safe reuse of the minimal chassis in other binaries.</p>
<p>The elements of the minimal chassis are implemented in components/libminchassis and the implementations of services the server component provides are to be found in sql/server_component/ </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="PAGE_EXTENDING.html">Extending MySQL</a></li><li class="navelem"><a class="el" href="PAGE_COMPONENTS.html">Component Subsystem</a></li><li class="navelem"><a class="el" href="PAGE_COMPONENTS_CONCEPTS.html">Component Subsystem Concepts</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
