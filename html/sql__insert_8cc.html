<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/sql_insert.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sql__insert_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sql_insert.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sql__insert_8h_source.html">sql/sql_insert.h</a>&quot;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__ctype_8h_source.html">m_ctype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__string_8h_source.html">m_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__alloc_8h_source.html">my_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__base_8h_source.html">my_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__bitmap_8h_source.html">my_bitmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__compiler_8h_source.html">my_compiler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__table__map_8h_source.html">my_table_map.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__thread__local_8h_source.html">my_thread_local.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__table_8h_source.html">mysql/psi/mysql_table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__base_8h_source.html">mysql/psi/psi_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="service__mysql__alloc_8h_source.html">mysql/service_mysql_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="udf__registration__types_8h_source.html">mysql/udf_registration_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__com_8h_source.html">mysql_com.h</a>&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="prealloced__array_8h_source.html">prealloced_array.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="auth__acls_8h_source.html">sql/auth/auth_acls.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="auth__common_8h_source.html">sql/auth/auth_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="binlog_8h_source.html">sql/binlog.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="create__field_8h_source.html">sql/create_field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dictionary__client_8h_source.html">sql/dd/cache/dictionary_client.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd_8h_source.html">sql/dd/dd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dictionary_8h_source.html">sql/dd/dictionary.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2dd_2types_2column_8h_source.html">sql/dd/types/column.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2dd_2types_2table_8h_source.html">sql/dd/types/table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd__sql__view_8h_source.html">sql/dd_sql_view.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug__sync_8h_source.html">sql/debug_sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="derror_8h_source.html">sql/derror.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="discrete__interval_8h_source.html">sql/discrete_interval.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2field_8h_source.html">sql/field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2handler_8h_source.html">sql/handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">sql/item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="key_8h_source.html">sql/key.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock_8h_source.html">sql/lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mdl_8h_source.html">sql/mdl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysqld_8h_source.html">sql/mysqld.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nested__join_8h_source.html">sql/nested_join.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="opt__explain_8h_source.html">sql/opt_explain.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="opt__explain__format_8h_source.html">sql/opt_explain_format.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="partition__info_8h_source.html">sql/partition_info.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2protocol_8h_source.html">sql/protocol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="query__options_8h_source.html">sql/query_options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rpl__rli_8h_source.html">sql/rpl_rli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rpl__slave_8h_source.html">sql/rpl_slave.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__alter_8h_source.html">sql/sql_alter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__array_8h_source.html">sql/sql_array.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__base_8h_source.html">sql/sql_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__class_8h_source.html">sql/sql_class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__const_8h_source.html">sql/sql_const.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__error_8h_source.html">sql/sql_error.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__lex_8h_source.html">sql/sql_lex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__resolver_8h_source.html">sql/sql_resolver.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__select_8h_source.html">sql/sql_select.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__show_8h_source.html">sql/sql_show.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__table_8h_source.html">sql/sql_table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__update_8h_source.html">sql/sql_update.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__view_8h_source.html">sql/sql_view.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="system__variables_8h_source.html">sql/system_variables.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="table__trigger__dispatcher_8h_source.html">sql/table_trigger_dispatcher.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thd__raii_8h_source.html">sql/thd_raii.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thr__malloc_8h_source.html">sql/thr_malloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transaction_8h_source.html">sql/transaction.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transaction__info_8h_source.html">sql/transaction_info.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trigger__def_8h_source.html">sql/trigger_def.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__string_8h_source.html">sql_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="template__utils_8h_source.html">template_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thr__lock_8h_source.html">thr_lock.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacedd"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacedd.html">dd</a></td></tr>
<tr class="memdesc:namespacedd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The version of the current data dictionary table definitions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af8ae7353a55484c3eb99b85619ddb6a2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#af8ae7353a55484c3eb99b85619ddb6a2">check_view_insertability</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view, const <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *insert_table_ref)</td></tr>
<tr class="memdesc:af8ae7353a55484c3eb99b85619ddb6a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Additional check for insertability for VIEW.  <a href="#af8ae7353a55484c3eb99b85619ddb6a2">More...</a><br /></td></tr>
<tr class="separator:af8ae7353a55484c3eb99b85619ddb6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20697d289360cc05ec92c4b30bdd888"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#ae20697d289360cc05ec92c4b30bdd888">prepare_for_positional_update</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *tables)</td></tr>
<tr class="memdesc:ae20697d289360cc05ec92c4b30bdd888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get extra info for tables we insert into.  <a href="#ae20697d289360cc05ec92c4b30bdd888">More...</a><br /></td></tr>
<tr class="separator:ae20697d289360cc05ec92c4b30bdd888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb72f2a00ba453e0c32ff68d45d0d49a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#afb72f2a00ba453e0c32ff68d45d0d49a">check_single_table_insert</a> (const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;fields, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> **insert_table_ref)</td></tr>
<tr class="memdesc:afb72f2a00ba453e0c32ff68d45d0d49a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that insert fields are from a single table of a multi-table view.  <a href="#afb72f2a00ba453e0c32ff68d45d0d49a">More...</a><br /></td></tr>
<tr class="separator:afb72f2a00ba453e0c32ff68d45d0d49a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798f13c2a168d5bbc95c88809bfcf856"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#a798f13c2a168d5bbc95c88809bfcf856">check_insert_fields</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *table_list, <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; *fields)</td></tr>
<tr class="memdesc:a798f13c2a168d5bbc95c88809bfcf856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check insert fields.  <a href="#a798f13c2a168d5bbc95c88809bfcf856">More...</a><br /></td></tr>
<tr class="separator:a798f13c2a168d5bbc95c88809bfcf856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70bd451ec4aa620b18b8bd568531b2a0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#a70bd451ec4aa620b18b8bd568531b2a0">check_valid_table_refs</a> (const <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *view, const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;values, <a class="el" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a> map)</td></tr>
<tr class="memdesc:a70bd451ec4aa620b18b8bd568531b2a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that table references are restricted to the supplied table map.  <a href="#a70bd451ec4aa620b18b8bd568531b2a0">More...</a><br /></td></tr>
<tr class="separator:a70bd451ec4aa620b18b8bd568531b2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9690ed7339034645ff35acb05439f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#a0b9690ed7339034645ff35acb05439f1">validate_default_values_of_unset_fields</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr class="memdesc:a0b9690ed7339034645ff35acb05439f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates default value of fields which are not specified in the column list of INSERT statement.  <a href="#a0b9690ed7339034645ff35acb05439f1">More...</a><br /></td></tr>
<tr class="separator:a0b9690ed7339034645ff35acb05439f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac838179a9fb8233cc072fc43c1e2e56c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#ac838179a9fb8233cc072fc43c1e2e56c">prepare_triggers_for_insert_stmt</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr class="memdesc:ac838179a9fb8233cc072fc43c1e2e56c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare triggers for INSERT-like statement.  <a href="#ac838179a9fb8233cc072fc43c1e2e56c">More...</a><br /></td></tr>
<tr class="separator:ac838179a9fb8233cc072fc43c1e2e56c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97d6fb16ff91e2ed08c9cbd1dab11d0e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#a97d6fb16ff91e2ed08c9cbd1dab11d0e">mysql_prepare_blob_values</a> (<a class="el" href="classTHD.html">THD</a> *thd, const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;fields, <a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *<a class="el" href="client__plugin_8cc.html#a7d0fe2f135db987da18cea87b4778737">mem_root</a>)</td></tr>
<tr class="memdesc:a97d6fb16ff91e2ed08c9cbd1dab11d0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup data for field BLOB/GEOMETRY field types for execution of "INSERT...UPDATE" statement.  <a href="#a97d6fb16ff91e2ed08c9cbd1dab11d0e">More...</a><br /></td></tr>
<tr class="separator:a97d6fb16ff91e2ed08c9cbd1dab11d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85b36581f372dbfb90811b00eb32802"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#ac85b36581f372dbfb90811b00eb32802">fix_join_cond_for_insert</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *tr)</td></tr>
<tr class="memdesc:ac85b36581f372dbfb90811b00eb32802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recursive helper function for resolving join conditions for insertion into view for prepared statements.  <a href="#ac85b36581f372dbfb90811b00eb32802">More...</a><br /></td></tr>
<tr class="separator:ac85b36581f372dbfb90811b00eb32802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db0d8aecadb8032c4d0f3b09d29a4fa"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#a6db0d8aecadb8032c4d0f3b09d29a4fa">allocate_column_bitmap</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="structMY__BITMAP.html">MY_BITMAP</a> **bitmap)</td></tr>
<tr class="separator:a6db0d8aecadb8032c4d0f3b09d29a4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2891dd49a9d7d6706fd3ee2f1d9b94fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#a2891dd49a9d7d6706fd3ee2f1d9b94fe">get_default_columns</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="structMY__BITMAP.html">MY_BITMAP</a> **m_function_default_columns)</td></tr>
<tr class="separator:a2891dd49a9d7d6706fd3ee2f1d9b94fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3c1e2ad8831eee7e825651d47cee5ec"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#ae3c1e2ad8831eee7e825651d47cee5ec">last_uniq_key</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> keynr)</td></tr>
<tr class="memdesc:ae3c1e2ad8831eee7e825651d47cee5ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there are more unique keys after the current one.  <a href="#ae3c1e2ad8831eee7e825651d47cee5ec">More...</a><br /></td></tr>
<tr class="separator:ae3c1e2ad8831eee7e825651d47cee5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0cc208cea5fc74a54bab17b818227bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#ae0cc208cea5fc74a54bab17b818227bf">write_record</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> *<a class="el" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>, <a class="el" href="classCOPY__INFO.html">COPY_INFO</a> *<a class="el" href="myisamlog_8cc.html#a63c3b620cc1cd0b4a2850c8d9804fde2">update</a>)</td></tr>
<tr class="memdesc:ae0cc208cea5fc74a54bab17b818227bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a record to table with optional deletion of conflicting records, invoke proper triggers if needed.  <a href="#ae0cc208cea5fc74a54bab17b818227bf">More...</a><br /></td></tr>
<tr class="separator:ae0cc208cea5fc74a54bab17b818227bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04689a406cf02ce1b3200fa92f44fc8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#a04689a406cf02ce1b3200fa92f44fc8d">check_that_all_fields_are_given_values</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE.html">TABLE</a> *<a class="el" href="completion__hash_8h.html#aea3abbd5a90d07f8abee93d6c28bce9a">entry</a>, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *table_list)</td></tr>
<tr class="memdesc:a04689a406cf02ce1b3200fa92f44fc8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that all fields with aren't null_fields are used.  <a href="#a04689a406cf02ce1b3200fa92f44fc8d">More...</a><br /></td></tr>
<tr class="separator:a04689a406cf02ce1b3200fa92f44fc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad690f72c713252029084cca4d19080a6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structTABLE.html">TABLE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__insert_8cc.html#ad690f72c713252029084cca4d19080a6">create_table_from_items</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structHA__CREATE__INFO.html">HA_CREATE_INFO</a> *create_info, <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *<a class="el" href="group__performance__schema__buffers.html#gadabd4f0b50cd7cbf3410d095fc2bda60">create_table</a>, <a class="el" href="classAlter__info.html">Alter_info</a> *alter_info, const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;<a class="el" href="structitems.html">items</a>, <a class="el" href="structhandlerton.html">handlerton</a> **post_ddl_ht)</td></tr>
<tr class="memdesc:ad690f72c713252029084cca4d19080a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create table from lists of fields and items (or just return TABLE object for pre-opened existing table).  <a href="#ad690f72c713252029084cca4d19080a6">More...</a><br /></td></tr>
<tr class="separator:ad690f72c713252029084cca4d19080a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a6db0d8aecadb8032c4d0f3b09d29a4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6db0d8aecadb8032c4d0f3b09d29a4fa">&#9670;&nbsp;</a></span>allocate_column_bitmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> allocate_column_bitmap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMY__BITMAP.html">MY_BITMAP</a> **&#160;</td>
          <td class="paramname"><em>bitmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a798f13c2a168d5bbc95c88809bfcf856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798f13c2a168d5bbc95c88809bfcf856">&#9670;&nbsp;</a></span>check_insert_fields()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_insert_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>table_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; *&#160;</td>
          <td class="paramname"><em>fields</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check insert fields. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>The current thread. </td></tr>
    <tr><td class="paramname">table_list</td><td>The table for insert. </td></tr>
    <tr><td class="paramname">fields</td><td>The insert fields.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if success, true if error</dd></dl>
<p>Resolved reference to base table is returned in lex-&gt;insert_table_leaf. </p>

</div>
</div>
<a id="afb72f2a00ba453e0c32ff68d45d0d49a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb72f2a00ba453e0c32ff68d45d0d49a">&#9670;&nbsp;</a></span>check_single_table_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_single_table_insert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> **&#160;</td>
          <td class="paramname"><em>insert_table_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that insert fields are from a single table of a multi-table view. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">fields</td><td>The insert fields to be checked. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">view</td><td>The view for insert. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">insert_table_ref</td><td>Reference to table to insert into</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called to check that the fields being inserted into are from a single base table. This must be checked when the table to be inserted into is a multi-table view.</p>
<dl class="section return"><dt>Returns</dt><dd>false if success, true if an error was raised. </dd></dl>

</div>
</div>
<a id="a04689a406cf02ce1b3200fa92f44fc8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04689a406cf02ce1b3200fa92f44fc8d">&#9670;&nbsp;</a></span>check_that_all_fields_are_given_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_that_all_fields_are_given_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>table_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that all fields with aren't null_fields are used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread handler </td></tr>
    <tr><td class="paramname">entry</td><td>table that's checked </td></tr>
    <tr><td class="paramname">table_list</td><td>top-level table or view, used for generating error or warning message</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if all fields are given values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a70bd451ec4aa620b18b8bd568531b2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70bd451ec4aa620b18b8bd568531b2a0">&#9670;&nbsp;</a></span>check_valid_table_refs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_valid_table_refs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a>&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check that table references are restricted to the supplied table map. </p>
<p>The check can be skipped if the supplied table is a base table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">view</td><td>Table being specified </td></tr>
    <tr><td class="paramname">values</td><td>Values whose used tables are to be matched against table map </td></tr>
    <tr><td class="paramname">map</td><td>Table map to match against</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if success, true if error </dd></dl>

</div>
</div>
<a id="af8ae7353a55484c3eb99b85619ddb6a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ae7353a55484c3eb99b85619ddb6a2">&#9670;&nbsp;</a></span>check_view_insertability()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_view_insertability </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>insert_table_ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Additional check for insertability for VIEW. </p>
<p>A view is insertable if the following conditions are true:</p><ul>
<li>All columns being inserted into are from a single table.</li>
<li>All not used columns in table have default values.</li>
<li>All columns in view are distinct (not referring to the same column).</li>
<li>All columns in view are insertable-into.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>thread handler </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">view</td><td>reference to view being inserted into. view-&gt;contain_auto_increment is true if and only if the view contains an auto_increment field. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">insert_table_ref</td><td>reference to underlying table being inserted into</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>if success </td></tr>
    <tr><td class="paramname">true</td><td>if table is not insertable-into (no error is reported) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad690f72c713252029084cca4d19080a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad690f72c713252029084cca4d19080a6">&#9670;&nbsp;</a></span>create_table_from_items()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structTABLE.html">TABLE</a>* create_table_from_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structHA__CREATE__INFO.html">HA_CREATE_INFO</a> *&#160;</td>
          <td class="paramname"><em>create_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>create_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAlter__info.html">Alter_info</a> *&#160;</td>
          <td class="paramname"><em>alter_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhandlerton.html">handlerton</a> **&#160;</td>
          <td class="paramname"><em>post_ddl_ht</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create table from lists of fields and items (or just return TABLE object for pre-opened existing table). </p>
<p>Used by CREATE SELECT.</p>
<p>Let "source table" be the table in the SELECT part.</p>
<p>Let "source table columns" be the set of columns in the SELECT list.</p>
<p>An interesting peculiarity in the syntax CREATE TABLE (&lt;columns&gt;) SELECT is that function defaults are stripped from the the source table columns, but not from the additional columns defined in the CREATE TABLE part. The first <code>TIMESTAMP</code> column there is also subject to promotion to <code>TIMESTAMP</code> <code>DEFAULT</code> <code>CURRENT_TIMESTAMP</code> <code>ON</code> <code>UPDATE</code> <code>CURRENT_TIMESTAMP</code>, as usual.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Thread object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">create_info</td><td>Create information (like MAX_ROWS, ENGINE or temporary table flag) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">create_table</td><td>Pointer to TABLE_LIST object providing database and name for table to be created or to be open </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">alter_info</td><td>Initial list of columns and indexes for the table to be created </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">items</td><td>The source table columns. Corresponding column definitions (Create_field's) will be added to the end of alter_info-&gt;create_list. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">post_ddl_ht</td><td>Set to handlerton for table's SE, if this SE supports atomic DDL, so caller can call SE post DDL hook after committing transaction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function assumes that either table exists and was pre-opened and locked at open_and_lock_tables() stage (and in this case we just emit error or warning and return pre-opened TABLE object) or an exclusive metadata lock was acquired on table so we can safely create, open and lock table in it (we don't acquire metadata lock if this create is for temporary table).</dd>
<dd>
Since this function contains some logic specific to CREATE TABLE ... SELECT it should be changed before it can be used in other contexts.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-zero</td><td>Pointer to TABLE object for table created or opened </td></tr>
    <tr><td class="paramname">0</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac85b36581f372dbfb90811b00eb32802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85b36581f372dbfb90811b00eb32802">&#9670;&nbsp;</a></span>fix_join_cond_for_insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> fix_join_cond_for_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>tr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recursive helper function for resolving join conditions for insertion into view for prepared statements. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handler </td></tr>
    <tr><td class="paramname">tr</td><td>Table structure which is traversed recursively</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if success, true if error </dd></dl>

</div>
</div>
<a id="a2891dd49a9d7d6706fd3ee2f1d9b94fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2891dd49a9d7d6706fd3ee2f1d9b94fe">&#9670;&nbsp;</a></span>get_default_columns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> get_default_columns </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMY__BITMAP.html">MY_BITMAP</a> **&#160;</td>
          <td class="paramname"><em>m_function_default_columns</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae3c1e2ad8831eee7e825651d47cee5ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3c1e2ad8831eee7e825651d47cee5ec">&#9670;&nbsp;</a></span>last_uniq_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> last_uniq_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>keynr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there are more unique keys after the current one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>table that keys are checked for </td></tr>
    <tr><td class="paramname">keynr</td><td>current key number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there are unique keys after the specified one </dd></dl>

</div>
</div>
<a id="a97d6fb16ff91e2ed08c9cbd1dab11d0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d6fb16ff91e2ed08c9cbd1dab11d0e">&#9670;&nbsp;</a></span>mysql_prepare_blob_values()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mysql_prepare_blob_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *&#160;</td>
          <td class="paramname"><em>mem_root</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup data for field BLOB/GEOMETRY field types for execution of "INSERT...UPDATE" statement. </p>
<p>For a expression in 'UPDATE' clause like "a= VALUES(a)", let as call Field* referring 'a' as LHS_FIELD and Field* referring field 'a' in "VALUES(a)" as RHS_FIELD</p>
<p>This function creates a separate copy of the blob value for RHS_FIELD, if the field is updated as well as accessed through VALUES() function in 'UPDATE' clause of "INSERT...UPDATE" statement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Pointer to THD object.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fields</td><td>List of fields representing LHS_FIELD of all expressions in 'UPDATE' clause.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mem_root</td><td>MEM_ROOT for blob copy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- Can fail only when we are out of memory. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success </td></tr>
    <tr><td class="paramname">true</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae20697d289360cc05ec92c4b30bdd888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae20697d289360cc05ec92c4b30bdd888">&#9670;&nbsp;</a></span>prepare_for_positional_update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void prepare_for_positional_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__LIST.html">TABLE_LIST</a> *&#160;</td>
          <td class="paramname"><em>tables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get extra info for tables we insert into. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>table(TABLE object) we insert into, might be NULL in case of view </td></tr>
    <tr><td class="paramname">tables</td><td>(TABLE_LIST object) or view we insert into </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac838179a9fb8233cc072fc43c1e2e56c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac838179a9fb8233cc072fc43c1e2e56c">&#9670;&nbsp;</a></span>prepare_triggers_for_insert_stmt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepare_triggers_for_insert_stmt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare triggers for INSERT-like statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread handler </td></tr>
    <tr><td class="paramname">table</td><td>Table to which insert will happen</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Prepare triggers for INSERT-like statement by marking fields used by triggers and inform handlers that batching of UPDATE/DELETE cannot be done if there are BEFORE UPDATE/DELETE triggers. </dd></dl>

</div>
</div>
<a id="a0b9690ed7339034645ff35acb05439f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9690ed7339034645ff35acb05439f1">&#9670;&nbsp;</a></span>validate_default_values_of_unset_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> validate_default_values_of_unset_fields </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates default value of fields which are not specified in the column list of INSERT statement. </p>
<dl class="section note"><dt>Note</dt><dd>table-&gt;record[0] should be be populated with default values before calling this function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread context </td></tr>
    <tr><td class="paramname">table</td><td>table to which values are inserted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if success, true if error </dd></dl>

</div>
</div>
<a id="ae0cc208cea5fc74a54bab17b818227bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0cc208cea5fc74a54bab17b818227bf">&#9670;&nbsp;</a></span>write_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> write_record </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCOPY__INFO.html">COPY_INFO</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCOPY__INFO.html">COPY_INFO</a> *&#160;</td>
          <td class="paramname"><em>update</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a record to table with optional deletion of conflicting records, invoke proper triggers if needed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread context </td></tr>
    <tr><td class="paramname">table</td><td>table to which record should be written </td></tr>
    <tr><td class="paramname">info</td><td>COPY_INFO structure describing handling of duplicates and which is used for counting number of records inserted and deleted. </td></tr>
    <tr><td class="paramname">update</td><td>COPY_INFO structure describing the UPDATE part (only used for INSERT ON DUPLICATE KEY UPDATE)</td></tr>
  </table>
  </dd>
</dl>
<p>Once this record is written to the table buffer, any AFTER INSERT trigger will be invoked. If instead of inserting a new record we end up updating an old one, both ON UPDATE triggers will fire instead. Similarly both ON DELETE triggers will be invoked if are to delete conflicting records.</p>
<p>Call thd-&gt;transaction.stmt.mark_modified_non_trans_table() if table is a non-transactional table.</p>
<dl class="section note"><dt>Note</dt><dd>In ON DUPLICATE KEY UPDATE case this call may set TABLE::autoinc_field_has_explicit_non_null_value flag to true (even in case of failure) so its caller should make sure that it is reset appropriately (</dd></dl>
<dl class="section see"><dt>See also</dt><dd>fill_record()).</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>false if success, true if error </dd></dl>
<p>&lt; Flag for fatal errors </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="sql__insert_8cc.html">sql_insert.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
