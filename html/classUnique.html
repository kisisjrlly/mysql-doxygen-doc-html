<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Unique Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classUnique.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classUnique-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Unique Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Unique &ndash; class for unique (removing of duplicates).  
 <a href="classUnique.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="uniques_8h_source.html">uniques.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9f584d0ad6b0928f710664f5f052a5e6"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classBounds__checked__array.html">Bounds_checked_array</a>&lt; <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a9f584d0ad6b0928f710664f5f052a5e6">Imerge_cost_buf_type</a></td></tr>
<tr class="separator:a9f584d0ad6b0928f710664f5f052a5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae5600029c9cac336fc4f58430e94882c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#ae5600029c9cac336fc4f58430e94882c">Unique</a> (<a class="el" href="group__MYSYS.html#ga677bf8472ae1bb812740b36048272c61">qsort2_cmp</a> comp_func, void *comp_func_fixed_arg, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> size_arg, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> max_in_memory_size_arg)</td></tr>
<tr class="separator:ae5600029c9cac336fc4f58430e94882c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba52ff2b5545d5ea3ebf6cb457d1fd3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#aba52ff2b5545d5ea3ebf6cb457d1fd3c">~Unique</a> ()</td></tr>
<tr class="separator:aba52ff2b5545d5ea3ebf6cb457d1fd3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a078cad68b402f73a2694ecf756fda555"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a078cad68b402f73a2694ecf756fda555">elements_in_tree</a> ()</td></tr>
<tr class="separator:a078cad68b402f73a2694ecf756fda555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2321f0d50c059178ae4a7f63eac140ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a2321f0d50c059178ae4a7f63eac140ad">unique_add</a> (void *ptr)</td></tr>
<tr class="memdesc:a2321f0d50c059178ae4a7f63eac140ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add new value to Unique.  <a href="#a2321f0d50c059178ae4a7f63eac140ad">More...</a><br /></td></tr>
<tr class="separator:a2321f0d50c059178ae4a7f63eac140ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73446863b4c75d42e65ed4a83e2ee1b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a73446863b4c75d42e65ed4a83e2ee1b0">get</a> (<a class="el" href="structTABLE.html">TABLE</a> *table)</td></tr>
<tr class="separator:a73446863b4c75d42e65ed4a83e2ee1b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ebe0252fd71674a200fb8591a04481"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#ab5ebe0252fd71674a200fb8591a04481">reset</a> ()</td></tr>
<tr class="separator:ab5ebe0252fd71674a200fb8591a04481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab26338179087536e44df019fa6dbc3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#aab26338179087536e44df019fa6dbc3b">walk</a> (<a class="el" href="my__tree_8h.html#ac27372b22d81d01f6d7780a52cc6af5f">tree_walk_action</a> action, void *walk_action_arg)</td></tr>
<tr class="separator:aab26338179087536e44df019fa6dbc3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049f29e8aa73fa6facb64cfc3636dbf7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a049f29e8aa73fa6facb64cfc3636dbf7">get_size</a> () const</td></tr>
<tr class="separator:a049f29e8aa73fa6facb64cfc3636dbf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27e1963c6ecf8a1d24c54cd4361d1dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#ae27e1963c6ecf8a1d24c54cd4361d1dc">get_max_in_memory_size</a> () const</td></tr>
<tr class="separator:ae27e1963c6ecf8a1d24c54cd4361d1dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d23226e0c3391387b06596bb23da958"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a6d23226e0c3391387b06596bb23da958">is_in_memory</a> ()</td></tr>
<tr class="separator:a6d23226e0c3391387b06596bb23da958"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a91ec0483ef3ddc8d07078769d6f0b35d"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a91ec0483ef3ddc8d07078769d6f0b35d">get_use_cost</a> (<a class="el" href="classUnique.html#a9f584d0ad6b0928f710664f5f052a5e6">Imerge_cost_buf_type</a> <a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> nkeys, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> key_size, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="el" href="classUnique.html#a015cd71d218401012fd902fd1f212f34">max_in_memory_size</a>, const <a class="el" href="classCost__model__table.html">Cost_model_table</a> *cost_model)</td></tr>
<tr class="separator:a91ec0483ef3ddc8d07078769d6f0b35d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914d20561195c1ef0c5f17c56fe3163b"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a914d20561195c1ef0c5f17c56fe3163b">get_cost_calc_buff_size</a> (<a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> nkeys, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> key_size, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="el" href="classUnique.html#a015cd71d218401012fd902fd1f212f34">max_in_memory_size</a>)</td></tr>
<tr class="separator:a914d20561195c1ef0c5f17c56fe3163b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a783743aacb933eb6ba875b75fc3300ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a783743aacb933eb6ba875b75fc3300ab">elements</a></td></tr>
<tr class="separator:a783743aacb933eb6ba875b75fc3300ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a24ebf3899e581a8adb68437e1c25ba6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a24ebf3899e581a8adb68437e1c25ba6c">flush</a> ()</td></tr>
<tr class="memdesc:a24ebf3899e581a8adb68437e1c25ba6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush tree to disk.  <a href="#a24ebf3899e581a8adb68437e1c25ba6c">More...</a><br /></td></tr>
<tr class="separator:a24ebf3899e581a8adb68437e1c25ba6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a825eb7704c94da44a527a5f603f9c265"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPrealloced__array.html">Prealloced_array</a>&lt; <a class="el" href="structMerge__chunk.html">Merge_chunk</a>, 16 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a825eb7704c94da44a527a5f603f9c265">file_ptrs</a></td></tr>
<tr class="memdesc:a825eb7704c94da44a527a5f603f9c265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of file pointers.  <a href="#a825eb7704c94da44a527a5f603f9c265">More...</a><br /></td></tr>
<tr class="separator:a825eb7704c94da44a527a5f603f9c265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485f33abf7e74b2c5709da3e4de39e5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a485f33abf7e74b2c5709da3e4de39e5d">max_elements</a></td></tr>
<tr class="memdesc:a485f33abf7e74b2c5709da3e4de39e5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Max elements in memory buffer.  <a href="#a485f33abf7e74b2c5709da3e4de39e5d">More...</a><br /></td></tr>
<tr class="separator:a485f33abf7e74b2c5709da3e4de39e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015cd71d218401012fd902fd1f212f34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a015cd71d218401012fd902fd1f212f34">max_in_memory_size</a></td></tr>
<tr class="memdesc:a015cd71d218401012fd902fd1f212f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory buffer size.  <a href="#a015cd71d218401012fd902fd1f212f34">More...</a><br /></td></tr>
<tr class="separator:a015cd71d218401012fd902fd1f212f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2e514f434df3c25b987123d9b3bee24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structIO__CACHE.html">IO_CACHE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#ac2e514f434df3c25b987123d9b3bee24">file</a></td></tr>
<tr class="memdesc:ac2e514f434df3c25b987123d9b3bee24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache file for unique values retrieval fo table read AM in executor.  <a href="#ac2e514f434df3c25b987123d9b3bee24">More...</a><br /></td></tr>
<tr class="separator:ac2e514f434df3c25b987123d9b3bee24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c94b43687db96428311cea5d7c48d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTREE.html">TREE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#ad1c94b43687db96428311cea5d7c48d3">tree</a></td></tr>
<tr class="memdesc:ad1c94b43687db96428311cea5d7c48d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tree to filter duplicates in memory.  <a href="#ad1c94b43687db96428311cea5d7c48d3">More...</a><br /></td></tr>
<tr class="separator:ad1c94b43687db96428311cea5d7c48d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c22369a1d84dceccbf8e55edf563d36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a2c22369a1d84dceccbf8e55edf563d36">record_pointers</a></td></tr>
<tr class="separator:a2c22369a1d84dceccbf8e55edf563d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb320c59efeeb419bdcaa358beb9c527"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#aeb320c59efeeb419bdcaa358beb9c527">size</a></td></tr>
<tr class="memdesc:aeb320c59efeeb419bdcaa358beb9c527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Element size.  <a href="#aeb320c59efeeb419bdcaa358beb9c527">More...</a><br /></td></tr>
<tr class="separator:aeb320c59efeeb419bdcaa358beb9c527"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a037d15a341c1de63b7431c5fcf06d849"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a037d15a341c1de63b7431c5fcf06d849">unique_write_to_file</a> (void *v_key, <a class="el" href="my__tree_8h.html#af1a923de24cf7c281b86cf7490523c65">element_count</a> <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, void *unique)</td></tr>
<tr class="separator:a037d15a341c1de63b7431c5fcf06d849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aaa3434d7aecc922abaccc9c3fc2488"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classUnique.html#a8aaa3434d7aecc922abaccc9c3fc2488">unique_write_to_ptrs</a> (void *v_key, <a class="el" href="my__tree_8h.html#af1a923de24cf7c281b86cf7490523c65">element_count</a> <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, void *unique)</td></tr>
<tr class="separator:a8aaa3434d7aecc922abaccc9c3fc2488"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Unique &ndash; class for unique (removing of duplicates). </p>
<p>Puts all values to the TREE. If the tree becomes too big, it's dumped to the file. User can request sorted values, or just iterate through them. In the last case tree merging is performed in memory simultaneously with iteration, so it should be ~2-3x faster.</p>
<p>Unique values can be read only from final result (not on insert) because duplicate values can be contained in different dumped tree files. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a9f584d0ad6b0928f710664f5f052a5e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f584d0ad6b0928f710664f5f052a5e6">&#9670;&nbsp;</a></span>Imerge_cost_buf_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classBounds__checked__array.html">Bounds_checked_array</a>&lt;<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&gt; <a class="el" href="classUnique.html#a9f584d0ad6b0928f710664f5f052a5e6">Unique::Imerge_cost_buf_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae5600029c9cac336fc4f58430e94882c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5600029c9cac336fc4f58430e94882c">&#9670;&nbsp;</a></span>Unique()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Unique::Unique </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__MYSYS.html#ga677bf8472ae1bb812740b36048272c61">qsort2_cmp</a>&#160;</td>
          <td class="paramname"><em>comp_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>comp_func_fixed_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>size_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td>
          <td class="paramname"><em>max_in_memory_size_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aba52ff2b5545d5ea3ebf6cb457d1fd3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba52ff2b5545d5ea3ebf6cb457d1fd3c">&#9670;&nbsp;</a></span>~Unique()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Unique::~Unique </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a078cad68b402f73a2694ecf756fda555"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a078cad68b402f73a2694ecf756fda555">&#9670;&nbsp;</a></span>elements_in_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> Unique::elements_in_tree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a24ebf3899e581a8adb68437e1c25ba6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24ebf3899e581a8adb68437e1c25ba6c">&#9670;&nbsp;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Unique::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush tree to disk. </p>

</div>
</div>
<a id="a73446863b4c75d42e65ed4a83e2ee1b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73446863b4c75d42e65ed4a83e2ee1b0">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Unique::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a914d20561195c1ef0c5f17c56fe3163b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914d20561195c1ef0c5f17c56fe3163b">&#9670;&nbsp;</a></span>get_cost_calc_buff_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t Unique::get_cost_calc_buff_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>nkeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td>
          <td class="paramname"><em>max_in_memory_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae27e1963c6ecf8a1d24c54cd4361d1dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae27e1963c6ecf8a1d24c54cd4361d1dc">&#9670;&nbsp;</a></span>get_max_in_memory_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> Unique::get_max_in_memory_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a049f29e8aa73fa6facb64cfc3636dbf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a049f29e8aa73fa6facb64cfc3636dbf7">&#9670;&nbsp;</a></span>get_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Unique::get_size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a91ec0483ef3ddc8d07078769d6f0b35d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91ec0483ef3ddc8d07078769d6f0b35d">&#9670;&nbsp;</a></span>get_use_cost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Unique::get_use_cost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classUnique.html#a9f584d0ad6b0928f710664f5f052a5e6">Imerge_cost_buf_type</a>&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>nkeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>key_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td>
          <td class="paramname"><em>max_in_memory_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCost__model__table.html">Cost_model_table</a> *&#160;</td>
          <td class="paramname"><em>cost_model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d23226e0c3391387b06596bb23da958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d23226e0c3391387b06596bb23da958">&#9670;&nbsp;</a></span>is_in_memory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Unique::is_in_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab5ebe0252fd71674a200fb8591a04481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ebe0252fd71674a200fb8591a04481">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Unique::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2321f0d50c059178ae4a7f63eac140ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2321f0d50c059178ae4a7f63eac140ad">&#9670;&nbsp;</a></span>unique_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Unique::unique_add </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add new value to Unique. </p>
<p>The value is inserted either to the tree, or to the duplicate weedout table, depending on the mode of operation. If tree's mem buffer is full, it's flushed to the disk.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>pointer to the binary string to insert</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false error or duplicate true the value was inserted </dd></dl>

</div>
</div>
<a id="aab26338179087536e44df019fa6dbc3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab26338179087536e44df019fa6dbc3b">&#9670;&nbsp;</a></span>walk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Unique::walk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__tree_8h.html#ac27372b22d81d01f6d7780a52cc6af5f">tree_walk_action</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>walk_action_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a037d15a341c1de63b7431c5fcf06d849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a037d15a341c1de63b7431c5fcf06d849">&#9670;&nbsp;</a></span>unique_write_to_file</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int unique_write_to_file </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>v_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__tree_8h.html#af1a923de24cf7c281b86cf7490523c65">element_count</a>&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>unique</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8aaa3434d7aecc922abaccc9c3fc2488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aaa3434d7aecc922abaccc9c3fc2488">&#9670;&nbsp;</a></span>unique_write_to_ptrs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int unique_write_to_ptrs </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>v_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__tree_8h.html#af1a923de24cf7c281b86cf7490523c65">element_count</a>&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>unique</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a783743aacb933eb6ba875b75fc3300ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a783743aacb933eb6ba875b75fc3300ab">&#9670;&nbsp;</a></span>elements</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> Unique::elements</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac2e514f434df3c25b987123d9b3bee24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2e514f434df3c25b987123d9b3bee24">&#9670;&nbsp;</a></span>file</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structIO__CACHE.html">IO_CACHE</a> Unique::file</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache file for unique values retrieval fo table read AM in executor. </p>

</div>
</div>
<a id="a825eb7704c94da44a527a5f603f9c265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a825eb7704c94da44a527a5f603f9c265">&#9670;&nbsp;</a></span>file_ptrs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPrealloced__array.html">Prealloced_array</a>&lt;<a class="el" href="structMerge__chunk.html">Merge_chunk</a>, 16&gt; Unique::file_ptrs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array of file pointers. </p>

</div>
</div>
<a id="a485f33abf7e74b2c5709da3e4de39e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485f33abf7e74b2c5709da3e4de39e5d">&#9670;&nbsp;</a></span>max_elements</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> Unique::max_elements</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Max elements in memory buffer. </p>

</div>
</div>
<a id="a015cd71d218401012fd902fd1f212f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015cd71d218401012fd902fd1f212f34">&#9670;&nbsp;</a></span>max_in_memory_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> Unique::max_in_memory_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Memory buffer size. </p>

</div>
</div>
<a id="a2c22369a1d84dceccbf8e55edf563d36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c22369a1d84dceccbf8e55edf563d36">&#9670;&nbsp;</a></span>record_pointers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* Unique::record_pointers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aeb320c59efeeb419bdcaa358beb9c527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb320c59efeeb419bdcaa358beb9c527">&#9670;&nbsp;</a></span>size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Unique::size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Element size. </p>

</div>
</div>
<a id="ad1c94b43687db96428311cea5d7c48d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1c94b43687db96428311cea5d7c48d3">&#9670;&nbsp;</a></span>tree</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTREE.html">TREE</a> Unique::tree</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tree to filter duplicates in memory. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="uniques_8h_source.html">uniques.h</a></li>
<li>sql/<a class="el" href="uniques_8cc.html">uniques.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classUnique.html">Unique</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
