<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Basic_binlog_ifile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classBasic__binlog__ifile.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classBasic__binlog__ifile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Basic_binlog_ifile Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class of binlog input files.  
 <a href="classBasic__binlog__ifile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="binlog__istream_8h_source.html">binlog_istream.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Basic_binlog_ifile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBasic__binlog__ifile.png" usemap="#Basic_5Fbinlog_5Fifile_map" alt=""/>
  <map id="Basic_5Fbinlog_5Fifile_map" name="Basic_5Fbinlog_5Fifile_map">
<area href="classBasic__seekable__istream.html" title="The abstract class for seekable input streams which have fixed length and provide seek operation..." alt="Basic_seekable_istream" shape="rect" coords="78,56,225,80"/>
<area href="classBasic__istream.html" title="The abstract class for basic byte input streams which provides read operations. " alt="Basic_istream" shape="rect" coords="78,0,225,24"/>
<area href="classBinlog__ifile.html" title="Binlog input file. " alt="Binlog_ifile" shape="rect" coords="0,168,147,192"/>
<area href="classRelaylog__ifile.html" title="Relaylog input file. " alt="Relaylog_ifile" shape="rect" coords="157,168,304,192"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac9753db21d3201541b2b0db50e27a18c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#ac9753db21d3201541b2b0db50e27a18c">Basic_binlog_ifile</a> (<a class="el" href="classBinlog__read__error.html">Binlog_read_error</a> *binlog_read_error)</td></tr>
<tr class="separator:ac9753db21d3201541b2b0db50e27a18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe2a7e9806dd81de53b312d3d37328f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#afbe2a7e9806dd81de53b312d3d37328f">Basic_binlog_ifile</a> (const <a class="el" href="classBasic__binlog__ifile.html">Basic_binlog_ifile</a> &amp;)=delete</td></tr>
<tr class="separator:afbe2a7e9806dd81de53b312d3d37328f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742e5761e6bc9439f36616cefadd763e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBasic__binlog__ifile.html">Basic_binlog_ifile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a742e5761e6bc9439f36616cefadd763e">operator=</a> (const <a class="el" href="classBasic__binlog__ifile.html">Basic_binlog_ifile</a> &amp;)=delete</td></tr>
<tr class="separator:a742e5761e6bc9439f36616cefadd763e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd70e36cafddc44317cc6e1f67c48b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a9fd70e36cafddc44317cc6e1f67c48b3">~Basic_binlog_ifile</a> () override</td></tr>
<tr class="separator:a9fd70e36cafddc44317cc6e1f67c48b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24756946a7e3153df0c47ff35f804801"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a24756946a7e3153df0c47ff35f804801">open</a> (const char *file_name)</td></tr>
<tr class="memdesc:a24756946a7e3153df0c47ff35f804801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a binlog file.  <a href="#a24756946a7e3153df0c47ff35f804801">More...</a><br /></td></tr>
<tr class="separator:a24756946a7e3153df0c47ff35f804801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8dba782ad70bc305b8418e2ab9e7c9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#af8dba782ad70bc305b8418e2ab9e7c9e">close</a> ()</td></tr>
<tr class="memdesc:af8dba782ad70bc305b8418e2ab9e7c9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the binlog file it is reading.  <a href="#af8dba782ad70bc305b8418e2ab9e7c9e">More...</a><br /></td></tr>
<tr class="separator:af8dba782ad70bc305b8418e2ab9e7c9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebc88139b9bca51053edc7351ec9418"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a6ebc88139b9bca51053edc7351ec9418">read</a> (unsigned char *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t <a class="el" href="classBasic__binlog__ifile.html#a7632fa0063cbd059cdb317702d64d9b2">length</a>) override</td></tr>
<tr class="memdesc:a6ebc88139b9bca51053edc7351ec9418"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read some bytes from the input stream.  <a href="#a6ebc88139b9bca51053edc7351ec9418">More...</a><br /></td></tr>
<tr class="separator:a6ebc88139b9bca51053edc7351ec9418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b12724f3ec3fa973cb965482498577c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a3b12724f3ec3fa973cb965482498577c">seek</a> (<a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a> <a class="el" href="classBasic__binlog__ifile.html#a83f8963b9506848732238a075070e10a">position</a>) override</td></tr>
<tr class="memdesc:a3b12724f3ec3fa973cb965482498577c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the read position to a given offset.  <a href="#a3b12724f3ec3fa973cb965482498577c">More...</a><br /></td></tr>
<tr class="separator:a3b12724f3ec3fa973cb965482498577c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83f8963b9506848732238a075070e10a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a83f8963b9506848732238a075070e10a">position</a> () const</td></tr>
<tr class="separator:a83f8963b9506848732238a075070e10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70b76a9b17bf137f567e856482ffe82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#ac70b76a9b17bf137f567e856482ffe82">is_open</a> () const</td></tr>
<tr class="separator:ac70b76a9b17bf137f567e856482ffe82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7632fa0063cbd059cdb317702d64d9b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a7632fa0063cbd059cdb317702d64d9b2">length</a> () override</td></tr>
<tr class="memdesc:a7632fa0063cbd059cdb317702d64d9b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get length of the binlog file.  <a href="#a7632fa0063cbd059cdb317702d64d9b2">More...</a><br /></td></tr>
<tr class="separator:a7632fa0063cbd059cdb317702d64d9b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBasic__seekable__istream"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBasic__seekable__istream')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBasic__seekable__istream.html">Basic_seekable_istream</a></td></tr>
<tr class="memitem:a5f9edc2de33c4117f6ff3038826cd1e5 inherit pub_methods_classBasic__seekable__istream"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__seekable__istream.html#a5f9edc2de33c4117f6ff3038826cd1e5">~Basic_seekable_istream</a> () override</td></tr>
<tr class="separator:a5f9edc2de33c4117f6ff3038826cd1e5 inherit pub_methods_classBasic__seekable__istream"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBasic__istream"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBasic__istream')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBasic__istream.html">Basic_istream</a></td></tr>
<tr class="memitem:ab799357abce65727c4444bdbc42528b2 inherit pub_methods_classBasic__istream"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__istream.html#ab799357abce65727c4444bdbc42528b2">~Basic_istream</a> ()</td></tr>
<tr class="separator:ab799357abce65727c4444bdbc42528b2 inherit pub_methods_classBasic__istream"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a99f6af10bcd009ce712a6a9c82c50504"><td class="memItemLeft" align="right" valign="top">virtual std::unique_ptr&lt; <a class="el" href="classBasic__seekable__istream.html">Basic_seekable_istream</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a99f6af10bcd009ce712a6a9c82c50504">open_file</a> (const char *file_name)=0</td></tr>
<tr class="memdesc:a99f6af10bcd009ce712a6a9c82c50504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the system layer file.  <a href="#a99f6af10bcd009ce712a6a9c82c50504">More...</a><br /></td></tr>
<tr class="separator:a99f6af10bcd009ce712a6a9c82c50504"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9dc321fa63abb92409f22e7ff8343994"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBinlog__read__error.html">Binlog_read_error</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a9dc321fa63abb92409f22e7ff8343994">m_error</a></td></tr>
<tr class="memdesc:a9dc321fa63abb92409f22e7ff8343994"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is convenient for caller to share a Binlog_read_error object between streams.  <a href="#a9dc321fa63abb92409f22e7ff8343994">More...</a><br /></td></tr>
<tr class="separator:a9dc321fa63abb92409f22e7ff8343994"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a654237eb600ef125bbddc1ccedc5bd2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a654237eb600ef125bbddc1ccedc5bd2b">read_binlog_magic</a> ()</td></tr>
<tr class="memdesc:a654237eb600ef125bbddc1ccedc5bd2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read binlog magic from binlog file and check if it is valid binlog magic.  <a href="#a654237eb600ef125bbddc1ccedc5bd2b">More...</a><br /></td></tr>
<tr class="separator:a654237eb600ef125bbddc1ccedc5bd2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a925192d7e7230b173eb0d6ed1420e59a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#a925192d7e7230b173eb0d6ed1420e59a">m_position</a> = 0</td></tr>
<tr class="memdesc:a925192d7e7230b173eb0d6ed1420e59a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The binlog's position where it is reading.  <a href="#a925192d7e7230b173eb0d6ed1420e59a">More...</a><br /></td></tr>
<tr class="separator:a925192d7e7230b173eb0d6ed1420e59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d68c5e5adea9c819b14d493147f169"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classBasic__seekable__istream.html">Basic_seekable_istream</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBasic__binlog__ifile.html#ae9d68c5e5adea9c819b14d493147f169">m_istream</a></td></tr>
<tr class="memdesc:ae9d68c5e5adea9c819b14d493147f169"><td class="mdescLeft">&#160;</td><td class="mdescRight">It is the entry of the low level stream pipeline.  <a href="#ae9d68c5e5adea9c819b14d493147f169">More...</a><br /></td></tr>
<tr class="separator:ae9d68c5e5adea9c819b14d493147f169"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class of binlog input files. </p>
<p>It is a logical binlog file which wraps and hides the detail of lower layer storage implementation. Binlog reader and other binlog code just uses this class to control real storage. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac9753db21d3201541b2b0db50e27a18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9753db21d3201541b2b0db50e27a18c">&#9670;&nbsp;</a></span>Basic_binlog_ifile() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Basic_binlog_ifile::Basic_binlog_ifile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBinlog__read__error.html">Binlog_read_error</a> *&#160;</td>
          <td class="paramname"><em>binlog_read_error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">binlog_read_error</td><td>Basic_binlog_ifile doesn't own an Binlog_read_error. So the caller should provide one to it. When error happens, the error type will be set into 'error'. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afbe2a7e9806dd81de53b312d3d37328f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbe2a7e9806dd81de53b312d3d37328f">&#9670;&nbsp;</a></span>Basic_binlog_ifile() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Basic_binlog_ifile::Basic_binlog_ifile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBasic__binlog__ifile.html">Basic_binlog_ifile</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9fd70e36cafddc44317cc6e1f67c48b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fd70e36cafddc44317cc6e1f67c48b3">&#9670;&nbsp;</a></span>~Basic_binlog_ifile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Basic_binlog_ifile::~Basic_binlog_ifile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af8dba782ad70bc305b8418e2ab9e7c9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8dba782ad70bc305b8418e2ab9e7c9e">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Basic_binlog_ifile::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the binlog file it is reading. </p>

</div>
</div>
<a id="ac70b76a9b17bf137f567e856482ffe82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70b76a9b17bf137f567e856482ffe82">&#9670;&nbsp;</a></span>is_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Basic_binlog_ifile::is_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7632fa0063cbd059cdb317702d64d9b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7632fa0063cbd059cdb317702d64d9b2">&#9670;&nbsp;</a></span>length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a> Basic_binlog_ifile::length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get length of the binlog file. </p>
<p>It is not os file length. The content maybe encrypted or compressed. It is the total length of BINLOG_MAGIC and all raw binlog events. </p>

<p>Implements <a class="el" href="classBasic__seekable__istream.html#a55df9ae68481d1065e34ebeafb01d0be">Basic_seekable_istream</a>.</p>

</div>
</div>
<a id="a24756946a7e3153df0c47ff35f804801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24756946a7e3153df0c47ff35f804801">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Basic_binlog_ifile::open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a binlog file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name</td><td>name of the binlog file which will be opened. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a99f6af10bcd009ce712a6a9c82c50504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f6af10bcd009ce712a6a9c82c50504">&#9670;&nbsp;</a></span>open_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::unique_ptr&lt;<a class="el" href="classBasic__seekable__istream.html">Basic_seekable_istream</a>&gt; Basic_binlog_ifile::open_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open the system layer file. </p>
<p>It is the entry of the stream pipeline. Implementation is delegated to sub-classes. Sub-classes opens system layer files in different way.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_name</td><td>name of the binlog file which will be opened. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classRelaylog__ifile.html#a84265971956943cc624bb62da2ffc1f5">Relaylog_ifile</a>, and <a class="el" href="classBinlog__ifile.html#a453bffad03b9bd851496f03dfe617212">Binlog_ifile</a>.</p>

</div>
</div>
<a id="a742e5761e6bc9439f36616cefadd763e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a742e5761e6bc9439f36616cefadd763e">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBasic__binlog__ifile.html">Basic_binlog_ifile</a>&amp; Basic_binlog_ifile::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classBasic__binlog__ifile.html">Basic_binlog_ifile</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a83f8963b9506848732238a075070e10a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83f8963b9506848732238a075070e10a">&#9670;&nbsp;</a></span>position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a> Basic_binlog_ifile::position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6ebc88139b9bca51053edc7351ec9418"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ebc88139b9bca51053edc7351ec9418">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t Basic_binlog_ifile::read </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read some bytes from the input stream. </p>
<p>It should read exact 'length' bytes unless error happens or it reaches the end of the stream. It should block when reaching the end of a pipe that is not closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Where data will be put in. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The number of bytes that you want to read. length should not be larger than max long. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return values fall into three cases: </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">'length'</td><td>Read 'length' bytes successfully </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>Reach EOF, return the number of bytes actually read. It is between 0 and length-1. </td></tr>
    <tr><td class="paramname">-1</td><td>Error. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBasic__istream.html#a84e60350ce2eca26e71c1e4966ec20c8">Basic_istream</a>.</p>

</div>
</div>
<a id="a654237eb600ef125bbddc1ccedc5bd2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a654237eb600ef125bbddc1ccedc5bd2b">&#9670;&nbsp;</a></span>read_binlog_magic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Basic_binlog_ifile::read_binlog_magic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read binlog magic from binlog file and check if it is valid binlog magic. </p>
<p>This function also takes care of setting up any other stream layer (i.e. encryption) when needed.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>The high level stream layer was recognized as a binary log. </td></tr>
    <tr><td class="paramname">true</td><td>Failure identifying the high level stream layer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b12724f3ec3fa973cb965482498577c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b12724f3ec3fa973cb965482498577c">&#9670;&nbsp;</a></span>seek()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Basic_binlog_ifile::seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Puts the read position to a given offset. </p>
<p>The offset counts from the beginning of the stream. In case an implementing class transforms the data in a way that does not preserve positions, the offset here will be relative to the bytes that are read out from the stream, not relative to the bytes in lower layer storage.</p>
<p>it is allowed for a subclass to return success even if the position is greater than the size of the file. Error may be returned by the next read for this case. Users should call length() if they need to check that the position is within bounds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Where the read position will be. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>Success </td></tr>
    <tr><td class="paramname">true</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBasic__seekable__istream.html#a5121e2ad0849f5ac88767df6f7844a2f">Basic_seekable_istream</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9dc321fa63abb92409f22e7ff8343994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc321fa63abb92409f22e7ff8343994">&#9670;&nbsp;</a></span>m_error</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBinlog__read__error.html">Binlog_read_error</a>* Basic_binlog_ifile::m_error</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is convenient for caller to share a Binlog_read_error object between streams. </p>
<p>So Binlog_read_error pointer is defined here. It should be initialized in constructor by caller. </p>

</div>
</div>
<a id="ae9d68c5e5adea9c819b14d493147f169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d68c5e5adea9c819b14d493147f169">&#9670;&nbsp;</a></span>m_istream</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classBasic__seekable__istream.html">Basic_seekable_istream</a>&gt; Basic_binlog_ifile::m_istream</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It is the entry of the low level stream pipeline. </p>

</div>
</div>
<a id="a925192d7e7230b173eb0d6ed1420e59a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a925192d7e7230b173eb0d6ed1420e59a">&#9670;&nbsp;</a></span>m_position</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a> Basic_binlog_ifile::m_position = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The binlog's position where it is reading. </p>
<p>It is the position in logical binlog file, but not the position of system file. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="binlog__istream_8h_source.html">binlog_istream.h</a></li>
<li>sql/<a class="el" href="binlog__istream_8cc.html">binlog_istream.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classBasic__binlog__ifile.html">Basic_binlog_ifile</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
