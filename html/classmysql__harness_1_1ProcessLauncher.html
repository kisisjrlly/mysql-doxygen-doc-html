<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: mysql_harness::ProcessLauncher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmysql__harness_1_1ProcessLauncher.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmysql__harness_1_1ProcessLauncher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mysql_harness::ProcessLauncher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="process__launcher_8h_source.html">process_launcher.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mysql_harness::ProcessLauncher:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmysql__harness_1_1ProcessLauncher.png" usemap="#mysql_5Fharness::ProcessLauncher_map" alt=""/>
  <map id="mysql_5Fharness::ProcessLauncher_map" name="mysql_5Fharness::ProcessLauncher_map">
<area href="classmysql__harness_1_1SpawnedProcess.html" title="an alive, spawned process " alt="mysql_harness::SpawnedProcess" shape="rect" coords="0,0,201,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac2638a1c29f1319a2fd79c8f7cc1fcce"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ac2638a1c29f1319a2fd79c8f7cc1fcce">ShutdownEvent</a> { <a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ac2638a1c29f1319a2fd79c8f7cc1fccea8baeec6d282f1791ea9954d0c514ed8d">ShutdownEvent::TERM</a>, 
<a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ac2638a1c29f1319a2fd79c8f7cc1fccea3986dd0914958ae2115e0ae7f10beef3">ShutdownEvent::KILL</a>
 }</td></tr>
<tr class="separator:ac2638a1c29f1319a2fd79c8f7cc1fcce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a54b68b3bdafc4a30f8d5417009ec40cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a54b68b3bdafc4a30f8d5417009ec40cb">ProcessLauncher</a> (std::string pexecutable_path, std::vector&lt; std::string &gt; pargs, std::vector&lt; std::pair&lt; std::string, std::string &gt;&gt; penv_vars, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> predirect_stderr=<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td></tr>
<tr class="memdesc:a54b68b3bdafc4a30f8d5417009ec40cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new process and launch it.  <a href="#a54b68b3bdafc4a30f8d5417009ec40cb">More...</a><br /></td></tr>
<tr class="separator:a54b68b3bdafc4a30f8d5417009ec40cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9543c02cde89c39e4c69cb35e41f56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ace9543c02cde89c39e4c69cb35e41f56">ProcessLauncher</a> (const <a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a> &amp;)=delete</td></tr>
<tr class="separator:ace9543c02cde89c39e4c69cb35e41f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b1f98847f8da82db90de6ff0cc2b42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a91b1f98847f8da82db90de6ff0cc2b42">operator=</a> (const <a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a> &amp;)=delete</td></tr>
<tr class="separator:a91b1f98847f8da82db90de6ff0cc2b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d1455dab600b10ba879767e5f09ffd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a84d1455dab600b10ba879767e5f09ffd">ProcessLauncher</a> (<a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a> &amp;&amp;rhs)</td></tr>
<tr class="separator:a84d1455dab600b10ba879767e5f09ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8316845d7dff24f77f74ce36c8a5dc33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a8316845d7dff24f77f74ce36c8a5dc33">~ProcessLauncher</a> () override</td></tr>
<tr class="separator:a8316845d7dff24f77f74ce36c8a5dc33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ebba81bd57721d76b30e39ec2e3be44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a4ebba81bd57721d76b30e39ec2e3be44">start</a> ()</td></tr>
<tr class="memdesc:a4ebba81bd57721d76b30e39ec2e3be44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Launches the child process, and makes pipes available for read/write.  <a href="#a4ebba81bd57721d76b30e39ec2e3be44">More...</a><br /></td></tr>
<tr class="separator:a4ebba81bd57721d76b30e39ec2e3be44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99781a71900dff815afa11a77df95428"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a99781a71900dff815afa11a77df95428">read</a> (char *buf, size_t <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, std::chrono::milliseconds timeout)</td></tr>
<tr class="memdesc:a99781a71900dff815afa11a77df95428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read up to a 'count' bytes from the stdout of the child process.  <a href="#a99781a71900dff815afa11a77df95428">More...</a><br /></td></tr>
<tr class="separator:a99781a71900dff815afa11a77df95428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348909106c8394f871db8bb9c3449dc9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a348909106c8394f871db8bb9c3449dc9">write</a> (const char *buf, size_t <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>)</td></tr>
<tr class="memdesc:a348909106c8394f871db8bb9c3449dc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes several butes into stdin of child process.  <a href="#a348909106c8394f871db8bb9c3449dc9">More...</a><br /></td></tr>
<tr class="separator:a348909106c8394f871db8bb9c3449dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8411f0461bd44ed016efc72a6306104b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a8411f0461bd44ed016efc72a6306104b">kill</a> ()</td></tr>
<tr class="memdesc:a8411f0461bd44ed016efc72a6306104b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kills the child process and returns process' exit code.  <a href="#a8411f0461bd44ed016efc72a6306104b">More...</a><br /></td></tr>
<tr class="separator:a8411f0461bd44ed016efc72a6306104b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0cdc43343e9b84ad5d97b6a4e4bbf2"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a5c0cdc43343e9b84ad5d97b6a4e4bbf2">get_pid</a> () const</td></tr>
<tr class="memdesc:a5c0cdc43343e9b84ad5d97b6a4e4bbf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the child process handle.  <a href="#a5c0cdc43343e9b84ad5d97b6a4e4bbf2">More...</a><br /></td></tr>
<tr class="separator:a5c0cdc43343e9b84ad5d97b6a4e4bbf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bca34c7d8b9b98723ea5db54c25f581"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a2bca34c7d8b9b98723ea5db54c25f581">wait</a> (std::chrono::milliseconds timeout=std::chrono::milliseconds(1000))</td></tr>
<tr class="memdesc:a2bca34c7d8b9b98723ea5db54c25f581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the child process to exists and returns its exit code.  <a href="#a2bca34c7d8b9b98723ea5db54c25f581">More...</a><br /></td></tr>
<tr class="separator:a2bca34c7d8b9b98723ea5db54c25f581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace48c9230dc41d7c00f638cbb79aed79"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ace48c9230dc41d7c00f638cbb79aed79">get_fd_write</a> () const</td></tr>
<tr class="memdesc:ace48c9230dc41d7c00f638cbb79aed79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file descriptor write handle (to write child's stdin).  <a href="#ace48c9230dc41d7c00f638cbb79aed79">More...</a><br /></td></tr>
<tr class="separator:ace48c9230dc41d7c00f638cbb79aed79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035bbaa7cd9c797480c5224fc1d0e813"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a035bbaa7cd9c797480c5224fc1d0e813">get_fd_read</a> () const</td></tr>
<tr class="memdesc:a035bbaa7cd9c797480c5224fc1d0e813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file descriptor read handle (to read child's stdout).  <a href="#a035bbaa7cd9c797480c5224fc1d0e813">More...</a><br /></td></tr>
<tr class="separator:a035bbaa7cd9c797480c5224fc1d0e813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6122e2304f82d780a06274c62ebfcd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ad6122e2304f82d780a06274c62ebfcd6">end_of_write</a> ()</td></tr>
<tr class="memdesc:ad6122e2304f82d780a06274c62ebfcd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes pipe to process' STDIN in order to notify the process that all data was sent.  <a href="#ad6122e2304f82d780a06274c62ebfcd6">More...</a><br /></td></tr>
<tr class="separator:ad6122e2304f82d780a06274c62ebfcd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6790f3ff7c9cfdeb5e416fe10317568a"><td class="memItemLeft" align="right" valign="top">std::error_code&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a6790f3ff7c9cfdeb5e416fe10317568a">send_shutdown_event</a> (<a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ac2638a1c29f1319a2fd79c8f7cc1fcce">ShutdownEvent</a> event=<a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ac2638a1c29f1319a2fd79c8f7cc1fccea8baeec6d282f1791ea9954d0c514ed8d">ShutdownEvent::TERM</a>) const noexcept</td></tr>
<tr class="memdesc:a6790f3ff7c9cfdeb5e416fe10317568a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a shutdown event to child process (SIGTERM on Unix, Ctrl+C on Win)  <a href="#a6790f3ff7c9cfdeb5e416fe10317568a">More...</a><br /></td></tr>
<tr class="separator:a6790f3ff7c9cfdeb5e416fe10317568a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classmysql__harness_1_1SpawnedProcess"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classmysql__harness_1_1SpawnedProcess')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classmysql__harness_1_1SpawnedProcess.html">mysql_harness::SpawnedProcess</a></td></tr>
<tr class="memitem:a19269cf54fbf718ee233c41b9578c1e7 inherit pub_methods_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#a19269cf54fbf718ee233c41b9578c1e7">SpawnedProcess</a> (std::string pexecutable_path, std::vector&lt; std::string &gt; pargs, std::vector&lt; std::pair&lt; std::string, std::string &gt;&gt; penv_vars, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> predirect_stderr=<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</td></tr>
<tr class="separator:a19269cf54fbf718ee233c41b9578c1e7 inherit pub_methods_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b19ca5141f1aa0cf193c844ad43a7ae inherit pub_methods_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#a3b19ca5141f1aa0cf193c844ad43a7ae">SpawnedProcess</a> (const <a class="el" href="classmysql__harness_1_1SpawnedProcess.html">SpawnedProcess</a> &amp;)=default</td></tr>
<tr class="separator:a3b19ca5141f1aa0cf193c844ad43a7ae inherit pub_methods_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a35fdd12d6095d5e1232c5c164fad1b inherit pub_methods_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#a4a35fdd12d6095d5e1232c5c164fad1b">~SpawnedProcess</a> ()</td></tr>
<tr class="separator:a4a35fdd12d6095d5e1232c5c164fad1b inherit pub_methods_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade5e7b5bba1ca40e6f4e9911417ccb5c inherit pub_methods_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#ade5e7b5bba1ca40e6f4e9911417ccb5c">get_cmd_line</a> () const</td></tr>
<tr class="separator:ade5e7b5bba1ca40e6f4e9911417ccb5c inherit pub_methods_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a41af835d1a0356e5834d65e8afde59c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a41af835d1a0356e5834d65e8afde59c0">close</a> ()</td></tr>
<tr class="memdesc:a41af835d1a0356e5834d65e8afde59c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes child process and returns process' exit code.  <a href="#a41af835d1a0356e5834d65e8afde59c0">More...</a><br /></td></tr>
<tr class="separator:a41af835d1a0356e5834d65e8afde59c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2cc0b52e6aba74684e6aaeec19b0539b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#a2cc0b52e6aba74684e6aaeec19b0539b">is_alive</a></td></tr>
<tr class="separator:a2cc0b52e6aba74684e6aaeec19b0539b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classmysql__harness_1_1SpawnedProcess"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classmysql__harness_1_1SpawnedProcess')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classmysql__harness_1_1SpawnedProcess.html">mysql_harness::SpawnedProcess</a></td></tr>
<tr class="memitem:ae6e8446b48b048f5db7f10cb749cd0b7 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#ae6e8446b48b048f5db7f10cb749cd0b7">executable_path</a></td></tr>
<tr class="separator:ae6e8446b48b048f5db7f10cb749cd0b7 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a95088be248bb21808d9ae530c80df inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#af8a95088be248bb21808d9ae530c80df">args</a></td></tr>
<tr class="separator:af8a95088be248bb21808d9ae530c80df inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32bb8f34db43e45fbf6fc0479a1a00b0 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; std::pair&lt; std::string, std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#a32bb8f34db43e45fbf6fc0479a1a00b0">env_vars</a></td></tr>
<tr class="separator:a32bb8f34db43e45fbf6fc0479a1a00b0 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff1606ad2936d2182be69803127dc73 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#a8ff1606ad2936d2182be69803127dc73">childpid</a></td></tr>
<tr class="separator:a8ff1606ad2936d2182be69803127dc73 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6449914835fa2a42c07ff9cac5b93023 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#a6449914835fa2a42c07ff9cac5b93023">fd_in</a> [2]</td></tr>
<tr class="separator:a6449914835fa2a42c07ff9cac5b93023 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a4805315e7b1519ae29b7254e37e494 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#a5a4805315e7b1519ae29b7254e37e494">fd_out</a> [2]</td></tr>
<tr class="separator:a5a4805315e7b1519ae29b7254e37e494 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ba6fae8cb9706430b240634abec858 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1SpawnedProcess.html#a50ba6fae8cb9706430b240634abec858">redirect_stderr</a></td></tr>
<tr class="separator:a50ba6fae8cb9706430b240634abec858 inherit pro_attribs_classmysql__harness_1_1SpawnedProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ac2638a1c29f1319a2fd79c8f7cc1fcce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2638a1c29f1319a2fd79c8f7cc1fcce">&#9670;&nbsp;</a></span>ShutdownEvent</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ac2638a1c29f1319a2fd79c8f7cc1fcce">mysql_harness::ProcessLauncher::ShutdownEvent</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac2638a1c29f1319a2fd79c8f7cc1fccea8baeec6d282f1791ea9954d0c514ed8d"></a>TERM&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac2638a1c29f1319a2fd79c8f7cc1fccea3986dd0914958ae2115e0ae7f10beef3"></a>KILL&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a54b68b3bdafc4a30f8d5417009ec40cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b68b3bdafc4a30f8d5417009ec40cb">&#9670;&nbsp;</a></span>ProcessLauncher() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysql_harness::ProcessLauncher::ProcessLauncher </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>pexecutable_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>pargs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, std::string &gt;&gt;&#160;</td>
          <td class="paramname"><em>penv_vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>predirect_stderr</em> = <code><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new process and launch it. </p>
<p>If redirect_stderr is true, the child's stderr is redirected to the same stream than child's stdout. </p>

</div>
</div>
<a id="ace9543c02cde89c39e4c69cb35e41f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9543c02cde89c39e4c69cb35e41f56">&#9670;&nbsp;</a></span>ProcessLauncher() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysql_harness::ProcessLauncher::ProcessLauncher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a84d1455dab600b10ba879767e5f09ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84d1455dab600b10ba879767e5f09ffd">&#9670;&nbsp;</a></span>ProcessLauncher() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysql_harness::ProcessLauncher::ProcessLauncher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8316845d7dff24f77f74ce36c8a5dc33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8316845d7dff24f77f74ce36c8a5dc33">&#9670;&nbsp;</a></span>~ProcessLauncher()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysql_harness::ProcessLauncher::~ProcessLauncher </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a41af835d1a0356e5834d65e8afde59c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41af835d1a0356e5834d65e8afde59c0">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mysql_harness::ProcessLauncher::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes child process and returns process' exit code. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::system_error</td><td>if sending signal to child process fails </td></tr>
    <tr><td class="paramname">std::runtime_error</td><td>if waiting for process to change state fails</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>process exit code. </dd></dl>

</div>
</div>
<a id="ad6122e2304f82d780a06274c62ebfcd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6122e2304f82d780a06274c62ebfcd6">&#9670;&nbsp;</a></span>end_of_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_harness::ProcessLauncher::end_of_write </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes pipe to process' STDIN in order to notify the process that all data was sent. </p>

</div>
</div>
<a id="a035bbaa7cd9c797480c5224fc1d0e813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a035bbaa7cd9c797480c5224fc1d0e813">&#9670;&nbsp;</a></span>get_fd_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t mysql_harness::ProcessLauncher::get_fd_read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the file descriptor read handle (to read child's stdout). </p>
<p>In Linux this needs to be cast to int, in Windows to cast to HANDLE. </p>

</div>
</div>
<a id="ace48c9230dc41d7c00f638cbb79aed79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace48c9230dc41d7c00f638cbb79aed79">&#9670;&nbsp;</a></span>get_fd_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t mysql_harness::ProcessLauncher::get_fd_write </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the file descriptor write handle (to write child's stdin). </p>
<p>In Linux this needs to be cast to int, in Windows to cast to HANDLE. </p>

</div>
</div>
<a id="a5c0cdc43343e9b84ad5d97b6a4e4bbf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c0cdc43343e9b84ad5d97b6a4e4bbf2">&#9670;&nbsp;</a></span>get_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t mysql_harness::ProcessLauncher::get_pid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the child process handle. </p>
<p>In Linux this needs to be cast to pid_t, in Windows to cast to HANDLE. </p>

</div>
</div>
<a id="a8411f0461bd44ed016efc72a6306104b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8411f0461bd44ed016efc72a6306104b">&#9670;&nbsp;</a></span>kill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mysql_harness::ProcessLauncher::kill </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Kills the child process and returns process' exit code. </p>

</div>
</div>
<a id="a91b1f98847f8da82db90de6ff0cc2b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91b1f98847f8da82db90de6ff0cc2b42">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a> mysql_harness::ProcessLauncher::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a99781a71900dff815afa11a77df95428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99781a71900dff815afa11a77df95428">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mysql_harness::ProcessLauncher::read </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read up to a 'count' bytes from the stdout of the child process. </p>
<p>This method blocks until the amount of bytes is read or specified timeout expires. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>already allocated buffer where the read data will be stored. </td></tr>
    <tr><td class="paramname">count</td><td>the maximum amount of bytes to read. </td></tr>
    <tr><td class="paramname">timeout</td><td>timeout (in milliseconds) for the read to complete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the real number of bytes read. Returns an shcore::Exception in case of error when reading. </dd></dl>

</div>
</div>
<a id="a6790f3ff7c9cfdeb5e416fe10317568a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6790f3ff7c9cfdeb5e416fe10317568a">&#9670;&nbsp;</a></span>send_shutdown_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::error_code mysql_harness::ProcessLauncher::send_shutdown_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ac2638a1c29f1319a2fd79c8f7cc1fcce">ShutdownEvent</a>&#160;</td>
          <td class="paramname"><em>event</em> = <code><a class="el" href="classmysql__harness_1_1ProcessLauncher.html#ac2638a1c29f1319a2fd79c8f7cc1fccea8baeec6d282f1791ea9954d0c514ed8d">ShutdownEvent::TERM</a></code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends a shutdown event to child process (SIGTERM on Unix, Ctrl+C on Win) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>type of shutdown event </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::error_code indicating success/failure </dd></dl>

</div>
</div>
<a id="a4ebba81bd57721d76b30e39ec2e3be44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ebba81bd57721d76b30e39ec2e3be44">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_harness::ProcessLauncher::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Launches the child process, and makes pipes available for read/write. </p>

</div>
</div>
<a id="a2bca34c7d8b9b98723ea5db54c25f581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bca34c7d8b9b98723ea5db54c25f581">&#9670;&nbsp;</a></span>wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mysql_harness::ProcessLauncher::wait </td>
          <td>(</td>
          <td class="paramtype">std::chrono::milliseconds&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>std::chrono::milliseconds(1000)</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for the child process to exists and returns its exit code. </p>
<p>If the child process is already dead, wait() just returns. Returns the exit code of the process. </p>

</div>
</div>
<a id="a348909106c8394f871db8bb9c3449dc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a348909106c8394f871db8bb9c3449dc9">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mysql_harness::ProcessLauncher::write </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes several butes into stdin of child process. </p>
<p>Returns an shcore::Exception in case of error when writing. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2cc0b52e6aba74684e6aaeec19b0539b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cc0b52e6aba74684e6aaeec19b0539b">&#9670;&nbsp;</a></span>is_alive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mysql_harness::ProcessLauncher::is_alive</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>router/src/harness/include/<a class="el" href="process__launcher_8h_source.html">process_launcher.h</a></li>
<li>router/src/harness/src/<a class="el" href="process__launcher_8cc.html">process_launcher.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemysql__harness.html">mysql_harness</a></li><li class="navelem"><a class="el" href="classmysql__harness_1_1ProcessLauncher.html">ProcessLauncher</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
