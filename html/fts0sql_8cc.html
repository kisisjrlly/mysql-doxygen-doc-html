<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/fts/fts0sql.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('fts0sql_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fts0sql.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Full Text Search functionality.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &quot;<a class="el" href="dict0dd_8h_source.html">dict0dd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0dict_8h_source.html">dict0dict.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fts0priv_8h_source.html">fts0priv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fts0types_8h_source.html">fts0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pars0pars_8h_source.html">pars0pars.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="que0que_8h_source.html">que0que.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0roll_8h_source.html">trx0roll.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &quot;<a class="el" href="current__thd_8h_source.html">current_thd.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acc28012c28478646615f47559aad34a4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#acc28012c28478646615f47559aad34a4">fts_get_table_id</a> (const <a class="el" href="structfts__table__t.html">fts_table_t</a> *fts_table, char *table_id)</td></tr>
<tr class="memdesc:acc28012c28478646615f47559aad34a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the table id.  <a href="#acc28012c28478646615f47559aad34a4">More...</a><br /></td></tr>
<tr class="separator:acc28012c28478646615f47559aad34a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ca49d70a0a41dcdc770e568b58e091"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#af9ca49d70a0a41dcdc770e568b58e091">fts_get_table_name_prefix_low</a> (const <a class="el" href="structfts__table__t.html">fts_table_t</a> *fts_table, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_5_7)</td></tr>
<tr class="memdesc:af9ca49d70a0a41dcdc770e568b58e091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the prefix name of an FTS table.  <a href="#af9ca49d70a0a41dcdc770e568b58e091">More...</a><br /></td></tr>
<tr class="separator:af9ca49d70a0a41dcdc770e568b58e091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e974c22795ae05289dfe3731d53f058"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#a9e974c22795ae05289dfe3731d53f058">fts_get_table_name_prefix</a> (const <a class="el" href="structfts__table__t.html">fts_table_t</a> *fts_table)</td></tr>
<tr class="memdesc:a9e974c22795ae05289dfe3731d53f058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the prefix name of an FTS table.  <a href="#a9e974c22795ae05289dfe3731d53f058">More...</a><br /></td></tr>
<tr class="separator:a9e974c22795ae05289dfe3731d53f058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6482e90f4073b3873017bf1bcae0f2b3"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#a6482e90f4073b3873017bf1bcae0f2b3">fts_get_table_name_prefix_5_7</a> (const <a class="el" href="structfts__table__t.html">fts_table_t</a> *fts_table)</td></tr>
<tr class="memdesc:a6482e90f4073b3873017bf1bcae0f2b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the prefix name of an FTS table in 5.7 compatible name.  <a href="#a6482e90f4073b3873017bf1bcae0f2b3">More...</a><br /></td></tr>
<tr class="separator:a6482e90f4073b3873017bf1bcae0f2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf08b50cf4abe661516493ca2534d445"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#acf08b50cf4abe661516493ca2534d445">fts_get_table_name_low</a> (const <a class="el" href="structfts__table__t.html">fts_table_t</a> *fts_table, char *table_name, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_5_7)</td></tr>
<tr class="memdesc:acf08b50cf4abe661516493ca2534d445"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the name of an ancillary FTS table for the given table.  <a href="#acf08b50cf4abe661516493ca2534d445">More...</a><br /></td></tr>
<tr class="separator:acf08b50cf4abe661516493ca2534d445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba87499331cac2722a42fa13c0f241f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#aba87499331cac2722a42fa13c0f241f0">fts_get_table_name</a> (const <a class="el" href="structfts__table__t.html">fts_table_t</a> *fts_table, char *table_name)</td></tr>
<tr class="memdesc:aba87499331cac2722a42fa13c0f241f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the name of an ancillary FTS table for the given table.  <a href="#aba87499331cac2722a42fa13c0f241f0">More...</a><br /></td></tr>
<tr class="separator:aba87499331cac2722a42fa13c0f241f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad791ddac17d38f5800654f5011899ada"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#ad791ddac17d38f5800654f5011899ada">fts_get_table_name_5_7</a> (const <a class="el" href="structfts__table__t.html">fts_table_t</a> *fts_table, char *table_name)</td></tr>
<tr class="memdesc:ad791ddac17d38f5800654f5011899ada"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the name of an ancillary FTS table for the given table in 5.7 compatible format.  <a href="#ad791ddac17d38f5800654f5011899ada">More...</a><br /></td></tr>
<tr class="separator:ad791ddac17d38f5800654f5011899ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af607522c51673354fc1cb2c6a5dccea8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="que0types_8h.html#a3052106eec0aaf80a6028b16f70372b1">que_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#af607522c51673354fc1cb2c6a5dccea8">fts_parse_sql</a> (<a class="el" href="structfts__table__t.html">fts_table_t</a> *fts_table, <a class="el" href="structpars__info__t.html">pars_info_t</a> *<a class="el" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>, const char *sql)</td></tr>
<tr class="memdesc:af607522c51673354fc1cb2c6a5dccea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse an SQL string.  <a href="#af607522c51673354fc1cb2c6a5dccea8">More...</a><br /></td></tr>
<tr class="separator:af607522c51673354fc1cb2c6a5dccea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5dcac79f584f7890006e0257a435ca4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#af5dcac79f584f7890006e0257a435ca4">fts_eval_sql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="que0types_8h.html#a3052106eec0aaf80a6028b16f70372b1">que_t</a> *graph)</td></tr>
<tr class="memdesc:af5dcac79f584f7890006e0257a435ca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate an SQL query graph.  <a href="#af5dcac79f584f7890006e0257a435ca4">More...</a><br /></td></tr>
<tr class="separator:af5dcac79f584f7890006e0257a435ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b81420ce83f2e5fe1b7f9c4f7dbad9"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#a91b81420ce83f2e5fe1b7f9c4f7dbad9">fts_get_select_columns_str</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structpars__info__t.html">pars_info_t</a> *<a class="el" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap)</td></tr>
<tr class="memdesc:a91b81420ce83f2e5fe1b7f9c4f7dbad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the column specification part of the SQL string for selecting the indexed FTS columns for the given table.  <a href="#a91b81420ce83f2e5fe1b7f9c4f7dbad9">More...</a><br /></td></tr>
<tr class="separator:a91b81420ce83f2e5fe1b7f9c4f7dbad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770fc8351dc94d1ac99e4b1d185d64f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#a770fc8351dc94d1ac99e4b1d185d64f8">fts_sql_commit</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a770fc8351dc94d1ac99e4b1d185d64f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit a transaction.  <a href="#a770fc8351dc94d1ac99e4b1d185d64f8">More...</a><br /></td></tr>
<tr class="separator:a770fc8351dc94d1ac99e4b1d185d64f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31280eacc06685d42adfb6e09efeb1fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#a31280eacc06685d42adfb6e09efeb1fc">fts_sql_rollback</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:a31280eacc06685d42adfb6e09efeb1fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rollback a transaction.  <a href="#a31280eacc06685d42adfb6e09efeb1fc">More...</a><br /></td></tr>
<tr class="separator:a31280eacc06685d42adfb6e09efeb1fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7b842c77fc01809e434d946b5e4320c4"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#a7b842c77fc01809e434d946b5e4320c4">fts_sql_begin</a> = &quot;PROCEDURE <a class="el" href="dtoa_8cc.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>() <a class="el" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">IS\n</a>&quot;</td></tr>
<tr class="memdesc:a7b842c77fc01809e434d946b5e4320c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">SQL statements for creating the ancillary FTS tables.  <a href="#a7b842c77fc01809e434d946b5e4320c4">More...</a><br /></td></tr>
<tr class="separator:a7b842c77fc01809e434d946b5e4320c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6db7a9a83959fe5f1a53011e769c0f1"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fts0sql_8cc.html#af6db7a9a83959fe5f1a53011e769c0f1">fts_sql_end</a></td></tr>
<tr class="memdesc:af6db7a9a83959fe5f1a53011e769c0f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Postamble to non-committing SQL statements.  <a href="#af6db7a9a83959fe5f1a53011e769c0f1">More...</a><br /></td></tr>
<tr class="separator:af6db7a9a83959fe5f1a53011e769c0f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Full Text Search functionality. </p>
<p>Created 2007-03-27 Sunny Bains </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af5dcac79f584f7890006e0257a435ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5dcac79f584f7890006e0257a435ca4">&#9670;&nbsp;</a></span>fts_eval_sql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> fts_eval_sql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="que0types_8h.html#a3052106eec0aaf80a6028b16f70372b1">que_t</a> *&#160;</td>
          <td class="paramname"><em>graph</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate an SQL query graph. </p>
<p>Evaluate a parsed SQL statement.</p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">graph</td><td>in: Query graph to evaluate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a91b81420ce83f2e5fe1b7f9c4f7dbad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91b81420ce83f2e5fe1b7f9c4f7dbad9">&#9670;&nbsp;</a></span>fts_get_select_columns_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fts_get_select_columns_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpars__info__t.html">pars_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct the column specification part of the SQL string for selecting the indexed FTS columns for the given table. </p>
<p>Adds the necessary bound ids to the given 'info' and returns the SQL string. Examples:</p>
<p>One indexed column named "text":</p>
<p>"$sel0", info/ids: sel0 -&gt; "text"</p>
<p>Two indexed columns named "subject" and "content":</p>
<p>"$sel0, $sel1", info/ids: sel0 -&gt; "subject", sel1 -&gt; "content", </p><dl class="section return"><dt>Returns</dt><dd>heap-allocated WHERE string </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">info</td><td>in/out: parser info </td></tr>
    <tr><td class="paramname">heap</td><td>in: memory heap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc28012c28478646615f47559aad34a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc28012c28478646615f47559aad34a4">&#9670;&nbsp;</a></span>fts_get_table_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fts_get_table_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfts__table__t.html">fts_table_t</a> *&#160;</td>
          <td class="paramname"><em>fts_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>table_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the table id. </p>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fts_table</td><td>in: FTS Auxiliary table </td></tr>
    <tr><td class="paramname">table_id</td><td>out: table id, must be at least FTS_AUX_MIN_TABLE_ID_LENGTH bytes long </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba87499331cac2722a42fa13c0f241f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba87499331cac2722a42fa13c0f241f0">&#9670;&nbsp;</a></span>fts_get_table_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fts_get_table_name </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfts__table__t.html">fts_table_t</a> *&#160;</td>
          <td class="paramname"><em>fts_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>table_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct the name of an ancillary FTS table for the given table. </p>
<p>Caller must allocate enough memory(usually size of MAX_FULL_NAME_LEN) for param 'table_name'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fts_table</td><td>in: Auxiliary table type </td></tr>
    <tr><td class="paramname">table_name</td><td>in/out: aux table name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad791ddac17d38f5800654f5011899ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad791ddac17d38f5800654f5011899ada">&#9670;&nbsp;</a></span>fts_get_table_name_5_7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fts_get_table_name_5_7 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfts__table__t.html">fts_table_t</a> *&#160;</td>
          <td class="paramname"><em>fts_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>table_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct the name of an ancillary FTS table for the given table in 5.7 compatible format. </p>
<p>Caller must allocate enough memory(usually size of MAX_FULL_NAME_LEN) for param 'table_name' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fts_table</td><td>Auxiliary table object </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">table_name</td><td>aux table name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acf08b50cf4abe661516493ca2534d445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf08b50cf4abe661516493ca2534d445">&#9670;&nbsp;</a></span>fts_get_table_name_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fts_get_table_name_low </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfts__table__t.html">fts_table_t</a> *&#160;</td>
          <td class="paramname"><em>fts_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>table_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_5_7</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct the name of an ancillary FTS table for the given table. </p>
<p>Caller must allocate enough memory(usually size of MAX_FULL_NAME_LEN) for param 'table_name' </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fts_table</td><td>FTS Aux table </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">table_name</td><td>aux table name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_5_7</td><td>true if we need 5.7 compatible name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e974c22795ae05289dfe3731d53f058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e974c22795ae05289dfe3731d53f058">&#9670;&nbsp;</a></span>fts_get_table_name_prefix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fts_get_table_name_prefix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfts__table__t.html">fts_table_t</a> *&#160;</td>
          <td class="paramname"><em>fts_table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct the prefix name of an FTS table. </p>
<dl class="section return"><dt>Returns</dt><dd>own: table name, must be freed with ut_free() </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fts_table</td><td>in: Auxiliary table type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6482e90f4073b3873017bf1bcae0f2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6482e90f4073b3873017bf1bcae0f2b3">&#9670;&nbsp;</a></span>fts_get_table_name_prefix_5_7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* fts_get_table_name_prefix_5_7 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfts__table__t.html">fts_table_t</a> *&#160;</td>
          <td class="paramname"><em>fts_table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct the prefix name of an FTS table in 5.7 compatible name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fts_table</td><td>Auxiliary FTS table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>own: table name, must be freed with ut_free() </dd></dl>

</div>
</div>
<a id="af9ca49d70a0a41dcdc770e568b58e091"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ca49d70a0a41dcdc770e568b58e091">&#9670;&nbsp;</a></span>fts_get_table_name_prefix_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* fts_get_table_name_prefix_low </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structfts__table__t.html">fts_table_t</a> *&#160;</td>
          <td class="paramname"><em>fts_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_5_7</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct the prefix name of an FTS table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fts_table</td><td>Auxiliary FTS table </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_5_7</td><td>true if we need 5.7 compatible name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>own: table name, must be freed with ut_free() </dd></dl>

</div>
</div>
<a id="af607522c51673354fc1cb2c6a5dccea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af607522c51673354fc1cb2c6a5dccea8">&#9670;&nbsp;</a></span>fts_parse_sql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="que0types_8h.html#a3052106eec0aaf80a6028b16f70372b1">que_t</a>* fts_parse_sql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfts__table__t.html">fts_table_t</a> *&#160;</td>
          <td class="paramname"><em>fts_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpars__info__t.html">pars_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse an SQL string. </p>
<dl class="section return"><dt>Returns</dt><dd>query graph </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fts_table</td><td>in: FTS auxiliarry table info </td></tr>
    <tr><td class="paramname">info</td><td>in: info struct, or NULL </td></tr>
    <tr><td class="paramname">sql</td><td>in: SQL string to evaluate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a770fc8351dc94d1ac99e4b1d185d64f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a770fc8351dc94d1ac99e4b1d185d64f8">&#9670;&nbsp;</a></span>fts_sql_commit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> fts_sql_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commit a transaction. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a31280eacc06685d42adfb6e09efeb1fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31280eacc06685d42adfb6e09efeb1fc">&#9670;&nbsp;</a></span>fts_sql_rollback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> fts_sql_rollback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rollback a transaction. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7b842c77fc01809e434d946b5e4320c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b842c77fc01809e434d946b5e4320c4">&#9670;&nbsp;</a></span>fts_sql_begin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* fts_sql_begin = &quot;PROCEDURE <a class="el" href="dtoa_8cc.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>() <a class="el" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">IS\n</a>&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SQL statements for creating the ancillary FTS tables. </p>
<p>Preamble to all SQL statements. </p>

</div>
</div>
<a id="af6db7a9a83959fe5f1a53011e769c0f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6db7a9a83959fe5f1a53011e769c0f1">&#9670;&nbsp;</a></span>fts_sql_end</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* fts_sql_end</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">    <span class="stringliteral">&quot;\n&quot;</span></div><div class="line">    <span class="stringliteral">&quot;END;\n&quot;</span></div></div><!-- fragment -->
<p>Postamble to non-committing SQL statements. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_fd18fac32ac7310620e63cce0ced4863.html">fts</a></li><li class="navelem"><a class="el" href="fts0sql_8cc.html">fts0sql.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
