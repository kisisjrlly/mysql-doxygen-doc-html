<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/restart_monitor_win.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('restart__monitor__win_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">restart_monitor_win.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
</div>
<p><a href="restart__monitor__win_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structService__status__msg.html">Service_status_msg</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service status message providing an abstraction for the service message sent by monitor to client.  <a href="structService__status__msg.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a12b20c9829ee487fb7addbea76c98ebe"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a12b20c9829ee487fb7addbea76c98ebe">Signal_type</a> { <a class="el" href="restart__monitor__win_8h.html#a12b20c9829ee487fb7addbea76c98ebeaae5c7c2d4e6305a35405933ed48dde2b">Signal_type::SIGNAL_SHUTDOWN</a>, 
<a class="el" href="restart__monitor__win_8h.html#a12b20c9829ee487fb7addbea76c98ebea440175c05ffa32af26c4c4af87f7faad">Signal_type::SIGNAL_SERVICE_STATUS_CMD</a>, 
<a class="el" href="restart__monitor__win_8h.html#a12b20c9829ee487fb7addbea76c98ebea7812bf82e0d007f71ca4dd9b01beaa65">Signal_type::SIGNAL_SERVICE_STATUS_CMD_PROCESSED</a>
 }<tr class="memdesc:a12b20c9829ee487fb7addbea76c98ebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type indicating the type of signals which involve communication between the monitor and the mysqld.  <a href="restart__monitor__win_8h.html#a12b20c9829ee487fb7addbea76c98ebe">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a12b20c9829ee487fb7addbea76c98ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0455866fab4c270eebbf64a1129882"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a5e0455866fab4c270eebbf64a1129882">Monitor_log_msg_type</a> { <a class="el" href="restart__monitor__win_8h.html#a5e0455866fab4c270eebbf64a1129882abff65bc87a4228a6820a9e61e3c2c5cc">Monitor_log_msg_type::MONITOR_LOG_ERROR</a>, 
<a class="el" href="restart__monitor__win_8h.html#a5e0455866fab4c270eebbf64a1129882adb366ec610a713c9fad2d5c237963f05">Monitor_log_msg_type::MONITOR_LOG_WARN</a>, 
<a class="el" href="restart__monitor__win_8h.html#a5e0455866fab4c270eebbf64a1129882a4361a4bf40bc08e81d792a55780c0fdc">Monitor_log_msg_type::MONITOR_LOG_INFO</a>
 }<tr class="memdesc:a5e0455866fab4c270eebbf64a1129882"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of messages logged by monitor logging.  <a href="restart__monitor__win_8h.html#a5e0455866fab4c270eebbf64a1129882">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a5e0455866fab4c270eebbf64a1129882"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9a434f60b59dd176dcb75601b17a221f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a9a434f60b59dd176dcb75601b17a221f">initialize_mysqld_monitor</a> ()</td></tr>
<tr class="memdesc:a9a434f60b59dd176dcb75601b17a221f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the mysqld monitor.  <a href="#a9a434f60b59dd176dcb75601b17a221f">More...</a><br /></td></tr>
<tr class="separator:a9a434f60b59dd176dcb75601b17a221f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a384a9358dd8a3ffc3ad60ae226a2ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a4a384a9358dd8a3ffc3ad60ae226a2ee">deinitialize_mysqld_monitor</a> ()</td></tr>
<tr class="memdesc:a4a384a9358dd8a3ffc3ad60ae226a2ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize the monitor.  <a href="#a4a384a9358dd8a3ffc3ad60ae226a2ee">More...</a><br /></td></tr>
<tr class="separator:a4a384a9358dd8a3ffc3ad60ae226a2ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704205b9645d53d14d5b9318bd711640"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a704205b9645d53d14d5b9318bd711640">send_service_status</a> (const <a class="el" href="structService__status__msg.html">Service_status_msg</a> &amp;)</td></tr>
<tr class="memdesc:a704205b9645d53d14d5b9318bd711640"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send service status message to the monitor.  <a href="#a704205b9645d53d14d5b9318bd711640">More...</a><br /></td></tr>
<tr class="separator:a704205b9645d53d14d5b9318bd711640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d67ffd474f5d2100a1f3eb79a193182"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a1d67ffd474f5d2100a1f3eb79a193182">close_service_status_pipe_in_mysqld</a> ()</td></tr>
<tr class="memdesc:a1d67ffd474f5d2100a1f3eb79a193182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the service status pipe.  <a href="#a1d67ffd474f5d2100a1f3eb79a193182">More...</a><br /></td></tr>
<tr class="separator:a1d67ffd474f5d2100a1f3eb79a193182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2c327704f14727a7aad2797a76523e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#abb2c327704f14727a7aad2797a76523e">get_monitor_pid</a> ()</td></tr>
<tr class="memdesc:abb2c327704f14727a7aad2797a76523e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get char representation corresponding to MYSQLD_PARENT_PID.  <a href="#abb2c327704f14727a7aad2797a76523e">More...</a><br /></td></tr>
<tr class="separator:abb2c327704f14727a7aad2797a76523e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab930ee50cd8fc3357a2529ef4162acc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#ab930ee50cd8fc3357a2529ef4162acc8">signal_event</a> (<a class="el" href="restart__monitor__win_8h.html#a12b20c9829ee487fb7addbea76c98ebe">Signal_type</a> signal)</td></tr>
<tr class="memdesc:ab930ee50cd8fc3357a2529ef4162acc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal an event of type Signal_type.  <a href="#ab930ee50cd8fc3357a2529ef4162acc8">More...</a><br /></td></tr>
<tr class="separator:ab930ee50cd8fc3357a2529ef4162acc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a453393eb865ed2326db991d19f0628a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a453393eb865ed2326db991d19f0628a5">is_early_option</a> (int <a class="el" href="do__ctype_8cc.html#a58c88df0898cc7bbcb9b7e1a48a4eb21">argc</a>, char **<a class="el" href="do__ctype_8cc.html#a1b5d2a82062528707ab3855772528912">argv</a>)</td></tr>
<tr class="memdesc:a453393eb865ed2326db991d19f0628a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if option is an early type or &ndash;gdb, &ndash;no-monitor.  <a href="#a453393eb865ed2326db991d19f0628a5">More...</a><br /></td></tr>
<tr class="separator:a453393eb865ed2326db991d19f0628a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463aeadbb28a7f263876fa86fcc3e75c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a463aeadbb28a7f263876fa86fcc3e75c">is_mysqld_monitor</a> ()</td></tr>
<tr class="memdesc:a463aeadbb28a7f263876fa86fcc3e75c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we are monitor process.  <a href="#a463aeadbb28a7f263876fa86fcc3e75c">More...</a><br /></td></tr>
<tr class="separator:a463aeadbb28a7f263876fa86fcc3e75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec92b327de0851d2d678a72b4e959c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a8ec92b327de0851d2d678a72b4e959c9">is_monitor_win_service</a> ()</td></tr>
<tr class="memdesc:a8ec92b327de0851d2d678a72b4e959c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the monitor is started under a windows service.  <a href="#a8ec92b327de0851d2d678a72b4e959c9">More...</a><br /></td></tr>
<tr class="separator:a8ec92b327de0851d2d678a72b4e959c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef308823c1dfaccf827a2f655da7bb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#afef308823c1dfaccf827a2f655da7bb3">start_monitor</a> ()</td></tr>
<tr class="memdesc:afef308823c1dfaccf827a2f655da7bb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the monitor if we are called in parent (monitor) context.  <a href="#afef308823c1dfaccf827a2f655da7bb3">More...</a><br /></td></tr>
<tr class="separator:afef308823c1dfaccf827a2f655da7bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a3f14e4bc1bf39a1d54febdc6c89ecd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a2a3f14e4bc1bf39a1d54febdc6c89ecd">setup_service_status_cmd_processed_handle</a> ()</td></tr>
<tr class="memdesc:a2a3f14e4bc1bf39a1d54febdc6c89ecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the service status command processed handle.  <a href="#a2a3f14e4bc1bf39a1d54febdc6c89ecd">More...</a><br /></td></tr>
<tr class="separator:a2a3f14e4bc1bf39a1d54febdc6c89ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46500d6432849d5e09f994cc472107b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a46500d6432849d5e09f994cc472107b2">close_service_status_cmd_processed_handle</a> ()</td></tr>
<tr class="memdesc:a46500d6432849d5e09f994cc472107b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the Service Status Cmd Processed handle.  <a href="#a46500d6432849d5e09f994cc472107b2">More...</a><br /></td></tr>
<tr class="separator:a46500d6432849d5e09f994cc472107b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad473efb899b702607c547956cc973b15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#ad473efb899b702607c547956cc973b15">is_windows_service</a> ()</td></tr>
<tr class="separator:ad473efb899b702607c547956cc973b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554ea0232bee7e5fc5273d47605e0b04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNTService.html">NTService</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="restart__monitor__win_8h.html#a554ea0232bee7e5fc5273d47605e0b04">get_win_service_ptr</a> ()</td></tr>
<tr class="separator:a554ea0232bee7e5fc5273d47605e0b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5e0455866fab4c270eebbf64a1129882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0455866fab4c270eebbf64a1129882">&#9670;&nbsp;</a></span>Monitor_log_msg_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="restart__monitor__win_8h.html#a5e0455866fab4c270eebbf64a1129882">Monitor_log_msg_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type of messages logged by monitor logging. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5e0455866fab4c270eebbf64a1129882abff65bc87a4228a6820a9e61e3c2c5cc"></a>MONITOR_LOG_ERROR&#160;</td><td class="fielddoc"><p>Error log. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5e0455866fab4c270eebbf64a1129882adb366ec610a713c9fad2d5c237963f05"></a>MONITOR_LOG_WARN&#160;</td><td class="fielddoc"><p>Warning log. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5e0455866fab4c270eebbf64a1129882a4361a4bf40bc08e81d792a55780c0fdc"></a>MONITOR_LOG_INFO&#160;</td><td class="fielddoc"><p>Information log. </p>
</td></tr>
</table>

</div>
</div>
<a id="a12b20c9829ee487fb7addbea76c98ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b20c9829ee487fb7addbea76c98ebe">&#9670;&nbsp;</a></span>Signal_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="restart__monitor__win_8h.html#a12b20c9829ee487fb7addbea76c98ebe">Signal_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Type indicating the type of signals which involve communication between the monitor and the mysqld. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a12b20c9829ee487fb7addbea76c98ebeaae5c7c2d4e6305a35405933ed48dde2b"></a>SIGNAL_SHUTDOWN&#160;</td><td class="fielddoc"><p>Shutdown signal from monitor to mysqld. </p>
<p>This is used to relay the shutdown that comes from the SCM. </p>
</td></tr>
<tr><td class="fieldname"><a id="a12b20c9829ee487fb7addbea76c98ebea440175c05ffa32af26c4c4af87f7faad"></a>SIGNAL_SERVICE_STATUS_CMD&#160;</td><td class="fielddoc"><p>Signal used to send the service status command to the monitor. </p>
</td></tr>
<tr><td class="fieldname"><a id="a12b20c9829ee487fb7addbea76c98ebea7812bf82e0d007f71ca4dd9b01beaa65"></a>SIGNAL_SERVICE_STATUS_CMD_PROCESSED&#160;</td><td class="fielddoc"><p>Signal to the the mysqld from monitor indicating service status command has been processed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a46500d6432849d5e09f994cc472107b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46500d6432849d5e09f994cc472107b2">&#9670;&nbsp;</a></span>close_service_status_cmd_processed_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_service_status_cmd_processed_handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the Service Status Cmd Processed handle. </p>

</div>
</div>
<a id="a1d67ffd474f5d2100a1f3eb79a193182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d67ffd474f5d2100a1f3eb79a193182">&#9670;&nbsp;</a></span>close_service_status_pipe_in_mysqld()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_service_status_pipe_in_mysqld </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the service status pipe. </p>
<p>This method is called by the mysqld child process.</p>
<p>Close the service status pipe.</p>
<p>This call shall made in context of the mysqld process. </p>

</div>
</div>
<a id="a4a384a9358dd8a3ffc3ad60ae226a2ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a384a9358dd8a3ffc3ad60ae226a2ee">&#9670;&nbsp;</a></span>deinitialize_mysqld_monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deinitialize_mysqld_monitor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitialize the monitor. </p>
<p>This method essentially closes any handles opened during initialization. </p>

</div>
</div>
<a id="abb2c327704f14727a7aad2797a76523e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb2c327704f14727a7aad2797a76523e">&#9670;&nbsp;</a></span>get_monitor_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* get_monitor_pid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get char representation corresponding to MYSQLD_PARENT_PID. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to string representing pid of the monitor. </dd></dl>

</div>
</div>
<a id="a554ea0232bee7e5fc5273d47605e0b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a554ea0232bee7e5fc5273d47605e0b04">&#9670;&nbsp;</a></span>get_win_service_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNTService.html">NTService</a>* get_win_service_ptr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a434f60b59dd176dcb75601b17a221f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a434f60b59dd176dcb75601b17a221f">&#9670;&nbsp;</a></span>initialize_mysqld_monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> initialize_mysqld_monitor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the mysqld monitor. </p>
<p>This method is called from both the monitor and mysqld. It sets the variable that distinguishes the monitor and the mysqld. It also initialize the monitor logging subsystem if the process under which it is called is monitor. </p>

</div>
</div>
<a id="a453393eb865ed2326db991d19f0628a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a453393eb865ed2326db991d19f0628a5">&#9670;&nbsp;</a></span>is_early_option()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_early_option </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if option is an early type or &ndash;gdb, &ndash;no-monitor. </p>
<p>The early type options are verbose, help, initialize, version and initialize-insecure. These options print and do certain activities and allow the server to exit. In addition there are options like gdb, no-monitor where we do not spawn a monitor process.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Count of arguments. </td></tr>
    <tr><td class="paramname">argv</td><td>Vector of arguments.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if we are early option else false. </dd></dl>

</div>
</div>
<a id="a8ec92b327de0851d2d678a72b4e959c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec92b327de0851d2d678a72b4e959c9">&#9670;&nbsp;</a></span>is_monitor_win_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_monitor_win_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the monitor is started under a windows service. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the monitor is started as a windows service. </dd></dl>

</div>
</div>
<a id="a463aeadbb28a7f263876fa86fcc3e75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a463aeadbb28a7f263876fa86fcc3e75c">&#9670;&nbsp;</a></span>is_mysqld_monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_mysqld_monitor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if we are monitor process. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the current process is monitor else false. </dd></dl>

</div>
</div>
<a id="ad473efb899b702607c547956cc973b15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad473efb899b702607c547956cc973b15">&#9670;&nbsp;</a></span>is_windows_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_windows_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a704205b9645d53d14d5b9318bd711640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704205b9645d53d14d5b9318bd711640">&#9670;&nbsp;</a></span>send_service_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> send_service_status </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structService__status__msg.html">Service_status_msg</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send service status message to the monitor. </p>
<p>This method is used by mysqld to send service status like running and setting the slow timeout value. </p>

</div>
</div>
<a id="a2a3f14e4bc1bf39a1d54febdc6c89ecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a3f14e4bc1bf39a1d54febdc6c89ecd">&#9670;&nbsp;</a></span>setup_service_status_cmd_processed_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> setup_service_status_cmd_processed_handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the service status command processed handle. </p>
<p>This method is called from mysqld context. This handle ensures the synchronization required between the monitor and mysqld once the monitor has handled the service status sent by client.</p>
<p>Setup the service status command processed handle.</p>
<dl class="section return"><dt>Returns</dt><dd>true if service status command processed handle could not be setup else false. </dd></dl>

</div>
</div>
<a id="ab930ee50cd8fc3357a2529ef4162acc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab930ee50cd8fc3357a2529ef4162acc8">&#9670;&nbsp;</a></span>signal_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="restart__monitor__win_8h.html#a12b20c9829ee487fb7addbea76c98ebe">Signal_type</a>&#160;</td>
          <td class="paramname"><em>signal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal an event of type Signal_type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signal</td><td>type of the event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afef308823c1dfaccf827a2f655da7bb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afef308823c1dfaccf827a2f655da7bb3">&#9670;&nbsp;</a></span>start_monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int start_monitor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the monitor if we are called in parent (monitor) context. </p>
<p>In child context, set the event names and get the monitor process pid and return -1.</p>
<dl class="section return"><dt>Returns</dt><dd>-1 if we are in child context else exit code of the mysqld process. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="restart__monitor__win_8h.html">restart_monitor_win.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
