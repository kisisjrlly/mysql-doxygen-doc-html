<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: meb::Block Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmeb_1_1Block.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmeb_1_1Block-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">meb::Block Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Encapsulates a log block of size QUEUE_BLOCK_SIZE, enqueued by the producer, dequeued by the consumer and written into the redo log archive file.  
 <a href="classmeb_1_1Block.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a78687c9d572b49d02cf44ac6f2b1442d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a78687c9d572b49d02cf44ac6f2b1442d">Block</a> ()</td></tr>
<tr class="memdesc:a78687c9d572b49d02cf44ac6f2b1442d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor initializes the byte array to all 0's and sets that the log block is not the last log block enqueued (is_final_block = false).  <a href="#a78687c9d572b49d02cf44ac6f2b1442d">More...</a><br /></td></tr>
<tr class="separator:a78687c9d572b49d02cf44ac6f2b1442d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac971437a812f73e71aaee6bee4f7e3e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#ac971437a812f73e71aaee6bee4f7e3e4">~Block</a> ()</td></tr>
<tr class="memdesc:ac971437a812f73e71aaee6bee4f7e3e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor initializes the byte array to all 0's and sets that the log block is not the last log block enqueued (is_final_block = false).  <a href="#ac971437a812f73e71aaee6bee4f7e3e4">More...</a><br /></td></tr>
<tr class="separator:ac971437a812f73e71aaee6bee4f7e3e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf7cf4f1fc8c02aa3b70daf71357a52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmeb_1_1Block.html">Block</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a0bf7cf4f1fc8c02aa3b70daf71357a52">operator=</a> (const <a class="el" href="classmeb_1_1Block.html">Block</a> &amp;)=default</td></tr>
<tr class="separator:a0bf7cf4f1fc8c02aa3b70daf71357a52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6541629acc8b2d25dcba7b261f6c4c89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a6541629acc8b2d25dcba7b261f6c4c89">reset</a> ()</td></tr>
<tr class="memdesc:a6541629acc8b2d25dcba7b261f6c4c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the data in the log block, initializing the byte array to all 0's and sets that the block is not the last log block enqueued (is_final_block = false)  <a href="#a6541629acc8b2d25dcba7b261f6c4c89">More...</a><br /></td></tr>
<tr class="separator:a6541629acc8b2d25dcba7b261f6c4c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c220cecbcbec495e41a4a78ec39d87"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a81c220cecbcbec495e41a4a78ec39d87">get_queue_block</a> () const</td></tr>
<tr class="memdesc:a81c220cecbcbec495e41a4a78ec39d87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the byte array of size QUEUE_BLOCK_SIZE associated with this object.  <a href="#a81c220cecbcbec495e41a4a78ec39d87">More...</a><br /></td></tr>
<tr class="separator:a81c220cecbcbec495e41a4a78ec39d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e1115d42fcdd3708e874da670ecb721"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a0e1115d42fcdd3708e874da670ecb721">put_log_block</a> (const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> block[], const size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>)</td></tr>
<tr class="memdesc:a0e1115d42fcdd3708e874da670ecb721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a log block from the given position inside the input byte array.  <a href="#a0e1115d42fcdd3708e874da670ecb721">More...</a><br /></td></tr>
<tr class="separator:a0e1115d42fcdd3708e874da670ecb721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8e9ddaae64bd6a3f442914f7486e393"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#ad8e9ddaae64bd6a3f442914f7486e393">get_is_final_block</a> () const</td></tr>
<tr class="memdesc:ad8e9ddaae64bd6a3f442914f7486e393"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the is_final_block flag.  <a href="#ad8e9ddaae64bd6a3f442914f7486e393">More...</a><br /></td></tr>
<tr class="separator:ad8e9ddaae64bd6a3f442914f7486e393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063946bb0a9c1be9dae80c2533b0e95d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a063946bb0a9c1be9dae80c2533b0e95d">set_is_final_block</a> (const <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_final_block)</td></tr>
<tr class="memdesc:a063946bb0a9c1be9dae80c2533b0e95d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the is_final_block flag.  <a href="#a063946bb0a9c1be9dae80c2533b0e95d">More...</a><br /></td></tr>
<tr class="separator:a063946bb0a9c1be9dae80c2533b0e95d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6356fb65fc0050516253bad108618621"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a6356fb65fc0050516253bad108618621">full</a> () const</td></tr>
<tr class="memdesc:a6356fb65fc0050516253bad108618621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if the log block is full.  <a href="#a6356fb65fc0050516253bad108618621">More...</a><br /></td></tr>
<tr class="separator:a6356fb65fc0050516253bad108618621"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:abab52c2f3fc34b3648ba140a5df249b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#abab52c2f3fc34b3648ba140a5df249b2">m_is_flush_block</a> {<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>}</td></tr>
<tr class="memdesc:abab52c2f3fc34b3648ba140a5df249b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this block is a flush block.  <a href="#abab52c2f3fc34b3648ba140a5df249b2">More...</a><br /></td></tr>
<tr class="separator:abab52c2f3fc34b3648ba140a5df249b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0731e4ddf1dc81518c054d2224657cd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a0731e4ddf1dc81518c054d2224657cd3">m_block</a> [<a class="el" href="namespacemeb.html#ab31d9fac3dc0cd7aaa740fec8553cada">QUEUE_BLOCK_SIZE</a>]</td></tr>
<tr class="memdesc:a0731e4ddf1dc81518c054d2224657cd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bytes in the log block object.  <a href="#a0731e4ddf1dc81518c054d2224657cd3">More...</a><br /></td></tr>
<tr class="separator:a0731e4ddf1dc81518c054d2224657cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec517853703bb69ac90f78e2f86b0aa"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a7ec517853703bb69ac90f78e2f86b0aa">m_offset</a> {0}</td></tr>
<tr class="memdesc:a7ec517853703bb69ac90f78e2f86b0aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset inside the byte array of the log block object at which the next redo log block should be written.  <a href="#a7ec517853703bb69ac90f78e2f86b0aa">More...</a><br /></td></tr>
<tr class="separator:a7ec517853703bb69ac90f78e2f86b0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23138b188813164d278863fa39deb8ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmeb_1_1Block.html#a23138b188813164d278863fa39deb8ec">m_is_final_block</a> {<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>}</td></tr>
<tr class="memdesc:a23138b188813164d278863fa39deb8ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating if this is the last block enqueued by the producer.  <a href="#a23138b188813164d278863fa39deb8ec">More...</a><br /></td></tr>
<tr class="separator:a23138b188813164d278863fa39deb8ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encapsulates a log block of size QUEUE_BLOCK_SIZE, enqueued by the producer, dequeued by the consumer and written into the redo log archive file. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a78687c9d572b49d02cf44ac6f2b1442d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78687c9d572b49d02cf44ac6f2b1442d">&#9670;&nbsp;</a></span>Block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">meb::Block::Block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor initializes the byte array to all 0's and sets that the log block is not the last log block enqueued (is_final_block = false). </p>

</div>
</div>
<a id="ac971437a812f73e71aaee6bee4f7e3e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac971437a812f73e71aaee6bee4f7e3e4">&#9670;&nbsp;</a></span>~Block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">meb::Block::~Block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor initializes the byte array to all 0's and sets that the log block is not the last log block enqueued (is_final_block = false). </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6356fb65fc0050516253bad108618621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6356fb65fc0050516253bad108618621">&#9670;&nbsp;</a></span>full()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> meb::Block::full </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return if the log block is full. </p>
<p>Condition is (m_offset == QUEUE_BLOCK_SIZE). Since we increment m_offset by OS_FILE_LOG_BLOCK_SIZE only, the equivalent condition is (m_offset &gt; QUEUE_BLOCK_SIZE - OS_FILE_LOG_BLOCK_SIZE). The latter one convinces the fortify tool, that we will never overrun the buffer, while the first one is insufficient for the tool.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the log block has QUEUE_BLOCK_SIZE bytes. </td></tr>
    <tr><td class="paramname">false</td><td>otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad8e9ddaae64bd6a3f442914f7486e393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e9ddaae64bd6a3f442914f7486e393">&#9670;&nbsp;</a></span>get_is_final_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> meb::Block::get_is_final_block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the is_final_block flag. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the is_final_block flag is true. false if the is_final_block flag is false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81c220cecbcbec495e41a4a78ec39d87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81c220cecbcbec495e41a4a78ec39d87">&#9670;&nbsp;</a></span>get_queue_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* meb::Block::get_queue_block </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the byte array of size QUEUE_BLOCK_SIZE associated with this object. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">byte[]</td><td>The byte array of size QUEUE_BLOCK_SIZE in this object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0bf7cf4f1fc8c02aa3b70daf71357a52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bf7cf4f1fc8c02aa3b70daf71357a52">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmeb_1_1Block.html">Block</a>&amp; meb::Block::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmeb_1_1Block.html">Block</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0e1115d42fcdd3708e874da670ecb721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1115d42fcdd3708e874da670ecb721">&#9670;&nbsp;</a></span>put_log_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> meb::Block::put_log_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>&#160;</td>
          <td class="paramname"><em>block</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a log block from the given position inside the input byte array. </p>
<p>Note that a complete log block is of size OS_FILE_LOG_BLOCK_SIZE. A log block could also be of size less than OS_FILE_LOG_BLOCK_SIZE, in which case it is overwritten in the next iteration of log writing by InnoDB.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>The byte array containing the log block to be stored in this log block object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>The position inside the byte array from which a log block should be copied.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if a complete redo log block (multiple of OS_FILE_LOG_BLOCK_SIZE) was copied. </td></tr>
    <tr><td class="paramname">false</td><td>otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6541629acc8b2d25dcba7b261f6c4c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6541629acc8b2d25dcba7b261f6c4c89">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void meb::Block::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the data in the log block, initializing the byte array to all 0's and sets that the block is not the last log block enqueued (is_final_block = false) </p>

</div>
</div>
<a id="a063946bb0a9c1be9dae80c2533b0e95d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063946bb0a9c1be9dae80c2533b0e95d">&#9670;&nbsp;</a></span>set_is_final_block()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void meb::Block::set_is_final_block </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_final_block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the is_final_block flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">is_final_block</td><td>the state of the is_final_block flag. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0731e4ddf1dc81518c054d2224657cd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0731e4ddf1dc81518c054d2224657cd3">&#9670;&nbsp;</a></span>m_block</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> meb::Block::m_block[<a class="el" href="namespacemeb.html#ab31d9fac3dc0cd7aaa740fec8553cada">QUEUE_BLOCK_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The bytes in the log block object. </p>

</div>
</div>
<a id="a23138b188813164d278863fa39deb8ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23138b188813164d278863fa39deb8ec">&#9670;&nbsp;</a></span>m_is_final_block</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> meb::Block::m_is_final_block {<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating if this is the last block enqueued by the producer. </p>

</div>
</div>
<a id="abab52c2f3fc34b3648ba140a5df249b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab52c2f3fc34b3648ba140a5df249b2">&#9670;&nbsp;</a></span>m_is_flush_block</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> meb::Block::m_is_flush_block {<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether this block is a flush block. </p>
<p>A flush block is made from the current temporary block redo_log_archive_tmp_block on a flush request. A flush block may be full or not, depending on the current work of the "producer". To avoid races set this variable only under the log writer mutex. The "consumer" shall not update its file write offset when it writes a flush block. The next regular block shall overwrite it. </p>

</div>
</div>
<a id="a7ec517853703bb69ac90f78e2f86b0aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec517853703bb69ac90f78e2f86b0aa">&#9670;&nbsp;</a></span>m_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t meb::Block::m_offset {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Offset inside the byte array of the log block object at which the next redo log block should be written. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>storage/innobase/log/<a class="el" href="log0meb_8cc.html">log0meb.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemeb.html">meb</a></li><li class="navelem"><a class="el" href="classmeb_1_1Block.html">Block</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
