<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/item_sum.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('item__sum_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">item_sum.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="item__sum_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef ITEM_SUM_INCLUDED</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define ITEM_SUM_INCLUDED</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* Copyright (c) 2000, 2020, Oracle and/or its affiliates.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">   This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   it under the terms of the GNU General Public License, version 2.0,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   as published by the Free Software Foundation.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   This program is also distributed with certain software (including</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">   but not limited to OpenSSL) that is licensed under separate terms,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   as designated in a particular file or component or in included license</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   documentation.  The authors of MySQL hereby grant you an additional</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   permission to link the program and your derivative works with the</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">   separately licensed software that they have included with MySQL.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">   GNU General Public License, version 2.0, for more details.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">   along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">   Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301  USA */</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/* classes for sum functions */</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;climits&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;cstdio&gt;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="field__types_8h.html">field_types.h</a>&quot;</span>  <span class="comment">// enum_field_types</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="m__ctype_8h.html">m_ctype.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="m__string_8h.html">m_string.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__alloc_8h.html">my_alloc.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__compiler_8h.html">my_compiler.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__dbug_8h.html">my_dbug.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__inttypes_8h.html">my_inttypes.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__sys_8h.html">my_sys.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__table__map_8h.html">my_table_map.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__time_8h.html">my_time.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__tree_8h.html">my_tree.h</a>&quot;</span>  <span class="comment">// TREE</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="udf__registration__types_8h.html">mysql/udf_registration_types.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mysql__time_8h.html">mysql_time.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;mysqld_error.h&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="enum__query__type_8h.html">sql/enum_query_type.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item_8h.html">sql/item.h</a>&quot;</span>       <span class="comment">// Item_result_field</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="item__func_8h.html">sql/item_func.h</a>&quot;</span>  <span class="comment">// Item_int_func</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mem__root__array_8h.html">sql/mem_root_array.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__decimal_8h.html">sql/my_decimal.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parse__location_8h.html">sql/parse_location.h</a>&quot;</span>     <span class="comment">// POS</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parse__tree__window_8h.html">sql/parse_tree_window.h</a>&quot;</span>  <span class="comment">// PT_window</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sql__base_8h.html">sql/sql_base.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sql__const_8h.html">sql/sql_const.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sql__list_8h.html">sql/sql_list.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sql__udf_8h.html">sql/sql_udf.h</a>&quot;</span>     <span class="comment">// udf_handler</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="thr__malloc_8h.html">sql/thr_malloc.h</a>&quot;</span>  <span class="comment">// THR_MALLOC</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="window__lex_8h.html">sql/window_lex.h</a>&quot;</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sql__string_8h.html">sql_string.h</a>&quot;</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="template__utils_8h.html">template_utils.h</a>&quot;</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">class </span><a class="code" href="classField.html">Field</a>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum.html">Item_sum</a>;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__array.html">Json_array</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__object.html">Json_object</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__wrapper.html">Json_wrapper</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">class </span><a class="code" href="classPT__item__list.html">PT_item_list</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">class </span><a class="code" href="classPT__order__list.html">PT_order_list</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">class </span><a class="code" href="classSELECT__LEX.html">SELECT_LEX</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">class </span><a class="code" href="classTHD.html">THD</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">class </span><a class="code" href="classTemp__table__param.html">Temp_table_param</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">class </span><a class="code" href="classWindow.html">Window</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">struct </span><a class="code" href="structORDER.html">ORDER</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">struct </span><a class="code" href="structParse__context.html">Parse_context</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">struct </span><a class="code" href="structTABLE.html">TABLE</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">struct </span><a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">  The abstract base class for the Aggregator_* classes.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">  It implements the data collection functions (setup/add/clear)</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">  as either pass-through to the real functionality or</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">  as collectors into an Unique (for distinct) structure.</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">  Note that update_field/reset_field are not in that</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">  class, because they&#39;re simply not called when</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">  GROUP BY/DISTINCT can be handled with help of index on grouped</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">  fields (allow_group_via_temp_table is false);</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classAggregator.html">   96</a></span>&#160;<span class="keyword">class </span><a class="code" href="classAggregator.html">Aggregator</a> {</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classAggregator.html#afdaf2fcbe4bca3f9cf9e54d9302c0d69">   97</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classItem__sum.html">Item_sum</a>;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="classAggregator.html#a2afeb7cbcc97ddd2c3c74cf87352e0ab">   98</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classItem__sum__sum.html">Item_sum_sum</a>;</div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classAggregator.html#acfaf1c17289ab0e71cb92e85c6e40ee5">   99</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classItem__sum__count.html">Item_sum_count</a>;</div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classAggregator.html#a43563950efa7ae2387d3389fae2c0d09">  100</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classItem__sum__avg.html">Item_sum_avg</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">    All members are protected as this class is not usable outside of an</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    Item_sum descendant.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">/* the aggregate function class to act on */</span></div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classAggregator.html#a0c8f75d3d70dff740412d52b63ea3e40">  108</a></span>&#160;  <a class="code" href="classItem__sum.html">Item_sum</a> *<a class="code" href="classAggregator.html#a0c8f75d3d70dff740412d52b63ea3e40">item_sum</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classAggregator.html#ad9419dfc50b0b7e5e977a81b3bd8ddda">  111</a></span>&#160;  <a class="code" href="classAggregator.html#ad9419dfc50b0b7e5e977a81b3bd8ddda">Aggregator</a>(<a class="code" href="classItem__sum.html">Item_sum</a> *arg) : item_sum(arg) {}</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classAggregator.html#a478d5a6fde05c6774759fd1c30df0bbe">  112</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classAggregator.html#a478d5a6fde05c6774759fd1c30df0bbe">~Aggregator</a>() {}</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classAggregator.html#a61b988705710055ea031d1c227b43d05a32fabdb8e0b9020428daf2593b89699e">  114</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05">Aggregator_type</a> { <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05a32fabdb8e0b9020428daf2593b89699e">SIMPLE_AGGREGATOR</a>, <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05acf5cecfafac12412b43335aad7b087e1">DISTINCT_AGGREGATOR</a> };</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05">Aggregator_type</a> <a class="code" href="classAggregator.html#aa839d991497a8872e05da159b5ae7970">Aggrtype</a>() = 0;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">    Called before adding the first row.</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">    Allocates and sets up the internal aggregation structures used,</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">    e.g. the Unique instance used to calculate distinct.</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#afcde359558a43054f7812a72498a263f">setup</a>(<a class="code" href="classTHD.html">THD</a> *) = 0;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">    Called when we need to wipe out all the data from the aggregator :</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">    all the values acumulated and all the state.</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">    Cleans up the internal structures and resets them to their initial state.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() = 0;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">    Called when there&#39;s a new value to be aggregated.</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">    Updates the internal state of the aggregator to reflect the new value.</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() = 0;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">    Called when there are no more data and the final value is to be retrieved.</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">    Finalises the state of the aggregator, so the final result can be retrieved.</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#a726ef59a61b219b87c0a6041f8162037">endup</a>() = 0;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">  /** Decimal value of being-aggregated argument */</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="classAggregator.html#a0965a66058cd00c581b015b9c571cb07">arg_val_decimal</a>(<a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) = 0;<span class="comment"></span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  /** Floating point value of being-aggregated argument */</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classAggregator.html#addca16d20f7cc2640f3843c2c5e7596d">arg_val_real</a>() = 0;<span class="comment"></span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">    NULLness of being-aggregated argument.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">    @param use_null_value Optimization: to determine if the argument is NULL</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">    we must, in the general case, call is_null() on it, which itself might</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">    call val_*() on it, which might be costly. If you just have called</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">    arg_val*(), you can pass use_null_value=true; this way, arg_is_null()</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">    might avoid is_null() and instead do a cheap read of the Item&#39;s null_value</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">    (updated by arg_val*()).</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a2581c04dee61cf1a4d72519da64baf53">arg_is_null</a>(<span class="keywordtype">bool</span> use_null_value) = 0;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;};</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">  Class Item_sum is the base class used for special expressions that SQL calls</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">  &#39;set functions&#39;. These expressions are formed with the help of aggregate</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">  functions such as SUM, MAX, GROUP_CONCAT etc.</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">  Class Item_sum is also the base class for Window functions; the text below</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">  first documents set functions, then window functions.</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> GENERAL NOTES</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">  A set function cannot be used in all positions where expressions are accepted.</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">  There are some quite explicable restrictions for the use of set functions.</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">  In the query:</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">    SELECT AVG(b) FROM t1 WHERE SUM(b) &gt; 20 GROUP by a</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">  the set function AVG(b) is valid, while the usage of SUM(b) is invalid.</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">  A WHERE condition must contain expressions that can be evaluated for each row</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">  of the table. Yet the expression SUM(b) can be evaluated only for each group</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">  of rows with the same value of column a.</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">  In the query:</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">    SELECT AVG(b) FROM t1 WHERE c &gt; 30 GROUP BY a HAVING SUM(b) &gt; 20</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  both set function expressions AVG(b) and SUM(b) are valid.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">  We can say that in a query without nested selects an occurrence of a</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">  set function in an expression of the SELECT list or/and in the HAVING</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">  clause is valid, while in the WHERE clause, FROM clause or GROUP BY clause</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">  it is invalid.</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">  The general rule to detect whether a set function is valid in a query with</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">  nested subqueries is much more complicated.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">  Consider the following query:</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    SELECT t1.a FROM t1 GROUP BY t1.a</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">      HAVING t1.a &gt; ALL (SELECT t2.c FROM t2 WHERE SUM(t1.b) &lt; t2.c).</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">  The set function SUM(b) is used here in the WHERE clause of the subquery.</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">  Nevertheless it is valid since it is contained in the HAVING clause of the</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">  outer query. The expression SUM(t1.b) is evaluated for each group defined</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"> in the main query, not for groups of the subquery.</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">  The problem of finding the query where to aggregate a particular</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">  set function is not so simple as it seems to be.</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">  In the query:</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    SELECT t1.a FROM t1 GROUP BY t1.a</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">     HAVING t1.a &gt; ALL(SELECT t2.c FROM t2 GROUP BY t2.c</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">                         HAVING SUM(t1.a) &lt; t2.c)</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  the set function can be evaluated in both the outer and the inner query block.</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">  If we evaluate SUM(t1.a) for the outer query then we get the value of t1.a</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  multiplied by the cardinality of a group in table t1. In this case,</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">  SUM(t1.a) is used as a constant value in each correlated subquery.</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">  But SUM(t1.a) can also be evaluated for the inner query.</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">  In this case t1.a will be a constant value for each correlated subquery and</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">  summation is performed for each group of table t2.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">  (Here it makes sense to remind that the query</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">    SELECT c FROM t GROUP BY a HAVING SUM(1) &lt; a</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">  is quite valid in our SQL).</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">  So depending on what query block we assign the set function to we</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">  can get different results.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">  The general rule to detect the query block Q where a set function will be</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  aggregated (evaluated) can be formulated as follows.</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">  Reference: SQL2011 @&lt;set function specification@&gt; syntax rules 6 and 7.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">  Consider a set function S(E) where E is an expression which contains</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">  column references C1, ..., Cn. Resolve all column references Ci against</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">  the query block Qi containing the set function S(E). Let Q be the innermost</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">  query block of all query blocks Qi. (It should be noted here that S(E)</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">  in no way can be aggregated in the query block containing the subquery Q,</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">  otherwise S(E) would refer to at least one unbound column reference).</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">  If S(E) is used in a construct of Q where set functions are allowed then</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">  we aggregate S(E) in Q.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">  Otherwise:</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">  - if ANSI SQL mode is enabled (MODE_ANSI), then report an error.</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">  - otherwise, look for the innermost query block containing S(E) of those</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">    where usage of S(E) is allowed. The place of aggregation depends on which</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">    clause the subquery is contained within; It will be different when</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">    contained in a WHERE clause versus in the select list or in HAVING clause.</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">  Let&#39;s demonstrate how this rule is applied to the following queries.</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">  1. SELECT t1.a FROM t1 GROUP BY t1.a</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">       HAVING t1.a &gt; ALL(SELECT t2.b FROM t2 GROUP BY t2.b</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">                           HAVING t2.b &gt; ALL(SELECT t3.c FROM t3 GROUP BY t3.c</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">                                                HAVING SUM(t1.a+t2.b) &lt; t3.c))</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">  For this query the set function SUM(t1.a+t2.b) contains t1.a and t2.b</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">  with t1.a defined in the outermost query, and t2.b defined for its</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">  subquery. The set function is contained in the HAVING clause of the subquery</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">  and can be evaluated in this subquery.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">  2. SELECT t1.a FROM t1 GROUP BY t1.a</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">       HAVING t1.a &gt; ALL(SELECT t2.b FROM t2</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">                           WHERE t2.b &gt; ALL (SELECT t3.c FROM t3 GROUP BY t3.c</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">                                               HAVING SUM(t1.a+t2.b) &lt; t3.c))</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">  The set function SUM(t1.a+t2.b) is contained in the WHERE clause of the second</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">  query block - the outermost query block where t1.a and t2.b are defined.</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">  If we evaluate the function in this subquery we violate the context rules.</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">  So we evaluate the function in the third query block (over table t3) where it</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">  is used under the HAVING clause; if in ANSI SQL mode, an error is thrown.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">  3. SELECT t1.a FROM t1 GROUP BY t1.a</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">       HAVING t1.a &gt; ALL(SELECT t2.b FROM t2</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">                           WHERE t2.b &gt; ALL (SELECT t3.c FROM t3</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">                                               WHERE SUM(t1.a+t2.b) &lt; t3.c))</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">  In this query, evaluation of SUM(t1.a+t2.b) is not valid neither in the second</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  nor in the third query block.</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">  Set functions can generally not be nested. In the query</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">    SELECT t1.a from t1 GROUP BY t1.a HAVING AVG(SUM(t1.b)) &gt; 20</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  the expression SUM(b) is not valid, even though it is contained inside</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  a HAVING clause.</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">  However, it is acceptable in the query:</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">    SELECT t.1 FROM t1 GROUP BY t1.a HAVING SUM(t1.b) &gt; 20.</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">  An argument of a set function does not have to be a simple column reference</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">  as seen in examples above. This can be a more complex expression</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">    SELECT t1.a FROM t1 GROUP BY t1.a HAVING SUM(t1.b+1) &gt; 20.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">  The expression SUM(t1.b+1) has clear semantics in this context:</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">  we sum up the values of t1.b+1 where t1.b varies for all values within a</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">  group of rows that contain the same t1.a value.</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">  A set function for an outer query yields a constant value within a subquery.</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">  So the semantics of the query</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">    SELECT t1.a FROM t1 GROUP BY t1.a</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">      HAVING t1.a IN (SELECT t2.c FROM t2 GROUP BY t2.c</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">                        HAVING AVG(t2.c+SUM(t1.b)) &gt; 20)</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">  is still clear. For a group of rows with the same value for t1.a, calculate</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">  the value of SUM(t1.b) as &#39;s&#39;. This value is substituted in the subquery:</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    SELECT t2.c FROM t2 GROUP BY t2.c HAVING AVG(t2.c+s)</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">  By the same reason the following query with a subquery</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">    SELECT t1.a FROM t1 GROUP BY t1.a</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">      HAVING t1.a IN (SELECT t2.c FROM t2 GROUP BY t2.c</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">                        HAVING AVG(SUM(t1.b)) &gt; 20)</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">  is also valid.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"> IMPLEMENTATION NOTES</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">  The member base_select contains a reference to the query block that the</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">  set function is contained within.</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">  The member aggr_select contains a reference to the query block where the</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">  set function is aggregated.</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">  The field max_aggr_level holds the maximum of the nest levels of the</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">  unbound column references contained in the set function. A column reference</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">  is unbound within a set function if it is not bound by any subquery</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">  used as a subexpression in this function. A column reference is bound by</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">  a subquery if it is a reference to the column by which the aggregation</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">  of some set function that is used in the subquery is calculated.</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">  For the set function used in the query</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">    SELECT t1.a FROM t1 GROUP BY t1.a</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">      HAVING t1.a &gt; ALL(SELECT t2.b FROM t2 GROUP BY t2.b</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">                          HAVING t2.b &gt; ALL(SELECT t3.c FROM t3 GROUP BY t3.c</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">                                              HAVING SUM(t1.a+t2.b) &lt; t3.c))</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">  the value of max_aggr_level is equal to 1 since t1.a is bound in the main</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">  query, and t2.b is bound by the first subquery whose nest level is 1.</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">  Obviously a set function cannot be aggregated in a subquery whose</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">  nest level is less than max_aggr_level. (Yet it can be aggregated in the</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">  subqueries whose nest level is greater than max_aggr_level.)</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">  In the query</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">    SELECT t1.a FROM t1 HAVING AVG(t1.a+(SELECT MIN(t2.c) FROM t2))</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">  the value of the max_aggr_level for the AVG set function is 0 since</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">  the reference t2.c is bound in the subquery.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">  If a set function contains no column references (like COUNT(*)),</span></div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">  max_aggr_level is -1.</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">  The field &#39;max_sum_func_level&#39; is to contain the maximum of the</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">  nest levels of the set functions that are used as subexpressions of</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">  the arguments of the given set function, but not aggregated in any</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">  subquery within this set function. A nested set function s1 can be</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">  used within set function s0 only if s1.max_sum_func_level &lt;</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">  s0.max_sum_func_level. Set function s1 is considered as nested</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">  for set function s0 if s1 is not calculated in any subquery</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">  within s0.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">  A set function that is used as a subexpression in an argument of another</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">  set function refers to the latter via the field &#39;in_sum_func&#39;.</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">  The condition imposed on the usage of set functions are checked when</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">  we traverse query subexpressions with the help of the recursive method</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">  fix_fields. When we apply this method to an object of the class</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">  Item_sum, first, on the descent, we call the method init_sum_func_check</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">  that initialize members used at checking. Then, on the ascent, we</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">  call the method check_sum_func that validates the set function usage</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">  and reports an error if it is invalid.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">  The method check_sum_func serves to link the items for the set functions</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">  that are aggregated in the containing query blocks. Circular chains of such</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">  functions are attached to the corresponding SELECT_LEX structures</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">  through the field inner_sum_func_list.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">  Exploiting the fact that the members mentioned above are used in one</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">  recursive function we could have allocated them on the thread stack.</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">  Yet we don&#39;t do it now.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">  It is assumed that the nesting level of subqueries does not exceed 63</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">  (valid nesting levels are stored in a 64-bit bitmap called nesting_map).</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">  The assumption is enforced in LEX::new_query().</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">  WINDOW FUNCTIONS</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">  Most set functions (e.g. SUM, COUNT, AVG) can also be used as window</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">  functions. In that case, notable differences compared to set functions are:</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">  - not using any Aggregator</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">  - not supporting DISTINCT</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">  - val_*() does more than returning the function&#39;s current value: it</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">  first accumulates the function&#39;s argument into the function&#39;s</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="comment">  state. Execution (e.g. end_write_wf()) manipulates temporary tables which</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="comment">  contain input for WFs; each input row is passed to copy_funcs() which calls</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment">  the WF&#39;s val_*() to accumulate it.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="classItem__sum.html">  394</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum.html">Item_sum</a> : <span class="keyword">public</span> <a class="code" href="classItem__result__field.html">Item_result_field</a>, <span class="keyword">public</span> <a class="code" href="classFunc__args__handle.html">Func_args_handle</a> {</div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="classItem__sum.html#ad3d0d4b2a4f83faf64e9ef9ee88f3a56">  395</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__result__field.html">Item_result_field</a> <a class="code" href="classItem__sum.html#ad3d0d4b2a4f83faf64e9ef9ee88f3a56">super</a>;</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="classItem__sum.html#a7350fc56f199d66b1ec98b4067074ba5">  396</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classFunc__args__handle.html">Func_args_handle</a> <a class="code" href="classItem__sum.html#a7350fc56f199d66b1ec98b4067074ba5">super2</a>;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="classItem__sum.html#a40fcb2830e29e49349d865893b6d0b7d">  398</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAggregator__distinct.html">Aggregator_distinct</a>;</div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="classItem__sum.html#aa25c05c6bfa3091d6d165dc8af5fecb8">  399</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAggregator__simple.html">Aggregator_simple</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; <span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">    Aggregator class instance. Not set initially. Allocated only after</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">    it is determined if the incoming data are already distinct.</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="classItem__sum.html#a6ff5bd547facf5c328841cf385e59509">  406</a></span>&#160;  <a class="code" href="classAggregator.html">Aggregator</a> *<a class="code" href="classItem__sum.html#a6ff5bd547facf5c328841cf385e59509">aggr</a>;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">    If sum is a window function, this field contains the window.</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="classItem__sum.html#acec16c1ce518539b79b2eb3f215b98c6">  411</a></span>&#160;  <a class="code" href="classPT__window.html">PT_window</a> *<a class="code" href="classItem__sum.html#acec16c1ce518539b79b2eb3f215b98c6">m_window</a>;<span class="comment"></span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">    True if we have already resolved this window functions window reference.</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">    Used in execution of prepared statement to avoid re-resolve.</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="classItem__sum.html#aa11953fabb73621c7cb0d34c7148091f">  416</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#aa11953fabb73621c7cb0d34c7148091f">m_window_resolved</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">    Used in making ROLLUP. Set for the ROLLUP copies of the original</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">    Item_sum and passed to create_tmp_field() to cause it to work</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">    over the temp table buffer that is referenced by</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">    Item_result_field::result_field.</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="classItem__sum.html#a3f96ac7c0875e61865218b8823712d94">  425</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a3f96ac7c0875e61865218b8823712d94">force_copy_fields</a>;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">    Indicates how the aggregate function was specified by the parser :</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">     true if it was written as AGGREGATE(DISTINCT),</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment">     false if it was AGGREGATE()</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="classItem__sum.html#a7a39aa1166cfee32f60ab3f63459c8cb">  432</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a7a39aa1166cfee32f60ab3f63459c8cb">with_distinct</a>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="classItem__sum.html#aca14d38d7bb89085ac4472ce4350a5b2">  435</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#aca14d38d7bb89085ac4472ce4350a5b2">has_force_copy_fields</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> force_copy_fields; }</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="classItem__sum.html#a924bf27cfaf66cfcf1a76a816e8f47b2">  436</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a924bf27cfaf66cfcf1a76a816e8f47b2">has_with_distinct</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> with_distinct; }</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">  438</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> {</div><div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a0b0f2d35d959af3a9eb707d2fceb09e0">  439</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a0b0f2d35d959af3a9eb707d2fceb09e0">COUNT_FUNC</a>,           <span class="comment">// COUNT</span></div><div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a5c3953c913c0224cffeebbb156524627">  440</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a5c3953c913c0224cffeebbb156524627">COUNT_DISTINCT_FUNC</a>,  <span class="comment">// COUNT (DISTINCT)</span></div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a67178473e460b5e944cbd42a7f011f6c">  441</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a67178473e460b5e944cbd42a7f011f6c">SUM_FUNC</a>,             <span class="comment">// SUM</span></div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a81121cefe1f2809d0551544613a19780">  442</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a81121cefe1f2809d0551544613a19780">SUM_DISTINCT_FUNC</a>,    <span class="comment">// SUM (DISTINCT)</span></div><div class="line"><a name="l00443"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693ad99a80088425f924dda80393402a879c">  443</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693ad99a80088425f924dda80393402a879c">AVG_FUNC</a>,             <span class="comment">// AVG</span></div><div class="line"><a name="l00444"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a3f5aa68a1f258dd96c35874d00711733">  444</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a3f5aa68a1f258dd96c35874d00711733">AVG_DISTINCT_FUNC</a>,    <span class="comment">// AVG (DISTINCT)</span></div><div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693ada1952747559ba5cb670b018d3b2c569">  445</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693ada1952747559ba5cb670b018d3b2c569">MIN_FUNC</a>,             <span class="comment">// MIN</span></div><div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693abe98645ab77fe6679af7bc55185f19e2">  446</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693abe98645ab77fe6679af7bc55185f19e2">MAX_FUNC</a>,             <span class="comment">// MAX</span></div><div class="line"><a name="l00447"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a13c7b0a2d214a18af14259a0fdde58f1">  447</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a13c7b0a2d214a18af14259a0fdde58f1">STD_FUNC</a>,             <span class="comment">// STD/STDDEV/STDDEV_POP</span></div><div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aff76c4fabaed8adb2c31fc8d32354d4c">  448</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aff76c4fabaed8adb2c31fc8d32354d4c">VARIANCE_FUNC</a>,        <span class="comment">// VARIANCE/VAR_POP and VAR_SAMP</span></div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a50a12ed484a319ae0b7ac24a8e70d03e">  449</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a50a12ed484a319ae0b7ac24a8e70d03e">SUM_BIT_FUNC</a>,         <span class="comment">// BIT_AND, BIT_OR and BIT_XOR</span></div><div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a916885f70a9fec3bb7a0e75121afae54">  450</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a916885f70a9fec3bb7a0e75121afae54">UDF_SUM_FUNC</a>,         <span class="comment">// user defined functions</span></div><div class="line"><a name="l00451"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afa5f66313461808a8e797522dea70c6a">  451</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afa5f66313461808a8e797522dea70c6a">GROUP_CONCAT_FUNC</a>,    <span class="comment">// GROUP_CONCAT</span></div><div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aa75af916914732fa62e8cf5ad7d54c37">  452</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aa75af916914732fa62e8cf5ad7d54c37">JSON_AGG_FUNC</a>,        <span class="comment">// JSON_ARRAYAGG and JSON_OBJECTAGG</span></div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693abc1dea6af3294543d9b49feea04597cb">  453</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693abc1dea6af3294543d9b49feea04597cb">ROW_NUMBER_FUNC</a>,      <span class="comment">// Window functions</span></div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afb61bec720e0b28a4c54f5a00638a0f7">  454</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afb61bec720e0b28a4c54f5a00638a0f7">RANK_FUNC</a>,</div><div class="line"><a name="l00455"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a4033a053dac86ad398339ae353dd8ee3">  455</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a4033a053dac86ad398339ae353dd8ee3">DENSE_RANK_FUNC</a>,</div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a7dba02e0ab1f5f8742c22e264af7d1bf">  456</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a7dba02e0ab1f5f8742c22e264af7d1bf">CUME_DIST_FUNC</a>,</div><div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afdcc9332d64fc72e75ceb7f85062ec33">  457</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afdcc9332d64fc72e75ceb7f85062ec33">PERCENT_RANK_FUNC</a>,</div><div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aef3c1557b84fed257568ca191ba87218">  458</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aef3c1557b84fed257568ca191ba87218">NTILE_FUNC</a>,</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afc6a8c1a883e82a283bfa6723a66c488">  459</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afc6a8c1a883e82a283bfa6723a66c488">LEAD_LAG_FUNC</a>,</div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a45295a5646521318a518bdb89c3d00ee">  460</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a45295a5646521318a518bdb89c3d00ee">FIRST_LAST_VALUE_FUNC</a>,</div><div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693af385d1ec78f07e7950d005aad9f8b597">  461</a></span>&#160;    <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693af385d1ec78f07e7950d005aad9f8b597">NTH_VALUE_FUNC</a>,</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a96ea325a967aaa116730af6d95709a8f">  462</a></span>&#160;    ROLLUP_SUM_SWITCHER_FUNC</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  };</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">    @note most member variables below serve only for grouped aggregate</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">    functions.</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">    For a group aggregate which is aggregated into an outer query</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">    block; none, or just the first or both cells may be non-zero. They are</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">    filled with references to the group aggregate (for example if it is the</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">    argument of a function; it is then a pointer to that function&#39;s args[i]</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">    pointer).</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00477"></a><span class="lineno"><a class="line" href="classItem__sum.html#aa608e956be09eeaf6279b00d57684da9">  477</a></span>&#160;  <a class="code" href="classItem.html">Item</a> **referenced_by[2];</div><div class="line"><a name="l00478"></a><span class="lineno"><a class="line" href="classItem__sum.html#abebaefba373176f5e88a77d6b3615ff0">  478</a></span>&#160;  <a class="code" href="classItem__sum.html">Item_sum</a> *<a class="code" href="classItem__sum.html#abebaefba373176f5e88a77d6b3615ff0">next_sum</a>;     <span class="comment">///&lt; next in the circular chain of registered objects</span></div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="classItem__sum.html#ac0b8ea2a1e56beef4716d1dbdd9c3785">  479</a></span>&#160;<span class="comment"></span>  <a class="code" href="classItem__sum.html">Item_sum</a> *<a class="code" href="classItem__sum.html#ac0b8ea2a1e56beef4716d1dbdd9c3785">in_sum_func</a>;  <span class="comment">///&lt; the containing set function if any</span></div><div class="line"><a name="l00480"></a><span class="lineno"><a class="line" href="classItem__sum.html#a71713b544df4bf4e9f63181e40ca9827">  480</a></span>&#160;<span class="comment"></span>  <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *<a class="code" href="classItem__sum.html#a71713b544df4bf4e9f63181e40ca9827">base_select</a>;  <span class="comment">///&lt; query block where function is placed</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"></span><span class="comment">  /**</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">    For a group aggregate, query block where function is aggregated. For a</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">    window function, nullptr, as such function is always aggregated in</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="comment">    base_select, as it mustn&#39;t contain any outer reference.</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00486"></a><span class="lineno"><a class="line" href="classItem__sum.html#ab1ed4a8c3b715e1602b76a5642567b6a">  486</a></span>&#160;  <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *<a class="code" href="classItem__sum.html#ab1ed4a8c3b715e1602b76a5642567b6a">aggr_select</a>;</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classItem__sum.html#a433b2fc4721c02f2cc984d66b4090530">  487</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#aa79c2d3de4fcd200458c406f40b2ae64">int8</a> <a class="code" href="classItem__sum.html#a433b2fc4721c02f2cc984d66b4090530">max_aggr_level</a>;  <span class="comment">///&lt; max level of unbound column references</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"></span>  <a class="code" href="my__inttypes_8h.html#aa79c2d3de4fcd200458c406f40b2ae64">int8</a></div><div class="line"><a name="l00489"></a><span class="lineno"><a class="line" href="classItem__sum.html#ae4ed820ab7c0fe088d07e2d9a20f4e4d">  489</a></span>&#160;      <a class="code" href="classItem__sum.html#ae4ed820ab7c0fe088d07e2d9a20f4e4d">max_sum_func_level</a>;  <span class="comment">///&lt; max level of aggregation for contained functions</span></div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="classItem__sum.html#a40ecfda7d82cafc7f0ccdb24e653d78b">  490</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a40ecfda7d82cafc7f0ccdb24e653d78b">allow_group_via_temp_table</a>;  <span class="comment">///&lt; If incremental update of fields is</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"></span><span class="comment">                                    ///&lt; supported.</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment"></span><span class="comment">  /**</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">    WFs are forbidden when resolving Item_sum; this member is used to restore</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">    WF allowance status afterwards.</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classItem__sum.html#a7b9bc9030ff8d0c2c2a4e5543abebdd9">  496</a></span>&#160;  <a class="code" href="my__table__map_8h.html#a1f1cfcef19e74658a6a4e0b69325e088">nesting_map</a> <a class="code" href="classItem__sum.html#a7b9bc9030ff8d0c2c2a4e5543abebdd9">save_deny_window_func</a>;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="classItem__sum.html#a058b0e6d479d59d533c2e790b8ae6c7d">  499</a></span>&#160;  <a class="code" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a> <a class="code" href="classItem__sum.html#a058b0e6d479d59d533c2e790b8ae6c7d">used_tables_cache</a>;<span class="comment"></span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">    True means that this field has been evaluated during optimization.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">    When set, used_tables() returns zero and const_item() returns true.</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">    The value must be reset to false after execution.</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="classItem__sum.html#a67b53e7725198c9280538ca643c88e32">  505</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a67b53e7725198c9280538ca643c88e32">forced_const</a>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keyword">static</span> <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> ram_limitation(<a class="code" href="classTHD.html">THD</a> *thd);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordtype">void</span> mark_as_sum_func();</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  <span class="keywordtype">void</span> mark_as_sum_func(<a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="classItem__sum.html#a3e89a3b1d0fb04b95fee914255eaa039">  512</a></span>&#160;  <a class="code" href="classItem__sum.html#a3e89a3b1d0fb04b95fee914255eaa039">Item_sum</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;<a class="code" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      : super(pos),</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        super2(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>, 0),</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        m_window(w),</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        m_window_resolved(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        next_sum(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        allow_group_via_temp_table(<a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>),</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        used_tables_cache(0),</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        forced_const(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    init_aggregator();</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno"><a class="line" href="classItem__sum.html#ab37017d1c1c59664864a89a9935969dd">  524</a></span>&#160;  <a class="code" href="classItem__sum.html#ab37017d1c1c59664864a89a9935969dd">Item_sum</a>(<a class="code" href="classItem.html">Item</a> *a)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      : super2(1),</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        m_window(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        m_window_resolved(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        next_sum(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        allow_group_via_temp_table(<a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>),</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        used_tables_cache(0),</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        forced_const(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    args[0] = a;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    mark_as_sum_func();</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    init_aggregator();</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="classItem__sum.html#ad1e0663c5f47f53b2f0ff35df046cf6d">  537</a></span>&#160;  <a class="code" href="classItem__sum.html#ad1e0663c5f47f53b2f0ff35df046cf6d">Item_sum</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;<a class="code" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, <a class="code" href="classItem.html">Item</a> *a, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      : super(pos),</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        super2(1),</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        m_window(w),</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        m_window_resolved(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        next_sum(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        allow_group_via_temp_table(<a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>),</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        used_tables_cache(0),</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        forced_const(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    args[0] = a;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    init_aggregator();</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="classItem__sum.html#aeeaceddf32c6826633f1bbc8f9d1c361">  550</a></span>&#160;  <a class="code" href="classItem__sum.html#aeeaceddf32c6826633f1bbc8f9d1c361">Item_sum</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;<a class="code" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, <a class="code" href="classItem.html">Item</a> *a, <a class="code" href="classItem.html">Item</a> *b, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      : super(pos),</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        super2(2),</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        m_window(w),</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        m_window_resolved(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        next_sum(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        allow_group_via_temp_table(<a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>),</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        used_tables_cache(0),</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        forced_const(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    args[0] = a;</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    args[1] = b;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    init_aggregator();</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <a class="code" href="classAggregator.html#afdaf2fcbe4bca3f9cf9e54d9302c0d69">Item_sum</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;<a class="code" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, <a class="code" href="classPT__item__list.html">PT_item_list</a> *opt_list, <a class="code" href="classPT__window.html">PT_window</a> *w);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">  /// Copy constructor, need to perform subqueries with temporary tables</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"></span>  <a class="code" href="classAggregator.html#afdaf2fcbe4bca3f9cf9e54d9302c0d69">Item_sum</a>(<a class="code" href="classTHD.html">THD</a> *thd, <span class="keyword">const</span> <a class="code" href="classItem__sum.html">Item_sum</a> *item);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordtype">bool</span> itemize(<a class="code" href="structParse__context.html">Parse_context</a> *pc, <a class="code" href="classItem.html">Item</a> **res) <span class="keyword">override</span>;</div><div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="classItem__sum.html#acb08d29902d48a883e1d0f8624807578">  570</a></span>&#160;  <a class="code" href="classItem.html#a6b718f9918eb7a5b2d4572cc1a231005">Type</a> <a class="code" href="classItem__sum.html#acb08d29902d48a883e1d0f8624807578">type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> SUM_FUNC_ITEM; }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keyword">virtual</span> <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func() <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="comment">// Differs only for Item_rollup_sum_switcher.</span></div><div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="classItem__sum.html#a7aa8b34bab6e46db8eb99c6fd28c5bcc">  574</a></span>&#160;  <span class="keyword">virtual</span> <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> real_sum_func()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> sum_func(); }</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">    Resets the aggregate value to its default and aggregates the current</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment">    value of its attribute(s).</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="classItem__sum.html#a5d29c1ad81ae5e0193775cb360f4a74a">  580</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a5d29c1ad81ae5e0193775cb360f4a74a">reset_and_add</a>() {</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    aggregator_clear();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordflow">return</span> aggregator_add();</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">    Called when new group is started and results are being saved in</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">    a temporary table. Similarly to reset_and_add() it resets the</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">    value to its default and aggregates the value of its</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;<span class="comment">    attribute(s), but must also store it in result_field.</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">    This set of methods (result_item(), reset_field, update_field()) of</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment">    Item_sum is used only if allow_group_via_temp_table is true. Otherwise</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">    copy_or_same() is used to obtain a copy of this item.</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> reset_field() = 0;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">    Called for each new value in the group, when temporary table is in use.</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">    Similar to add(), but uses temporary table field to obtain current value,</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">    Updated value is then saved in the field.</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> update_field() = 0;</div><div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="classItem__sum.html#ac3887d3e6c7b0dc6b992b2fbdc280aab">  601</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#ac3887d3e6c7b0dc6b992b2fbdc280aab">keep_field_type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l00603"></a><span class="lineno"><a class="line" href="classItem__sum.html#a0d3f5893bf56f30e06bc88684ce00e89">  603</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classItem.html">Item</a> *<a class="code" href="classItem__sum.html#a0d3f5893bf56f30e06bc88684ce00e89">result_item</a>(<a class="code" href="classField.html">Field</a> *field) {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <a class="code" href="classItem__field.html">Item_field</a> *item = <span class="keyword">new</span> <a class="code" href="classItem__field.html">Item_field</a>(field);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">if</span> (item == <span class="keyword">nullptr</span>) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="comment">// Aggregated fields have no reference to an underlying table</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(item-&gt;<a class="code" href="classItem__ident.html#aeb9d4be144fb86d6dd1e87b59ca51b32">orig_db_name</a>() == <span class="keyword">nullptr</span> &amp;&amp;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                item-&gt;<a class="code" href="classItem__ident.html#a3ee97a85f6049ff319db96713fdf715a">orig_table_name</a>() == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">// Break the connection to the original field since this is an aggregation</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    item-&gt;<a class="code" href="classItem__ident.html#a21a0ef794fa03c54a7eb21bdbf4d9e24">set_orig_field_name</a>(<span class="keyword">nullptr</span>);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">return</span> item;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  }</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="classItem__sum.html#adc634ba3b80ac828e26ca202030a0757">  613</a></span>&#160;  <a class="code" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a> <a class="code" href="classItem__sum.html#adc634ba3b80ac828e26ca202030a0757">used_tables</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> forced_const ? 0 : used_tables_cache;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordtype">void</span> update_used_tables() <span class="keyword">override</span>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordtype">void</span> fix_after_pullout(<a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *parent_select,</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                         <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *removed_select) <span class="keyword">override</span>;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keywordtype">void</span> add_used_tables_for_aggr_func();</div><div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="classItem__sum.html#a60c09ebcee5c1df3af7ae2ea4c1e71db">  620</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a60c09ebcee5c1df3af7ae2ea4c1e71db">is_null</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> null_value; }</div><div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="classItem__sum.html#a50f352c59bf4d0305bffda80520f70f8">  621</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum.html#a50f352c59bf4d0305bffda80520f70f8">make_const</a>() {</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">// &quot;forced_const&quot; will make used_tables() return zero for this object</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    forced_const = <span class="keyword">true</span>;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  }</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="mcstat_8c.html#aeb0a66a1106a1c0097d605cbcb19766d">print</a>(<span class="keyword">const</span> <a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classString.html">String</a> *str,</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;             <a class="code" href="enum__query__type_8h.html#a84267bb0a3694b1d41b6494868ce18ac">enum_query_type</a> query_type) <span class="keyword">const override</span>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  <span class="keywordtype">void</span> fix_num_length_and_dec();</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keywordtype">bool</span> eq(<span class="keyword">const</span> <a class="code" href="classItem.html">Item</a> *item, <span class="keywordtype">bool</span> binary_cmp) <span class="keyword">const override</span>;<span class="comment"></span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">    Mark an aggregate as having no rows.</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">    This function is called by the execution engine to assign &#39;NO ROWS</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">    FOUND&#39; value to an aggregate item, when the underlying result set</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">    has no rows. Such value, in a general case, may be different from</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">    the default value of the item after &#39;clear()&#39;: e.g. a numeric item</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">    may be initialized to 0 by clear() and to NULL by</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">    no_rows_in_result().</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="classItem__sum.html#a404721b60cdb6a76a8beeb2c5940bd17">  639</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum.html#a404721b60cdb6a76a8beeb2c5940bd17">no_rows_in_result</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    set_aggregator(with_distinct ? <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05acf5cecfafac12412b43335aad7b087e1">Aggregator::DISTINCT_AGGREGATOR</a></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                                 : <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05a32fabdb8e0b9020428daf2593b89699e">Aggregator::SIMPLE_AGGREGATOR</a>);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    aggregator_clear();</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div><div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="classItem__sum.html#a551fb0c43e28ae3088d71625d47c23f8">  644</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classItem__sum.html#a551fb0c43e28ae3088d71625d47c23f8">make_unique</a>() { force_copy_fields = <span class="keyword">true</span>; }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classField.html">Field</a> *<a class="code" href="sql__tmp__table_8cc.html#a84cb94cab909e1376525f4b5265116dd">create_tmp_field</a>(<span class="keywordtype">bool</span> group, <a class="code" href="structTABLE.html">TABLE</a> *table);</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">  /// argument used by walk method collect_grouped_aggregates (&quot;cga&quot;)</span></div><div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="structItem__sum_1_1Collect__grouped__aggregate__info.html">  648</a></span>&#160;<span class="comment"></span>  <span class="keyword">struct </span><a class="code" href="structItem__sum_1_1Collect__grouped__aggregate__info.html">Collect_grouped_aggregate_info</a> {<span class="comment"></span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">    /// accumulated all aggregates found</span></div><div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="structItem__sum_1_1Collect__grouped__aggregate__info.html#a71528e45cfea97e633ab6556f6823892">  650</a></span>&#160;<span class="comment"></span>    std::vector&lt;Item_sum *&gt; <a class="code" href="structItem__sum_1_1Collect__grouped__aggregate__info.html#a71528e45cfea97e633ab6556f6823892">list</a>;</div><div class="line"><a name="l00651"></a><span class="lineno"><a class="line" href="structItem__sum_1_1Collect__grouped__aggregate__info.html#abf46b952978818ba986de5050c3383cd">  651</a></span>&#160;    std::set&lt;Item_sum *&gt; <a class="code" href="structItem__sum_1_1Collect__grouped__aggregate__info.html#abf46b952978818ba986de5050c3383cd">aggregates_that_were_hidden</a>;<span class="comment"></span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">      The query block we walk from. All found aggregates must aggregate in</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">      this; if some aggregate in outer query blocks, break off transformation.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="structItem__sum_1_1Collect__grouped__aggregate__info.html#a46e4f6d873ea84ed64fcd9e1517e93ed">  656</a></span>&#160;    <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *m_select{<span class="keyword">nullptr</span>};<span class="comment"></span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">    /// true: break off transformation</span></div><div class="line"><a name="l00658"></a><span class="lineno"><a class="line" href="structItem__sum_1_1Collect__grouped__aggregate__info.html#ac50d7e343afc7f5c2a2df6bc79bf35db">  658</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> m_break_off{<span class="keyword">false</span>};</div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="structItem__sum_1_1Collect__grouped__aggregate__info.html#a97b825138747740f8a33f2094832bcb3">  659</a></span>&#160;    <a class="code" href="structItem__sum_1_1Collect__grouped__aggregate__info.html#a97b825138747740f8a33f2094832bcb3">Collect_grouped_aggregate_info</a>(<a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select) : m_select(select) {}</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  };</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordtype">bool</span> collect_grouped_aggregates(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <a class="code" href="classItem.html">Item</a> *replace_aggregate(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordtype">bool</span> collect_scalar_subqueries(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordtype">bool</span> collect_item_field_or_view_ref_processor(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordtype">bool</span> walk(<a class="code" href="sql__const_8h.html#a231f985cae1e69550cbc48583b89ad66">Item_processor</a> processor, <a class="code" href="sql__const_8h.html#ab2df5e15d7fb7ccd43e6af9527cb81cf">enum_walk</a> walk, <a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg) <span class="keyword">override</span>;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <a class="code" href="classItem.html">Item</a> *<a class="code" href="namespacegis.html#aa61acdd68dbc03fa9a3070c517f0f42f">transform</a>(<a class="code" href="item_8h.html#a7228ce837da254e5ccfea46e5dc5108e">Item_transformer</a> transformer, <a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg) <span class="keyword">override</span>;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordtype">bool</span> clean_up_after_removal(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg) <span class="keyword">override</span>;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordtype">bool</span> aggregate_check_group(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg) <span class="keyword">override</span>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keywordtype">bool</span> aggregate_check_distinct(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg) <span class="keyword">override</span>;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordtype">bool</span> has_aggregate_ref_in_group_by(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg) <span class="keyword">override</span>;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordtype">bool</span> init_sum_func_check(<a class="code" href="classTHD.html">THD</a> *thd);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordtype">bool</span> check_sum_func(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **ref);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="classItem__sum.html#a4402330a8044c1cfce2b7fb98d6f908c">  676</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classItem.html">Item</a> *<a class="code" href="classItem__sum.html#a4402330a8044c1cfce2b7fb98d6f908c">get_arg</a>(<a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i) { <span class="keywordflow">return</span> args[i]; }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classItem.html">Item</a> *set_arg(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i, <a class="code" href="classItem.html">Item</a> *new_val);<span class="comment"></span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">  /// @todo delete this when we no longer support temporary transformations</span></div><div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="classItem__sum.html#ae446ff1dc1d0a43af8a3b57861512d58">  679</a></span>&#160;<span class="comment"></span>  <a class="code" href="classItem.html">Item</a> **<a class="code" href="classItem__sum.html#ae446ff1dc1d0a43af8a3b57861512d58">get_arg_ptr</a>(<a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i) { <span class="keywordflow">return</span> &amp;args[i]; }</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **ref) <span class="keyword">override</span>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="comment">/* Initialization of distinct related members */</span></div><div class="line"><a name="l00684"></a><span class="lineno"><a class="line" href="classItem__sum.html#a2f367d4660a3ccec53fd4d0efb925b17">  684</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum.html#a2f367d4660a3ccec53fd4d0efb925b17">init_aggregator</a>() {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    aggr = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    with_distinct = <span class="keyword">false</span>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    force_copy_fields = <span class="keyword">false</span>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  }</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="comment">    Called to initialize the aggregator.</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div><div class="line"><a name="l00694"></a><span class="lineno"><a class="line" href="classItem__sum.html#a34a26112263b9d738dcbf6a420855c79">  694</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a34a26112263b9d738dcbf6a420855c79">aggregator_setup</a>(<a class="code" href="classTHD.html">THD</a> *thd) { <span class="keywordflow">return</span> aggr-&gt;<a class="code" href="classAggregator.html#afcde359558a43054f7812a72498a263f">setup</a>(thd); }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">    Called to cleanup the aggregator.</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classItem__sum.html#a15e7047e85571842d5aada49784f4278">  700</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classItem__sum.html#a15e7047e85571842d5aada49784f4278">aggregator_clear</a>() { aggr-&gt;<a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>(); }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">    Called to add value to the aggregator.</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;</div><div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="classItem__sum.html#ab090330ed58167234556e1f906976c0c">  706</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#ab090330ed58167234556e1f906976c0c">aggregator_add</a>() { <span class="keywordflow">return</span> aggr-&gt;<a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>(); }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="comment">/* stores the declared DISTINCT flag (from the parser) */</span></div><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="classItem__sum.html#ab6d6dadc286edb069d017f4e24dbaa3e">  709</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum.html#ab6d6dadc286edb069d017f4e24dbaa3e">set_distinct</a>(<span class="keywordtype">bool</span> distinct) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    with_distinct = distinct;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    allow_group_via_temp_table = !with_distinct;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  }</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">    Set the type of aggregation : DISTINCT or not.</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">    May be called multiple times.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> set_aggregator(<a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05">Aggregator::Aggregator_type</a> aggregator);</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() = 0;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() = 0;</div><div class="line"><a name="l00724"></a><span class="lineno"><a class="line" href="classItem__sum.html#ae2bb5b5b823d3fb577fdf23cdf38f9ae">  724</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#ae2bb5b5b823d3fb577fdf23cdf38f9ae">setup</a>(<a class="code" href="classTHD.html">THD</a> *) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">    Only relevant for aggregates qua window functions. Checks semantics after</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">    windows have been set up and checked. Window functions have specific</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">    requirements on the window specifications. Used at resolution time.</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">    @param thd                    Current thread</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">    @param select                 The current select</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">    @param [out] reqs             Holds collected requirements from this wf</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">    @returns true if error</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                   <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">    Like check_wf_semantics1.</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">    For checks which cannot be done in resolution phase (mostly those for</span></div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">    input parameters which can be &#39;?&#39; and must be &gt;=0: value isn&#39;t known</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">    before execution phase).</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="classItem__sum.html#a0fd7d25d58bc655772f5aad6bdb178d7">  746</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a0fd7d25d58bc655772f5aad6bdb178d7">check_wf_semantics2</a>(</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs MY_ATTRIBUTE((unused))) {</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordtype">void</span> split_sum_func(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classBounds__checked__array.html">Ref_item_array</a> ref_item_array,</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                      <a class="code" href="classmem__root__deque.html">mem_root_deque&lt;Item *&gt;</a> *fields) <span class="keyword">override</span>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keywordtype">void</span> cleanup() <span class="keyword">override</span>;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div><div class="line"><a name="l00756"></a><span class="lineno"><a class="line" href="classItem__sum.html#aca8cb364c927c500573cbf67b496699e">  756</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classWindow.html">Window</a> *<a class="code" href="classItem__sum.html#aca8cb364c927c500573cbf67b496699e">window</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="template__utils_8h.html#a0d8e42511b409c2d0a335061cf19fadf">down_cast</a>&lt;<a class="code" href="classWindow.html">Window</a> *&gt;(m_window); }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordtype">bool</span> reset_wf_state(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg) <span class="keyword">override</span>;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">    All aggregates are framing, i.e. they work on the window&#39;s frame. If none</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">    is defined, the frame is by default the entire partition, unless ORDER BY</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">    is defined, in which case it is the set of rows from the start of the</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">    partition to and including the peer set of the current row.</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">    Some window functions are not framing, i.e. they always work on the entire</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">    partition. For such window functions, the method is overridden to</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">    return false.</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00769"></a><span class="lineno"><a class="line" href="classItem__sum.html#a8c0a57533a9bd8e0dc9ce67d99e7d749">  769</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#a8c0a57533a9bd8e0dc9ce67d99e7d749">framing</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">    Only for framing window functions. True if this function only needs to</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">    read one row per frame.</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="classItem__sum.html#ae4fdc636f64d06fff4157c15d58e1a3e">  775</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#ae4fdc636f64d06fff4157c15d58e1a3e">uses_only_one_row</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="comment">    Return true if we need to make two passes over the rows in the partition -</span></div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;<span class="comment">    either because we need the cardinality of it (and we need to read all</span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">    rows to detect the next partition), or we need to have all partition rows</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">    available to evaluate the window function for some other reason, e.g.</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">    we may need the last row in the partition in the frame buffer to be able</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">    to evaluate LEAD.</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="classItem__sum.html#ab2beaafa5b31b3b2a905fd1a5b44e210">  785</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum.html#ab2beaafa5b31b3b2a905fd1a5b44e210">needs_card</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">    Common initial actions for window functions. For non-buffered processing</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">    (&quot;on-the-fly&quot;), check partition change and possible reset partition</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">    state. In this case return false.</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">    For buffered processing, if windowing state m_do_copy_null is true, set</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">    null_value to true and return true.</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">    @return true if case two above holds, else false</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordtype">bool</span> wf_common_init();</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">    Raise an error (ER_NOT_SUPPORTED_YET) with the detail that this</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">    function is not yet supported as a window function.</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00803"></a><span class="lineno"><a class="line" href="classItem__sum.html#a6f3ba1878aae94c5c6bc7a47a9ae21e9">  803</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum.html#a6f3ba1878aae94c5c6bc7a47a9ae21e9">unsupported_as_wf</a>() {</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordtype">char</span> buff[<a class="code" href="sql__const_8h.html#af0f679578ee29423c1bd5afe5aa9b3e2">STRING_BUFFER_USUAL_SIZE</a>];</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    snprintf(buff, <span class="keyword">sizeof</span>(buff), <span class="stringliteral">&quot;%s as window function&quot;</span>, func_name());</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <a class="code" href="group__MYSYS.html#ga19ebf963aef6b242322e15e01811972e">my_error</a>(ER_NOT_SUPPORTED_YET, <a class="code" href="test__mysql__runtime__error_8cc.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a>(0), buff);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;};</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="keyword">class </span><a class="code" href="classUnique.html">Unique</a>;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment"> The distinct aggregator.</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment"> Implements AGGFN (DISTINCT ..)</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment"> Collects all the data into an Unique (similarly to what Item_sum_distinct</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"> does currently) and then (if applicable) iterates over the list of</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment"> unique values and pumps them back into its object</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html">  820</a></span>&#160;<span class="keyword">class </span><a class="code" href="classAggregator__distinct.html">Aggregator_distinct</a> : <span class="keyword">public</span> <a class="code" href="classAggregator.html">Aggregator</a> {</div><div class="line"><a name="l00821"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a2afeb7cbcc97ddd2c3c74cf87352e0ab">  821</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classItem__sum__sum.html">Item_sum_sum</a>;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="comment">    flag to prevent consecutive runs of endup(). Normally in endup there are</span></div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment">    expensive calculations (like walking the distinct tree for example)</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">    which we must do only once if there are no data changes.</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment">    We can re-use the data for the second and subsequent val_xxx() calls.</span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">    endup_done set to true also means that the calculated values for</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">    the aggregate functions are correct and don&#39;t need recalculation.</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a221fc6bdb73b1e2e94bc1efa7fa8a150">  831</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator__distinct.html#a221fc6bdb73b1e2e94bc1efa7fa8a150">endup_done</a>;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">    Used depending on the type of the aggregate function and the presence of</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment">    blob columns in it:</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;<span class="comment">    - For COUNT(DISTINCT) and no blob fields this points to a real temporary</span></div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="comment">      table. It&#39;s used as a hash table.</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">    - For AVG/SUM(DISTINCT) or COUNT(DISTINCT) with blob fields only the</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="comment">      in-memory data structure of a temporary table is constructed.</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">      It&#39;s used by the Field classes to transform data into row format.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#accf7341ca263e6324c1b75d35f693328">  842</a></span>&#160;  <a class="code" href="structTABLE.html">TABLE</a> *<a class="code" href="classAggregator__distinct.html#accf7341ca263e6324c1b75d35f693328">table</a>;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">    An array of field lengths on row allocated and used only for</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">    COUNT(DISTINCT) with multiple columns and no blobs. Used in</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">    Aggregator_distinct::composite_key_cmp (called from Unique to compare</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">    nodes</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00850"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a178ab012eeea95dd1b95f7f646f3ebf7">  850</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> *<a class="code" href="classAggregator__distinct.html#a178ab012eeea95dd1b95f7f646f3ebf7">field_lengths</a>;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">    Used in conjunction with &#39;table&#39; to support the access to Field classes</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">    for COUNT(DISTINCT). Needed by copy_fields()/copy_funcs().</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#ac6d9df2470712b43538a864ddaf1ed6a">  856</a></span>&#160;  <a class="code" href="classTemp__table__param.html">Temp_table_param</a> *<a class="code" href="classAggregator__distinct.html#ac6d9df2470712b43538a864ddaf1ed6a">tmp_table_param</a>;</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">    If there are no blobs in the COUNT(DISTINCT) arguments, we can use a tree,</span></div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;<span class="comment">    which is faster than heap table. In that case, we still use the table</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">    to help get things set up, but we insert nothing in it.</span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">    For AVG/SUM(DISTINCT) we always use this tree (as it takes a single</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">    argument) to get the distinct rows.</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00865"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#ac3c8cd50d13b20f393fa079d31018f39">  865</a></span>&#160;  <a class="code" href="classUnique.html">Unique</a> *<a class="code" href="classAggregator__distinct.html#ac3c8cd50d13b20f393fa079d31018f39">tree</a>;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment">    The length of the temp table row. Must be a member of the class as it</span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">    gets passed down to simple_raw_key_cmp () as a compare function argument</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">    to Unique. simple_raw_key_cmp () is used as a fast comparison function</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">    when the entire row can be binary compared.</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a03f0eef6077bebba0804687a31748387">  873</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classAggregator__distinct.html#a03f0eef6077bebba0804687a31748387">tree_key_length</a>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a4ceb4aea36f2f0c9997424be52643d25">  875</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classAggregator__distinct.html#a4ceb4aea36f2f0c9997424be52643d25">Const_distinct</a> {</div><div class="line"><a name="l00876"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a4ceb4aea36f2f0c9997424be52643d25aff3731b3722ce839c5cbf74b4c1113d7">  876</a></span>&#160;    NOT_CONST = 0,<span class="comment"></span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment">      Set to true if the result is known to be always NULL.</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">      If set deactivates creation and usage of the temporary table (in the</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="comment">      &#39;table&#39; member) and the Unique instance (in the &#39;tree&#39; member) as well as</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment">      the calculation of the final value on the first call to</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">      @c Item_sum::val_xxx(),</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">      @c Item_avg::val_xxx(),</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">      @c Item_count::val_xxx().</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00886"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a4ceb4aea36f2f0c9997424be52643d25a46d997685628065c6ae4765e33360e8a">  886</a></span>&#160;    <a class="code" href="classAggregator__distinct.html#a4ceb4aea36f2f0c9997424be52643d25a46d997685628065c6ae4765e33360e8a">CONST_NULL</a>,<span class="comment"></span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment">      Set to true if count distinct is on only const items. Distinct on a const</span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">      value will always be the constant itself. And count distinct of the same</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">      would always be 1. Similar to CONST_NULL, it avoids creation of temporary</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">      table and the Unique instance.</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a4ceb4aea36f2f0c9997424be52643d25a9e6156bd34eb0edf99b9734853778003">  893</a></span>&#160;    CONST_NOT_NULL</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  } const_distinct;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">    When feeding back the data in endup() from Unique/temp table back to</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">    Item_sum::add() methods we must read the data from Unique (and not</span></div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="comment">    recalculate the functions that are given as arguments to the aggregate</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment">    function.</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">    This flag is to tell the arg_*() methods to take the data from the Unique</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">    instead of calling the relevant val_..() method.</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#a7bc6a2ac9c7ff433914e145e233067c4">  904</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator__distinct.html#a7bc6a2ac9c7ff433914e145e233067c4">use_distinct_values</a>;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00907"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#afbd34da51092275ff762e357fcbb8468">  907</a></span>&#160;  <a class="code" href="classAggregator__distinct.html#afbd34da51092275ff762e357fcbb8468">Aggregator_distinct</a>(<a class="code" href="classItem__sum.html">Item_sum</a> *<a class="code" href="classItem__sum__sum.html#a49c532a747ca5af46207a076c4306e9e">sum</a>)</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      : <a class="code" href="classAggregator.html">Aggregator</a>(sum),</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        table(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        tmp_table_param(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        tree(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        const_distinct(NOT_CONST),</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;        use_distinct_values(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  ~<a class="code" href="classAggregator__distinct.html">Aggregator_distinct</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00915"></a><span class="lineno"><a class="line" href="classAggregator__distinct.html#ad147028f9a5609167d5d3da4aa11d4fd">  915</a></span>&#160;  <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05">Aggregator_type</a> <a class="code" href="classAggregator__distinct.html#ad147028f9a5609167d5d3da4aa11d4fd">Aggrtype</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05acf5cecfafac12412b43335aad7b087e1">DISTINCT_AGGREGATOR</a>; }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#afcde359558a43054f7812a72498a263f">setup</a>(<a class="code" href="classTHD.html">THD</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#a726ef59a61b219b87c0a6041f8162037">endup</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="classAggregator.html#a0965a66058cd00c581b015b9c571cb07">arg_val_decimal</a>(<a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classAggregator.html#addca16d20f7cc2640f3843c2c5e7596d">arg_val_real</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a2581c04dee61cf1a4d72519da64baf53">arg_is_null</a>(<span class="keywordtype">bool</span> use_null_value) <span class="keyword">override</span>;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="keywordtype">bool</span> unique_walk_function(<span class="keywordtype">void</span> *element);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">int</span> composite_key_cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> *arg, <span class="keyword">const</span> <span class="keywordtype">void</span> *a, <span class="keyword">const</span> <span class="keywordtype">void</span> *b);</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;};</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">  The pass-through aggregator.</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="comment">  Implements AGGFN (DISTINCT ..) by knowing it gets distinct data on input.</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="comment">  So it just pumps them back to the Item_sum descendant class.</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="classAggregator__simple.html">  934</a></span>&#160;<span class="keyword">class </span><a class="code" href="classAggregator__simple.html">Aggregator_simple</a> : <span class="keyword">public</span> <a class="code" href="classAggregator.html">Aggregator</a> {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="classAggregator__simple.html#a4c8ec9df0208b3c69b92f1723d6d0569">  936</a></span>&#160;  <a class="code" href="classAggregator__simple.html#a4c8ec9df0208b3c69b92f1723d6d0569">Aggregator_simple</a>(<a class="code" href="classItem__sum.html">Item_sum</a> *sum) : <a class="code" href="classAggregator.html">Aggregator</a>(sum) {}</div><div class="line"><a name="l00937"></a><span class="lineno"><a class="line" href="classAggregator__simple.html#a776842bbc3e5c7c72f9708337a807d11">  937</a></span>&#160;  <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05">Aggregator_type</a> <a class="code" href="classAggregator__simple.html#a776842bbc3e5c7c72f9708337a807d11">Aggrtype</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05a32fabdb8e0b9020428daf2593b89699e">Aggregator::SIMPLE_AGGREGATOR</a>; }</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno"><a class="line" href="classAggregator__simple.html#a6662194815d05bdfc3d3011ddd338ecf">  939</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator__simple.html#a6662194815d05bdfc3d3011ddd338ecf">setup</a>(<a class="code" href="classTHD.html">THD</a> *thd)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <a class="code" href="classAggregator.html#a0c8f75d3d70dff740412d52b63ea3e40">item_sum</a>-&gt;<a class="code" href="classItem__sum.html#ae2bb5b5b823d3fb577fdf23cdf38f9ae">setup</a>(thd); }</div><div class="line"><a name="l00940"></a><span class="lineno"><a class="line" href="classAggregator__simple.html#a059e4dcaba3e7ec59260755fa3f084ca">  940</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator__simple.html#a059e4dcaba3e7ec59260755fa3f084ca">clear</a>()<span class="keyword"> override </span>{ <a class="code" href="classAggregator.html#a0c8f75d3d70dff740412d52b63ea3e40">item_sum</a>-&gt;<a class="code" href="classItem__sum.html#a7a25abf6a2e7f8e21b54b6e3e163efb6">clear</a>(); }</div><div class="line"><a name="l00941"></a><span class="lineno"><a class="line" href="classAggregator__simple.html#ad72e6c47d1680f44b3d71d017f5049df">  941</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator__simple.html#ad72e6c47d1680f44b3d71d017f5049df">add</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <a class="code" href="classAggregator.html#a0c8f75d3d70dff740412d52b63ea3e40">item_sum</a>-&gt;<a class="code" href="classItem__sum.html#a41c914f3c66a8f4f2f7347d84a5146e7">add</a>(); }</div><div class="line"><a name="l00942"></a><span class="lineno"><a class="line" href="classAggregator__simple.html#a912510169470b31053bb002881a28207">  942</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator__simple.html#a912510169470b31053bb002881a28207">endup</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="classAggregator.html#a0965a66058cd00c581b015b9c571cb07">arg_val_decimal</a>(<a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classAggregator.html#addca16d20f7cc2640f3843c2c5e7596d">arg_val_real</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a2581c04dee61cf1a4d72519da64baf53">arg_is_null</a>(<span class="keywordtype">bool</span> use_null_value) <span class="keyword">override</span>;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;};</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno"><a class="line" href="classItem__sum__num.html">  948</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__num.html">Item_sum_num</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#a71d65d6b2e03bb879a1f7e90ffc1308b">  949</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__sum__num.html#a71d65d6b2e03bb879a1f7e90ffc1308b">super</a>;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">   val_xxx() functions may be called several times during the execution of a</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">   query. Derived classes that require extensive calculation in val_xxx()</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">   maintain cache of aggregate value. This variable governs the validity of</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">   that cache.</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00958"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#ab79831c6d4711b47efc8ae32e283ce33">  958</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__num.html#ab79831c6d4711b47efc8ae32e283ce33">is_evaluated</a>;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00961"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#af231d53c77bce2a9cd36b92960a42672">  961</a></span>&#160;  <a class="code" href="classItem__sum__num.html#af231d53c77bce2a9cd36b92960a42672">Item_sum_num</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="classPT__window.html">PT_window</a> *window)</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, item_par, window), is_evaluated(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#afd17a11a0912518ddfc6f9f777044a5a">  964</a></span>&#160;  <a class="code" href="classItem__sum__num.html#afd17a11a0912518ddfc6f9f777044a5a">Item_sum_num</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__item__list.html">PT_item_list</a> *<a class="code" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">list</a>, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, list, w), is_evaluated(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#a1733718abe75fd4f1144432e8ee1858d">  967</a></span>&#160;  <a class="code" href="classItem__sum__num.html#a1733718abe75fd4f1144432e8ee1858d">Item_sum_num</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__num.html">Item_sum_num</a> *item)</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(thd, item), is_evaluated(item-&gt;is_evaluated) {}</div><div class="line"><a name="l00969"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#a3e4e3007a8303b4727631ffed4c23334">  969</a></span>&#160;  <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> <a class="code" href="classItem__sum__num.html#a3e4e3007a8303b4727631ffed4c23334">default_data_type</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854ad4e0c04e294f1f9c060b9fb37646670f">MYSQL_TYPE_DOUBLE</a>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *, <a class="code" href="classItem.html">Item</a> **) <span class="keyword">override</span>;</div><div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#a2a3cc609ba913eee6bce95ef31626de1">  973</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classItem__sum__num.html#a2a3cc609ba913eee6bce95ef31626de1">val_int</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(fixed == 1);</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">return</span> llrint_with_overflow_check(val_real()); <span class="comment">/* Real as default */</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l00979"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#a4b221928ac624c5d31274172f9c238d1">  979</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__num.html#a4b221928ac624c5d31274172f9c238d1">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">return</span> get_date_from_numeric(ltime, fuzzydate); <span class="comment">/* Decimal or real */</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  }</div><div class="line"><a name="l00982"></a><span class="lineno"><a class="line" href="classItem__sum__num.html#a4b87692f14bcb14428bf7c496241fd92">  982</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__num.html#a4b87692f14bcb14428bf7c496241fd92">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    <span class="keywordflow">return</span> get_time_from_numeric(ltime); <span class="comment">/* Decimal or real */</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keywordtype">void</span> reset_field() <span class="keyword">override</span>;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;};</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="classItem__sum__int.html">  988</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__int.html">Item_sum_int</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__num.html">Item_sum_num</a> {</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00990"></a><span class="lineno"><a class="line" href="classItem__sum__int.html#a110c872d9d7361a87b161d4581aa0939">  990</a></span>&#160;  <a class="code" href="classItem__sum__int.html#a110c872d9d7361a87b161d4581aa0939">Item_sum_int</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      : <a class="code" href="classItem__sum__num.html">Item_sum_num</a>(pos, item_par, w) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    set_data_type_longlong();</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div><div class="line"><a name="l00995"></a><span class="lineno"><a class="line" href="classItem__sum__int.html#ad0f72aa47deab415598b50d3619c5228">  995</a></span>&#160;  <a class="code" href="classItem__sum__int.html#ad0f72aa47deab415598b50d3619c5228">Item_sum_int</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__item__list.html">PT_item_list</a> *<a class="code" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">list</a>, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      : <a class="code" href="classItem__sum__num.html">Item_sum_num</a>(pos, list, w) {</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    set_data_type_longlong();</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div><div class="line"><a name="l01000"></a><span class="lineno"><a class="line" href="classItem__sum__int.html#a429efb6f4f5c0a9ee7bd2d1443996ebd"> 1000</a></span>&#160;  <a class="code" href="classItem__sum__int.html#a429efb6f4f5c0a9ee7bd2d1443996ebd">Item_sum_int</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__int.html">Item_sum_int</a> *item) : <a class="code" href="classItem__sum__num.html">Item_sum_num</a>(thd, item) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    set_data_type_longlong();</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  }</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;</div><div class="line"><a name="l01004"></a><span class="lineno"><a class="line" href="classItem__sum__int.html#a9880c10b5a80d9fd66d3ece7606ef4ff"> 1004</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classItem__sum__int.html#a9880c10b5a80d9fd66d3ece7606ef4ff">val_real</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(fixed);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(val_int());</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  }</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01010"></a><span class="lineno"><a class="line" href="classItem__sum__int.html#a27e08f705d5141b0e5507f4c51e9882d"> 1010</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__int.html#a27e08f705d5141b0e5507f4c51e9882d">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    <span class="keywordflow">return</span> get_date_from_int(ltime, fuzzydate);</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  }</div><div class="line"><a name="l01013"></a><span class="lineno"><a class="line" href="classItem__sum__int.html#a747d0569ab23643c58a282cc000dcbe9"> 1013</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__int.html#a747d0569ab23643c58a282cc000dcbe9">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> get_time_from_int(ltime); }</div><div class="line"><a name="l01014"></a><span class="lineno"><a class="line" href="classItem__sum__int.html#ab633e8550c011023f412b66d1efe0f0c"> 1014</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c">INT_RESULT</a>; }</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;};</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;</div><div class="line"><a name="l01017"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html"> 1017</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__sum.html">Item_sum_sum</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__num.html">Item_sum_num</a> {</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01019"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#a54c9fbf3ad3be0b16437803c6807d142"> 1019</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__sum__sum.html#a54c9fbf3ad3be0b16437803c6807d142">hybrid_type</a>;</div><div class="line"><a name="l01020"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#a49c532a747ca5af46207a076c4306e9e"> 1020</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classItem__sum__sum.html#a49c532a747ca5af46207a076c4306e9e">sum</a>;</div><div class="line"><a name="l01021"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#a7acbeba8fa55509dd5314cc3774ff558"> 1021</a></span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> dec_buffs[2];</div><div class="line"><a name="l01022"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#ad92dee782418bbaae0bf258f592f3d96"> 1022</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__sum__sum.html#ad92dee782418bbaae0bf258f592f3d96">curr_dec_buff</a>;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;<span class="comment"></span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;<span class="comment">    Execution state: this is for counting rows entering and leaving the window</span></div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;<span class="comment">    frame, see #m_frame_null_count.</span></div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#a05b97c46f17e37ff6e1541e42e848584"> 1028</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__sum__sum.html#a05b97c46f17e37ff6e1541e42e848584">m_count</a>;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">    Execution state: this is for counting NULLs of rows entering and leaving</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">    the window frame, when we use optimized inverse-based computations. By</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="comment">    comparison with m_count we can know how many non-NULLs are in the frame.</span></div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01035"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#adb90c30194a2fc4669425dce10ccc033"> 1035</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__sum__sum.html#adb90c30194a2fc4669425dce10ccc033">m_frame_null_count</a>;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#aad9abfdc9b109ba2e8a602202c6062c7"> 1038</a></span>&#160;  <a class="code" href="classItem__sum__sum.html#aad9abfdc9b109ba2e8a602202c6062c7">Item_sum_sum</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <span class="keywordtype">bool</span> distinct, <a class="code" href="classPT__window.html">PT_window</a> *window)</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      : <a class="code" href="classItem__sum__num.html">Item_sum_num</a>(pos, item_par, window),</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        hybrid_type(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aaa55b8a9aec727343eedde132b806441">INVALID_RESULT</a>),</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        m_count(0),</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        m_frame_null_count(0) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    set_distinct(distinct);</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;  <a class="code" href="classAggregator.html#a2afeb7cbcc97ddd2c3c74cf87352e0ab">Item_sum_sum</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__sum.html">Item_sum_sum</a> *item);</div><div class="line"><a name="l01047"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#aefc4417b5f3620e4f5a3f68a948df6b9"> 1047</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="keywordflow">return</span> has_with_distinct() ? SUM_DISTINCT_FUNC : SUM_FUNC;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  }</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#a4352983871e03fb26893cb36ff01f064"> 1056</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> hybrid_type; }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keywordtype">void</span> reset_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordtype">void</span> update_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01061"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#a5a118ea9d45cadadda30037cc5dc0458"> 1061</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum__sum.html#a5a118ea9d45cadadda30037cc5dc0458">no_rows_in_result</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l01062"></a><span class="lineno"><a class="line" href="classItem__sum__sum.html#a0f16cbb73aa44b51096c48c73413ba36"> 1062</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__sum.html#a0f16cbb73aa44b51096c48c73413ba36">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;sum&quot;</span>; }</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;};</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;</div><div class="line"><a name="l01066"></a><span class="lineno"><a class="line" href="classItem__sum__count.html"> 1066</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__count.html">Item_sum_count</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__int.html">Item_sum_int</a> {</div><div class="line"><a name="l01067"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#a05a11066440c9efa732439b51a54ca93"> 1067</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classItem__sum__count.html#a05a11066440c9efa732439b51a54ca93">count</a>;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#a40fcb2830e29e49349d865893b6d0b7d"> 1069</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAggregator__distinct.html">Aggregator_distinct</a>;</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keywordtype">void</span> cleanup() <span class="keyword">override</span>;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#ab7d0af5f6ef0e48fde9415e9f6070de6"> 1076</a></span>&#160;  <a class="code" href="classItem__sum__count.html#ab7d0af5f6ef0e48fde9415e9f6070de6">Item_sum_count</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;      : <a class="code" href="classItem__sum__int.html">Item_sum_int</a>(pos, item_par, w), count(0) {}</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">    Constructs an instance for COUNT(DISTINCT)</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">    @param pos  Position of token in the parser.</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">    @param list A list of the arguments to the aggregate function</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">    @param w    A window, if COUNT is used as a windowing function</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">    This constructor is called by the parser only for COUNT (DISTINCT).</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div><div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#a905e200b196e7c06545dfd7db557a8a9"> 1089</a></span>&#160;  <a class="code" href="classItem__sum__count.html#a905e200b196e7c06545dfd7db557a8a9">Item_sum_count</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__item__list.html">PT_item_list</a> *<a class="code" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">list</a>, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      : <a class="code" href="classItem__sum__int.html">Item_sum_int</a>(pos, list, w), count(0) {</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    set_distinct(<span class="keyword">true</span>);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  }</div><div class="line"><a name="l01093"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#a8c954509f8e4c8ebb2c6d2116349ae93"> 1093</a></span>&#160;  <a class="code" href="classItem__sum__count.html#a8c954509f8e4c8ebb2c6d2116349ae93">Item_sum_count</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__count.html">Item_sum_count</a> *item)</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      : <a class="code" href="classItem__sum__int.html">Item_sum_int</a>(thd, item), count(item-&gt;count) {}</div><div class="line"><a name="l01095"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#a6fd010ba8721520708701b1ae1c883ca"> 1095</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">return</span> has_with_distinct() ? COUNT_DISTINCT_FUNC : COUNT_FUNC;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  }</div><div class="line"><a name="l01098"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#a127f95489dd913257e15810c5c652ffc"> 1098</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__count.html#a127f95489dd913257e15810c5c652ffc">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *thd)<span class="keyword"> override </span>{</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span> (param_type_is_default(thd, 0, -1)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    maybe_null = <span class="keyword">false</span>;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    null_value = <span class="keyword">false</span>;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  }</div><div class="line"><a name="l01104"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#ac4470ff6ed87c5ad876bf2524aa65299"> 1104</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum__count.html#ac4470ff6ed87c5ad876bf2524aa65299">no_rows_in_result</a>()<span class="keyword"> override </span>{ count = 0; }</div><div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#a7982a66971620b97764ecef2aff2b3c1"> 1105</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum__count.html#a7982a66971620b97764ecef2aff2b3c1">make_const</a>(<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> count_arg) {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    count = count_arg;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <a class="code" href="classItem__sum.html#a50f352c59bf4d0305bffda80520f70f8">Item_sum::make_const</a>();</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordtype">void</span> reset_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  <span class="keywordtype">void</span> update_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01112"></a><span class="lineno"><a class="line" href="classItem__sum__count.html#ad0382b9a59c5e773cead1b1bcfb43f7e"> 1112</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__count.html#ad0382b9a59c5e773cead1b1bcfb43f7e">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;count&quot;</span>; }</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;};</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">/* Item to get the value of a stored sum function */</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__avg.html">Item_sum_avg</a>;</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__bit.html">Item_sum_bit</a>;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment">  This is used in connection which a parent Item_sum:</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment">  - which can produce different result types (is &quot;hybrid&quot;)</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment">  - which stores function&#39;s value into a temporary table&#39;s column (one</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment">  row per group).</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment">  - which stores in the column some internal piece of information which should</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment">  not be returned to the user, so special implementations are needed.</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01129"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid__field.html"> 1129</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__hybrid__field.html">Item_sum_hybrid_field</a> : <span class="keyword">public</span> <a class="code" href="classItem__result__field.html">Item_result_field</a> {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; <span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment">  /// The tmp table&#39;s column containing the value of the set function.</span></div><div class="line"><a name="l01132"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid__field.html#aa12162b49c49b0315f6676e138bd11db"> 1132</a></span>&#160;<span class="comment"></span>  <a class="code" href="classField.html">Field</a> *<a class="code" href="classItem__sum__hybrid__field.html#aa12162b49c49b0315f6676e138bd11db">field</a>;<span class="comment"></span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment">  /// Stores the Item&#39;s result type.</span></div><div class="line"><a name="l01134"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid__field.html#a36519cfabf15492e278a0999afb049da"> 1134</a></span>&#160;<span class="comment"></span>  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__sum__hybrid__field.html#a36519cfabf15492e278a0999afb049da">hybrid_type</a>;</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid__field.html#a662f91acb29938c91adf44f4b9f3c6ac"> 1137</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> hybrid_type; }</div><div class="line"><a name="l01138"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid__field.html#ae4779a9f259ded74583dfa063e3200c7"> 1138</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid__field.html#ae4779a9f259ded74583dfa063e3200c7">mark_field_in_map</a>(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg)<span class="keyword"> override </span>{</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment">      Filesort (find_all_keys) over a temporary table collects the columns it</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<span class="comment">      needs.</span></div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classItem.html#ada2ce79ccf5ef1273b9e1654448944c1">Item::mark_field_in_map</a>(pointer_cast&lt;Mark_field *&gt;(arg), field);</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  }</div><div class="line"><a name="l01145"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid__field.html#a78bdcdeebda0658a1594c0985360b5f1"> 1145</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid__field.html#a78bdcdeebda0658a1594c0985360b5f1">check_function_as_value_generator</a>(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *args)<span class="keyword"> override </span>{</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <a class="code" href="structCheck__function__as__value__generator__parameters.html">Check_function_as_value_generator_parameters</a> *func_arg =</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <a class="code" href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a>&lt;<a class="code" href="structCheck__function__as__value__generator__parameters.html">Check_function_as_value_generator_parameters</a> *&gt;(args);</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    func_arg-&gt;<a class="code" href="structCheck__function__as__value__generator__parameters.html#a81e02ebaffbb11347daf6c73593f8cda">banned_function_name</a> = func_name();</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  }</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;};</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">  Common abstract class for:</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">    Item_avg_field</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">    Item_variance_field</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01158"></a><span class="lineno"><a class="line" href="classItem__sum__num__field.html"> 1158</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__num__field.html">Item_sum_num_field</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__hybrid__field.html">Item_sum_hybrid_field</a> {</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="classItem__sum__num__field.html#a73d5c7725728e85feef77faa592151f6"> 1160</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classItem__sum__num__field.html#a73d5c7725728e85feef77faa592151f6">val_int</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="comment">/* can&#39;t be fix_fields()ed */</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">return</span> llrint_with_overflow_check(val_real());</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div><div class="line"><a name="l01164"></a><span class="lineno"><a class="line" href="classItem__sum__num__field.html#a122b01efce287e7157af15758a26cdb0"> 1164</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__num__field.html#a122b01efce287e7157af15758a26cdb0">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">return</span> get_date_from_numeric(ltime, fuzzydate); <span class="comment">/* Decimal or real */</span></div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  }</div><div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="classItem__sum__num__field.html#a6811639d510c4035e75e789c9574686f"> 1167</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__num__field.html#a6811639d510c4035e75e789c9574686f">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">return</span> get_time_from_numeric(ltime); <span class="comment">/* Decimal or real */</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  }</div><div class="line"><a name="l01170"></a><span class="lineno"><a class="line" href="classItem__sum__num__field.html#a3088e2fe640e18fd0a3593943ee5c9c0"> 1170</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__num__field.html#a3088e2fe640e18fd0a3593943ee5c9c0">is_null</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> update_null_value() || null_value; }</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;};</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div><div class="line"><a name="l01173"></a><span class="lineno"><a class="line" href="classItem__avg__field.html"> 1173</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__avg__field.html">Item_avg_field</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__num__field.html">Item_sum_num_field</a> {</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01175"></a><span class="lineno"><a class="line" href="classItem__avg__field.html#aa467e705dc756ba716ed4e89aa2d87a8"> 1175</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> f_precision, <a class="code" href="classItem__avg__field.html#aa467e705dc756ba716ed4e89aa2d87a8">f_scale</a>, dec_bin_size;</div><div class="line"><a name="l01176"></a><span class="lineno"><a class="line" href="classItem__avg__field.html#a43c435a608853b4f43a6a50479879668"> 1176</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__avg__field.html#a43c435a608853b4f43a6a50479879668">prec_increment</a>;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <a class="code" href="classItem__avg__field.html">Item_avg_field</a>(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> res_type, <a class="code" href="classItem__sum__avg.html">Item_sum_avg</a> *item);</div><div class="line"><a name="l01178"></a><span class="lineno"><a class="line" href="classItem__avg__field.html#aefcb898ebbebe798a62af13f25f9a1f5"> 1178</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem.html#a6b718f9918eb7a5b2d4572cc1a231005">Type</a> <a class="code" href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> FIELD_AVG_ITEM; }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01182"></a><span class="lineno"><a class="line" href="classItem__avg__field.html#acf2226358ba698ece73250be30547cb0"> 1182</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__avg__field.html#acf2226358ba698ece73250be30547cb0">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l01183"></a><span class="lineno"><a class="line" href="classItem__avg__field.html#a4f9eb29708694e72f01d803759f63cd5"> 1183</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__avg__field.html#a4f9eb29708694e72f01d803759f63cd5">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(0);</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;avg_field&quot;</span>;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  }</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;};</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment">/// This is used in connection with an Item_sum_bit, @see Item_sum_hybrid_field</span></div><div class="line"><a name="l01190"></a><span class="lineno"><a class="line" href="classItem__sum__bit__field.html"> 1190</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classItem__sum__bit__field.html">Item_sum_bit_field</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__hybrid__field.html">Item_sum_hybrid_field</a> {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01192"></a><span class="lineno"><a class="line" href="classItem__sum__bit__field.html#a255eb4ac6ae63ed313cf5ac4d94e277a"> 1192</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__sum__bit__field.html#a255eb4ac6ae63ed313cf5ac4d94e277a">reset_bits</a>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  <a class="code" href="classItem__sum__bit__field.html">Item_sum_bit_field</a>(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> res_type, <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a> *item,</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;                     <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> reset_bits);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01201"></a><span class="lineno"><a class="line" href="classItem__sum__bit__field.html#a3f7864822ddb56c2eacd83f40fde60f3"> 1201</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__bit__field.html#a3f7864822ddb56c2eacd83f40fde60f3">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate) <span class="keyword">override</span>;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordtype">bool</span> get_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime) <span class="keyword">override</span>;</div><div class="line"><a name="l01204"></a><span class="lineno"><a class="line" href="classItem__sum__bit__field.html#a0df53cedda4ca5ad813ca13741671b04"> 1204</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem.html#a6b718f9918eb7a5b2d4572cc1a231005">Type</a> <a class="code" href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> FIELD_BIT_ITEM; }</div><div class="line"><a name="l01205"></a><span class="lineno"><a class="line" href="classItem__sum__bit__field.html#a5805349f437fbbb88c6749c2016bd09f"> 1205</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__bit__field.html#a5805349f437fbbb88c6749c2016bd09f">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(0);</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;sum_bit_field&quot;</span>;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  }</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;};</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment">/// Common abstraction for Item_sum_json_array and Item_sum_json_object</span></div><div class="line"><a name="l01212"></a><span class="lineno"><a class="line" href="classItem__sum__json.html"> 1212</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classItem__sum__json.html">Item_sum_json</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l01213"></a><span class="lineno"><a class="line" href="classItem__sum__json.html#a6f26e0a35ce7b96079da0c374a963b69"> 1213</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__sum__json.html#a6f26e0a35ce7b96079da0c374a963b69">super</a>;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; <span class="keyword">protected</span>:<span class="comment"></span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment">  /// String used when reading JSON binary values or JSON text values.</span></div><div class="line"><a name="l01217"></a><span class="lineno"><a class="line" href="classItem__sum__json.html#a577a5dd188f57b67eb970f05610e0efe"> 1217</a></span>&#160;<span class="comment"></span>  <a class="code" href="classString.html">String</a> <a class="code" href="classItem__sum__json.html#a577a5dd188f57b67eb970f05610e0efe">m_value</a>;<span class="comment"></span></div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;<span class="comment">  /// String used for converting JSON text values to utf8mb4 charset.</span></div><div class="line"><a name="l01219"></a><span class="lineno"><a class="line" href="classItem__sum__json.html#a57cf67a9411221ea202dc507907cd3be"> 1219</a></span>&#160;<span class="comment"></span>  <a class="code" href="classString.html">String</a> <a class="code" href="classItem__sum__json.html#a57cf67a9411221ea202dc507907cd3be">m_conversion_buffer</a>;<span class="comment"></span></div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment">  /// Wrapper around the container (object/array) which accumulates the value.</span></div><div class="line"><a name="l01221"></a><span class="lineno"><a class="line" href="classItem__sum__json.html#a2ccc33c817acd1a138864eecfc70ad1f"> 1221</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_wrapper&gt;</a> <a class="code" href="classItem__sum__json.html#a2ccc33c817acd1a138864eecfc70ad1f">m_wrapper</a>;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">    Construct an Item_sum_json instance.</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment">    @param wrapper a wrapper around the Json_array or Json_object that contains</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;<span class="comment">                   the aggregated result</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment">    @param parent_args arguments to forward to Item_sum&#39;s constructor</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classItem__sum__json.html">Item_sum_json</a>(<a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_wrapper&gt;</a> wrapper,</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;                         Args &amp;&amp;... parent_args);</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  ~<a class="code" href="classItem__sum__json.html">Item_sum_json</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **pItem) <span class="keyword">override</span>;</div><div class="line"><a name="l01237"></a><span class="lineno"><a class="line" href="classItem__sum__json.html#a3ccb18db07aab7a1afc5d12ade309f8f"> 1237</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> JSON_AGG_FUNC; }</div><div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="classItem__sum__json.html#a99a0c92af127f10e49dcbf53fcf94a65"> 1238</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__sum__json.html#a99a0c92af127f10e49dcbf53fcf94a65">result_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a2f590d5f6111b8e455a2f28dfd6b2022">STRING_RESULT</a>; }</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="keywordtype">bool</span> val_json(<a class="code" href="classJson__wrapper.html">Json_wrapper</a> *wr) <span class="keyword">override</span>;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *decimal_buffer) <span class="keyword">override</span>;</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate) <span class="keyword">override</span>;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="keywordtype">bool</span> get_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime) <span class="keyword">override</span>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="keywordtype">void</span> reset_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordtype">void</span> update_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *,</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;};</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">/// Implements aggregation of values into an array.</span></div><div class="line"><a name="l01256"></a><span class="lineno"><a class="line" href="classItem__sum__json__array.html"> 1256</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classItem__sum__json__array.html">Item_sum_json_array</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__json.html">Item_sum_json</a> {<span class="comment"></span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">  /// Accumulates the final value.</span></div><div class="line"><a name="l01258"></a><span class="lineno"><a class="line" href="classItem__sum__json__array.html#a7b4da09ff0066d9b9f380c868a3d33b7"> 1258</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_array&gt;</a> <a class="code" href="classItem__sum__json__array.html#a7b4da09ff0066d9b9f380c868a3d33b7">m_json_array</a>;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <a class="code" href="classItem__sum__json__array.html">Item_sum_json_array</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum.html">Item_sum</a> *item,</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                      <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_wrapper&gt;</a> wrapper,</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                      <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_array&gt;</a> array);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <a class="code" href="classItem__sum__json__array.html">Item_sum_json_array</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *a, <a class="code" href="classPT__window.html">PT_window</a> *w,</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                      <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_wrapper&gt;</a> wrapper,</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                      <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_array&gt;</a> array);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  ~<a class="code" href="classItem__sum__json__array.html">Item_sum_json_array</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="classItem__sum__json__array.html#a289abc7e1ba3c45b1fb1c69e73d6e02c"> 1268</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__json__array.html#a289abc7e1ba3c45b1fb1c69e73d6e02c">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;json_arrayagg&quot;</span>; }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;};</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment">/// Implements aggregation of values into an object.</span></div><div class="line"><a name="l01275"></a><span class="lineno"><a class="line" href="classItem__sum__json__object.html"> 1275</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classItem__sum__json__object.html">Item_sum_json_object</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__json.html">Item_sum_json</a> {<span class="comment"></span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">  /// Accumulates the final value.</span></div><div class="line"><a name="l01277"></a><span class="lineno"><a class="line" href="classItem__sum__json__object.html#a56cb8ac248bc595407910a444bd4b137"> 1277</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_object&gt;</a> <a class="code" href="classItem__sum__json__object.html#a56cb8ac248bc595407910a444bd4b137">m_json_object</a>;<span class="comment"></span></div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;<span class="comment">  /// Buffer used to get the value of the key.</span></div><div class="line"><a name="l01279"></a><span class="lineno"><a class="line" href="classItem__sum__json__object.html#aecb5759cf2ff3601c46359771089f03a"> 1279</a></span>&#160;<span class="comment"></span>  <a class="code" href="classString.html">String</a> <a class="code" href="classItem__sum__json__object.html#aecb5759cf2ff3601c46359771089f03a">m_tmp_key_value</a>;<span class="comment"></span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">     Map of keys in Json_object and the count for each key</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment">     within a window frame. It is used in handling rows</span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">     leaving a window frame when rows are not sorted</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment">     according to the key in Json_object.</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01286"></a><span class="lineno"><a class="line" href="classItem__sum__json__object.html#ad25b12bfcd030de8ac6109b7d40bef07"> 1286</a></span>&#160;  std::map&lt;std::string, int&gt; <a class="code" href="classItem__sum__json__object.html#ad25b12bfcd030de8ac6109b7d40bef07">m_key_map</a>;<span class="comment"></span></div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">    If window provides ordering on the key in Json_object,</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment">    a key_map is not needed to handle rows leaving a window</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">    frame. In this case, process_buffered_windowing_record()</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">    will set flags when a key/value pair can be removed from</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment">    the Json_object.</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01294"></a><span class="lineno"><a class="line" href="classItem__sum__json__object.html#ae7c2e7e6522de910e67b782c18a1a630"> 1294</a></span>&#160;  <span class="keywordtype">bool</span> m_optimize{<span class="keyword">false</span>};</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <a class="code" href="classItem__sum__json__object.html">Item_sum_json_object</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum.html">Item_sum</a> *item,</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                       <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_wrapper&gt;</a> wrapper,</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                       <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_object&gt;</a> <span class="keywordtype">object</span>);</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <a class="code" href="classItem__sum__json__object.html">Item_sum_json_object</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *a, <a class="code" href="classItem.html">Item</a> *b, <a class="code" href="classPT__window.html">PT_window</a> *w,</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                       <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_wrapper&gt;</a> wrapper,</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                       <a class="code" href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only&lt;Json_object&gt;</a> <span class="keywordtype">object</span>);</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  ~<a class="code" href="classItem__sum__json__object.html">Item_sum_json_object</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="classItem__sum__json__object.html#a29d14d3ae95eb013c6155c5aefe1b658"> 1304</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__json__object.html#a29d14d3ae95eb013c6155c5aefe1b658">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;json_objectagg&quot;</span>; }</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;};</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html"> 1312</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__avg.html">Item_sum_avg</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__sum.html">Item_sum_sum</a> {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01314"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#af14db615df9815d148437b00b60ac1ce"> 1314</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__sum__avg.html#af14db615df9815d148437b00b60ac1ce">prec_increment</a>;</div><div class="line"><a name="l01315"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#a9aee8457a7a0a0729c2184db1467496b"> 1315</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> f_precision, <a class="code" href="classItem__sum__avg.html#a9aee8457a7a0a0729c2184db1467496b">f_scale</a>, dec_bin_size;</div><div class="line"><a name="l01316"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#a4f26a86cba0c87ce9c932efbfd7206a1"> 1316</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum__sum.html">Item_sum_sum</a> <a class="code" href="classItem__sum__avg.html#a4f26a86cba0c87ce9c932efbfd7206a1">super</a>;</div><div class="line"><a name="l01317"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#a8f1208be1f8256ad9a1ea6bf92512381"> 1317</a></span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> <a class="code" href="classItem__sum__avg.html#a8f1208be1f8256ad9a1ea6bf92512381">m_avg_dec</a>;</div><div class="line"><a name="l01318"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#ab23d231ade5c3a85e3d9d13b2ff75a92"> 1318</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classItem__sum__avg.html#ab23d231ade5c3a85e3d9d13b2ff75a92">m_avg</a>;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div><div class="line"><a name="l01320"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#a66012b0c0daa78e830f6bdbe347044e3"> 1320</a></span>&#160;  <a class="code" href="classItem__sum__avg.html#a66012b0c0daa78e830f6bdbe347044e3">Item_sum_avg</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <span class="keywordtype">bool</span> distinct, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      : <a class="code" href="classItem__sum__sum.html">Item_sum_sum</a>(pos, item_par, distinct, w) {}</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div><div class="line"><a name="l01323"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#afc7c4900aaf47547dfa3be9e6610d74b"> 1323</a></span>&#160;  <a class="code" href="classItem__sum__avg.html#afc7c4900aaf47547dfa3be9e6610d74b">Item_sum_avg</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__avg.html">Item_sum_avg</a> *item)</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      : <a class="code" href="classItem__sum__sum.html">Item_sum_sum</a>(thd, item), prec_increment(item-&gt;prec_increment) {}</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01327"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#aa832e0757eff78c44d73b4cb55944fbf"> 1327</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">return</span> has_with_distinct() ? AVG_DISTINCT_FUNC : AVG_FUNC;</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  }</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="comment">// In SPs we might force the &quot;wrong&quot; type with select into a declare variable</span></div><div class="line"><a name="l01334"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#ac9ef62c001b8ca968f3b330f7e9b235d"> 1334</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classItem__sum__avg.html#ac9ef62c001b8ca968f3b330f7e9b235d">val_int</a>()<span class="keyword"> override </span>{ <span class="keywordflow">return</span> llrint_with_overflow_check(val_real()); }</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordtype">void</span> reset_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keywordtype">void</span> update_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01339"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#ac4185f4dac47850dae2046c9a511f5d5"> 1339</a></span>&#160;  <a class="code" href="classItem.html">Item</a> *<a class="code" href="classItem__sum__avg.html#ac4185f4dac47850dae2046c9a511f5d5">result_item</a>(<a class="code" href="classField.html">Field</a> *)<span class="keyword"> override </span>{</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classItem__avg__field.html">Item_avg_field</a>(hybrid_type, <span class="keyword">this</span>);</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  }</div><div class="line"><a name="l01342"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#a6e6ed59b59d3c1c789e325523217eaeb"> 1342</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum__avg.html#a6e6ed59b59d3c1c789e325523217eaeb">no_rows_in_result</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l01343"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#a83e12e18b5fc8874841756a358e0deaa"> 1343</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__avg.html#a83e12e18b5fc8874841756a358e0deaa">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;avg&quot;</span>; }</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <a class="code" href="classField.html">Field</a> *<a class="code" href="sql__tmp__table_8cc.html#a84cb94cab909e1376525f4b5265116dd">create_tmp_field</a>(<span class="keywordtype">bool</span> group, <a class="code" href="structTABLE.html">TABLE</a> *table) <span class="keyword">override</span>;</div><div class="line"><a name="l01346"></a><span class="lineno"><a class="line" href="classItem__sum__avg.html#a57f0b9a506b882c3bfa1f1ca5f3bd762"> 1346</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum__avg.html#a57f0b9a506b882c3bfa1f1ca5f3bd762">cleanup</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    m_count = 0;</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    m_frame_null_count = 0;</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="classItem__sum.html#ae3293817564e056d0d283194100b3d7c">Item_sum_sum::cleanup</a>();</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;};</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__variance.html">Item_sum_variance</a>;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div><div class="line"><a name="l01355"></a><span class="lineno"><a class="line" href="classItem__variance__field.html"> 1355</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__variance__field.html">Item_variance_field</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__num__field.html">Item_sum_num_field</a> {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01357"></a><span class="lineno"><a class="line" href="classItem__variance__field.html#a83ba7d14be291632a2ae35945f2395f4"> 1357</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__variance__field.html#a83ba7d14be291632a2ae35945f2395f4">sample</a>;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <a class="code" href="classItem__variance__field.html">Item_variance_field</a>(<a class="code" href="classItem__sum__variance.html">Item_sum_variance</a> *item);</div><div class="line"><a name="l01361"></a><span class="lineno"><a class="line" href="classItem__variance__field.html#a543d8288724364c488e7d385c49e72a3"> 1361</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem.html#a6b718f9918eb7a5b2d4572cc1a231005">Type</a> <a class="code" href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> FIELD_VARIANCE_ITEM; }</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01363"></a><span class="lineno"><a class="line" href="classItem__variance__field.html#a007ce58b6e947727f1ee7217a2948aaa"> 1363</a></span>&#160;  <a class="code" href="classString.html">String</a> *<a class="code" href="classItem__variance__field.html#a007ce58b6e947727f1ee7217a2948aaa">val_str</a>(<a class="code" href="classString.html">String</a> *str)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> val_string_from_real(str); }</div><div class="line"><a name="l01364"></a><span class="lineno"><a class="line" href="classItem__variance__field.html#ab9c7e4afea06622dfb167f870d42a732"> 1364</a></span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="classItem__variance__field.html#ab9c7e4afea06622dfb167f870d42a732">val_decimal</a>(<a class="code" href="classmy__decimal.html">my_decimal</a> *dec_buf)<span class="keyword"> override </span>{</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">return</span> val_decimal_from_real(dec_buf);</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  }</div><div class="line"><a name="l01367"></a><span class="lineno"><a class="line" href="classItem__variance__field.html#a4e21ab225a3915b6d2ad9f89e10df4bd"> 1367</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__variance__field.html#a4e21ab225a3915b6d2ad9f89e10df4bd">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l01368"></a><span class="lineno"><a class="line" href="classItem__variance__field.html#a3cbd49315a358c717e5e86fc74e9e2c1"> 1368</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__variance__field.html#a3cbd49315a358c717e5e86fc74e9e2c1">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(0);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;variance_field&quot;</span>;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  }</div><div class="line"><a name="l01372"></a><span class="lineno"><a class="line" href="classItem__variance__field.html#aff0e1e1d1dcceb957a9dc9252aadb699"> 1372</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__variance__field.html#aff0e1e1d1dcceb957a9dc9252aadb699">check_function_as_value_generator</a>(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *args)<span class="keyword"> override </span>{</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <a class="code" href="structCheck__function__as__value__generator__parameters.html">Check_function_as_value_generator_parameters</a> *func_arg =</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <a class="code" href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a>&lt;<a class="code" href="structCheck__function__as__value__generator__parameters.html">Check_function_as_value_generator_parameters</a> *&gt;(args);</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    func_arg-&gt;<a class="code" href="structCheck__function__as__value__generator__parameters.html#a162a4b7a452505055c392f39c51b916b">err_code</a> = func_arg-&gt;<a class="code" href="structCheck__function__as__value__generator__parameters.html#ad96792abc96469cc12c1c43f07180a0a">get_unnamed_function_error_code</a>();</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  }</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;};</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment">  variance(a) =</span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">  =  sum (ai - avg(a))^2 / count(a) )</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">  =  sum (ai^2 - 2*ai*avg(a) + avg(a)^2) / count(a)</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">  =  (sum(ai^2) - sum(2*ai*avg(a)) + sum(avg(a)^2))/count(a) =</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment">  =  (sum(ai^2) - 2*avg(a)*sum(a) + count(a)*avg(a)^2)/count(a) =</span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">  =  (sum(ai^2) - 2*sum(a)*sum(a)/count(a) + count(a)*sum(a)^2/count(a)^2</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">  )/count(a) = =  (sum(ai^2) - 2*sum(a)^2/count(a) + sum(a)^2/count(a)</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">  )/count(a) = =  (sum(ai^2) - sum(a)^2/count(a))/count(a)</span></div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;<span class="comment">  But, this falls prey to catastrophic cancellation.</span></div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;<span class="comment">  Instead, we use recurrence formulas in Algorithm I mentoned below</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment">  for group aggregates.</span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">  Algorithm I:</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">  M_{1} = x_{1}, ~ M_{k} = M_{k-1} + (x_{k} - M_{k-1}) / k newline</span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">  S_{1} = 0, ~ S_{k} = S_{k-1} + (x_{k} - M_{k-1}) times (x_{k} - M_{k}) newline</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">  for 2 &lt;= k &lt;= n newline</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">  ital variance = S_{n} / (n-1)</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment">  For aggregate window functions algorithm I cannot be optimized for</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment">  moving frames since M_{i} changes for every row. So we use the</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="comment">  following algorithm.</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">  Algorithm II:</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">  K = 0</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">  n = 0</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;<span class="comment">  ex = 0</span></div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment">  ex2 = 0</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">  def add_sample(x):</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">  if (n == 0):</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment">  K = x</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment">  n = n + 1</span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="comment">  ex += x - K</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment">  ex2 += (x - K) * (x - K)</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment">  def remove_sample(x):</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment">  n = n - 1</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">  ex -= (x - K)</span></div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">  ex2 -= (x - K) * (x - K)</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment">  def variance():</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">  return (ex2 - (ex*ex)/n) / (n-1)</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">  This formula facilitates incremental computation enabling us to</span></div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment">  optimize in case of moving window frames. The optimized codepath is taken</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="comment">  only when windowing_use_high_precision is set to false. By default,</span></div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;<span class="comment">  aggregate window functions take the non-optimized codepath.</span></div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="comment">  Note:</span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="comment">  Results could differ between optimized and non-optimized code path.</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="comment">  Hence algorithm II is used only when user sets</span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="comment">  windowing_use_high_precision to false.</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html"> 1437</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__variance.html">Item_sum_variance</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__num.html">Item_sum_num</a> {</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01441"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a90916b82901fb9ab753c5277d570d3dd"> 1441</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__sum__variance.html#a90916b82901fb9ab753c5277d570d3dd">hybrid_type</a>;<span class="comment"></span></div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="comment">    Used in recurrence relation.</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01445"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a7277f4c479b7c401d89c159c3bd04c0a"> 1445</a></span>&#160;  <span class="keywordtype">double</span> recurrence_m, <a class="code" href="classItem__sum__variance.html#a7277f4c479b7c401d89c159c3bd04c0a">recurrence_s</a>;</div><div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a835842fe34b2e93ac23f6d93c898ca43"> 1446</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classItem__sum__variance.html#a835842fe34b2e93ac23f6d93c898ca43">recurrence_s2</a>;</div><div class="line"><a name="l01447"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a027f7880e98b575f969a086d0c417753"> 1447</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__sum__variance.html#a027f7880e98b575f969a086d0c417753">count</a>;</div><div class="line"><a name="l01448"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#ab8ec46805b28403aa7d6be48cb002b28"> 1448</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__sum__variance.html#ab8ec46805b28403aa7d6be48cb002b28">sample</a>;</div><div class="line"><a name="l01449"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#aa96f9a9c01583b12849167b06dea7397"> 1449</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__sum__variance.html#aa96f9a9c01583b12849167b06dea7397">prec_increment</a>;<span class="comment"></span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment">    If set, uses a algorithm II mentioned in the class description</span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">    to calculate the variance which helps in optimizing windowing</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">    functions in presence of frames.</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01455"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a75fae36c78afec6a86fb57560a1abb35"> 1455</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__variance.html#a75fae36c78afec6a86fb57560a1abb35">optimize</a>;</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;</div><div class="line"><a name="l01457"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a5b312e2462f7184eb7e267e8b69c3da4"> 1457</a></span>&#160;  <a class="code" href="classItem__sum__variance.html#a5b312e2462f7184eb7e267e8b69c3da4">Item_sum_variance</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> sample_arg,</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                    <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      : <a class="code" href="classItem__sum__num.html">Item_sum_num</a>(pos, item_par, w),</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        hybrid_type(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a8abdf3ddb05d5f0331210fc03d584ae3">REAL_RESULT</a>),</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        count(0),</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        sample(sample_arg),</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        optimize(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <a class="code" href="classItem__sum__variance.html">Item_sum_variance</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__variance.html">Item_sum_variance</a> *item);</div><div class="line"><a name="l01466"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a64d5f18fd4e1a800b6b7e77d61cf7915"> 1466</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> VARIANCE_FUNC; }</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="keywordtype">void</span> reset_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="keywordtype">void</span> update_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01473"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#ad1c85cbd8e174c9e5df13dfc0e90128f"> 1473</a></span>&#160;  <a class="code" href="classItem.html">Item</a> *<a class="code" href="classItem__sum__variance.html#ad1c85cbd8e174c9e5df13dfc0e90128f">result_item</a>(<a class="code" href="classField.html">Field</a> *)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classItem__variance__field.html">Item_variance_field</a>(<span class="keyword">this</span>); }</div><div class="line"><a name="l01474"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a7cfce2d841120e00a8cfb64f7d8a1645"> 1474</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum__variance.html#a7cfce2d841120e00a8cfb64f7d8a1645">no_rows_in_result</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l01475"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a10742fb577760edd83b98d14a4037ce1"> 1475</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__variance.html#a10742fb577760edd83b98d14a4037ce1">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="keywordflow">return</span> sample ? <span class="stringliteral">&quot;var_samp&quot;</span> : <span class="stringliteral">&quot;variance&quot;</span>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  }</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <a class="code" href="classField.html">Field</a> *<a class="code" href="sql__tmp__table_8cc.html#a84cb94cab909e1376525f4b5265116dd">create_tmp_field</a>(<span class="keywordtype">bool</span> group, <a class="code" href="structTABLE.html">TABLE</a> *table) <span class="keyword">override</span>;</div><div class="line"><a name="l01480"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#aad6d4039f6a277255ae565f20f879b66"> 1480</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a8abdf3ddb05d5f0331210fc03d584ae3">REAL_RESULT</a>; }</div><div class="line"><a name="l01481"></a><span class="lineno"><a class="line" href="classItem__sum__variance.html#a193e2f4e4eba1b3d62d836be88d04104"> 1481</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum__variance.html#a193e2f4e4eba1b3d62d836be88d04104">cleanup</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    count = 0;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;    <a class="code" href="classItem__sum.html#ae3293817564e056d0d283194100b3d7c">Item_sum_num::cleanup</a>();</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  }</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;};</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__std.html">Item_sum_std</a>;</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div><div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="classItem__std__field.html"> 1491</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__std__field.html">Item_std_field</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__variance__field.html">Item_variance_field</a> {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <a class="code" href="classItem__std__field.html">Item_std_field</a>(<a class="code" href="classItem__sum__std.html">Item_sum_std</a> *item);</div><div class="line"><a name="l01494"></a><span class="lineno"><a class="line" href="classItem__std__field.html#a172d6aa30b916f01e86c6c59ba75d31a"> 1494</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem.html#a6b718f9918eb7a5b2d4572cc1a231005">Type</a> <a class="code" href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> FIELD_STD_ITEM; }</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01497"></a><span class="lineno"><a class="line" href="classItem__std__field.html#a8015dd6a7c957ed716d0eccd54ef4a1f"> 1497</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a8abdf3ddb05d5f0331210fc03d584ae3">REAL_RESULT</a>; }</div><div class="line"><a name="l01498"></a><span class="lineno"><a class="line" href="classItem__std__field.html#a595a89ecd75ebdd78a858ea3099e08bd"> 1498</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__std__field.html#a595a89ecd75ebdd78a858ea3099e08bd">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(0);</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;std_field&quot;</span>;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  }</div><div class="line"><a name="l01502"></a><span class="lineno"><a class="line" href="classItem__std__field.html#a5c4e87ac1df83b50ed4a07cef6dca815"> 1502</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__std__field.html#a5c4e87ac1df83b50ed4a07cef6dca815">check_function_as_value_generator</a>(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *args)<span class="keyword"> override </span>{</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <a class="code" href="structCheck__function__as__value__generator__parameters.html">Check_function_as_value_generator_parameters</a> *func_arg =</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <a class="code" href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a>&lt;<a class="code" href="structCheck__function__as__value__generator__parameters.html">Check_function_as_value_generator_parameters</a> *&gt;(args);</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    func_arg-&gt;<a class="code" href="structCheck__function__as__value__generator__parameters.html#a162a4b7a452505055c392f39c51b916b">err_code</a> = func_arg-&gt;<a class="code" href="structCheck__function__as__value__generator__parameters.html#ad96792abc96469cc12c1c43f07180a0a">get_unnamed_function_error_code</a>();</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;};</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">   standard_deviation(a) = sqrt(variance(a))</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;</div><div class="line"><a name="l01514"></a><span class="lineno"><a class="line" href="classItem__sum__std.html"> 1514</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__std.html">Item_sum_std</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__variance.html">Item_sum_variance</a> {</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01516"></a><span class="lineno"><a class="line" href="classItem__sum__std.html#a475471d1a423c362db211c258d795fca"> 1516</a></span>&#160;  <a class="code" href="classItem__sum__std.html#a475471d1a423c362db211c258d795fca">Item_sum_std</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> sample_arg, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;      : <a class="code" href="classItem__sum__variance.html">Item_sum_variance</a>(pos, item_par, sample_arg, w) {}</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div><div class="line"><a name="l01519"></a><span class="lineno"><a class="line" href="classItem__sum__std.html#a7cb91181cf60db2d084ef0c519c9d445"> 1519</a></span>&#160;  <a class="code" href="classItem__sum__std.html#a7cb91181cf60db2d084ef0c519c9d445">Item_sum_std</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__std.html">Item_sum_std</a> *item) : <a class="code" href="classItem__sum__variance.html">Item_sum_variance</a>(thd, item) {}</div><div class="line"><a name="l01520"></a><span class="lineno"><a class="line" href="classItem__sum__std.html#abea55b157879b85b1ddcaef4d824506c"> 1520</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> STD_FUNC; }</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01522"></a><span class="lineno"><a class="line" href="classItem__sum__std.html#a3cf8a137c788ee442f1fc43eae035b82"> 1522</a></span>&#160;  <a class="code" href="classItem.html">Item</a> *<a class="code" href="classItem__sum__std.html#a3cf8a137c788ee442f1fc43eae035b82">result_item</a>(<a class="code" href="classField.html">Field</a> *)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classItem__std__field.html">Item_std_field</a>(<span class="keyword">this</span>); }</div><div class="line"><a name="l01523"></a><span class="lineno"><a class="line" href="classItem__sum__std.html#a5459473469303e671d570119cad674a9"> 1523</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__std.html#a5459473469303e671d570119cad674a9">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    <span class="keywordflow">return</span> sample ? <span class="stringliteral">&quot;stddev_samp&quot;</span> : <span class="stringliteral">&quot;std&quot;</span>;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  }</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01527"></a><span class="lineno"><a class="line" href="classItem__sum__std.html#aab46889aeb65fa569c56cf0e4144d99c"> 1527</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a8abdf3ddb05d5f0331210fc03d584ae3">REAL_RESULT</a>; }</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;};</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="comment">// This class is a string or number function depending on num_func</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="keyword">class </span><a class="code" href="classArg__comparator.html">Arg_comparator</a>;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="comment">  Abstract base class for the MIN and MAX aggregate functions.</span></div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01536"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html"> 1536</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l01537"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#aafae5660496b52647f60de8a0ae89904"> 1537</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__sum__hybrid.html#aafae5660496b52647f60de8a0ae89904">super</a>;</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment">    Tells if this is the MIN function (true) or the MAX function (false).</span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01543"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a25400a0db3ef1ac5f53173785f47d2fa"> 1543</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid.html#a25400a0db3ef1ac5f53173785f47d2fa">m_is_min</a>;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="comment">    For window functions MIN/MAX with optimized code path, no comparisons</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment">    are needed beyond NULL detection: MIN/MAX are then roughly equivalent to</span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment">    FIRST/LAST_VALUE. For this case, &#39;value&#39; is the value of</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">    the window function a priori taken from args[0], while arg_cache is used to</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment">    remember the value from the previous row. NULLs need a bit of careful</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">    treatment.</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01552"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#ae0b4d456aa9540ce06dc316a39705eb5"> 1552</a></span>&#160;  <a class="code" href="classItem__cache.html">Item_cache</a> *<a class="code" href="classItem__sum__hybrid.html#ae0b4d456aa9540ce06dc316a39705eb5">value</a>, *arg_cache;</div><div class="line"><a name="l01553"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#ac8dec3b182fb3acf747d257a25e22872"> 1553</a></span>&#160;  <a class="code" href="classArg__comparator.html">Arg_comparator</a> *<a class="code" href="classItem__sum__hybrid.html#ac8dec3b182fb3acf747d257a25e22872">cmp</a>;</div><div class="line"><a name="l01554"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a93c752350ce88e28ad877a6a9087b5ad"> 1554</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__sum__hybrid.html#a93c752350ce88e28ad877a6a9087b5ad">hybrid_type</a>;</div><div class="line"><a name="l01555"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a9d92c7c82daa1e96eb2dfad70d854e93"> 1555</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid.html#a9d92c7c82daa1e96eb2dfad70d854e93">was_values</a>;  <span class="comment">// Set if we have found at least one row (for max/min only)</span><span class="comment"></span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment">    Set to true if the window is ordered ascending.</span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01559"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#ae64238a3694c60d247880645d6448d5f"> 1559</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid.html#ae64238a3694c60d247880645d6448d5f">m_nulls_first</a>;<span class="comment"></span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment">    Set to true when min/max can be optimized using window&#39;s ordering.</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01563"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#aa4733d4883354fdfe3d8fe8497c9d138"> 1563</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid.html#aa4733d4883354fdfe3d8fe8497c9d138">m_optimize</a>;<span class="comment"></span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">    For min() - Set to true when results are ordered in ascending and</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">    false when descending.</span></div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;<span class="comment">    For max() - Set to true when results are ordered in descending and</span></div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment">    false when ascending.</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment">    Valid only when m_optimize is true.</span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01571"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#adf1c3f4bbb5f8ce925e9e7f8617af137"> 1571</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid.html#adf1c3f4bbb5f8ce925e9e7f8617af137">m_want_first</a>;  <span class="comment">///&lt; Want first non-null value, else last non_null value</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment"></span><span class="comment">  /**</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment">    Execution state: keeps track if this is the first row in the frame</span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment">    when buffering is not needed.</span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="comment">    Valid only when m_optimize is true.</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01577"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a87f42ae98c54bf07d0cd9a100ec29547"> 1577</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> <a class="code" href="classItem__sum__hybrid.html#a87f42ae98c54bf07d0cd9a100ec29547">m_cnt</a>;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;<span class="comment">    Execution state: keeps track of at which row we saved a non-null last</span></div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="comment">    value.</span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01583"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a6a79db6160d04f6ee45e6153cc25d8d7"> 1583</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> <a class="code" href="classItem__sum__hybrid.html#a6a79db6160d04f6ee45e6153cc25d8d7">m_saved_last_value_at</a>;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<span class="comment">    This function implements the optimized version of retrieving min/max</span></div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;<span class="comment">    value. When we have &quot;ordered ASC&quot; results in a window, min will always</span></div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="comment">    be the first value in the result set (neglecting the NULL&#39;s) and max</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment">    will always be the last value (or the other way around, if ordered DESC).</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">    It is based on the implementation of FIRST_VALUE/LAST_VALUE, except for</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;<span class="comment">    the NULL handling.</span></div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment">    @return true if computation yielded a NULL or error</span></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordtype">bool</span> compute();</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="comment">    MIN/MAX function setup.</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment">    Setup cache/comparator of MIN/MAX functions. When called by the</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">    copy_or_same() function, the value_arg parameter contains the calculated</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">    value of the original MIN/MAX object, and it is saved in this object&#39;s</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment">    cache.</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment">    @param item       the argument of the MIN/MAX function</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;<span class="comment">    @param value_arg  the calculated value of the MIN/MAX function</span></div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;<span class="comment">    @return false on success, true on error</span></div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="keywordtype">bool</span> setup_hybrid(<a class="code" href="classItem.html">Item</a> *item, <a class="code" href="classItem.html">Item</a> *value_arg);</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;<span class="comment">  /** Create a clone of this object. */</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a> *clone_hybrid(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01615"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#aa926b7f6d5b59cb596254e6fc74536e3"> 1615</a></span>&#160;  <a class="code" href="classItem__sum__hybrid.html#aa926b7f6d5b59cb596254e6fc74536e3">Item_sum_hybrid</a>(<a class="code" href="classItem.html">Item</a> *item_par, <span class="keywordtype">bool</span> is_min)</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(item_par),</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        m_is_min(is_min),</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        value(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        arg_cache(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        cmp(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        hybrid_type(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c">INT_RESULT</a>),</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;        was_values(<a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>),</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        m_nulls_first(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        m_optimize(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        m_want_first(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;        m_cnt(0),</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        m_saved_last_value_at(0) {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <a class="code" href="namespaceudf__ext_1_1consts.html#a01c760bc7a1c2d6faa109edc9e22c4e9">collation</a>.set(&amp;<a class="code" href="m__ctype_8h.html#aa4bb45da77755c7a221e0bff25562753">my_charset_bin</a>);</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;</div><div class="line"><a name="l01631"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#aa65eb6b72f585791cfb6a0c0ced49960"> 1631</a></span>&#160;  <a class="code" href="classItem__sum__hybrid.html#aa65eb6b72f585791cfb6a0c0ced49960">Item_sum_hybrid</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <span class="keywordtype">bool</span> is_min, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, item_par, w),</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        m_is_min(is_min),</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;        value(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        arg_cache(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;        cmp(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        hybrid_type(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c">INT_RESULT</a>),</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;        was_values(<a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>),</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;        m_nulls_first(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        m_optimize(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        m_want_first(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;        m_cnt(0),</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;        m_saved_last_value_at(0) {</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="namespaceudf__ext_1_1consts.html#a01c760bc7a1c2d6faa109edc9e22c4e9">collation</a>.set(&amp;<a class="code" href="m__ctype_8h.html#aa4bb45da77755c7a221e0bff25562753">my_charset_bin</a>);</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  }</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a8c1e3972fa69e414d78e2a7f39b2355c"> 1647</a></span>&#160;  <a class="code" href="classItem__sum__hybrid.html#a8c1e3972fa69e414d78e2a7f39b2355c">Item_sum_hybrid</a>(<a class="code" href="classTHD.html">THD</a> *thd, <span class="keyword">const</span> <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a> *item)</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(thd, item),</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        m_is_min(item-&gt;m_is_min),</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        value(item-&gt;value),</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;        arg_cache(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        hybrid_type(item-&gt;hybrid_type),</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;        was_values(item-&gt;was_values),</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        m_nulls_first(item-&gt;m_nulls_first),</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;        m_optimize(item-&gt;m_optimize),</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;        m_want_first(item-&gt;m_want_first),</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        m_cnt(item-&gt;m_cnt),</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        m_saved_last_value_at(0) {}</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *, <a class="code" href="classItem.html">Item</a> **) <span class="keyword">override</span>;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;  <span class="keywordtype">void</span> split_sum_func(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classBounds__checked__array.html">Ref_item_array</a> ref_item_array,</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;                      <a class="code" href="classmem__root__deque.html">mem_root_deque&lt;Item *&gt;</a> *fields) <span class="keyword">override</span>;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_time_temporal() <span class="keyword">override</span>;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_date_temporal() <span class="keyword">override</span>;</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate) <span class="keyword">override</span>;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;  <span class="keywordtype">bool</span> get_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime) <span class="keyword">override</span>;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="keywordtype">void</span> reset_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;  <span class="keywordtype">bool</span> val_json(<a class="code" href="classJson__wrapper.html">Json_wrapper</a> *wr) <span class="keyword">override</span>;</div><div class="line"><a name="l01675"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a853793f3afcc7d39ec652e7c7aa9a2eb"> 1675</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid.html#a853793f3afcc7d39ec652e7c7aa9a2eb">keep_field_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l01676"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#ad6b5fedde17b6bb685816a8b9e3637a5"> 1676</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> hybrid_type; }</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordtype">void</span> update_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;  <span class="keywordtype">void</span> cleanup() <span class="keyword">override</span>;</div><div class="line"><a name="l01679"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a9297e66139e588a8a2efdbace8137721"> 1679</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid.html#a9297e66139e588a8a2efdbace8137721">any_value</a>() { <span class="keywordflow">return</span> was_values; }</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;  <span class="keywordtype">void</span> no_rows_in_result() <span class="keyword">override</span>;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;  <a class="code" href="classField.html">Field</a> *<a class="code" href="sql__tmp__table_8cc.html#a84cb94cab909e1376525f4b5265116dd">create_tmp_field</a>(<span class="keywordtype">bool</span> group, <a class="code" href="structTABLE.html">TABLE</a> *table) <span class="keyword">override</span>;</div><div class="line"><a name="l01682"></a><span class="lineno"><a class="line" href="classItem__sum__hybrid.html#a0fc149d813d11fc2d58792c35e671304"> 1682</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__hybrid.html#a0fc149d813d11fc2d58792c35e671304">uses_only_one_row</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> m_optimize; }</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *<a class="code" href="pfs__example__plugin__employee_8cc.html#ab3f8ffa864d702be7152eed806293ad9">r</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">    These functions check if the value on the current row exceeds the maximum or</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="comment">    minimum value seen so far, and update the current max/min stored in</span></div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="comment">    result_field, if needed.</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  <span class="keywordtype">void</span> min_max_update_str_field();</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordtype">void</span> min_max_update_temporal_field();</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;  <span class="keywordtype">void</span> min_max_update_json_field();</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;  <span class="keywordtype">void</span> min_max_update_real_field();</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;  <span class="keywordtype">void</span> min_max_update_int_field();</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordtype">void</span> min_max_update_decimal_field();</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;};</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;</div><div class="line"><a name="l01702"></a><span class="lineno"><a class="line" href="classItem__sum__min.html"> 1702</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__min.html">Item_sum_min</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a> {</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01704"></a><span class="lineno"><a class="line" href="classItem__sum__min.html#a2269b90f878f3ecece5e0d1de7c69ed7"> 1704</a></span>&#160;  <a class="code" href="classItem__sum__min.html#a2269b90f878f3ecece5e0d1de7c69ed7">Item_sum_min</a>(<a class="code" href="classItem.html">Item</a> *item_par) : <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a>(item_par, <a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>) {}</div><div class="line"><a name="l01705"></a><span class="lineno"><a class="line" href="classItem__sum__min.html#a67174cad468a0f29f82e209b9fb64932"> 1705</a></span>&#160;  <a class="code" href="classItem__sum__min.html#a67174cad468a0f29f82e209b9fb64932">Item_sum_min</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      : <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a>(pos, item_par, <a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>, w) {}</div><div class="line"><a name="l01707"></a><span class="lineno"><a class="line" href="classItem__sum__min.html#a1b008b065b692dd925edf070bafe2d9f"> 1707</a></span>&#160;  <a class="code" href="classItem__sum__min.html#a1b008b065b692dd925edf070bafe2d9f">Item_sum_min</a>(<a class="code" href="classTHD.html">THD</a> *thd, <span class="keyword">const</span> <a class="code" href="classItem__sum__min.html">Item_sum_min</a> *item)</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      : <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a>(thd, item) {}</div><div class="line"><a name="l01709"></a><span class="lineno"><a class="line" href="classItem__sum__min.html#a3c685b6c60bd1d8f80d58dbacd9785c6"> 1709</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> MIN_FUNC; }</div><div class="line"><a name="l01710"></a><span class="lineno"><a class="line" href="classItem__sum__min.html#ad8e5d009c16779d20ef3b6b39705ad18"> 1710</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__min.html#ad8e5d009c16779d20ef3b6b39705ad18">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;min&quot;</span>; }</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <a class="code" href="classItem__sum__min.html">Item_sum_min</a> *clone_hybrid(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">const override</span>;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;};</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;</div><div class="line"><a name="l01716"></a><span class="lineno"><a class="line" href="classItem__sum__max.html"> 1716</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__max.html">Item_sum_max</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a> {</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01718"></a><span class="lineno"><a class="line" href="classItem__sum__max.html#a08694788a963c7ec71ba5f6f2a705949"> 1718</a></span>&#160;  <a class="code" href="classItem__sum__max.html#a08694788a963c7ec71ba5f6f2a705949">Item_sum_max</a>(<a class="code" href="classItem.html">Item</a> *item_par) : <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a>(item_par, <a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div><div class="line"><a name="l01719"></a><span class="lineno"><a class="line" href="classItem__sum__max.html#afc71dd00b23f6934eadf65e4481c7413"> 1719</a></span>&#160;  <a class="code" href="classItem__sum__max.html#afc71dd00b23f6934eadf65e4481c7413">Item_sum_max</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      : <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a>(pos, item_par, <a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>, w) {}</div><div class="line"><a name="l01721"></a><span class="lineno"><a class="line" href="classItem__sum__max.html#a211deb9ff3ac4d13f1baab321add648b"> 1721</a></span>&#160;  <a class="code" href="classItem__sum__max.html#a211deb9ff3ac4d13f1baab321add648b">Item_sum_max</a>(<a class="code" href="classTHD.html">THD</a> *thd, <span class="keyword">const</span> <a class="code" href="classItem__sum__max.html">Item_sum_max</a> *item)</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      : <a class="code" href="classItem__sum__hybrid.html">Item_sum_hybrid</a>(thd, item) {}</div><div class="line"><a name="l01723"></a><span class="lineno"><a class="line" href="classItem__sum__max.html#aef2eea9882fbd220804f633e264d5043"> 1723</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> MAX_FUNC; }</div><div class="line"><a name="l01724"></a><span class="lineno"><a class="line" href="classItem__sum__max.html#ab8f27e8cc65d087693b64864c85457c0"> 1724</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__max.html#ab8f27e8cc65d087693b64864c85457c0">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;max&quot;</span>; }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <a class="code" href="classItem__sum__max.html">Item_sum_max</a> *clone_hybrid(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">const override</span>;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;};</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment">  Base class used to implement BIT_AND, BIT_OR and BIT_XOR.</span></div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment">  Each of them is both a set function and a framing window function.</span></div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01735"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html"> 1735</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__bit.html">Item_sum_bit</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l01736"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a75483ac134ee7780c3b592231ef49bfd"> 1736</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__sum__bit.html#a75483ac134ee7780c3b592231ef49bfd">super</a>;<span class="comment"></span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">  /// Stores the neutral element for function</span></div><div class="line"><a name="l01738"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a8fb69e155ba18f583db81b3bd0ea1943"> 1738</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__sum__bit.html#a8fb69e155ba18f583db81b3bd0ea1943">reset_bits</a>;<span class="comment"></span></div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment">  /// Stores the result value for the INT_RESULT</span></div><div class="line"><a name="l01740"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#aef58a7c72496dc0bf26b6d1c73d63f3e"> 1740</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__sum__bit.html#aef58a7c72496dc0bf26b6d1c73d63f3e">bits</a>;<span class="comment"></span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="comment">  /// Stores the result value for the STRING_RESULT</span></div><div class="line"><a name="l01742"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#afa8058f38ed36cdbe895ba0cc48d986b"> 1742</a></span>&#160;<span class="comment"></span>  <a class="code" href="classString.html">String</a> <a class="code" href="classItem__sum__bit.html#afa8058f38ed36cdbe895ba0cc48d986b">value_buff</a>;<span class="comment"></span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="comment">  /// Stores the Item&#39;s result type. Can only be INT_RESULT or STRING_RESULT</span></div><div class="line"><a name="l01744"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a8cd6571734475708534bfa91708b0981"> 1744</a></span>&#160;<span class="comment"></span>  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__sum__bit.html#a8cd6571734475708534bfa91708b0981">hybrid_type</a>;<span class="comment"></span></div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;<span class="comment">  /// Buffer used to avoid String allocation in the constructor</span></div><div class="line"><a name="l01746"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a20137a310d86f15988309b846508a353"> 1746</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <span class="keywordtype">char</span> initial_value_buff_storage[1] = {0};</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="comment">    Execution state (windowing): this is for counting rows entering and leaving</span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="comment">    the window frame, see #m_frame_null_count.</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01752"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#aa87096675f29d216c6c8c1d07cf2c211"> 1752</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__sum__bit.html#aa87096675f29d216c6c8c1d07cf2c211">m_count</a>;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="comment">    Execution state (windowing): this is for counting NULLs of rows entering</span></div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;<span class="comment">    and leaving the window frame, when we use optimized inverse-based</span></div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;<span class="comment">    computations. By comparison with m_count we can know how many non-NULLs are</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="comment">    in the frame.</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01760"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#af283369ca189fd3977eba3b8a9f48fe4"> 1760</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__sum__bit.html#af283369ca189fd3977eba3b8a9f48fe4">m_frame_null_count</a>;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="comment">    Execution state (windowing): Used for AND, OR to be able to invert window</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="comment">    functions in optimized mode.</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="comment">    For the optimized code path of BIT_XXX wfs, we keep track of the number of</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="comment">    bit values (0&#39;s or 1&#39;s; see below) seen in a frame using a 64 bits counter</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="comment">    pr bit. This lets us compute the value of OR by just inspecting:</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;<span class="comment">       - the number of 1&#39;s in the previous frame</span></div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;<span class="comment">       - whether any removed row(s) is a 1</span></div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="comment">       - whether any added row(s) is a 1</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="comment">    Similarly for AND, we keep track of the number of 0&#39;s seen for a particular</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="comment">    bit. To do this trick we need a counter per bit position. This array holds</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="comment">    these counters.</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">    Note that for XOR, the inverse operation is identical to the operation,</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">    so we don&#39;t need the above.</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01781"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a7b451fd4708d696447b3445fcd026854"> 1781</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> *<a class="code" href="classItem__sum__bit.html#a7b451fd4708d696447b3445fcd026854">m_digit_cnt</a>;</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;<span class="comment">    Size of allocated array m_digit_cnt.</span></div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="comment">    The size is DIGIT_CNT_CARD (for integer types) or ::max_length * 8 for bit</span></div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;<span class="comment">    strings.</span></div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01787"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#addb3eecb42624467d527050b3703339e"> 1787</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__sum__bit.html#addb3eecb42624467d527050b3703339e">m_digit_cnt_card</a>;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;</div><div class="line"><a name="l01789"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a27884f24514e6abf55624d9cfddbf419"> 1789</a></span>&#160;  <span class="keyword">static</span> constexpr <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> DIGIT_CNT_CARD = <span class="keyword">sizeof</span>(<a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>) * 8;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01792"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a42680b90d4de4a0773cf2435b97f0997"> 1792</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__bit.html#a42680b90d4de4a0773cf2435b97f0997">m_is_xor</a>;  <span class="comment">///&lt; true iff BIT_XOR</span></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01795"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a8fd0a8be775a735e338062a19bfb23e4"> 1795</a></span>&#160;  <a class="code" href="classItem__sum__bit.html#a8fd0a8be775a735e338062a19bfb23e4">Item_sum_bit</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> reset_arg,</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;               <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, item_par, w),</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;        reset_bits(reset_arg),</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;        bits(reset_arg),</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        value_buff(initial_value_buff_storage, 1, &amp;<a class="code" href="m__ctype_8h.html#aa4bb45da77755c7a221e0bff25562753">my_charset_bin</a>),</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        m_count(0),</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        m_frame_null_count(0),</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;        m_digit_cnt(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;        m_digit_cnt_card(0),</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;        m_is_xor(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="comment">  /// Copy constructor, used for executing subqueries with temporary tables</span></div><div class="line"><a name="l01808"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#ae830a1125fea199addfe880db1363ea2"> 1808</a></span>&#160;<span class="comment"></span>  <a class="code" href="classItem__sum__bit.html#ae830a1125fea199addfe880db1363ea2">Item_sum_bit</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a> *item)</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(thd, item),</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        reset_bits(item-&gt;reset_bits),</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        bits(item-&gt;bits),</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        value_buff(initial_value_buff_storage, 1, &amp;<a class="code" href="m__ctype_8h.html#aa4bb45da77755c7a221e0bff25562753">my_charset_bin</a>),</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        hybrid_type(item-&gt;hybrid_type),</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        m_count(item-&gt;m_count),</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        m_frame_null_count(item-&gt;m_frame_null_count),</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        m_digit_cnt(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        m_digit_cnt_card(0),</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        m_is_xor(item-&gt;m_is_xor) {</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;<span class="comment">       This constructor should only be called during the Optimize stage.</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment">       Asserting that the item was not evaluated yet.</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(item-&gt;<a class="code" href="classItem__sum__bit.html#afa8058f38ed36cdbe895ba0cc48d986b">value_buff</a>.<a class="code" href="classString.html#ad3b888edbfb3bab21d4bae4663d2211a">length</a>() == 1);</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(item-&gt;<a class="code" href="classItem__sum__bit.html#aef58a7c72496dc0bf26b6d1c73d63f3e">bits</a> == item-&gt;<a class="code" href="classItem__sum__bit.html#a8fb69e155ba18f583db81b3bd0ea1943">reset_bits</a>);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  }</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;</div><div class="line"><a name="l01827"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a05f2a829fd4e812a23d949c71ebd7c0f"> 1827</a></span>&#160;  <a class="code" href="classItem.html">Item</a> *<a class="code" href="classItem__sum__bit.html#a05f2a829fd4e812a23d949c71ebd7c0f">result_item</a>(<a class="code" href="classField.html">Field</a> *)<span class="keyword"> override </span>{</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classItem__sum__bit__field.html">Item_sum_bit_field</a>(hybrid_type, <span class="keyword">this</span>, reset_bits);</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  }</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;</div><div class="line"><a name="l01831"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a29c62d9b68c33ff4be89d8a8fad0b20a"> 1831</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> SUM_BIT_FUNC; }</div><div class="line"><a name="l01832"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#ad061974e486122470a03a90bee38b6fa"> 1832</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> hybrid_type; }</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *decimal_value) <span class="keyword">override</span>;</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate) <span class="keyword">override</span>;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="keywordtype">bool</span> get_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime) <span class="keyword">override</span>;</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="keywordtype">void</span> reset_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="keywordtype">void</span> update_field() <span class="keyword">override</span>;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **ref) <span class="keyword">override</span>;</div><div class="line"><a name="l01844"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a0ca4baa6dd95dc9db920deaa7a94b889"> 1844</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__sum__bit.html#a0ca4baa6dd95dc9db920deaa7a94b889">cleanup</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    bits = reset_bits;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;    <span class="comment">// At end of one execution of statement, free buffer to reclaim memory:</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    value_buff.<a class="code" href="classString.html#adc1130bf198730a0a9ae26345430b016">set</a>(initial_value_buff_storage, 1, &amp;<a class="code" href="m__ctype_8h.html#aa4bb45da77755c7a221e0bff25562753">my_charset_bin</a>);</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <a class="code" href="classItem__sum.html#ae3293817564e056d0d283194100b3d7c">Item_sum::cleanup</a>();</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;  }</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;<span class="comment">    Common implementation of Item_sum_or::add, Item_sum_and:add</span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="comment">    and Item_sum_xor::add.</span></div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;<span class="comment"></span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;<span class="comment">  /// @returns true iff this is BIT_AND.</span></div><div class="line"><a name="l01857"></a><span class="lineno"><a class="line" href="classItem__sum__bit.html#a9275d8b2d4d516e22f679492a83e7b01"> 1857</a></span>&#160;<span class="comment"></span>  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__bit.html#a9275d8b2d4d516e22f679492a83e7b01">is_and</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> reset_bits != 0; }</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="comment">    Accumulate the value of &#39;s1&#39; (if in string mode) or of &#39;b1&#39; (if in integer</span></div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;<span class="comment">    mode). Updates &#39;value_buff&#39; or &#39;bits&#39;.</span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment">    @param s1  argument to accumulate</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;<span class="comment">    @param b1  argument to accumulate</span></div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment">    @returns true if error</span></div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordtype">bool</span> add_bits(<span class="keyword">const</span> <a class="code" href="classString.html">String</a> *s1, <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> b1);</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;<span class="comment">    For windowing: perform inverse aggregation. &quot;De-accumulate&quot; the value of</span></div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;<span class="comment">    &#39;s1&#39; (if in string mode) or of &#39;b1&#39; (if in integer mode). Updates</span></div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;<span class="comment">    &#39;value_buff&#39; or &#39;bits&#39;.</span></div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;<span class="comment">    For BIT_XOR we simply apply XOR as it&#39;s its inverse operation. For BIT_OR</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;<span class="comment">    and BIT_AND we do the rest below.</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;<span class="comment">    For each bit in argument, decrement the corresponding bits&#39;s counter</span></div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;<span class="comment">    (&#39;m_digit_cnt&#39;) for that bit as follows: for BIT_AND, decrement the</span></div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;<span class="comment">    counter if we see a zero in that bit; for BIT_OR decrement the counter if</span></div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;<span class="comment">    we see a 1 in that bit.  Next, update &#39;value_buff&#39; or &#39;bits&#39; using the</span></div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="comment">    resulting counters: for each bit, for BIT_AND, set bit if we have counter</span></div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="comment">    == 0, i.e. we have no zero bits for that bit in the frame (yet).  For</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment">    BIT_OR, set bit if we have counter &gt; 0, i.e. at least one row in the frame</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment">    has that bit set.</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="comment">    @param  s1  the bits to be inverted from the aggregate value</span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">    @param  b1  the bits to be inverted from the aggregate value</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <span class="keywordtype">void</span> remove_bits(<span class="keyword">const</span> <a class="code" href="classString.html">String</a> *s1, <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> b1);</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;};</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;</div><div class="line"><a name="l01894"></a><span class="lineno"><a class="line" href="classItem__sum__or.html"> 1894</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__or.html">Item_sum_or</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a> {</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01896"></a><span class="lineno"><a class="line" href="classItem__sum__or.html#af5bb356e1370532fb745fa436289f3ff"> 1896</a></span>&#160;  <a class="code" href="classItem__sum__or.html#af5bb356e1370532fb745fa436289f3ff">Item_sum_or</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      : <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a>(pos, item_par, 0LL, w) {}</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;</div><div class="line"><a name="l01899"></a><span class="lineno"><a class="line" href="classItem__sum__or.html#ab1092dd372dc9d8a67bc03c8d6d060a6"> 1899</a></span>&#160;  <a class="code" href="classItem__sum__or.html#ab1092dd372dc9d8a67bc03c8d6d060a6">Item_sum_or</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__or.html">Item_sum_or</a> *item) : <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a>(thd, item) {}</div><div class="line"><a name="l01900"></a><span class="lineno"><a class="line" href="classItem__sum__or.html#ae7aa6be1a20b7737b9723b460d7061c4"> 1900</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__or.html#ae7aa6be1a20b7737b9723b460d7061c4">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;bit_or&quot;</span>; }</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;};</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"><a class="line" href="classItem__sum__and.html"> 1904</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__and.html">Item_sum_and</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a> {</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01906"></a><span class="lineno"><a class="line" href="classItem__sum__and.html#a0e5d856d0cb251dd672d2b740411cb9b"> 1906</a></span>&#160;  <a class="code" href="classItem__sum__and.html#a0e5d856d0cb251dd672d2b740411cb9b">Item_sum_and</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;      : <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a>(pos, item_par, ULLONG_MAX, w) {}</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div><div class="line"><a name="l01909"></a><span class="lineno"><a class="line" href="classItem__sum__and.html#a67846cc79e4ca64a1a0ee0d4f3e84ffd"> 1909</a></span>&#160;  <a class="code" href="classItem__sum__and.html#a67846cc79e4ca64a1a0ee0d4f3e84ffd">Item_sum_and</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__and.html">Item_sum_and</a> *item) : <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a>(thd, item) {}</div><div class="line"><a name="l01910"></a><span class="lineno"><a class="line" href="classItem__sum__and.html#ab1ce03cd915981b1ac30af614cc150df"> 1910</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__and.html#ab1ce03cd915981b1ac30af614cc150df">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;bit_and&quot;</span>; }</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;};</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;</div><div class="line"><a name="l01914"></a><span class="lineno"><a class="line" href="classItem__sum__xor.html"> 1914</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__xor.html">Item_sum_xor</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a> {</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01916"></a><span class="lineno"><a class="line" href="classItem__sum__xor.html#a644bf04ff0d0ffde292ec026aec717a7"> 1916</a></span>&#160;  <a class="code" href="classItem__sum__xor.html#a644bf04ff0d0ffde292ec026aec717a7">Item_sum_xor</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *item_par, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;      : <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a>(pos, item_par, 0LL, w) {</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    m_is_xor = <span class="keyword">true</span>;</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;  }</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;</div><div class="line"><a name="l01921"></a><span class="lineno"><a class="line" href="classItem__sum__xor.html#a65032780b1d27eb3119b7e0f79337131"> 1921</a></span>&#160;  <a class="code" href="classItem__sum__xor.html#a65032780b1d27eb3119b7e0f79337131">Item_sum_xor</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__xor.html">Item_sum_xor</a> *item) : <a class="code" href="classItem__sum__bit.html">Item_sum_bit</a>(thd, item) {}</div><div class="line"><a name="l01922"></a><span class="lineno"><a class="line" href="classItem__sum__xor.html#a94f7c97dae242d44c437d76387d8ff72"> 1922</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__sum__xor.html#a94f7c97dae242d44c437d76387d8ff72">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;bit_xor&quot;</span>; }</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;};</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">  User defined aggregates</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;</div><div class="line"><a name="l01930"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html"> 1930</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__udf__sum.html">Item_udf_sum</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l01931"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#adf5a36b38ba227dc9e8c010673b17c77"> 1931</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__udf__sum.html#adf5a36b38ba227dc9e8c010673b17c77">super</a>;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l01934"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#a1887d25cc0cd18bbb3c7910911c232b4"> 1934</a></span>&#160;  <a class="code" href="classudf__handler.html">udf_handler</a> <a class="code" href="classItem__udf__sum.html#a1887d25cc0cd18bbb3c7910911c232b4">udf</a>;</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01937"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#a7ef4acf9a78b0af389e5aba8e4dbc390"> 1937</a></span>&#160;  <a class="code" href="classItem__udf__sum.html#a7ef4acf9a78b0af389e5aba8e4dbc390">Item_udf_sum</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="structudf__func.html">udf_func</a> *udf_arg, <a class="code" href="classPT__item__list.html">PT_item_list</a> *opt_list)</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, opt_list, <a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>), udf(udf_arg) {</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    allow_group_via_temp_table = <span class="keyword">false</span>;</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  }</div><div class="line"><a name="l01941"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#ab657b69f8a23451a34d21cd6161b3cd6"> 1941</a></span>&#160;  <a class="code" href="classItem__udf__sum.html#ab657b69f8a23451a34d21cd6161b3cd6">Item_udf_sum</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a> *item)</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(thd, item), udf(item-&gt;udf) {</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    udf.<a class="code" href="classudf__handler.html#a65f1a1780d959d040f6aa582341734a1">m_original</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  }</div><div class="line"><a name="l01945"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#aa6398d4b7fbc16ecb272857d77eb8c86"> 1945</a></span>&#160;  <a class="code" href="classItem__udf__sum.html#aa6398d4b7fbc16ecb272857d77eb8c86">~Item_udf_sum</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">if</span> (udf.<a class="code" href="classudf__handler.html#a5152fd7ac55476b8ed2ac81fc12fc06b">is_initialized</a>()) udf.<a class="code" href="classudf__handler.html#ac54cd5d15c80505dd7cefc66c56b5919">free_handler</a>();</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  }</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="keywordtype">bool</span> itemize(<a class="code" href="structParse__context.html">Parse_context</a> *pc, <a class="code" href="classItem.html">Item</a> **res) <span class="keyword">override</span>;</div><div class="line"><a name="l01950"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#ae6f928893c9e58b6e9e718308e64eaee"> 1950</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__udf__sum.html#ae6f928893c9e58b6e9e718308e64eaee">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> udf.<a class="code" href="classudf__handler.html#a00b97e2e518ef49e3d51b8b523734ba4">name</a>(); }</div><div class="line"><a name="l01951"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#a6c78c6b3c95c7c18a968030073b5d19a"> 1951</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__udf__sum.html#a6c78c6b3c95c7c18a968030073b5d19a">fix_fields</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **ref)<span class="keyword"> override </span>{</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(fixed == 0);</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordflow">if</span> (init_sum_func_check(thd)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    fixed = <span class="keyword">true</span>;</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="keywordflow">if</span> (udf.<a class="code" href="classudf__handler.html#a66207d8b341e44708356100a1a988f6c">fix_fields</a>(thd, <span class="keyword">this</span>, this-&gt;arg_count, this-&gt;args)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    <span class="keywordflow">return</span> check_sum_func(thd, ref);</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  }</div><div class="line"><a name="l01961"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#af5a78b9ae3f28d0db325a93ae2ff0793"> 1961</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> UDF_SUM_FUNC; }</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l01965"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#a3ce13edf66f051a24e0c2077462717df"> 1965</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__udf__sum.html#a3ce13edf66f051a24e0c2077462717df">reset_field</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l01966"></a><span class="lineno"><a class="line" href="classItem__udf__sum.html#a2533f8096f5723043149d025c5454586"> 1966</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__udf__sum.html#a2533f8096f5723043149d025c5454586">update_field</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordtype">void</span> cleanup() <span class="keyword">override</span>;</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="mcstat_8c.html#aeb0a66a1106a1c0097d605cbcb19766d">print</a>(<span class="keyword">const</span> <a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classString.html">String</a> *str,</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;             <a class="code" href="enum__query__type_8h.html#a84267bb0a3694b1d41b6494868ce18ac">enum_query_type</a> query_type) <span class="keyword">const override</span>;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;};</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div><div class="line"><a name="l01972"></a><span class="lineno"><a class="line" href="classItem__sum__udf__float.html"> 1972</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__udf__float.html">Item_sum_udf_float</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a> {</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01974"></a><span class="lineno"><a class="line" href="classItem__sum__udf__float.html#ad99ac506e1fae538bf992d07cbe5c339"> 1974</a></span>&#160;  <a class="code" href="classItem__sum__udf__float.html#ad99ac506e1fae538bf992d07cbe5c339">Item_sum_udf_float</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="structudf__func.html">udf_func</a> *udf_arg, <a class="code" href="classPT__item__list.html">PT_item_list</a> *opt_list)</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      : <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a>(pos, udf_arg, opt_list) {}</div><div class="line"><a name="l01976"></a><span class="lineno"><a class="line" href="classItem__sum__udf__float.html#aaf2e188d32adf927af929e0515fb2cb8"> 1976</a></span>&#160;  <a class="code" href="classItem__sum__udf__float.html#aaf2e188d32adf927af929e0515fb2cb8">Item_sum_udf_float</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__udf__float.html">Item_sum_udf_float</a> *item)</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;      : <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a>(thd, item) {}</div><div class="line"><a name="l01978"></a><span class="lineno"><a class="line" href="classItem__sum__udf__float.html#a3f123e3f574f1a62fa69ffdee9ddcb85"> 1978</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classItem__sum__udf__float.html#a3f123e3f574f1a62fa69ffdee9ddcb85">val_int</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(fixed == 1);</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)rint(<a class="code" href="classItem__sum__udf__float.html#aa47efe79ad7939cea3def9c0eca68d8a">Item_sum_udf_float::val_real</a>());</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  }</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l01985"></a><span class="lineno"><a class="line" href="classItem__sum__udf__float.html#a7993206085a7f9a5194f3dd200fc7a66"> 1985</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__float.html#a7993206085a7f9a5194f3dd200fc7a66">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordflow">return</span> get_date_from_real(ltime, fuzzydate);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;  }</div><div class="line"><a name="l01988"></a><span class="lineno"><a class="line" href="classItem__sum__udf__float.html#ae0a2555d6f01f536d635b7b4774d8797"> 1988</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__float.html#ae0a2555d6f01f536d635b7b4774d8797">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">return</span> get_time_from_real(ltime);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;  }</div><div class="line"><a name="l01991"></a><span class="lineno"><a class="line" href="classItem__sum__udf__float.html#a165853995ebdecce7a9b182bb827233c"> 1991</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__float.html#a165853995ebdecce7a9b182bb827233c">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *)<span class="keyword"> override </span>{</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    set_data_type(<a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854ad4e0c04e294f1f9c060b9fb37646670f">MYSQL_TYPE_DOUBLE</a>);</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    fix_num_length_and_dec();</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  }</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;};</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;</div><div class="line"><a name="l01999"></a><span class="lineno"><a class="line" href="classItem__sum__udf__int.html"> 1999</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__udf__int.html">Item_sum_udf_int</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a> {</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02001"></a><span class="lineno"><a class="line" href="classItem__sum__udf__int.html#a9a29d09fbf8926f8dac108556082e965"> 2001</a></span>&#160;  <a class="code" href="classItem__sum__udf__int.html#a9a29d09fbf8926f8dac108556082e965">Item_sum_udf_int</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="structudf__func.html">udf_func</a> *udf_arg, <a class="code" href="classPT__item__list.html">PT_item_list</a> *opt_list)</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      : <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a>(pos, udf_arg, opt_list) {}</div><div class="line"><a name="l02003"></a><span class="lineno"><a class="line" href="classItem__sum__udf__int.html#a3516c52e06b53d22337de777fbe68254"> 2003</a></span>&#160;  <a class="code" href="classItem__sum__udf__int.html#a3516c52e06b53d22337de777fbe68254">Item_sum_udf_int</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__udf__int.html">Item_sum_udf_int</a> *item)</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;      : <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a>(thd, item) {}</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02006"></a><span class="lineno"><a class="line" href="classItem__sum__udf__int.html#af05ad30cf6f958a081641b0bbdc358bc"> 2006</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classItem__sum__udf__int.html#af05ad30cf6f958a081641b0bbdc358bc">val_real</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(fixed == 1);</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">double</span>)<a class="code" href="classItem__sum__udf__int.html#acccd8d74131246292830fc15d73de599">Item_sum_udf_int::val_int</a>();</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;  }</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02012"></a><span class="lineno"><a class="line" href="classItem__sum__udf__int.html#a1a10b600bfa9e714743588384f487394"> 2012</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__int.html#a1a10b600bfa9e714743588384f487394">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;    <span class="keywordflow">return</span> get_date_from_int(ltime, fuzzydate);</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  }</div><div class="line"><a name="l02015"></a><span class="lineno"><a class="line" href="classItem__sum__udf__int.html#a3b233cea4d16226d32e9a73c7515f348"> 2015</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__int.html#a3b233cea4d16226d32e9a73c7515f348">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> get_time_from_int(ltime); }</div><div class="line"><a name="l02016"></a><span class="lineno"><a class="line" href="classItem__sum__udf__int.html#a4637756182682b271dd0315d3ba4e7f2"> 2016</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c">INT_RESULT</a>; }</div><div class="line"><a name="l02017"></a><span class="lineno"><a class="line" href="classItem__sum__udf__int.html#a3af57e58b551f037138707d425401a43"> 2017</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__int.html#a3af57e58b551f037138707d425401a43">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *)<span class="keyword"> override </span>{</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    set_data_type_longlong();</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  }</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;};</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;</div><div class="line"><a name="l02024"></a><span class="lineno"><a class="line" href="classItem__sum__udf__str.html"> 2024</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__udf__str.html">Item_sum_udf_str</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a> {</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02026"></a><span class="lineno"><a class="line" href="classItem__sum__udf__str.html#afbd8d06712b0030cd4e50fb72c5ac096"> 2026</a></span>&#160;  <a class="code" href="classItem__sum__udf__str.html#afbd8d06712b0030cd4e50fb72c5ac096">Item_sum_udf_str</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="structudf__func.html">udf_func</a> *udf_arg, <a class="code" href="classPT__item__list.html">PT_item_list</a> *opt_list)</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      : <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a>(pos, udf_arg, opt_list) {}</div><div class="line"><a name="l02028"></a><span class="lineno"><a class="line" href="classItem__sum__udf__str.html#aa7fcb12b19353542dc2ba34075096840"> 2028</a></span>&#160;  <a class="code" href="classItem__sum__udf__str.html#aa7fcb12b19353542dc2ba34075096840">Item_sum_udf_str</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__udf__str.html">Item_sum_udf_str</a> *item)</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      : <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a>(thd, item) {}</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02031"></a><span class="lineno"><a class="line" href="classItem__sum__udf__str.html#a4c6cb07ad4d120b7463a022e00e684f8"> 2031</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classItem__sum__udf__str.html#a4c6cb07ad4d120b7463a022e00e684f8">val_real</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="keywordtype">int</span> err_not_used;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *end_not_used;</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;    <a class="code" href="classString.html">String</a> *res;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    res = val_str(&amp;<a class="code" href="test__status__var__service__reg__only_8cc.html#a4df9f0843338cac2e855f13a01f88485">str_value</a>);</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordflow">return</span> res ? <a class="code" href="m__ctype_8h.html#ac69c8b6e0ec6a09b1c13596fe97f02ee">my_strntod</a>(res-&gt;<a class="code" href="classString.html#adeb3c645da2b33173c87c97ea21aaaf9">charset</a>(), res-&gt;<a class="code" href="classString.html#a36e2d4a832274ed2718c9edf63041f08">ptr</a>(), res-&gt;<a class="code" href="classString.html#ad3b888edbfb3bab21d4bae4663d2211a">length</a>(),</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                            &amp;end_not_used, &amp;err_not_used)</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;               : 0.0;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  }</div><div class="line"><a name="l02040"></a><span class="lineno"><a class="line" href="classItem__sum__udf__str.html#acac42a4094150566643f74bf54d077b6"> 2040</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classItem__sum__udf__str.html#acac42a4094150566643f74bf54d077b6">val_int</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;    <span class="keywordtype">int</span> err_not_used;</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <a class="code" href="classString.html">String</a> *res;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keyword">const</span> <a class="code" href="structCHARSET__INFO.html">CHARSET_INFO</a> *cs;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">if</span> (!(res = val_str(&amp;<a class="code" href="test__status__var__service__reg__only_8cc.html#a4df9f0843338cac2e855f13a01f88485">str_value</a>))) <span class="keywordflow">return</span> 0; <span class="comment">/* Null value */</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    cs = res-&gt;<a class="code" href="classString.html#adeb3c645da2b33173c87c97ea21aaaf9">charset</a>();</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacerules__table__service.html#a71d6ca457fe4ae5d5151f92c06cc3fd3">end</a> = res-&gt;<a class="code" href="classString.html#a36e2d4a832274ed2718c9edf63041f08">ptr</a>() + res-&gt;<a class="code" href="classString.html#ad3b888edbfb3bab21d4bae4663d2211a">length</a>();</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <span class="keywordflow">return</span> cs-&gt;<a class="code" href="structCHARSET__INFO.html#aa3dd3461b180f806b3310c749ffa0c05">cset</a>-&gt;<a class="code" href="structMY__CHARSET__HANDLER.html#a0469deb77f36e31a045eb6863bd9eb21">strtoll10</a>(cs, res-&gt;<a class="code" href="classString.html#a36e2d4a832274ed2718c9edf63041f08">ptr</a>(), &amp;<a class="code" href="namespacerules__table__service.html#a71d6ca457fe4ae5d5151f92c06cc3fd3">end</a>, &amp;err_not_used);</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;  }</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="namespaceCounter.html#a797c2d7934585e10e3e7b548520c3a95">dec</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02051"></a><span class="lineno"><a class="line" href="classItem__sum__udf__str.html#a8124823ad0a145b77d006e01d8c019e3"> 2051</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__str.html#a8124823ad0a145b77d006e01d8c019e3">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    <span class="keywordflow">return</span> get_date_from_string(ltime, fuzzydate);</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  }</div><div class="line"><a name="l02054"></a><span class="lineno"><a class="line" href="classItem__sum__udf__str.html#a8210412a2523d39d0687d042c3d2f4b9"> 2054</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__str.html#a8210412a2523d39d0687d042c3d2f4b9">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keywordflow">return</span> get_time_from_string(ltime);</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  }</div><div class="line"><a name="l02057"></a><span class="lineno"><a class="line" href="classItem__sum__udf__str.html#a5ead9f4f8788fd896effa27577a293dc"> 2057</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a2f590d5f6111b8e455a2f28dfd6b2022">STRING_RESULT</a>; }</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;};</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div><div class="line"><a name="l02062"></a><span class="lineno"><a class="line" href="classItem__sum__udf__decimal.html"> 2062</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__sum__udf__decimal.html">Item_sum_udf_decimal</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a> {</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02064"></a><span class="lineno"><a class="line" href="classItem__sum__udf__decimal.html#a8a0fb9b5ea6c63f671326fe9916b2df2"> 2064</a></span>&#160;  <a class="code" href="classItem__sum__udf__decimal.html#a8a0fb9b5ea6c63f671326fe9916b2df2">Item_sum_udf_decimal</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="structudf__func.html">udf_func</a> *udf_arg,</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                       <a class="code" href="classPT__item__list.html">PT_item_list</a> *opt_list)</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;      : <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a>(pos, udf_arg, opt_list) {}</div><div class="line"><a name="l02067"></a><span class="lineno"><a class="line" href="classItem__sum__udf__decimal.html#acd2d5712aec11a1a9e14d9a27c5d570f"> 2067</a></span>&#160;  <a class="code" href="classItem__sum__udf__decimal.html#acd2d5712aec11a1a9e14d9a27c5d570f">Item_sum_udf_decimal</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__sum__udf__decimal.html">Item_sum_udf_decimal</a> *item)</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      : <a class="code" href="classItem__udf__sum.html">Item_udf_sum</a>(thd, item) {}</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02073"></a><span class="lineno"><a class="line" href="classItem__sum__udf__decimal.html#a181cc12bbb9577fadfa8064d81054447"> 2073</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__decimal.html#a181cc12bbb9577fadfa8064d81054447">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordflow">return</span> get_date_from_decimal(ltime, fuzzydate);</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  }</div><div class="line"><a name="l02076"></a><span class="lineno"><a class="line" href="classItem__sum__udf__decimal.html#a7dc5bb72ea4379dc6090652e9216da45"> 2076</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__decimal.html#a7dc5bb72ea4379dc6090652e9216da45">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;    <span class="keywordflow">return</span> get_time_from_decimal(ltime);</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  }</div><div class="line"><a name="l02079"></a><span class="lineno"><a class="line" href="classItem__sum__udf__decimal.html#ab8c255ca5f12ab289e331cdac3fce9e1"> 2079</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a55c848ba1769fae3522263c6350de23e">DECIMAL_RESULT</a>; }</div><div class="line"><a name="l02080"></a><span class="lineno"><a class="line" href="classItem__sum__udf__decimal.html#ace7881e135d1ba912b57e7d831ca5ff3"> 2080</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__sum__udf__decimal.html#ace7881e135d1ba912b57e7d831ca5ff3">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *)<span class="keyword"> override </span>{</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    set_data_type(<a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854abf1e0aa5e259fe4d630043c94f6f693a">MYSQL_TYPE_NEWDECIMAL</a>);</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    fix_num_length_and_dec();</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  }</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;};</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;<span class="keywordtype">int</span> <a class="code" href="item__sum_8h.html#a472c419ab553899eb8a8f2645f4c55be">group_concat_key_cmp_with_distinct</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *arg, <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="hp__test2_8cc.html#a39586bf0934bc10a56cedbf340aded85">key1</a>,</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                                       <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="mi__test2_8cc.html#af8cb0fe63d8fb11a50d3dc772d004576">key2</a>);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;<span class="keywordtype">int</span> <a class="code" href="item__sum_8h.html#a53a52a3ef588f2b7cfd0a612b6d374da">group_concat_key_cmp_with_order</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *arg, <span class="keyword">const</span> <span class="keywordtype">void</span> *key1,</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;                                    <span class="keyword">const</span> <span class="keywordtype">void</span> *key2);</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;<span class="keywordtype">int</span> <a class="code" href="item__sum_8h.html#a2262f61b863186f76a023670ded48bc4">dump_leaf_key</a>(<span class="keywordtype">void</span> *key_arg, <a class="code" href="my__tree_8h.html#af1a923de24cf7c281b86cf7490523c65">element_count</a> <a class="code" href="memcached_8c.html#a9e8f65e2f04446eb0a2f098411dacf9b">count</a> MY_ATTRIBUTE((unused)),</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;                  <span class="keywordtype">void</span> *item_arg);</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html"> 2095</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__func__group__concat.html">Item_func_group_concat</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l02096"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a38003b0679510375e05932ee190bcfce"> 2096</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__func__group__concat.html#a38003b0679510375e05932ee190bcfce">super</a>;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;</div><div class="line"><a name="l02098"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a97c7f3a3695fc7dd9eb62a6cb937912f"> 2098</a></span>&#160;  <a class="code" href="classTemp__table__param.html">Temp_table_param</a> *<a class="code" href="classItem__func__group__concat.html#a97c7f3a3695fc7dd9eb62a6cb937912f">tmp_table_param</a>;</div><div class="line"><a name="l02099"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a05bbed8ce1ede4d40fa84452b2707188"> 2099</a></span>&#160;  <a class="code" href="classString.html">String</a> <a class="code" href="classItem__func__group__concat.html#a05bbed8ce1ede4d40fa84452b2707188">result</a>;</div><div class="line"><a name="l02100"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#aee6ece6fc19a8d1d3d16f5b7b97abf1c"> 2100</a></span>&#160;  <a class="code" href="classString.html">String</a> *<a class="code" href="classItem__func__group__concat.html#aee6ece6fc19a8d1d3d16f5b7b97abf1c">separator</a>;</div><div class="line"><a name="l02101"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a7fe63418cc5879d4bb020b1d16e3a4a0"> 2101</a></span>&#160;  <a class="code" href="structTREE.html">TREE</a> <a class="code" href="classItem__func__group__concat.html#a7fe63418cc5879d4bb020b1d16e3a4a0">tree_base</a>;</div><div class="line"><a name="l02102"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#aae5594862c933f20c11fbcf2ae458e42"> 2102</a></span>&#160;  <a class="code" href="structTREE.html">TREE</a> *<a class="code" href="classItem__func__group__concat.html#aae5594862c933f20c11fbcf2ae458e42">tree</a>;</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="comment">     If DISTINCT is used with this GROUP_CONCAT, this member is used to filter</span></div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;<span class="comment">     out duplicates.</span></div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;<span class="comment">     @see Item_func_group_concat::setup</span></div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;<span class="comment">     @see Item_func_group_concat::add</span></div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;<span class="comment">     @see Item_func_group_concat::clear</span></div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l02111"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a63d4584ec7c1d08f7847f7f842dcdf0f"> 2111</a></span>&#160;  <a class="code" href="classUnique.html">Unique</a> *<a class="code" href="classItem__func__group__concat.html#a63d4584ec7c1d08f7847f7f842dcdf0f">unique_filter</a>;</div><div class="line"><a name="l02112"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a463cd6b5921d42986e3b67eee959648a"> 2112</a></span>&#160;  <a class="code" href="structTABLE.html">TABLE</a> *<a class="code" href="classItem__func__group__concat.html#a463cd6b5921d42986e3b67eee959648a">table</a>;</div><div class="line"><a name="l02113"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a70eddab1877535e7ac62d0a2e1507dda"> 2113</a></span>&#160;  <a class="code" href="classMem__root__array.html">Mem_root_array&lt;ORDER&gt;</a> <a class="code" href="classItem__func__group__concat.html#a70eddab1877535e7ac62d0a2e1507dda">order_array</a>;</div><div class="line"><a name="l02114"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#ac6f535ab3312a4d9d5b22d42860605d6"> 2114</a></span>&#160;  <a class="code" href="structName__resolution__context.html">Name_resolution_context</a> *<a class="code" href="classItem__func__group__concat.html#ac6f535ab3312a4d9d5b22d42860605d6">context</a>;<span class="comment"></span></div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;<span class="comment">  /** The number of ORDER BY items. */</span></div><div class="line"><a name="l02116"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a06e9ff13fd6412c7d239f784a61975e5"> 2116</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__func__group__concat.html#a06e9ff13fd6412c7d239f784a61975e5">arg_count_order</a>;<span class="comment"></span></div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;<span class="comment">  /** The number of selected items, aka the expr list. */</span></div><div class="line"><a name="l02118"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a2be4ee1ad9019ae24098e69a4ec83950"> 2118</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__func__group__concat.html#a2be4ee1ad9019ae24098e69a4ec83950">arg_count_field</a>;</div><div class="line"><a name="l02119"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a233e0daab849c8515c62c6189b94ee84"> 2119</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__func__group__concat.html#a233e0daab849c8515c62c6189b94ee84">row_count</a>;<span class="comment"></span></div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;<span class="comment">  /** The maximum permitted result length in bytes as set for</span></div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;<span class="comment">      group_concat_max_len system variable */</span></div><div class="line"><a name="l02122"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#ade262cd849ac19052408b7fa4b285569"> 2122</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__func__group__concat.html#ade262cd849ac19052408b7fa4b285569">group_concat_max_len</a>;</div><div class="line"><a name="l02123"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a3c8639dab3e33310b6147b35fc59088d"> 2123</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#a3c8639dab3e33310b6147b35fc59088d">distinct</a>;</div><div class="line"><a name="l02124"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#aed67d50347c25c7630dcfcdc56679fcf"> 2124</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#aed67d50347c25c7630dcfcdc56679fcf">warning_for_row</a>;</div><div class="line"><a name="l02125"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a97349d7d7aae07b9f934a7e3246f9160"> 2125</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#a97349d7d7aae07b9f934a7e3246f9160">always_null</a>;</div><div class="line"><a name="l02126"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a540f749b22e17abeb7a206bce4b26a26"> 2126</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#a540f749b22e17abeb7a206bce4b26a26">force_copy_fields</a>;<span class="comment"></span></div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;<span class="comment">  /** True if result has been written to output buffer. */</span></div><div class="line"><a name="l02128"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a04f9be30e72e9f7a34e3fbfda057a322"> 2128</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#a04f9be30e72e9f7a34e3fbfda057a322">m_result_finalized</a>;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;<span class="comment">    Following is 0 normal object and pointer to original one for copy</span></div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;<span class="comment">    (to correctly free resources)</span></div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l02133"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a0aab5e57cf7e6c6bc2d38e4ec6d647fc"> 2133</a></span>&#160;  <a class="code" href="classItem__func__group__concat.html">Item_func_group_concat</a> *<a class="code" href="classItem__func__group__concat.html#a0aab5e57cf7e6c6bc2d38e4ec6d647fc">original</a>;</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;  <span class="keyword">friend</span> <span class="keywordtype">int</span> <a class="code" href="item__sum_8h.html#a472c419ab553899eb8a8f2645f4c55be">group_concat_key_cmp_with_distinct</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *arg,</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                                                <span class="keyword">const</span> <span class="keywordtype">void</span> *key1,</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                                                <span class="keyword">const</span> <span class="keywordtype">void</span> *key2);</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;  <span class="keyword">friend</span> <span class="keywordtype">int</span> <a class="code" href="item__sum_8h.html#a53a52a3ef588f2b7cfd0a612b6d374da">group_concat_key_cmp_with_order</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *arg, <span class="keyword">const</span> <span class="keywordtype">void</span> *key1,</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                                             <span class="keyword">const</span> <span class="keywordtype">void</span> *key2);</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keyword">friend</span> <span class="keywordtype">int</span> <a class="code" href="item__sum_8h.html#a2262f61b863186f76a023670ded48bc4">dump_leaf_key</a>(<span class="keywordtype">void</span> *key_arg,</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;                           <a class="code" href="my__tree_8h.html#af1a923de24cf7c281b86cf7490523c65">element_count</a> <a class="code" href="memcached_8c.html#a9e8f65e2f04446eb0a2f098411dacf9b">count</a> MY_ATTRIBUTE((unused)),</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;                           <span class="keywordtype">void</span> *item_arg);</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;  <a class="code" href="classItem__func__group__concat.html">Item_func_group_concat</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <span class="keywordtype">bool</span> is_distinct,</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;                         <a class="code" href="classPT__item__list.html">PT_item_list</a> *select_list,</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;                         <a class="code" href="classPT__order__list.html">PT_order_list</a> *opt_order_list, <a class="code" href="classString.html">String</a> *separator,</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;                         <a class="code" href="classPT__window.html">PT_window</a> *w);</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <a class="code" href="classItem__func__group__concat.html">Item_func_group_concat</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__func__group__concat.html">Item_func_group_concat</a> *item);</div><div class="line"><a name="l02151"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#af2d41cac715a0ba3b24dc9881a71140e"> 2151</a></span>&#160;  <a class="code" href="classItem__func__group__concat.html#af2d41cac715a0ba3b24dc9881a71140e">~Item_func_group_concat</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(original != <span class="keyword">nullptr</span> || unique_filter == <span class="keyword">nullptr</span>);</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;  }</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordtype">bool</span> itemize(<a class="code" href="structParse__context.html">Parse_context</a> *pc, <a class="code" href="classItem.html">Item</a> **res) <span class="keyword">override</span>;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  <span class="keywordtype">void</span> cleanup() <span class="keyword">override</span>;</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;</div><div class="line"><a name="l02158"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a520d21800ab3568e00b04624721b68b8"> 2158</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> GROUP_CONCAT_FUNC; }</div><div class="line"><a name="l02159"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a162b0c2a8e38940a015cfaaba5cf7355"> 2159</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__func__group__concat.html#a162b0c2a8e38940a015cfaaba5cf7355">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;group_concat&quot;</span>; }</div><div class="line"><a name="l02160"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#aa649691e64adc6cac9f26e33fa5e9df5"> 2160</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__func__group__concat.html#aa649691e64adc6cac9f26e33fa5e9df5">result_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a2f590d5f6111b8e455a2f28dfd6b2022">STRING_RESULT</a>; }</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;  <a class="code" href="classField.html">Field</a> *make_string_field(<a class="code" href="structTABLE.html">TABLE</a> *table_arg) <span class="keyword">const override</span>;</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">add</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02164"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#ad2a91ce1150afc37aaf9aa3aadb71c7e"> 2164</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__func__group__concat.html#ad2a91ce1150afc37aaf9aa3aadb71c7e">reset_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(0); }   <span class="comment">// not used</span></div><div class="line"><a name="l02165"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a842daab4232030185c306066709cfc13"> 2165</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__func__group__concat.html#a842daab4232030185c306066709cfc13">update_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(0); }  <span class="comment">// not used</span></div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *, <a class="code" href="classItem.html">Item</a> **) <span class="keyword">override</span>;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classAggregator.html#afcde359558a43054f7812a72498a263f">setup</a>(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;  <span class="keywordtype">void</span> make_unique() <span class="keyword">override</span>;</div><div class="line"><a name="l02169"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a4a2ea3905c84059683b1420cf1931151"> 2169</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classItem__func__group__concat.html#a4a2ea3905c84059683b1420cf1931151">val_real</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <a class="code" href="classString.html">String</a> *res;</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    res = val_str(&amp;<a class="code" href="test__status__var__service__reg__only_8cc.html#a4df9f0843338cac2e855f13a01f88485">str_value</a>);</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="keywordflow">return</span> res ? <a class="code" href="m__string_8h.html#a8b40462840eb1560e87307d1623d8b81">my_atof</a>(res-&gt;<a class="code" href="classString.html#aeaf7246f97fb6eca08e3ef1fadf6a7d4">c_ptr</a>()) : 0.0;</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  }</div><div class="line"><a name="l02174"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a0da7f7a5bc6e5cbd753656386328e6d1"> 2174</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classItem__func__group__concat.html#a0da7f7a5bc6e5cbd753656386328e6d1">val_int</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;    <a class="code" href="classString.html">String</a> *res;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="udf__utils_8h.html#a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282">error</a>;</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;    <span class="keywordflow">if</span> (!(res = val_str(&amp;<a class="code" href="test__status__var__service__reg__only_8cc.html#a4df9f0843338cac2e855f13a01f88485">str_value</a>))) <span class="keywordflow">return</span> (<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>)0;</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *end_ptr = res-&gt;<a class="code" href="classString.html#a36e2d4a832274ed2718c9edf63041f08">ptr</a>() + res-&gt;<a class="code" href="classString.html#ad3b888edbfb3bab21d4bae4663d2211a">length</a>();</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="m__string_8h.html#a68c90461b12e5536fae6dcbae032fc96">my_strtoll10</a>(res-&gt;<a class="code" href="classString.html#a36e2d4a832274ed2718c9edf63041f08">ptr</a>(), &amp;end_ptr, &amp;<a class="code" href="udf__utils_8h.html#a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282">error</a>);</div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  }</div><div class="line"><a name="l02181"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#ad6e5b67f378f70bdac69e97395613336"> 2181</a></span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="classItem__func__group__concat.html#ad6e5b67f378f70bdac69e97395613336">val_decimal</a>(<a class="code" href="classmy__decimal.html">my_decimal</a> *decimal_value)<span class="keyword"> override </span>{</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keywordflow">return</span> val_decimal_from_string(decimal_value);</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  }</div><div class="line"><a name="l02184"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a5c414389eba2659c7fd49380879c7dd7"> 2184</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#a5c414389eba2659c7fd49380879c7dd7">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">return</span> get_date_from_string(ltime, fuzzydate);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  }</div><div class="line"><a name="l02187"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#ade5da4ab7e95817c311bfdd65d8162bd"> 2187</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#ade5da4ab7e95817c311bfdd65d8162bd">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <span class="keywordflow">return</span> get_time_from_string(ltime);</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;  }</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  <a class="code" href="classItem.html">Item</a> *copy_or_same(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02192"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a6dc29f1a7e03590a5642d72dcef267a4"> 2192</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__func__group__concat.html#a6dc29f1a7e03590a5642d72dcef267a4">no_rows_in_result</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="mcstat_8c.html#aeb0a66a1106a1c0097d605cbcb19766d">print</a>(<span class="keyword">const</span> <a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classString.html">String</a> *str,</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;             <a class="code" href="enum__query__type_8h.html#a84267bb0a3694b1d41b6494868ce18ac">enum_query_type</a> query_type) <span class="keyword">const override</span>;</div><div class="line"><a name="l02195"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#a33003d7469e78d6f5cb93d7232702e90"> 2195</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#a33003d7469e78d6f5cb93d7232702e90">change_context_processor</a>(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg)<span class="keyword"> override </span>{</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;    context = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structItem__ident_1_1Change__context.html">Item_ident::Change_context</a> *<span class="keyword">&gt;</span>(arg)-&gt;m_context;</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  }</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;</div><div class="line"><a name="l02200"></a><span class="lineno"><a class="line" href="classItem__func__group__concat.html#af62d533d9022821779be8bc387289fc6"> 2200</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__func__group__concat.html#af62d533d9022821779be8bc387289fc6">check_wf_semantics1</a>(<a class="code" href="classTHD.html">THD</a> *, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *,</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *)<span class="keyword"> override </span>{</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;    unsupported_as_wf();</div><div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;  }</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;};</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;<span class="comment">  Common parent class for window functions that always work on the entire</span></div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;<span class="comment">  partition, even if a frame is defined.</span></div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;<span class="comment">  The subclasses can be divided in two disjoint sub-categories:</span></div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;<span class="comment">     - one-pass</span></div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;<span class="comment">     - two-pass (requires partition cardinality to be evaluated)</span></div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;<span class="comment">  cf. method needs_card.</span></div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02216"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html"> 2216</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l02217"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a3888430800a03914d6123fbd15ebb6b3"> 2217</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__non__framing__wf.html#a3888430800a03914d6123fbd15ebb6b3">super</a>;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02220"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a003ee10a35896b48a03db885b706e74b"> 2220</a></span>&#160;  <a class="code" href="classItem__non__framing__wf.html#a003ee10a35896b48a03db885b706e74b">Item_non_framing_wf</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__window.html">PT_window</a> *w) : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, w) {}</div><div class="line"><a name="l02221"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a2c1f587e20d40909c7d6de3903e00def"> 2221</a></span>&#160;  <a class="code" href="classItem__non__framing__wf.html#a2c1f587e20d40909c7d6de3903e00def">Item_non_framing_wf</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *a, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, a, w) {}</div><div class="line"><a name="l02223"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a31478f0b39c7ec562943dfda93094374"> 2223</a></span>&#160;  <a class="code" href="classItem__non__framing__wf.html#a31478f0b39c7ec562943dfda93094374">Item_non_framing_wf</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__item__list.html">PT_item_list</a> *opt_list, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, opt_list, w) {}</div><div class="line"><a name="l02225"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a580c76992d1d60c51f2d92b697a43300"> 2225</a></span>&#160;  <a class="code" href="classItem__non__framing__wf.html#a580c76992d1d60c51f2d92b697a43300">Item_non_framing_wf</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> *i) : <a class="code" href="classItem__sum.html">Item_sum</a>(thd, i) {}</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;</div><div class="line"><a name="l02227"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a6477981f1ac6daabc34ae8429b8ca7a8"> 2227</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__non__framing__wf.html#a6477981f1ac6daabc34ae8429b8ca7a8">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate)<span class="keyword"> override </span>{</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <span class="keywordflow">return</span> get_date_from_numeric(ltime, fuzzydate);</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  }</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;</div><div class="line"><a name="l02231"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a102d89e87367c0ece2362e793d06d551"> 2231</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__non__framing__wf.html#a102d89e87367c0ece2362e793d06d551">get_time</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime)<span class="keyword"> override </span>{</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    <span class="keywordflow">return</span> get_time_from_numeric(ltime);</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  }</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;</div><div class="line"><a name="l02235"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a7620f9b90e587ff12d3089e700b825db"> 2235</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__non__framing__wf.html#a7620f9b90e587ff12d3089e700b825db">reset_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>); }</div><div class="line"><a name="l02236"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a659e4a7e5905fec7dd5ed311be997f88"> 2236</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__non__framing__wf.html#a659e4a7e5905fec7dd5ed311be997f88">update_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>); }</div><div class="line"><a name="l02237"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#a00440651a96b1eac6692fd258e413b58"> 2237</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__non__framing__wf.html#a00440651a96b1eac6692fd258e413b58">add</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;  }</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **<a class="code" href="structitems.html">items</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;</div><div class="line"><a name="l02244"></a><span class="lineno"><a class="line" href="classItem__non__framing__wf.html#aba73a14879c20e7381ef5ace2c07cd68"> 2244</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__non__framing__wf.html#aba73a14879c20e7381ef5ace2c07cd68">framing</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;};</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;<span class="comment">  ROW_NUMBER window function, cf. SQL 2003 Section 6.10 &lt;window function&gt;</span></div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02250"></a><span class="lineno"><a class="line" href="classItem__row__number.html"> 2250</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__row__number.html">Item_row_number</a> : <span class="keyword">public</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> {</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  <span class="comment">// Execution state variables</span></div><div class="line"><a name="l02252"></a><span class="lineno"><a class="line" href="classItem__row__number.html#a01345de8f1c09c5b98a751c678313277"> 2252</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__row__number.html#a01345de8f1c09c5b98a751c678313277">m_ctr</a>;  <span class="comment">///&lt; Increment for each row in partition</span></div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02255"></a><span class="lineno"><a class="line" href="classItem__row__number.html#a80c3aaa1430c74d0b55fc776d569cb43"> 2255</a></span>&#160;  <a class="code" href="classItem__row__number.html#a80c3aaa1430c74d0b55fc776d569cb43">Item_row_number</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;      : <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a>(pos, w), m_ctr(0) {</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;    unsigned_flag = <span class="keyword">true</span>;</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;  }</div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;</div><div class="line"><a name="l02260"></a><span class="lineno"><a class="line" href="classItem__row__number.html#a7ea27307a7ef3724a2945cd47f6e8897"> 2260</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__row__number.html#a7ea27307a7ef3724a2945cd47f6e8897">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;row_number&quot;</span>; }</div><div class="line"><a name="l02261"></a><span class="lineno"><a class="line" href="classItem__row__number.html#a1484c5cc2a7807c14d3654b7dffcb965"> 2261</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> ROW_NUMBER_FUNC; }</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;</div><div class="line"><a name="l02263"></a><span class="lineno"><a class="line" href="classItem__row__number.html#a0752db59dc5ec62390b8a218e1e82b94"> 2263</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__row__number.html#a0752db59dc5ec62390b8a218e1e82b94">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *thd MY_ATTRIBUTE((unused)))<span class="keyword"> override </span>{</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    set_data_type_longlong();</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  }</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *buff) <span class="keyword">override</span>;</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;</div><div class="line"><a name="l02275"></a><span class="lineno"><a class="line" href="classItem__row__number.html#a9e224bbf035bbebea44f367dee8b4f5b"> 2275</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__row__number.html#a9e224bbf035bbebea44f367dee8b4f5b">result_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c">INT_RESULT</a>; }</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;</div><div class="line"><a name="l02277"></a><span class="lineno"><a class="line" href="classItem__row__number.html#a6f3e63c6d36ddbfabb9745ee62081a13"> 2277</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__row__number.html#a6f3e63c6d36ddbfabb9745ee62081a13">check_wf_semantics1</a>(<a class="code" href="classTHD.html">THD</a> *, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *,</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *)<span class="keyword"> override </span>{</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;  }</div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;};</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;<span class="comment">  RANK or DENSE_RANK window function, cf. SQL 2003 Section 6.10 &lt;window</span></div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;<span class="comment">  function&gt;</span></div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02287"></a><span class="lineno"><a class="line" href="classItem__rank.html"> 2287</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__rank.html">Item_rank</a> : <span class="keyword">public</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> {</div><div class="line"><a name="l02288"></a><span class="lineno"><a class="line" href="classItem__rank.html#aff11d695dbb33be897837b3a030670c5"> 2288</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> <a class="code" href="classItem__rank.html#aff11d695dbb33be897837b3a030670c5">super</a>;</div><div class="line"><a name="l02289"></a><span class="lineno"><a class="line" href="classItem__rank.html#a40e4cab4ad1891e1ec4b0970c021b5a2"> 2289</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__rank.html#a40e4cab4ad1891e1ec4b0970c021b5a2">m_dense</a>;  <span class="comment">///&lt; If true, the object represents DENSE_RANK</span></div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;<span class="comment"></span>  <span class="comment">// Execution state variables</span></div><div class="line"><a name="l02291"></a><span class="lineno"><a class="line" href="classItem__rank.html#ab65b1b78a912ef9d958c05a038ca9c89"> 2291</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__rank.html#ab65b1b78a912ef9d958c05a038ca9c89">m_rank_ctr</a>;    <span class="comment">///&lt; Increment when window order columns change</span></div><div class="line"><a name="l02292"></a><span class="lineno"><a class="line" href="classItem__rank.html#a3ce5249822bc4344277bad01c186a06a"> 2292</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__rank.html#a3ce5249822bc4344277bad01c186a06a">m_duplicates</a>;  <span class="comment">///&lt; Needed to make RANK different from DENSE_RANK</span></div><div class="line"><a name="l02293"></a><span class="lineno"><a class="line" href="classItem__rank.html#aae4e5acedf9bf284f51a868ae7335ee9"> 2293</a></span>&#160;<span class="comment"></span>  <a class="code" href="classList.html">List&lt;Cached_item&gt;</a> <a class="code" href="classItem__rank.html#aae4e5acedf9bf284f51a868ae7335ee9">m_previous</a>;  <span class="comment">///&lt; Values of previous row&#39;s ORDER BY items</span></div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;<span class="comment"></span> <span class="keyword">public</span>:</div><div class="line"><a name="l02295"></a><span class="lineno"><a class="line" href="classItem__rank.html#a89d6ec8452cbe75156f3ab23a298068c"> 2295</a></span>&#160;  <a class="code" href="classItem__rank.html#a89d6ec8452cbe75156f3ab23a298068c">Item_rank</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <span class="keywordtype">bool</span> dense, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;      : <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a>(pos, w),</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        m_dense(dense),</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        m_rank_ctr(0),</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        m_duplicates(0),</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        m_previous()</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;  {</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;    unsigned_flag = <span class="keyword">true</span>;</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;  }</div><div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;  ~<a class="code" href="classItem__rank.html">Item_rank</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;</div><div class="line"><a name="l02308"></a><span class="lineno"><a class="line" href="classItem__rank.html#a09c4a858819cbc39ce41e163f4037506"> 2308</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__rank.html#a09c4a858819cbc39ce41e163f4037506">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    <span class="keywordflow">return</span> m_dense ? <span class="stringliteral">&quot;dense_rank&quot;</span> : <span class="stringliteral">&quot;rank&quot;</span>;</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;  }</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div><div class="line"><a name="l02312"></a><span class="lineno"><a class="line" href="classItem__rank.html#a5d1f078a8445451ca3e9350de1707289"> 2312</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;    <span class="keywordflow">return</span> m_dense ? DENSE_RANK_FUNC : RANK_FUNC;</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  }</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;</div><div class="line"><a name="l02316"></a><span class="lineno"><a class="line" href="classItem__rank.html#a69705efa48936918f8101c41ba56de7f"> 2316</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__rank.html#a69705efa48936918f8101c41ba56de7f">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *thd MY_ATTRIBUTE((unused)))<span class="keyword"> override </span>{</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;    set_data_type_longlong();</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  }</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *buff) <span class="keyword">override</span>;</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;<span class="comment"></span></div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;<span class="comment">    Clear state for a new partition</span></div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02332"></a><span class="lineno"><a class="line" href="classItem__rank.html#a26550dc41387237d7fe458dfa77839bb"> 2332</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__rank.html#a26550dc41387237d7fe458dfa77839bb">result_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c">INT_RESULT</a>; }</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;};</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="comment">  CUME_DIST window function, cf. SQL 2003 Section 6.10 &lt;window function&gt;</span></div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02338"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html"> 2338</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__cume__dist.html">Item_cume_dist</a> : <span class="keyword">public</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> {</div><div class="line"><a name="l02339"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html#a160e73d688648371cfb36b935fddb936"> 2339</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> <a class="code" href="classItem__cume__dist.html#a160e73d688648371cfb36b935fddb936">super</a>;</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02342"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html#a093c5054f4cedd0c46179260c93efe77"> 2342</a></span>&#160;  <a class="code" href="classItem__cume__dist.html#a093c5054f4cedd0c46179260c93efe77">Item_cume_dist</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__window.html">PT_window</a> *w) : <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a>(pos, w) {}</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;</div><div class="line"><a name="l02344"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html#aab7d4b5d0ac0d92917dd5ed4607c8c6d"> 2344</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__cume__dist.html#aab7d4b5d0ac0d92917dd5ed4607c8c6d">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;cume_dist&quot;</span>; }</div><div class="line"><a name="l02345"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html#a4f3b85957b7be4d6af3da1cf2c760d7c"> 2345</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> CUME_DIST_FUNC; }</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;</div><div class="line"><a name="l02347"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html#abfefc4858cb7968d328d6079026f0a68"> 2347</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__cume__dist.html#abfefc4858cb7968d328d6079026f0a68">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *thd MY_ATTRIBUTE((unused)))<span class="keyword"> override </span>{</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    set_data_type_double();</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;  }</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div><div class="line"><a name="l02355"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html#a4e2d15178d0467a565ed91aa02f2c05a"> 2355</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__cume__dist.html#a4e2d15178d0467a565ed91aa02f2c05a">needs_card</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l02356"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html#a6c8ba4b28e0e1c89ff4923b578068e11"> 2356</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__cume__dist.html#a6c8ba4b28e0e1c89ff4923b578068e11">clear</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02361"></a><span class="lineno"><a class="line" href="classItem__cume__dist.html#af456148513bbc7d46d38b24d93f14d3f"> 2361</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__cume__dist.html#af456148513bbc7d46d38b24d93f14d3f">result_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a8abdf3ddb05d5f0331210fc03d584ae3">REAL_RESULT</a>; }</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;};</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;<span class="comment">  PERCENT_RANK window function, cf. SQL 2003 Section 6.10 &lt;window function&gt;</span></div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02367"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html"> 2367</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__percent__rank.html">Item_percent_rank</a> : <span class="keyword">public</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> {</div><div class="line"><a name="l02368"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a7dea7263a85f606ff85d109c64cb816a"> 2368</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> <a class="code" href="classItem__percent__rank.html#a7dea7263a85f606ff85d109c64cb816a">super</a>;</div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="comment">// Execution state variables</span></div><div class="line"><a name="l02370"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a306243bbaaa0a24ca347616e6836e643"> 2370</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__percent__rank.html#a306243bbaaa0a24ca347616e6836e643">m_rank_ctr</a>;  <span class="comment">///&lt; Increment when window order columns change</span></div><div class="line"><a name="l02371"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a787dcc571133a756d17ea533a1f8a774"> 2371</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classItem__percent__rank.html#a787dcc571133a756d17ea533a1f8a774">m_peers</a>;     <span class="comment">///&lt; Needed to make PERCENT_RANK same for peers</span></div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;<span class="comment"></span><span class="comment">  /**</span></div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;<span class="comment">    Set when the last peer has been visited. Needed to increment m_rank_ctr.</span></div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l02375"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#aab601dc333001f2012903a44a8ddd4a8"> 2375</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__percent__rank.html#aab601dc333001f2012903a44a8ddd4a8">m_last_peer_visited</a>;</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02378"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a14d6462e56733c86ee344f06ed3739f8"> 2378</a></span>&#160;  <a class="code" href="classItem__percent__rank.html#a14d6462e56733c86ee344f06ed3739f8">Item_percent_rank</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;      : <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a>(pos, w),</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;        m_rank_ctr(0),</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;        m_peers(0),</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        m_last_peer_visited(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  ~<a class="code" href="classItem__percent__rank.html">Item_percent_rank</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02385"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a9d4127371b06c00ab9e5fc6e5e14f859"> 2385</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__percent__rank.html#a9d4127371b06c00ab9e5fc6e5e14f859">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;percent_rank&quot;</span>; }</div><div class="line"><a name="l02386"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a86db6603ba1ccbef17b92646c14df59a"> 2386</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> PERCENT_RANK_FUNC; }</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;</div><div class="line"><a name="l02388"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a839269db48f29a6684616a5103bd2079"> 2388</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__percent__rank.html#a839269db48f29a6684616a5103bd2079">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *thd MY_ATTRIBUTE((unused)))<span class="keyword"> override </span>{</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    set_data_type_double();</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  }</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02395"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a1d6afe6022e494c8c6945d8b2c7c1fd9"> 2395</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__percent__rank.html#a1d6afe6022e494c8c6945d8b2c7c1fd9">needs_card</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02402"></a><span class="lineno"><a class="line" href="classItem__percent__rank.html#a37e3a84c12411d080508e798195c574f"> 2402</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__percent__rank.html#a37e3a84c12411d080508e798195c574f">result_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a8abdf3ddb05d5f0331210fc03d584ae3">REAL_RESULT</a>; }</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;};</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;<span class="comment">  NTILE window function, cf. SQL 2011 Section 6.10 &lt;window function&gt;</span></div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02408"></a><span class="lineno"><a class="line" href="classItem__ntile.html"> 2408</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__ntile.html">Item_ntile</a> : <span class="keyword">public</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> {</div><div class="line"><a name="l02409"></a><span class="lineno"><a class="line" href="classItem__ntile.html#a245054dcdba6e7a7caa9c9369f9bd9b7"> 2409</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> <a class="code" href="classItem__ntile.html#a245054dcdba6e7a7caa9c9369f9bd9b7">super</a>;</div><div class="line"><a name="l02410"></a><span class="lineno"><a class="line" href="classItem__ntile.html#a9b72e6acc73d1b060f8aba046653a5e7"> 2410</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classItem__ntile.html#a9b72e6acc73d1b060f8aba046653a5e7">m_value</a>;</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02413"></a><span class="lineno"><a class="line" href="classItem__ntile.html#ad5ef0bb6619f9faa70c7d75c33ce4176"> 2413</a></span>&#160;  <a class="code" href="classItem__ntile.html#ad5ef0bb6619f9faa70c7d75c33ce4176">Item_ntile</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classItem.html">Item</a> *a, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;      : <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a>(pos, a, w), m_value(0) {</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    unsigned_flag = <span class="keyword">true</span>;</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  }</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;</div><div class="line"><a name="l02418"></a><span class="lineno"><a class="line" href="classItem__ntile.html#aa2a832c5471f878b47918e9554ba85ec"> 2418</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__ntile.html#aa2a832c5471f878b47918e9554ba85ec">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;ntile&quot;</span>; }</div><div class="line"><a name="l02419"></a><span class="lineno"><a class="line" href="classItem__ntile.html#adab51e28c3d036bd60f4260da2ed02fe"> 2419</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> NTILE_FUNC; }</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;</div><div class="line"><a name="l02421"></a><span class="lineno"><a class="line" href="classItem__ntile.html#a2e67da719513a2ac74db4a093bc1cee1"> 2421</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__ntile.html#a2e67da719513a2ac74db4a093bc1cee1">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *thd)<span class="keyword"> override </span>{</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <span class="keywordflow">if</span> (args[0]-&gt;propagate_type(thd, <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854a2324a409d98e39c7868cf04ee538accf">MYSQL_TYPE_LONGLONG</a>, <span class="keyword">true</span>)) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    set_data_type_longlong();</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  }</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **<a class="code" href="structitems.html">items</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *buff) <span class="keyword">override</span>;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *) <span class="keyword">override</span>;</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics2(<a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02437"></a><span class="lineno"><a class="line" href="classItem__ntile.html#afeb55b17022ba2e3ab84a48d0969d03e"> 2437</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__ntile.html#afeb55b17022ba2e3ab84a48d0969d03e">result_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c">INT_RESULT</a>; }</div><div class="line"><a name="l02438"></a><span class="lineno"><a class="line" href="classItem__ntile.html#a1b2d515e394187a0b5eaf040f512dfd7"> 2438</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__ntile.html#a1b2d515e394187a0b5eaf040f512dfd7">clear</a>()<span class="keyword"> override </span>{}</div><div class="line"><a name="l02439"></a><span class="lineno"><a class="line" href="classItem__ntile.html#a5a331497ded3030ba67f1772bd4a846c"> 2439</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__ntile.html#a5a331497ded3030ba67f1772bd4a846c">needs_card</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;};</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;<span class="comment">  LEAD/LAG window functions, cf. SQL 2011 Section 6.10 &lt;window function&gt;</span></div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02445"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html"> 2445</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__lead__lag.html">Item_lead_lag</a> : <span class="keyword">public</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> {</div><div class="line"><a name="l02446"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a6f79e05f6af32fbd782ce5f8671abc1f"> 2446</a></span>&#160;  <a class="code" href="window__lex_8h.html#a2e5413a34005dc3d9b8aa0f7505748b1">enum_null_treatment</a> <a class="code" href="classItem__lead__lag.html#a6f79e05f6af32fbd782ce5f8671abc1f">m_null_treatment</a>;</div><div class="line"><a name="l02447"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a14e5a66d8c0a9edc94763085c6cd888b"> 2447</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__lead__lag.html#a14e5a66d8c0a9edc94763085c6cd888b">m_is_lead</a>;  <span class="comment">///&lt; if true, the function is LEAD, else LAG</span></div><div class="line"><a name="l02448"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#ad372f3f1b3e60750168f5113b1a651c4"> 2448</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> <a class="code" href="classItem__lead__lag.html#ad372f3f1b3e60750168f5113b1a651c4">m_n</a>;       <span class="comment">///&lt; canonicalized offset value</span></div><div class="line"><a name="l02449"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#ad1e61da9f2aed7bfb8312e243669ede7"> 2449</a></span>&#160;<span class="comment"></span>  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__lead__lag.html#ad1e61da9f2aed7bfb8312e243669ede7">m_hybrid_type</a>;</div><div class="line"><a name="l02450"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#af5c0e992740b79f78e69a3274e4c42e6"> 2450</a></span>&#160;  <a class="code" href="classItem__cache.html">Item_cache</a> *<a class="code" href="classItem__lead__lag.html#af5c0e992740b79f78e69a3274e4c42e6">m_value</a>;</div><div class="line"><a name="l02451"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a4899517c3663840ddcf46617dd2c67a2"> 2451</a></span>&#160;  <a class="code" href="classItem__cache.html">Item_cache</a> *<a class="code" href="classItem__lead__lag.html#a4899517c3663840ddcf46617dd2c67a2">m_default</a>;<span class="comment"></span></div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;<span class="comment">    Execution state: if set, we already have a value for current row.</span></div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;<span class="comment">    State is used to avoid interference with other LEAD/LAG functions on</span></div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;<span class="comment">    the same window, since they share the same eval loop and they should</span></div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;<span class="comment">    trigger evaluation only when they are on the &quot;right&quot; row relative to</span></div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="comment">    current row. For other offsets, return NULL if we don&#39;t know the value</span></div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;<span class="comment">    for this function yet, or if we do (m_has_value==true), return the</span></div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="comment">    found value.</span></div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l02461"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#aa8b7193606c3029fa7606f391b432521"> 2461</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__lead__lag.html#aa8b7193606c3029fa7606f391b432521">m_has_value</a>;</div><div class="line"><a name="l02462"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a3980d19207ebad06325f7461e419f899"> 2462</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__lead__lag.html#a3980d19207ebad06325f7461e419f899">m_use_default</a>;  <span class="comment">///&lt; execution state: use default value for current row</span></div><div class="line"><a name="l02463"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#afdaeb1e3acd69fd83a66c800f647cd6e"> 2463</a></span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a> <a class="code" href="classItem__lead__lag.html#afdaeb1e3acd69fd83a66c800f647cd6e">super</a>;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02466"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a53935156b1f8413b1d757f60ad23b491"> 2466</a></span>&#160;  <a class="code" href="classItem__lead__lag.html#a53935156b1f8413b1d757f60ad23b491">Item_lead_lag</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <span class="keywordtype">bool</span> lead,</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                <a class="code" href="classPT__item__list.html">PT_item_list</a> *opt_list,  <span class="comment">// [0] expr, [1] offset, [2] default</span></div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;                <a class="code" href="window__lex_8h.html#a2e5413a34005dc3d9b8aa0f7505748b1">enum_null_treatment</a> null_treatment, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;      : <a class="code" href="classItem__non__framing__wf.html">Item_non_framing_wf</a>(pos, opt_list, w),</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        m_null_treatment(null_treatment),</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;        m_is_lead(lead),</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;        m_n(0),</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;        m_hybrid_type(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aaa55b8a9aec727343eedde132b806441">INVALID_RESULT</a>),</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        m_value(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        m_default(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        m_has_value(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>),</div><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        m_use_default(<a class="code" href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;</div><div class="line"><a name="l02479"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a775833882d33ba0105499cc82037496d"> 2479</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__lead__lag.html#a775833882d33ba0105499cc82037496d">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">return</span> (m_is_lead ? <span class="stringliteral">&quot;lead&quot;</span> : <span class="stringliteral">&quot;lag&quot;</span>);</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;  }</div><div class="line"><a name="l02482"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a5d07fc9a86a98dcfd43d5ae100f6d543"> 2482</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> LEAD_LAG_FUNC; }</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **<a class="code" href="structitems.html">items</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics2(<a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02490"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a3baa32bb13567f471f83d268e96005a6"> 2490</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> m_hybrid_type; }</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *decimal_buffer) <span class="keyword">override</span>;</div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate) <span class="keyword">override</span>;</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;  <span class="keywordtype">bool</span> get_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime) <span class="keyword">override</span>;</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;  <span class="keywordtype">bool</span> val_json(<a class="code" href="classJson__wrapper.html">Json_wrapper</a> *wr) <span class="keyword">override</span>;</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;</div><div class="line"><a name="l02501"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#ac77f534d79a9ef38a26983e63254907d"> 2501</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__lead__lag.html#ac77f534d79a9ef38a26983e63254907d">needs_card</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;<span class="comment">      A possible optimization here: if LAG, we are only interested in rows we</span></div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;<span class="comment">      have already seen, so we might compute the result without reading the</span></div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;<span class="comment">      entire partition as soon as we have the current row.  Similarly, a small</span></div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;<span class="comment">      LEAD value might avoid reading the entire partition also, giving shorter</span></div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="comment">      time to first result. For now, we read the entirely partition for these</span></div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;<span class="comment">      window functions - for simplicity.</span></div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;  }</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;  <span class="keywordtype">void</span> split_sum_func(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classBounds__checked__array.html">Ref_item_array</a> ref_item_array,</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                      <a class="code" href="classmem__root__deque.html">mem_root_deque&lt;Item *&gt;</a> *fields) <span class="keyword">override</span>;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;</div><div class="line"><a name="l02516"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#ada677022837987127565fc7cf82e17f2"> 2516</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__lead__lag.html#ada677022837987127565fc7cf82e17f2">set_has_value</a>(<span class="keywordtype">bool</span> <a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) { m_has_value = <a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>; }</div><div class="line"><a name="l02517"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a0df0084e5b2fe08947c357e8e8235265"> 2517</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__lead__lag.html#a0df0084e5b2fe08947c357e8e8235265">has_value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_has_value; }</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;</div><div class="line"><a name="l02519"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a379ae4e0e29f0cfa95c28c8232a923ce"> 2519</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__lead__lag.html#a379ae4e0e29f0cfa95c28c8232a923ce">set_use_default</a>(<span class="keywordtype">bool</span> <a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) { m_use_default = <a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>; }</div><div class="line"><a name="l02520"></a><span class="lineno"><a class="line" href="classItem__lead__lag.html#a7d458dfc7f1ddc10de6df4d6c2e0adba"> 2520</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__lead__lag.html#a7d458dfc7f1ddc10de6df4d6c2e0adba">use_default</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_use_default; }</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <span class="keywordtype">bool</span> setup_lead_lag();<span class="comment"></span></div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;<span class="comment">    Core logic of LEAD/LAG window functions</span></div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;<span class="comment">    @return true if computation yielded a NULL or error</span></div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  <span class="keywordtype">bool</span> compute();</div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;};</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;<span class="comment">  FIRST_VALUE/LAST_VALUE window functions, cf. SQL 2011 Section 6.10 &lt;window</span></div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;<span class="comment">  function&gt;</span></div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02536"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html"> 2536</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__first__last__value.html">Item_first_last_value</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l02537"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#ad637e59d81122653d6b9a29072be4209"> 2537</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__first__last__value.html#ad637e59d81122653d6b9a29072be4209">m_is_first</a>;  <span class="comment">///&lt; if true, the function is FIRST_VALUE, else LAST_VALUE</span></div><div class="line"><a name="l02538"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a91f91ed094207861e884b5c2de1b51fb"> 2538</a></span>&#160;<span class="comment"></span>  <a class="code" href="window__lex_8h.html#a2e5413a34005dc3d9b8aa0f7505748b1">enum_null_treatment</a> <a class="code" href="classItem__first__last__value.html#a91f91ed094207861e884b5c2de1b51fb">m_null_treatment</a>;</div><div class="line"><a name="l02539"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a6059bdbd4e5f274ae97a9f2ce728756e"> 2539</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__first__last__value.html#a6059bdbd4e5f274ae97a9f2ce728756e">m_hybrid_type</a>;</div><div class="line"><a name="l02540"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a856bc8d273babff07912c891e533bc33"> 2540</a></span>&#160;  <a class="code" href="classItem__cache.html">Item_cache</a> *<a class="code" href="classItem__first__last__value.html#a856bc8d273babff07912c891e533bc33">m_value</a>;</div><div class="line"><a name="l02541"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a57e529fb338dcfee9e38df2aa7775c67"> 2541</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> <a class="code" href="classItem__first__last__value.html#a57e529fb338dcfee9e38df2aa7775c67">cnt</a>;  <span class="comment">///&lt; used when evaluating on-the-fly (non-buffered processing)</span></div><div class="line"><a name="l02542"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#aa2643d0a949bfbb34ec3b0fa42f72d47"> 2542</a></span>&#160;<span class="comment"></span>  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__first__last__value.html#aa2643d0a949bfbb34ec3b0fa42f72d47">super</a>;</div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02545"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#ad4a28451b09f52fc1aa4d4e146143969"> 2545</a></span>&#160;  <a class="code" href="classItem__first__last__value.html#ad4a28451b09f52fc1aa4d4e146143969">Item_first_last_value</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <span class="keywordtype">bool</span> first, <a class="code" href="classItem.html">Item</a> *a,</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;                        <a class="code" href="window__lex_8h.html#a2e5413a34005dc3d9b8aa0f7505748b1">enum_null_treatment</a> null_treatment, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, a, w),</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        m_is_first(first),</div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;        m_null_treatment(null_treatment),</div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;        m_hybrid_type(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aaa55b8a9aec727343eedde132b806441">INVALID_RESULT</a>),</div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;        m_value(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;        cnt(0) {}</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;</div><div class="line"><a name="l02554"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a6d6faf370f994cccc95ac35a8f92bc09"> 2554</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__first__last__value.html#a6d6faf370f994cccc95ac35a8f92bc09">func_name</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="keywordflow">return</span> m_is_first ? <span class="stringliteral">&quot;first_value&quot;</span> : <span class="stringliteral">&quot;last_value&quot;</span>;</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;  }</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;</div><div class="line"><a name="l02558"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a056acf5bc7674831b92633879ec84c29"> 2558</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> FIRST_LAST_VALUE_FUNC; }</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **<a class="code" href="structitems.html">items</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02565"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a709190115303cbc4861c048ec3f3d2db"> 2565</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> m_hybrid_type; }</div><div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *decimal_buffer) <span class="keyword">override</span>;</div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate) <span class="keyword">override</span>;</div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  <span class="keywordtype">bool</span> get_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime) <span class="keyword">override</span>;</div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  <span class="keywordtype">bool</span> val_json(<a class="code" href="classJson__wrapper.html">Json_wrapper</a> *wr) <span class="keyword">override</span>;</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;</div><div class="line"><a name="l02576"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a0b928e875bd55e937d5c17450203bba8"> 2576</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__first__last__value.html#a0b928e875bd55e937d5c17450203bba8">reset_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>); }</div><div class="line"><a name="l02577"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#a8a0f889fed8f71be25df202ea02cd82f"> 2577</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__first__last__value.html#a8a0f889fed8f71be25df202ea02cd82f">update_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>); }</div><div class="line"><a name="l02578"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#ad102e9312db14961057c39c66db0870d"> 2578</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__first__last__value.html#ad102e9312db14961057c39c66db0870d">add</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;  }</div><div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;  <span class="keywordtype">void</span> split_sum_func(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classBounds__checked__array.html">Ref_item_array</a> ref_item_array,</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;                      <a class="code" href="classmem__root__deque.html">mem_root_deque&lt;Item *&gt;</a> *fields) <span class="keyword">override</span>;</div><div class="line"><a name="l02585"></a><span class="lineno"><a class="line" href="classItem__first__last__value.html#aacc1b6940cb34a3f909ffbee62696db0"> 2585</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__first__last__value.html#aacc1b6940cb34a3f909ffbee62696db0">uses_only_one_row</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;  <span class="keywordtype">bool</span> setup_first_last();<span class="comment"></span></div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;<span class="comment">    Core logic of FIRST/LAST_VALUE window functions</span></div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;<span class="comment">    @return true if computation yielded a NULL or error</span></div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;  <span class="keywordtype">bool</span> compute();</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;};</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;<span class="comment">  NTH_VALUE window function, cf. SQL 2011 Section 6.10 &lt;window</span></div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;<span class="comment">  function&gt;</span></div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02601"></a><span class="lineno"><a class="line" href="classItem__nth__value.html"> 2601</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__nth__value.html">Item_nth_value</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l02602"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a8b45892d47c8fd321b3e263c305bc0fd"> 2602</a></span>&#160;  <a class="code" href="window__lex_8h.html#a2e5413a34005dc3d9b8aa0f7505748b1">enum_null_treatment</a> <a class="code" href="classItem__nth__value.html#a8b45892d47c8fd321b3e263c305bc0fd">m_null_treatment</a>;</div><div class="line"><a name="l02603"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a6219d40ab4627b979588a965d6c09f20"> 2603</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> <a class="code" href="classItem__nth__value.html#a6219d40ab4627b979588a965d6c09f20">m_n</a>;         <span class="comment">///&lt; The N of the function</span></div><div class="line"><a name="l02604"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a78ea78113a4ecdf915b3980272faf4b9"> 2604</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classItem__nth__value.html#a78ea78113a4ecdf915b3980272faf4b9">m_from_last</a>;  <span class="comment">///&lt; true iff FROM_LAST was specified</span></div><div class="line"><a name="l02605"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a458dcfdaee797c9a4305ca3503a9954d"> 2605</a></span>&#160;<span class="comment"></span>  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__nth__value.html#a458dcfdaee797c9a4305ca3503a9954d">m_hybrid_type</a>;</div><div class="line"><a name="l02606"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a60074a7267612ee29b3a22aa19b11c73"> 2606</a></span>&#160;  <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> <a class="code" href="classItem__nth__value.html#a60074a7267612ee29b3a22aa19b11c73">m_hybrid_field_type</a>;</div><div class="line"><a name="l02607"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a85f6a639442b1e888ae6fcdba9d0daf8"> 2607</a></span>&#160;  <a class="code" href="classItem__cache.html">Item_cache</a> *<a class="code" href="classItem__nth__value.html#a85f6a639442b1e888ae6fcdba9d0daf8">m_value</a>;</div><div class="line"><a name="l02608"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a2a4ea0039d62b13b1965d67ce7dc53ea"> 2608</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> <a class="code" href="classItem__nth__value.html#a2a4ea0039d62b13b1965d67ce7dc53ea">m_cnt</a>;  <span class="comment">///&lt; used when evaluating on-the-fly (non-buffered processing)</span></div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02610"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a364d5e3ae4509f5346de943c76c15450"> 2610</a></span>&#160;  <span class="keyword">typedef</span> <a class="code" href="classItem__sum.html">Item_sum</a> <a class="code" href="classItem__nth__value.html#a364d5e3ae4509f5346de943c76c15450">super</a>;</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02613"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#aaccc1e4911018ac6b025e5dba0f5e97f"> 2613</a></span>&#160;  <a class="code" href="classItem__nth__value.html#aaccc1e4911018ac6b025e5dba0f5e97f">Item_nth_value</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__item__list.html">PT_item_list</a> *a, <span class="keywordtype">bool</span> from_last,</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;                 <a class="code" href="window__lex_8h.html#a2e5413a34005dc3d9b8aa0f7505748b1">enum_null_treatment</a> null_treatment, <a class="code" href="classPT__window.html">PT_window</a> *w)</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>(pos, a, w),</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        m_null_treatment(null_treatment),</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        m_n(0),</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        m_from_last(from_last),</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        m_hybrid_type(<a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aaa55b8a9aec727343eedde132b806441">INVALID_RESULT</a>),</div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        m_value(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>),</div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        m_cnt(0) {}</div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;</div><div class="line"><a name="l02623"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a8bf89aa7127600aa53237b844daf3352"> 2623</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__nth__value.html#a8bf89aa7127600aa53237b844daf3352">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;nth_value&quot;</span>; }</div><div class="line"><a name="l02624"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#ac670a70180f6b15aa8ce35f59251497e"> 2624</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> NTH_VALUE_FUNC; }</div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;</div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="keywordtype">bool</span> resolve_type(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **<a class="code" href="structitems.html">items</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;  <span class="keywordtype">bool</span> setup_nth();</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics1(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classSELECT__LEX.html">SELECT_LEX</a> *select,</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;                           <a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;  <span class="keywordtype">bool</span> check_wf_semantics2(<a class="code" href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a> *reqs) <span class="keyword">override</span>;</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;</div><div class="line"><a name="l02635"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a40af5b22c4b637b2775b256f737407fe"> 2635</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> result_type()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> m_hybrid_type; }</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div><div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *decimal_buffer) <span class="keyword">override</span>;</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate) <span class="keyword">override</span>;</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;  <span class="keywordtype">bool</span> get_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime) <span class="keyword">override</span>;</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;  <span class="keywordtype">bool</span> val_json(<a class="code" href="classJson__wrapper.html">Json_wrapper</a> *wr) <span class="keyword">override</span>;</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;</div><div class="line"><a name="l02646"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#aa10ac8124464ef096cc97e9cb4ac7c92"> 2646</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__nth__value.html#aa10ac8124464ef096cc97e9cb4ac7c92">reset_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>); }</div><div class="line"><a name="l02647"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#a2f222089cb60682e4180be41cb7efce3"> 2647</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__nth__value.html#a2f222089cb60682e4180be41cb7efce3">update_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>); }</div><div class="line"><a name="l02648"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#ad2483d3ac9bd44ccd661f9d1e90a1f8c"> 2648</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__nth__value.html#ad2483d3ac9bd44ccd661f9d1e90a1f8c">add</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  }</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;  <span class="keywordtype">void</span> split_sum_func(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classBounds__checked__array.html">Ref_item_array</a> ref_item_array,</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;                      <a class="code" href="classmem__root__deque.html">mem_root_deque&lt;Item *&gt;</a> *fields) <span class="keyword">override</span>;</div><div class="line"><a name="l02655"></a><span class="lineno"><a class="line" href="classItem__nth__value.html#af4084e283949d57b000b1305cfed0434"> 2655</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__nth__value.html#af4084e283949d57b000b1305cfed0434">uses_only_one_row</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;<span class="comment">    Core logic of NTH_VALUE window functions</span></div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;<span class="comment">    @return true if computation yielded a NULL or error</span></div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;  <span class="keywordtype">bool</span> compute();</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;};</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;<span class="comment">  Class for implementation of the GROUPING function. The GROUPING</span></div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;<span class="comment">  function distinguishes super-aggregate rows from regular grouped</span></div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;<span class="comment">  rows. GROUP BY extensions such as ROLLUP and CUBE produce</span></div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;<span class="comment">  super-aggregate rows where the set of all values is represented</span></div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;<span class="comment">  by null. Using the GROUPING function, you can distinguish a null</span></div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;<span class="comment">  representing the set of all values in a super-aggregate row from</span></div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;<span class="comment">  a NULL in a regular row.</span></div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02675"></a><span class="lineno"><a class="line" href="classItem__func__grouping.html"> 2675</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__func__grouping.html">Item_func_grouping</a> : <span class="keyword">public</span> <a class="code" href="classItem__int__func.html">Item_int_func</a> {</div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02677"></a><span class="lineno"><a class="line" href="classItem__func__grouping.html#a816e2f95a1556116480e2bace2cf7f52"> 2677</a></span>&#160;  <a class="code" href="classItem__func__grouping.html#a816e2f95a1556116480e2bace2cf7f52">Item_func_grouping</a>(<span class="keyword">const</span> <a class="code" href="structYYLTYPE.html">POS</a> &amp;pos, <a class="code" href="classPT__item__list.html">PT_item_list</a> *a) : <a class="code" href="classItem__int__func.html">Item_int_func</a>(pos, a) {</div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    set_grouping_func();</div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  }</div><div class="line"><a name="l02680"></a><span class="lineno"><a class="line" href="classItem__func__grouping.html#a2af2707a76d03cebeaa8944f58d21a94"> 2680</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__func__grouping.html#a2af2707a76d03cebeaa8944f58d21a94">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;grouping&quot;</span>; }</div><div class="line"><a name="l02681"></a><span class="lineno"><a class="line" href="classItem__func__grouping.html#adc70c63297129eef104f6677a649eaea"> 2681</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__func.html#a44783465b41db99f2cff936cb7b6e70b">Functype</a> functype()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> GROUPING_FUNC; }</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;  <span class="keywordtype">bool</span> aggregate_check_group(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *arg) <span class="keyword">override</span>;</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;  <span class="keywordtype">bool</span> fix_fields(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classItem.html">Item</a> **ref) <span class="keyword">override</span>;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  <span class="keywordtype">void</span> update_used_tables() <span class="keyword">override</span>;</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;};</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;<span class="comment">  A wrapper Item that contains a number of aggregate items, one for each level</span></div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;<span class="comment">  of rollup (see Item_rollup_group_item for numbering conventions). When</span></div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;<span class="comment">  aggregating, every aggregator is either reset or updated as per the correct</span></div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;<span class="comment">  level, and when returning a value, the correct child item corresponding to</span></div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;<span class="comment">  the current rollup level is queried.</span></div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l02695"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html"> 2695</a></span>&#160;<span class="keyword">class </span><a class="code" href="classItem__rollup__sum__switcher.html">Item_rollup_sum_switcher</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classItem__sum.html">Item_sum</a> {</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l02697"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a84581c2a7db3a3209f5cf35e890c16ad"> 2697</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classItem__rollup__sum__switcher.html#a84581c2a7db3a3209f5cf35e890c16ad">Item_rollup_sum_switcher</a>(<a class="code" href="classList.html">List&lt;Item&gt;</a> *sum_func_per_level)</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      : <a class="code" href="classItem__sum.html">Item_sum</a>((*sum_func_per_level)[0]),</div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        m_num_levels(sum_func_per_level-&gt;size()) {</div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    args = (*THR_MALLOC)-&gt;ArrayAlloc&lt;<a class="code" href="classItem.html">Item</a> *&gt;(sum_func_per_level-&gt;<a class="code" href="classbase__list.html#a5996260fec98582cb1242f03bbb87445">size</a>());</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordtype">int</span> i = 0;</div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classItem.html">Item</a> &amp;item : *sum_func_per_level) {</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      args[i++] = &amp;item;</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;    }</div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;    item_name = master()-&gt;<a class="code" href="classItem.html#a5d6671d423ea099d218147d62475dc42">item_name</a>;</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    base_select = master()-&gt;base_select;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    aggr_select = master()-&gt;aggr_select;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;    hidden = master()-&gt;hidden;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    set_distinct(master()-&gt;has_with_distinct());</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    set_data_type_from_item(master());</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;  }</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;  <span class="keywordtype">double</span> val_real() <span class="keyword">override</span>;</div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> val_int() <span class="keyword">override</span>;</div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;  <a class="code" href="classString.html">String</a> *val_str(<a class="code" href="classString.html">String</a> *str) <span class="keyword">override</span>;</div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *val_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="namespaceCounter.html#a797c2d7934585e10e3e7b548520c3a95">dec</a>) <span class="keyword">override</span>;</div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;  <span class="keywordtype">bool</span> val_json(<a class="code" href="classJson__wrapper.html">Json_wrapper</a> *result) <span class="keyword">override</span>;</div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a>(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> fuzzydate) <span class="keyword">override</span>;</div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;  <span class="keywordtype">bool</span> get_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime) <span class="keyword">override</span>;</div><div class="line"><a name="l02719"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#ab6d9d8b7db05309fe402fb481020cacb"> 2719</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classItem__rollup__sum__switcher.html#ab6d9d8b7db05309fe402fb481020cacb">func_name</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;rollup_sum_switcher&quot;</span>; }</div><div class="line"><a name="l02720"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a0a0997419609897838c36d80594d67eb"> 2720</a></span>&#160;  <a class="code" href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a> <a class="code" href="classItem__rollup__sum__switcher.html#a0a0997419609897838c36d80594d67eb">used_tables</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> master()-&gt;used_tables(); }</div><div class="line"><a name="l02721"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a5b75a0ecf6d26c3f5f95d43df07e0292"> 2721</a></span>&#160;  <a class="code" href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a> <a class="code" href="classItem__rollup__sum__switcher.html#a5b75a0ecf6d26c3f5f95d43df07e0292">result_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> master()-&gt;result_type(); }</div><div class="line"><a name="l02722"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a277256ef34334743a6bd4fac6156af22"> 2722</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__rollup__sum__switcher.html#a277256ef34334743a6bd4fac6156af22">resolve_type</a>(<a class="code" href="classTHD.html">THD</a> *)<span class="keyword"> override </span>{</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    set_data_type_from_item(master());</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;  }</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="mcstat_8c.html#aeb0a66a1106a1c0097d605cbcb19766d">print</a>(<span class="keyword">const</span> <a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classString.html">String</a> *str,</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;             <a class="code" href="enum__query__type_8h.html#a84267bb0a3694b1d41b6494868ce18ac">enum_query_type</a> query_type) <span class="keyword">const override</span>;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;  <a class="code" href="classField.html">Field</a> *<a class="code" href="sql__tmp__table_8cc.html#a84cb94cab909e1376525f4b5265116dd">create_tmp_field</a>(<span class="keywordtype">bool</span> group, <a class="code" href="structTABLE.html">TABLE</a> *table) <span class="keyword">override</span>;</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;</div><div class="line"><a name="l02730"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#ab5cb1c66ea9dd1fdaed498e3caa9ec3f"> 2730</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> sum_func()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> master()-&gt;sum_func(); }</div><div class="line"><a name="l02731"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#aacfd4d41a22dcbdd32ee482b5d67c742"> 2731</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Sumfunctype</a> real_sum_func()<span class="keyword"> const override </span>{</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    <span class="keywordflow">return</span> ROLLUP_SUM_SWITCHER_FUNC;</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;  }</div><div class="line"><a name="l02734"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a7f3fe5d8a8ccd88158102e21c0c07600"> 2734</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__rollup__sum__switcher.html#a7f3fe5d8a8ccd88158102e21c0c07600">reset_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>); }</div><div class="line"><a name="l02735"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a2478b8872265e17fa954ab2d2fba8ba2"> 2735</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__rollup__sum__switcher.html#a2478b8872265e17fa954ab2d2fba8ba2">update_field</a>()<span class="keyword"> override </span>{ <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>); }</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">clear</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l02737"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#ae8e911a2abe5f0b638f30476a4145964"> 2737</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classItem__rollup__sum__switcher.html#ae8e911a2abe5f0b638f30476a4145964">add</a>()<span class="keyword"> override </span>{</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;  }</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;  <span class="keywordtype">bool</span> reset_and_add_for_rollup(<span class="keywordtype">int</span> last_unchanged_group_item_idx);</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;  <span class="keywordtype">int</span> set_aggregator(<a class="code" href="classAggregator.html#a61b988705710055ea031d1c227b43d05">Aggregator::Aggregator_type</a> aggregator) <span class="keyword">override</span>;</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;  <span class="keywordtype">bool</span> aggregator_setup(<a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">override</span>;</div><div class="line"><a name="l02746"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a9499ec1d45540cda5efd8305f77bab2c"> 2746</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classItem__rollup__sum__switcher.html#a9499ec1d45540cda5efd8305f77bab2c">aggregator_add_all</a>() {</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_num_levels; ++i) {</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;      <span class="keywordflow">if</span> (child(i)-&gt;aggregator_add()) {</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;      }</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    }</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;  }</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;  <span class="comment">// Used when create_tmp_table() needs to delay application of aggregate</span></div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="comment">// functions to a later stage in the query processing.</span></div><div class="line"><a name="l02757"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#abbea012b413231388b8906bc4c04ea88"> 2757</a></span>&#160;  <a class="code" href="classItem.html">Item</a> *<a class="code" href="classItem__rollup__sum__switcher.html#abbea012b413231388b8906bc4c04ea88">get_arg</a>(<a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i)<span class="keyword"> override </span>{ <span class="keywordflow">return</span> master()-&gt;get_arg(i); }</div><div class="line"><a name="l02758"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a0d4f616ce2ad7c8fdbb2d1f83373e4c7"> 2758</a></span>&#160;  <a class="code" href="classItem.html">Item</a> *<a class="code" href="classItem__rollup__sum__switcher.html#a0d4f616ce2ad7c8fdbb2d1f83373e4c7">set_arg</a>(<a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> i, <a class="code" href="classItem.html">Item</a> *new_val)<span class="keyword"> override </span>{</div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    <a class="code" href="classItem.html">Item</a> *ret = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; m_num_levels; ++j) {</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;      ret = child(j)-&gt;set_arg(thd, i, new_val);</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    }</div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="keywordflow">return</span> ret;  <span class="comment">// Return the last one, arbitrarily.</span></div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  }</div><div class="line"><a name="l02765"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#ad41d087b170f4e0712ca18af807350fb"> 2765</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="classItem__rollup__sum__switcher.html#ad41d087b170f4e0712ca18af807350fb">argument_count</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> master()-&gt;argument_count(); }</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;</div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <span class="comment">// Used by AggregateIterator.</span></div><div class="line"><a name="l02768"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#a4ab091e83a3a2df02558b7336c18ccd6"> 2768</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classItem__rollup__sum__switcher.html#a4ab091e83a3a2df02558b7336c18ccd6">set_current_rollup_level</a>(<span class="keywordtype">int</span> level) { m_current_rollup_level = level; }</div><div class="line"><a name="l02769"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#afe6ba99674356cc79b69c65ef76816d8"> 2769</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classItem__sum.html">Item_sum</a> *<a class="code" href="classItem__rollup__sum__switcher.html#afe6ba99674356cc79b69c65ef76816d8">master</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> child(0); }</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;  <span class="keyword">inline</span> <a class="code" href="classItem.html">Item</a> *current_arg() <span class="keyword">const</span>;</div><div class="line"><a name="l02773"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#ac95f95d24766e155262213dc671e30eb"> 2773</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classItem__sum.html">Item_sum</a> *<a class="code" href="classItem__rollup__sum__switcher.html#ac95f95d24766e155262213dc671e30eb">child</a>(<span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="template__utils_8h.html#a0d8e42511b409c2d0a335061cf19fadf">down_cast</a>&lt;<a class="code" href="classItem__sum.html">Item_sum</a> *&gt;(args[i]);</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;  }</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;</div><div class="line"><a name="l02777"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#af33c5a379041d9d4c3fcf4e7974cb928"> 2777</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classItem__rollup__sum__switcher.html#af33c5a379041d9d4c3fcf4e7974cb928">m_num_levels</a>;</div><div class="line"><a name="l02778"></a><span class="lineno"><a class="line" href="classItem__rollup__sum__switcher.html#abe44957f4e4e02464321c622c007fee9"> 2778</a></span>&#160;  <span class="keywordtype">int</span> m_current_rollup_level = INT_MAX;</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;};</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* ITEM_SUM_INCLUDED */</span><span class="preprocessor"></span></div><div class="ttc" id="classItem__rollup__sum__switcher_html_a0a0997419609897838c36d80594d67eb"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a0a0997419609897838c36d80594d67eb">Item_rollup_sum_switcher::used_tables</a></div><div class="ttdeci">table_map used_tables() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2720</div></div>
<div class="ttc" id="classbase__list_html_a5996260fec98582cb1242f03bbb87445"><div class="ttname"><a href="classbase__list.html#a5996260fec98582cb1242f03bbb87445">base_list::size</a></div><div class="ttdeci">uint size() const</div><div class="ttdef"><b>Definition:</b> sql_list.h:269</div></div>
<div class="ttc" id="classItem__sum__variance_html_a90916b82901fb9ab753c5277d570d3dd"><div class="ttname"><a href="classItem__sum__variance.html#a90916b82901fb9ab753c5277d570d3dd">Item_sum_variance::hybrid_type</a></div><div class="ttdeci">Item_result hybrid_type</div><div class="ttdef"><b>Definition:</b> item_sum.h:1441</div></div>
<div class="ttc" id="structudf__func_html"><div class="ttname"><a href="structudf__func.html">udf_func</a></div><div class="ttdef"><b>Definition:</b> sql_udf.h:43</div></div>
<div class="ttc" id="classItem__sum__bit_html_a7b451fd4708d696447b3445fcd026854"><div class="ttname"><a href="classItem__sum__bit.html#a7b451fd4708d696447b3445fcd026854">Item_sum_bit::m_digit_cnt</a></div><div class="ttdeci">ulonglong * m_digit_cnt</div><div class="ttdoc">Execution state (windowing): Used for AND, OR to be able to invert window functions in optimized mode...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1781</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_a7f3fe5d8a8ccd88158102e21c0c07600"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a7f3fe5d8a8ccd88158102e21c0c07600">Item_rollup_sum_switcher::reset_field</a></div><div class="ttdeci">void reset_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2734</div></div>
<div class="ttc" id="classItem__sum__or_html_ae7aa6be1a20b7737b9723b460d7061c4"><div class="ttname"><a href="classItem__sum__or.html#ae7aa6be1a20b7737b9723b460d7061c4">Item_sum_or::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1900</div></div>
<div class="ttc" id="classJson__wrapper_html"><div class="ttname"><a href="classJson__wrapper.html">Json_wrapper</a></div><div class="ttdoc">Abstraction for accessing JSON values irrespective of whether they are (started out as) binary JSON v...</div><div class="ttdef"><b>Definition:</b> json_dom.h:1166</div></div>
<div class="ttc" id="item_8h_html_a7228ce837da254e5ccfea46e5dc5108e"><div class="ttname"><a href="item_8h.html#a7228ce837da254e5ccfea46e5dc5108e">Item_transformer</a></div><div class="ttdeci">Item *(Item::* Item_transformer)(uchar *arg)</div><div class="ttdoc">Type for transformers used by Item::transform and Item::compile. </div><div class="ttdef"><b>Definition:</b> item.h:717</div></div>
<div class="ttc" id="hp__test2_8cc_html_a39586bf0934bc10a56cedbf340aded85"><div class="ttname"><a href="hp__test2_8cc.html#a39586bf0934bc10a56cedbf340aded85">key1</a></div><div class="ttdeci">static uint16 key1[1001]</div><div class="ttdef"><b>Definition:</b> hp_test2.cc:46</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_ac95f95d24766e155262213dc671e30eb"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#ac95f95d24766e155262213dc671e30eb">Item_rollup_sum_switcher::child</a></div><div class="ttdeci">Item_sum * child(size_t i) const</div><div class="ttdef"><b>Definition:</b> item_sum.h:2773</div></div>
<div class="ttc" id="classItem__sum__variance_html_a10742fb577760edd83b98d14a4037ce1"><div class="ttname"><a href="classItem__sum__variance.html#a10742fb577760edd83b98d14a4037ce1">Item_sum_variance::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1475</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_ae0b4d456aa9540ce06dc316a39705eb5"><div class="ttname"><a href="classItem__sum__hybrid.html#ae0b4d456aa9540ce06dc316a39705eb5">Item_sum_hybrid::value</a></div><div class="ttdeci">Item_cache * value</div><div class="ttdef"><b>Definition:</b> item_sum.h:1552</div></div>
<div class="ttc" id="classItem__field_html"><div class="ttname"><a href="classItem__field.html">Item_field</a></div><div class="ttdef"><b>Definition:</b> item.h:3908</div></div>
<div class="ttc" id="classItem__func__group__concat_html_ad6e5b67f378f70bdac69e97395613336"><div class="ttname"><a href="classItem__func__group__concat.html#ad6e5b67f378f70bdac69e97395613336">Item_func_group_concat::val_decimal</a></div><div class="ttdeci">my_decimal * val_decimal(my_decimal *decimal_value) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2181</div></div>
<div class="ttc" id="my__inttypes_8h_html_a22152088aba12c47e916b7f0ffee0f51"><div class="ttname"><a href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a></div><div class="ttdeci">unsigned long long int ulonglong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:55</div></div>
<div class="ttc" id="classItem_html_a5d6671d423ea099d218147d62475dc42"><div class="ttname"><a href="classItem.html#a5d6671d423ea099d218147d62475dc42">Item::item_name</a></div><div class="ttdeci">Item_name_string item_name</div><div class="ttdoc">Name from query. </div><div class="ttdef"><b>Definition:</b> item.h:3135</div></div>
<div class="ttc" id="udf__registration__types_8h_html_ac852cc9149359bbfde83ad6ff646fd62a55c848ba1769fae3522263c6350de23e"><div class="ttname"><a href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a55c848ba1769fae3522263c6350de23e">DECIMAL_RESULT</a></div><div class="ttdoc">not valid for UDFs </div><div class="ttdef"><b>Definition:</b> udf_registration_types.h:44</div></div>
<div class="ttc" id="classItem__percent__rank_html_a9d4127371b06c00ab9e5fc6e5e14f859"><div class="ttname"><a href="classItem__percent__rank.html#a9d4127371b06c00ab9e5fc6e5e14f859">Item_percent_rank::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2385</div></div>
<div class="ttc" id="classItem__sum_html_a0fd7d25d58bc655772f5aad6bdb178d7"><div class="ttname"><a href="classItem__sum.html#a0fd7d25d58bc655772f5aad6bdb178d7">Item_sum::check_wf_semantics2</a></div><div class="ttdeci">virtual bool check_wf_semantics2(Window_evaluation_requirements *reqs)</div><div class="ttdoc">Like check_wf_semantics1. </div><div class="ttdef"><b>Definition:</b> item_sum.h:746</div></div>
<div class="ttc" id="field__types_8h_html"><div class="ttname"><a href="field__types_8h.html">field_types.h</a></div><div class="ttdoc">This file contains the field type. </div></div>
<div class="ttc" id="classItem__variance__field_html"><div class="ttname"><a href="classItem__variance__field.html">Item_variance_field</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1355</div></div>
<div class="ttc" id="my__table__map_8h_html"><div class="ttname"><a href="my__table__map_8h.html">my_table_map.h</a></div></div>
<div class="ttc" id="mcstat_8c_html_aeb0a66a1106a1c0097d605cbcb19766d"><div class="ttname"><a href="mcstat_8c.html#aeb0a66a1106a1c0097d605cbcb19766d">print</a></div><div class="ttdeci">static void print(const char *key, int keylen, const char *val, int vallen)</div><div class="ttdoc">Print the key value pair. </div><div class="ttdef"><b>Definition:</b> mcstat.c:106</div></div>
<div class="ttc" id="classItem__sum__num_html_ab79831c6d4711b47efc8ae32e283ce33"><div class="ttname"><a href="classItem__sum__num.html#ab79831c6d4711b47efc8ae32e283ce33">Item_sum_num::is_evaluated</a></div><div class="ttdeci">bool is_evaluated</div><div class="ttdef"><b>Definition:</b> item_sum.h:958</div></div>
<div class="ttc" id="classItem__sum__min_html_ad8e5d009c16779d20ef3b6b39705ad18"><div class="ttname"><a href="classItem__sum__min.html#ad8e5d009c16779d20ef3b6b39705ad18">Item_sum_min::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1710</div></div>
<div class="ttc" id="classItem__sum__num_html_af231d53c77bce2a9cd36b92960a42672"><div class="ttname"><a href="classItem__sum__num.html#af231d53c77bce2a9cd36b92960a42672">Item_sum_num::Item_sum_num</a></div><div class="ttdeci">Item_sum_num(const POS &amp;pos, Item *item_par, PT_window *window)</div><div class="ttdef"><b>Definition:</b> item_sum.h:961</div></div>
<div class="ttc" id="my__inttypes_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:51</div></div>
<div class="ttc" id="classItem__sum__udf__str_html_aa7fcb12b19353542dc2ba34075096840"><div class="ttname"><a href="classItem__sum__udf__str.html#aa7fcb12b19353542dc2ba34075096840">Item_sum_udf_str::Item_sum_udf_str</a></div><div class="ttdeci">Item_sum_udf_str(THD *thd, Item_sum_udf_str *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2028</div></div>
<div class="ttc" id="sql__string_8h_html"><div class="ttname"><a href="sql__string_8h.html">sql_string.h</a></div><div class="ttdoc">Our own string classes, used pervasively throughout the executor. </div></div>
<div class="ttc" id="classItem__sum__int_html"><div class="ttname"><a href="classItem__sum__int.html">Item_sum_int</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:988</div></div>
<div class="ttc" id="udf__utils_8h_html_a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282"><div class="ttname"><a href="udf__utils_8h.html#a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282">privilege_status::error</a></div></div>
<div class="ttc" id="classItem__sum_html_ae2bb5b5b823d3fb577fdf23cdf38f9ae"><div class="ttname"><a href="classItem__sum.html#ae2bb5b5b823d3fb577fdf23cdf38f9ae">Item_sum::setup</a></div><div class="ttdeci">virtual bool setup(THD *)</div><div class="ttdef"><b>Definition:</b> item_sum.h:724</div></div>
<div class="ttc" id="classItem__sum__avg_html_afc7c4900aaf47547dfa3be9e6610d74b"><div class="ttname"><a href="classItem__sum__avg.html#afc7c4900aaf47547dfa3be9e6610d74b">Item_sum_avg::Item_sum_avg</a></div><div class="ttdeci">Item_sum_avg(THD *thd, Item_sum_avg *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1323</div></div>
<div class="ttc" id="classAggregator__distinct_html"><div class="ttname"><a href="classAggregator__distinct.html">Aggregator_distinct</a></div><div class="ttdoc">The distinct aggregator. </div><div class="ttdef"><b>Definition:</b> item_sum.h:820</div></div>
<div class="ttc" id="classItem__cume__dist_html_a160e73d688648371cfb36b935fddb936"><div class="ttname"><a href="classItem__cume__dist.html#a160e73d688648371cfb36b935fddb936">Item_cume_dist::super</a></div><div class="ttdeci">Item_non_framing_wf super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2339</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html"><div class="ttname"><a href="classItem__rollup__sum__switcher.html">Item_rollup_sum_switcher</a></div><div class="ttdoc">A wrapper Item that contains a number of aggregate items, one for each level of rollup (see Item_roll...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2695</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693ada1952747559ba5cb670b018d3b2c569"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693ada1952747559ba5cb670b018d3b2c569">Item_sum::MIN_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:445</div></div>
<div class="ttc" id="udf__registration__types_8h_html_ac852cc9149359bbfde83ad6ff646fd62"><div class="ttname"><a href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62">Item_result</a></div><div class="ttdeci">Item_result</div><div class="ttdoc">Type of the user defined function return slot and arguments. </div><div class="ttdef"><b>Definition:</b> udf_registration_types.h:38</div></div>
<div class="ttc" id="classItem__sum__variance_html_a5b312e2462f7184eb7e267e8b69c3da4"><div class="ttname"><a href="classItem__sum__variance.html#a5b312e2462f7184eb7e267e8b69c3da4">Item_sum_variance::Item_sum_variance</a></div><div class="ttdeci">Item_sum_variance(const POS &amp;pos, Item *item_par, uint sample_arg, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1457</div></div>
<div class="ttc" id="structItem__ident_1_1Change__context_html"><div class="ttname"><a href="structItem__ident_1_1Change__context.html">Item_ident::Change_context</a></div><div class="ttdoc">&lt; Argument object to change_context_processor </div><div class="ttdef"><b>Definition:</b> item.h:3830</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_af33c5a379041d9d4c3fcf4e7974cb928"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#af33c5a379041d9d4c3fcf4e7974cb928">Item_rollup_sum_switcher::m_num_levels</a></div><div class="ttdeci">const int m_num_levels</div><div class="ttdef"><b>Definition:</b> item_sum.h:2777</div></div>
<div class="ttc" id="udf__registration__types_8h_html_ac852cc9149359bbfde83ad6ff646fd62a2f590d5f6111b8e455a2f28dfd6b2022"><div class="ttname"><a href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a2f590d5f6111b8e455a2f28dfd6b2022">STRING_RESULT</a></div><div class="ttdoc">not valid for UDFs </div><div class="ttdef"><b>Definition:</b> udf_registration_types.h:40</div></div>
<div class="ttc" id="classItem__nth__value_html"><div class="ttname"><a href="classItem__nth__value.html">Item_nth_value</a></div><div class="ttdoc">NTH_VALUE window function, cf. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2601</div></div>
<div class="ttc" id="classudf__handler_html_ac54cd5d15c80505dd7cefc66c56b5919"><div class="ttname"><a href="classudf__handler.html#ac54cd5d15c80505dd7cefc66c56b5919">udf_handler::free_handler</a></div><div class="ttdeci">void free_handler()</div><div class="ttdef"><b>Definition:</b> item_func.cc:4157</div></div>
<div class="ttc" id="classItem__sum__int_html_a27e08f705d5141b0e5507f4c51e9882d"><div class="ttname"><a href="classItem__sum__int.html#a27e08f705d5141b0e5507f4c51e9882d">Item_sum_int::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1010</div></div>
<div class="ttc" id="classItem__sum__json__object_html_a29d14d3ae95eb013c6155c5aefe1b658"><div class="ttname"><a href="classItem__sum__json__object.html#a29d14d3ae95eb013c6155c5aefe1b658">Item_sum_json_object::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1304</div></div>
<div class="ttc" id="classItem__sum__udf__float_html_aaf2e188d32adf927af929e0515fb2cb8"><div class="ttname"><a href="classItem__sum__udf__float.html#aaf2e188d32adf927af929e0515fb2cb8">Item_sum_udf_float::Item_sum_udf_float</a></div><div class="ttdeci">Item_sum_udf_float(THD *thd, Item_sum_udf_float *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1976</div></div>
<div class="ttc" id="sql__base_8h_html"><div class="ttname"><a href="sql__base_8h.html">sql_base.h</a></div></div>
<div class="ttc" id="classItem__sum__udf__decimal_html_acd2d5712aec11a1a9e14d9a27c5d570f"><div class="ttname"><a href="classItem__sum__udf__decimal.html#acd2d5712aec11a1a9e14d9a27c5d570f">Item_sum_udf_decimal::Item_sum_udf_decimal</a></div><div class="ttdeci">Item_sum_udf_decimal(THD *thd, Item_sum_udf_decimal *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2067</div></div>
<div class="ttc" id="classItem__rank_html_a69705efa48936918f8101c41ba56de7f"><div class="ttname"><a href="classItem__rank.html#a69705efa48936918f8101c41ba56de7f">Item_rank::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *thd) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2316</div></div>
<div class="ttc" id="classItem__sum__bit_html_a0ca4baa6dd95dc9db920deaa7a94b889"><div class="ttname"><a href="classItem__sum__bit.html#a0ca4baa6dd95dc9db920deaa7a94b889">Item_sum_bit::cleanup</a></div><div class="ttdeci">void cleanup() override</div><div class="ttdoc">Called for every Item after use (preparation and execution). </div><div class="ttdef"><b>Definition:</b> item_sum.h:1844</div></div>
<div class="ttc" id="classItem__ntile_html_afeb55b17022ba2e3ab84a48d0969d03e"><div class="ttname"><a href="classItem__ntile.html#afeb55b17022ba2e3ab84a48d0969d03e">Item_ntile::result_type</a></div><div class="ttdeci">Item_result result_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2437</div></div>
<div class="ttc" id="template__utils_8h_html_abaa3204566f2da1d5876a24eb4f0e5cd"><div class="ttname"><a href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a></div><div class="ttdeci">T pointer_cast(void *p)</div><div class="ttdoc">Casts from one pointer type, to another, without using reinterpret_cast or C-style cast: foo f; bar *...</div><div class="ttdef"><b>Definition:</b> template_utils.h:73</div></div>
<div class="ttc" id="classAggregator__simple_html_a059e4dcaba3e7ec59260755fa3f084ca"><div class="ttname"><a href="classAggregator__simple.html#a059e4dcaba3e7ec59260755fa3f084ca">Aggregator_simple::clear</a></div><div class="ttdeci">void clear() override</div><div class="ttdoc">Called when we need to wipe out all the data from the aggregator : all the values acumulated and all ...</div><div class="ttdef"><b>Definition:</b> item_sum.h:940</div></div>
<div class="ttc" id="parse__location_8h_html"><div class="ttname"><a href="parse__location_8h.html">parse_location.h</a></div></div>
<div class="ttc" id="classItem__sum__or_html"><div class="ttname"><a href="classItem__sum__or.html">Item_sum_or</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1894</div></div>
<div class="ttc" id="classItem__lead__lag_html_a4899517c3663840ddcf46617dd2c67a2"><div class="ttname"><a href="classItem__lead__lag.html#a4899517c3663840ddcf46617dd2c67a2">Item_lead_lag::m_default</a></div><div class="ttdeci">Item_cache * m_default</div><div class="ttdef"><b>Definition:</b> item_sum.h:2451</div></div>
<div class="ttc" id="classItem__sum_html_a3f96ac7c0875e61865218b8823712d94"><div class="ttname"><a href="classItem__sum.html#a3f96ac7c0875e61865218b8823712d94">Item_sum::force_copy_fields</a></div><div class="ttdeci">bool force_copy_fields</div><div class="ttdoc">Used in making ROLLUP. </div><div class="ttdef"><b>Definition:</b> item_sum.h:425</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a8c1e3972fa69e414d78e2a7f39b2355c"><div class="ttname"><a href="classItem__sum__hybrid.html#a8c1e3972fa69e414d78e2a7f39b2355c">Item_sum_hybrid::Item_sum_hybrid</a></div><div class="ttdeci">Item_sum_hybrid(THD *thd, const Item_sum_hybrid *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1647</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a97349d7d7aae07b9f934a7e3246f9160"><div class="ttname"><a href="classItem__func__group__concat.html#a97349d7d7aae07b9f934a7e3246f9160">Item_func_group_concat::always_null</a></div><div class="ttdeci">bool always_null</div><div class="ttdef"><b>Definition:</b> item_sum.h:2125</div></div>
<div class="ttc" id="memcached_8c_html_a9e8f65e2f04446eb0a2f098411dacf9b"><div class="ttname"><a href="memcached_8c.html#a9e8f65e2f04446eb0a2f098411dacf9b">count</a></div><div class="ttdeci">ssize_t count</div><div class="ttdef"><b>Definition:</b> memcached.c:386</div></div>
<div class="ttc" id="classItem__rank_html_a3ce5249822bc4344277bad01c186a06a"><div class="ttname"><a href="classItem__rank.html#a3ce5249822bc4344277bad01c186a06a">Item_rank::m_duplicates</a></div><div class="ttdeci">ulonglong m_duplicates</div><div class="ttdoc">Needed to make RANK different from DENSE_RANK. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2292</div></div>
<div class="ttc" id="classItem__sum__udf__int_html"><div class="ttname"><a href="classItem__sum__udf__int.html">Item_sum_udf_int</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1999</div></div>
<div class="ttc" id="classItem__udf__sum_html_ab657b69f8a23451a34d21cd6161b3cd6"><div class="ttname"><a href="classItem__udf__sum.html#ab657b69f8a23451a34d21cd6161b3cd6">Item_udf_sum::Item_udf_sum</a></div><div class="ttdeci">Item_udf_sum(THD *thd, Item_udf_sum *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1941</div></div>
<div class="ttc" id="classAggregator__distinct_html_ac6d9df2470712b43538a864ddaf1ed6a"><div class="ttname"><a href="classAggregator__distinct.html#ac6d9df2470712b43538a864ddaf1ed6a">Aggregator_distinct::tmp_table_param</a></div><div class="ttdeci">Temp_table_param * tmp_table_param</div><div class="ttdef"><b>Definition:</b> item_sum.h:856</div></div>
<div class="ttc" id="classItem__rank_html_aff11d695dbb33be897837b3a030670c5"><div class="ttname"><a href="classItem__rank.html#aff11d695dbb33be897837b3a030670c5">Item_rank::super</a></div><div class="ttdeci">Item_non_framing_wf super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2288</div></div>
<div class="ttc" id="classAggregator_html_addca16d20f7cc2640f3843c2c5e7596d"><div class="ttname"><a href="classAggregator.html#addca16d20f7cc2640f3843c2c5e7596d">Aggregator::arg_val_real</a></div><div class="ttdeci">virtual double arg_val_real()=0</div><div class="ttdoc">Floating point value of being-aggregated argument. </div></div>
<div class="ttc" id="structORDER_html"><div class="ttname"><a href="structORDER.html">ORDER</a></div><div class="ttdef"><b>Definition:</b> table.h:272</div></div>
<div class="ttc" id="classItem__sum__avg_html_ac4185f4dac47850dae2046c9a511f5d5"><div class="ttname"><a href="classItem__sum__avg.html#ac4185f4dac47850dae2046c9a511f5d5">Item_sum_avg::result_item</a></div><div class="ttdeci">Item * result_item(Field *) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1339</div></div>
<div class="ttc" id="test__sql__9__sessions_8cc_html_ac242a6dca06b33213957c913bd72414c"><div class="ttname"><a href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a></div><div class="ttdeci">char buffer[STRING_BUFFER]</div><div class="ttdef"><b>Definition:</b> test_sql_9_sessions.cc:57</div></div>
<div class="ttc" id="classItem__sum_html_acec16c1ce518539b79b2eb3f215b98c6"><div class="ttname"><a href="classItem__sum.html#acec16c1ce518539b79b2eb3f215b98c6">Item_sum::m_window</a></div><div class="ttdeci">PT_window * m_window</div><div class="ttdoc">If sum is a window function, this field contains the window. </div><div class="ttdef"><b>Definition:</b> item_sum.h:411</div></div>
<div class="ttc" id="classItem__sum__count_html_ab7d0af5f6ef0e48fde9415e9f6070de6"><div class="ttname"><a href="classItem__sum__count.html#ab7d0af5f6ef0e48fde9415e9f6070de6">Item_sum_count::Item_sum_count</a></div><div class="ttdeci">Item_sum_count(const POS &amp;pos, Item *item_par, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1076</div></div>
<div class="ttc" id="mi__test2_8cc_html_af8cb0fe63d8fb11a50d3dc772d004576"><div class="ttname"><a href="mi__test2_8cc.html#af8cb0fe63d8fb11a50d3dc772d004576">key2</a></div><div class="ttdeci">static uchar key2[100]</div><div class="ttdef"><b>Definition:</b> mi_test2.cc:58</div></div>
<div class="ttc" id="classItem__non__framing__wf_html"><div class="ttname"><a href="classItem__non__framing__wf.html">Item_non_framing_wf</a></div><div class="ttdoc">Common parent class for window functions that always work on the entire partition, even if a frame is defined. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2216</div></div>
<div class="ttc" id="classItem__first__last__value_html"><div class="ttname"><a href="classItem__first__last__value.html">Item_first_last_value</a></div><div class="ttdoc">FIRST_VALUE/LAST_VALUE window functions, cf. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2536</div></div>
<div class="ttc" id="structWindow__evaluation__requirements_html"><div class="ttname"><a href="structWindow__evaluation__requirements.html">Window_evaluation_requirements</a></div><div class="ttdoc">Collects evaluation requirements from a window function, used by Item_sum::check_wf_semantics and its...</div><div class="ttdef"><b>Definition:</b> window.h:1445</div></div>
<div class="ttc" id="classItem__sum__bit__field_html_a255eb4ac6ae63ed313cf5ac4d94e277a"><div class="ttname"><a href="classItem__sum__bit__field.html#a255eb4ac6ae63ed313cf5ac4d94e277a">Item_sum_bit_field::reset_bits</a></div><div class="ttdeci">ulonglong reset_bits</div><div class="ttdef"><b>Definition:</b> item_sum.h:1192</div></div>
<div class="ttc" id="classAggregator_html"><div class="ttname"><a href="classAggregator.html">Aggregator</a></div><div class="ttdoc">The abstract base class for the Aggregator_* classes. </div><div class="ttdef"><b>Definition:</b> item_sum.h:96</div></div>
<div class="ttc" id="classItem__variance__field_html_ab9c7e4afea06622dfb167f870d42a732"><div class="ttname"><a href="classItem__variance__field.html#ab9c7e4afea06622dfb167f870d42a732">Item_variance_field::val_decimal</a></div><div class="ttdeci">my_decimal * val_decimal(my_decimal *dec_buf) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1364</div></div>
<div class="ttc" id="classudf__handler_html_a66207d8b341e44708356100a1a988f6c"><div class="ttname"><a href="classudf__handler.html#a66207d8b341e44708356100a1a988f6c">udf_handler::fix_fields</a></div><div class="ttdeci">bool fix_fields(THD *thd, Item_result_field *item, uint arg_count, Item **args)</div><div class="ttdef"><b>Definition:</b> item_func.cc:4173</div></div>
<div class="ttc" id="thr__malloc_8h_html"><div class="ttname"><a href="thr__malloc_8h.html">thr_malloc.h</a></div></div>
<div class="ttc" id="sql__const_8h_html"><div class="ttname"><a href="sql__const_8h.html">sql_const.h</a></div><div class="ttdoc">File containing constants that can be used throughout the server. </div></div>
<div class="ttc" id="classItem__func__group__concat_html_a540f749b22e17abeb7a206bce4b26a26"><div class="ttname"><a href="classItem__func__group__concat.html#a540f749b22e17abeb7a206bce4b26a26">Item_func_group_concat::force_copy_fields</a></div><div class="ttdeci">bool force_copy_fields</div><div class="ttdef"><b>Definition:</b> item_sum.h:2126</div></div>
<div class="ttc" id="classItem__sum__and_html_ab1ce03cd915981b1ac30af614cc150df"><div class="ttname"><a href="classItem__sum__and.html#ab1ce03cd915981b1ac30af614cc150df">Item_sum_and::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1910</div></div>
<div class="ttc" id="classItem__udf__sum_html_a1887d25cc0cd18bbb3c7910911c232b4"><div class="ttname"><a href="classItem__udf__sum.html#a1887d25cc0cd18bbb3c7910911c232b4">Item_udf_sum::udf</a></div><div class="ttdeci">udf_handler udf</div><div class="ttdef"><b>Definition:</b> item_sum.h:1934</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a93c752350ce88e28ad877a6a9087b5ad"><div class="ttname"><a href="classItem__sum__hybrid.html#a93c752350ce88e28ad877a6a9087b5ad">Item_sum_hybrid::hybrid_type</a></div><div class="ttdeci">Item_result hybrid_type</div><div class="ttdef"><b>Definition:</b> item_sum.h:1554</div></div>
<div class="ttc" id="classItem__sum__count_html_a905e200b196e7c06545dfd7db557a8a9"><div class="ttname"><a href="classItem__sum__count.html#a905e200b196e7c06545dfd7db557a8a9">Item_sum_count::Item_sum_count</a></div><div class="ttdeci">Item_sum_count(const POS &amp;pos, PT_item_list *list, PT_window *w)</div><div class="ttdoc">Constructs an instance for COUNT(DISTINCT) </div><div class="ttdef"><b>Definition:</b> item_sum.h:1089</div></div>
<div class="ttc" id="my__inttypes_8h_html"><div class="ttname"><a href="my__inttypes_8h.html">my_inttypes.h</a></div><div class="ttdoc">Some integer typedefs for easier portability. </div></div>
<div class="ttc" id="classItem__sum__hybrid__field_html_a78bdcdeebda0658a1594c0985360b5f1"><div class="ttname"><a href="classItem__sum__hybrid__field.html#a78bdcdeebda0658a1594c0985360b5f1">Item_sum_hybrid_field::check_function_as_value_generator</a></div><div class="ttdeci">bool check_function_as_value_generator(uchar *args) override</div><div class="ttdoc">Check if this item is allowed for a virtual column or inside a default expression. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1145</div></div>
<div class="ttc" id="classAggregator_html_a0c8f75d3d70dff740412d52b63ea3e40"><div class="ttname"><a href="classAggregator.html#a0c8f75d3d70dff740412d52b63ea3e40">Aggregator::item_sum</a></div><div class="ttdeci">Item_sum * item_sum</div><div class="ttdef"><b>Definition:</b> item_sum.h:108</div></div>
<div class="ttc" id="group__MYSYS_html_ga19ebf963aef6b242322e15e01811972e"><div class="ttname"><a href="group__MYSYS.html#ga19ebf963aef6b242322e15e01811972e">my_error</a></div><div class="ttdeci">void my_error(int nr, myf MyFlags,...)</div><div class="ttdoc">Fill in and print a previously registered error message. </div><div class="ttdef"><b>Definition:</b> my_error.cc:215</div></div>
<div class="ttc" id="classItem__sum__udf__decimal_html"><div class="ttname"><a href="classItem__sum__udf__decimal.html">Item_sum_udf_decimal</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:2062</div></div>
<div class="ttc" id="classItem__sum_html_a34a26112263b9d738dcbf6a420855c79"><div class="ttname"><a href="classItem__sum.html#a34a26112263b9d738dcbf6a420855c79">Item_sum::aggregator_setup</a></div><div class="ttdeci">virtual bool aggregator_setup(THD *thd)</div><div class="ttdoc">Called to initialize the aggregator. </div><div class="ttdef"><b>Definition:</b> item_sum.h:694</div></div>
<div class="ttc" id="classItem__first__last__value_html_a856bc8d273babff07912c891e533bc33"><div class="ttname"><a href="classItem__first__last__value.html#a856bc8d273babff07912c891e533bc33">Item_first_last_value::m_value</a></div><div class="ttdeci">Item_cache * m_value</div><div class="ttdef"><b>Definition:</b> item_sum.h:2540</div></div>
<div class="ttc" id="classItem__sum__bit_html_aa87096675f29d216c6c8c1d07cf2c211"><div class="ttname"><a href="classItem__sum__bit.html#aa87096675f29d216c6c8c1d07cf2c211">Item_sum_bit::m_count</a></div><div class="ttdeci">ulonglong m_count</div><div class="ttdoc">Execution state (windowing): this is for counting rows entering and leaving the window frame...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1752</div></div>
<div class="ttc" id="classItem__sum_html_ae4fdc636f64d06fff4157c15d58e1a3e"><div class="ttname"><a href="classItem__sum.html#ae4fdc636f64d06fff4157c15d58e1a3e">Item_sum::uses_only_one_row</a></div><div class="ttdeci">virtual bool uses_only_one_row() const</div><div class="ttdoc">Only for framing window functions. </div><div class="ttdef"><b>Definition:</b> item_sum.h:775</div></div>
<div class="ttc" id="classItem__sum__avg_html_a83e12e18b5fc8874841756a358e0deaa"><div class="ttname"><a href="classItem__sum__avg.html#a83e12e18b5fc8874841756a358e0deaa">Item_sum_avg::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1343</div></div>
<div class="ttc" id="classBounds__checked__array_html"><div class="ttname"><a href="classBounds__checked__array.html">Bounds_checked_array</a></div><div class="ttdoc">A wrapper class which provides array bounds checking. </div><div class="ttdef"><b>Definition:</b> sql_array.h:41</div></div>
<div class="ttc" id="classmem__root__deque_html"><div class="ttname"><a href="classmem__root__deque.html">mem_root_deque</a></div><div class="ttdoc">A (partial) implementation of std::deque allocating its blocks on a MEM_ROOT. </div><div class="ttdef"><b>Definition:</b> mem_root_deque.h:109</div></div>
<div class="ttc" id="classItem__sum__hybrid__field_html"><div class="ttname"><a href="classItem__sum__hybrid__field.html">Item_sum_hybrid_field</a></div><div class="ttdoc">This is used in connection which a parent Item_sum: </div><div class="ttdef"><b>Definition:</b> item_sum.h:1129</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a162b0c2a8e38940a015cfaaba5cf7355"><div class="ttname"><a href="classItem__func__group__concat.html#a162b0c2a8e38940a015cfaaba5cf7355">Item_func_group_concat::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2159</div></div>
<div class="ttc" id="classItem__sum__udf__str_html_a4c6cb07ad4d120b7463a022e00e684f8"><div class="ttname"><a href="classItem__sum__udf__str.html#a4c6cb07ad4d120b7463a022e00e684f8">Item_sum_udf_str::val_real</a></div><div class="ttdeci">double val_real() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2031</div></div>
<div class="ttc" id="classItem__nth__value_html_a2a4ea0039d62b13b1965d67ce7dc53ea"><div class="ttname"><a href="classItem__nth__value.html#a2a4ea0039d62b13b1965d67ce7dc53ea">Item_nth_value::m_cnt</a></div><div class="ttdeci">int64 m_cnt</div><div class="ttdoc">used when evaluating on-the-fly (non-buffered processing) </div><div class="ttdef"><b>Definition:</b> item_sum.h:2608</div></div>
<div class="ttc" id="classPT__order__list_html"><div class="ttname"><a href="classPT__order__list.html">PT_order_list</a></div><div class="ttdef"><b>Definition:</b> parse_tree_nodes.h:211</div></div>
<div class="ttc" id="classItem__sum__udf__str_html_a8124823ad0a145b77d006e01d8c019e3"><div class="ttname"><a href="classItem__sum__udf__str.html#a8124823ad0a145b77d006e01d8c019e3">Item_sum_udf_str::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2051</div></div>
<div class="ttc" id="classItem__sum_html_ae4ed820ab7c0fe088d07e2d9a20f4e4d"><div class="ttname"><a href="classItem__sum.html#ae4ed820ab7c0fe088d07e2d9a20f4e4d">Item_sum::max_sum_func_level</a></div><div class="ttdeci">int8 max_sum_func_level</div><div class="ttdoc">max level of aggregation for contained functions </div><div class="ttdef"><b>Definition:</b> item_sum.h:489</div></div>
<div class="ttc" id="classItem__udf__sum_html_a2533f8096f5723043149d025c5454586"><div class="ttname"><a href="classItem__udf__sum.html#a2533f8096f5723043149d025c5454586">Item_udf_sum::update_field</a></div><div class="ttdeci">void update_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1966</div></div>
<div class="ttc" id="classItem__func__group__concat_html_af2d41cac715a0ba3b24dc9881a71140e"><div class="ttname"><a href="classItem__func__group__concat.html#af2d41cac715a0ba3b24dc9881a71140e">Item_func_group_concat::~Item_func_group_concat</a></div><div class="ttdeci">~Item_func_group_concat() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2151</div></div>
<div class="ttc" id="classItem__sum__udf__float_html_a3f123e3f574f1a62fa69ffdee9ddcb85"><div class="ttname"><a href="classItem__sum__udf__float.html#a3f123e3f574f1a62fa69ffdee9ddcb85">Item_sum_udf_float::val_int</a></div><div class="ttdeci">longlong val_int() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1978</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a5c414389eba2659c7fd49380879c7dd7"><div class="ttname"><a href="classItem__func__group__concat.html#a5c414389eba2659c7fd49380879c7dd7">Item_func_group_concat::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2184</div></div>
<div class="ttc" id="classUnique_html"><div class="ttname"><a href="classUnique.html">Unique</a></div><div class="ttdoc">Unique  class for unique (removing of duplicates). </div><div class="ttdef"><b>Definition:</b> uniques.h:52</div></div>
<div class="ttc" id="classItem__sum__json__object_html_ad25b12bfcd030de8ac6109b7d40bef07"><div class="ttname"><a href="classItem__sum__json__object.html#ad25b12bfcd030de8ac6109b7d40bef07">Item_sum_json_object::m_key_map</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; m_key_map</div><div class="ttdoc">Map of keys in Json_object and the count for each key within a window frame. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1286</div></div>
<div class="ttc" id="classAggregator_html_a478d5a6fde05c6774759fd1c30df0bbe"><div class="ttname"><a href="classAggregator.html#a478d5a6fde05c6774759fd1c30df0bbe">Aggregator::~Aggregator</a></div><div class="ttdeci">virtual ~Aggregator()</div><div class="ttdef"><b>Definition:</b> item_sum.h:112</div></div>
<div class="ttc" id="classItem__first__last__value_html_aacc1b6940cb34a3f909ffbee62696db0"><div class="ttname"><a href="classItem__first__last__value.html#aacc1b6940cb34a3f909ffbee62696db0">Item_first_last_value::uses_only_one_row</a></div><div class="ttdeci">bool uses_only_one_row() const override</div><div class="ttdoc">Only for framing window functions. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2585</div></div>
<div class="ttc" id="classItem__nth__value_html_a78ea78113a4ecdf915b3980272faf4b9"><div class="ttname"><a href="classItem__nth__value.html#a78ea78113a4ecdf915b3980272faf4b9">Item_nth_value::m_from_last</a></div><div class="ttdeci">bool m_from_last</div><div class="ttdoc">true iff FROM_LAST was specified </div><div class="ttdef"><b>Definition:</b> item_sum.h:2604</div></div>
<div class="ttc" id="classSELECT__LEX_html"><div class="ttname"><a href="classSELECT__LEX.html">SELECT_LEX</a></div><div class="ttdoc">This class represents a query block, aka a query specification, which is a query consisting of a SELE...</div><div class="ttdef"><b>Definition:</b> sql_lex.h:1089</div></div>
<div class="ttc" id="classItem__sum__sum_html_a54c9fbf3ad3be0b16437803c6807d142"><div class="ttname"><a href="classItem__sum__sum.html#a54c9fbf3ad3be0b16437803c6807d142">Item_sum_sum::hybrid_type</a></div><div class="ttdeci">Item_result hybrid_type</div><div class="ttdef"><b>Definition:</b> item_sum.h:1019</div></div>
<div class="ttc" id="classField_html"><div class="ttname"><a href="classField.html">Field</a></div><div class="ttdef"><b>Definition:</b> field.h:723</div></div>
<div class="ttc" id="namespaceCounter_html_a797c2d7934585e10e3e7b548520c3a95"><div class="ttname"><a href="namespaceCounter.html#a797c2d7934585e10e3e7b548520c3a95">Counter::dec</a></div><div class="ttdeci">Type dec(Shards&lt; COUNT &gt; &amp;shards, size_t id)</div><div class="ttdoc">Decrement the counter of a shard by 1. </div><div class="ttdef"><b>Definition:</b> ut0counter.h:301</div></div>
<div class="ttc" id="classItem__sum__min_html"><div class="ttname"><a href="classItem__sum__min.html">Item_sum_min</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1702</div></div>
<div class="ttc" id="classAggregator_html_afcde359558a43054f7812a72498a263f"><div class="ttname"><a href="classAggregator.html#afcde359558a43054f7812a72498a263f">Aggregator::setup</a></div><div class="ttdeci">virtual bool setup(THD *)=0</div><div class="ttdoc">Called before adding the first row. </div></div>
<div class="ttc" id="classItem__sum_html_ae446ff1dc1d0a43af8a3b57861512d58"><div class="ttname"><a href="classItem__sum.html#ae446ff1dc1d0a43af8a3b57861512d58">Item_sum::get_arg_ptr</a></div><div class="ttdeci">Item ** get_arg_ptr(uint i)</div><div class="ttdef"><b>Definition:</b> item_sum.h:679</div></div>
<div class="ttc" id="classItem__sum_html_a50f352c59bf4d0305bffda80520f70f8"><div class="ttname"><a href="classItem__sum.html#a50f352c59bf4d0305bffda80520f70f8">Item_sum::make_const</a></div><div class="ttdeci">void make_const()</div><div class="ttdef"><b>Definition:</b> item_sum.h:621</div></div>
<div class="ttc" id="classItem__sum__avg_html"><div class="ttname"><a href="classItem__sum__avg.html">Item_sum_avg</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1312</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a853793f3afcc7d39ec652e7c7aa9a2eb"><div class="ttname"><a href="classItem__sum__hybrid.html#a853793f3afcc7d39ec652e7c7aa9a2eb">Item_sum_hybrid::keep_field_type</a></div><div class="ttdeci">bool keep_field_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1675</div></div>
<div class="ttc" id="classAggregator_html_a70e0d53834f2672f3ec57c96e35a9a60"><div class="ttname"><a href="classAggregator.html#a70e0d53834f2672f3ec57c96e35a9a60">Aggregator::add</a></div><div class="ttdeci">virtual bool add()=0</div><div class="ttdoc">Called when there&amp;#39;s a new value to be aggregated. </div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a25400a0db3ef1ac5f53173785f47d2fa"><div class="ttname"><a href="classItem__sum__hybrid.html#a25400a0db3ef1ac5f53173785f47d2fa">Item_sum_hybrid::m_is_min</a></div><div class="ttdeci">const bool m_is_min</div><div class="ttdoc">Tells if this is the MIN function (true) or the MAX function (false). </div><div class="ttdef"><b>Definition:</b> item_sum.h:1543</div></div>
<div class="ttc" id="classItem__cache_html"><div class="ttname"><a href="classItem__cache.html">Item_cache</a></div><div class="ttdef"><b>Definition:</b> item.h:6444</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_aba73a14879c20e7381ef5ace2c07cd68"><div class="ttname"><a href="classItem__non__framing__wf.html#aba73a14879c20e7381ef5ace2c07cd68">Item_non_framing_wf::framing</a></div><div class="ttdeci">bool framing() const override</div><div class="ttdoc">All aggregates are framing, i.e. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2244</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a31478f0b39c7ec562943dfda93094374"><div class="ttname"><a href="classItem__non__framing__wf.html#a31478f0b39c7ec562943dfda93094374">Item_non_framing_wf::Item_non_framing_wf</a></div><div class="ttdeci">Item_non_framing_wf(const POS &amp;pos, PT_item_list *opt_list, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2223</div></div>
<div class="ttc" id="classWindow_html"><div class="ttname"><a href="classWindow.html">Window</a></div><div class="ttdoc">Represents the (explicit) window of a SQL 2003 section 7.11 &lt;window clause&gt;, or the implicit (inlined...</div><div class="ttdef"><b>Definition:</b> window.h:94</div></div>
<div class="ttc" id="classItem__sum__min_html_a2269b90f878f3ecece5e0d1de7c69ed7"><div class="ttname"><a href="classItem__sum__min.html#a2269b90f878f3ecece5e0d1de7c69ed7">Item_sum_min::Item_sum_min</a></div><div class="ttdeci">Item_sum_min(Item *item_par)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1704</div></div>
<div class="ttc" id="classItem__sum_html_a433b2fc4721c02f2cc984d66b4090530"><div class="ttname"><a href="classItem__sum.html#a433b2fc4721c02f2cc984d66b4090530">Item_sum::max_aggr_level</a></div><div class="ttdeci">int8 max_aggr_level</div><div class="ttdoc">max level of unbound column references </div><div class="ttdef"><b>Definition:</b> item_sum.h:487</div></div>
<div class="ttc" id="classItem__sum__count_html"><div class="ttname"><a href="classItem__sum__count.html">Item_sum_count</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1066</div></div>
<div class="ttc" id="classItem__row__number_html_a6f3e63c6d36ddbfabb9745ee62081a13"><div class="ttname"><a href="classItem__row__number.html#a6f3e63c6d36ddbfabb9745ee62081a13">Item_row_number::check_wf_semantics1</a></div><div class="ttdeci">bool check_wf_semantics1(THD *, SELECT_LEX *, Window_evaluation_requirements *) override</div><div class="ttdoc">Only relevant for aggregates qua window functions. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2277</div></div>
<div class="ttc" id="classItem__sum__max_html"><div class="ttname"><a href="classItem__sum__max.html">Item_sum_max</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1716</div></div>
<div class="ttc" id="classAggregator_html_afdaf2fcbe4bca3f9cf9e54d9302c0d69"><div class="ttname"><a href="classAggregator.html#afdaf2fcbe4bca3f9cf9e54d9302c0d69">Aggregator::Item_sum</a></div><div class="ttdeci">friend class Item_sum</div><div class="ttdef"><b>Definition:</b> item_sum.h:97</div></div>
<div class="ttc" id="classItem__sum__variance_html_a193e2f4e4eba1b3d62d836be88d04104"><div class="ttname"><a href="classItem__sum__variance.html#a193e2f4e4eba1b3d62d836be88d04104">Item_sum_variance::cleanup</a></div><div class="ttdeci">void cleanup() override</div><div class="ttdoc">Called for every Item after use (preparation and execution). </div><div class="ttdef"><b>Definition:</b> item_sum.h:1481</div></div>
<div class="ttc" id="classItem__sum__xor_html_a94f7c97dae242d44c437d76387d8ff72"><div class="ttname"><a href="classItem__sum__xor.html#a94f7c97dae242d44c437d76387d8ff72">Item_sum_xor::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1922</div></div>
<div class="ttc" id="classItem__variance__field_html_a007ce58b6e947727f1ee7217a2948aaa"><div class="ttname"><a href="classItem__variance__field.html#a007ce58b6e947727f1ee7217a2948aaa">Item_variance_field::val_str</a></div><div class="ttdeci">String * val_str(String *str) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1363</div></div>
<div class="ttc" id="classItem__sum__bit_html_a8fb69e155ba18f583db81b3bd0ea1943"><div class="ttname"><a href="classItem__sum__bit.html#a8fb69e155ba18f583db81b3bd0ea1943">Item_sum_bit::reset_bits</a></div><div class="ttdeci">ulonglong reset_bits</div><div class="ttdoc">Stores the neutral element for function. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1738</div></div>
<div class="ttc" id="classItem__row__number_html_a01345de8f1c09c5b98a751c678313277"><div class="ttname"><a href="classItem__row__number.html#a01345de8f1c09c5b98a751c678313277">Item_row_number::m_ctr</a></div><div class="ttdeci">ulonglong m_ctr</div><div class="ttdoc">Increment for each row in partition. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2252</div></div>
<div class="ttc" id="classItem__sum__count_html_ac4470ff6ed87c5ad876bf2524aa65299"><div class="ttname"><a href="classItem__sum__count.html#ac4470ff6ed87c5ad876bf2524aa65299">Item_sum_count::no_rows_in_result</a></div><div class="ttdeci">void no_rows_in_result() override</div><div class="ttdoc">Mark an aggregate as having no rows. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1104</div></div>
<div class="ttc" id="classudf__handler_html_a00b97e2e518ef49e3d51b8b523734ba4"><div class="ttname"><a href="classudf__handler.html#a00b97e2e518ef49e3d51b8b523734ba4">udf_handler::name</a></div><div class="ttdeci">const char * name() const</div><div class="ttdef"><b>Definition:</b> sql_udf.h:114</div></div>
<div class="ttc" id="classAggregator__simple_html_ad72e6c47d1680f44b3d71d017f5049df"><div class="ttname"><a href="classAggregator__simple.html#ad72e6c47d1680f44b3d71d017f5049df">Aggregator_simple::add</a></div><div class="ttdeci">bool add() override</div><div class="ttdoc">Called when there&amp;#39;s a new value to be aggregated. </div><div class="ttdef"><b>Definition:</b> item_sum.h:941</div></div>
<div class="ttc" id="item__sum_8h_html_a472c419ab553899eb8a8f2645f4c55be"><div class="ttname"><a href="item__sum_8h.html#a472c419ab553899eb8a8f2645f4c55be">group_concat_key_cmp_with_distinct</a></div><div class="ttdeci">int group_concat_key_cmp_with_distinct(const void *arg, const void *key1, const void *key2)</div><div class="ttdoc">Compares the values for fields in expr list of GROUP_CONCAT. </div><div class="ttdef"><b>Definition:</b> item_sum.cc:3933</div></div>
<div class="ttc" id="classItem__sum__bit__field_html_a3f7864822ddb56c2eacd83f40fde60f3"><div class="ttname"><a href="classItem__sum__bit__field.html#a3f7864822ddb56c2eacd83f40fde60f3">Item_sum_bit_field::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1201</div></div>
<div class="ttc" id="classItem__func__group__concat_html_aae5594862c933f20c11fbcf2ae458e42"><div class="ttname"><a href="classItem__func__group__concat.html#aae5594862c933f20c11fbcf2ae458e42">Item_func_group_concat::tree</a></div><div class="ttdeci">TREE * tree</div><div class="ttdef"><b>Definition:</b> item_sum.h:2102</div></div>
<div class="ttc" id="classItem__sum__sum_html_ad92dee782418bbaae0bf258f592f3d96"><div class="ttname"><a href="classItem__sum__sum.html#ad92dee782418bbaae0bf258f592f3d96">Item_sum_sum::curr_dec_buff</a></div><div class="ttdeci">uint curr_dec_buff</div><div class="ttdef"><b>Definition:</b> item_sum.h:1022</div></div>
<div class="ttc" id="classPT__window_html"><div class="ttname"><a href="classPT__window.html">PT_window</a></div><div class="ttdoc">Parse tree node for a window; just a shallow wrapper for class Window, q.v. </div><div class="ttdef"><b>Definition:</b> parse_tree_window.h:38</div></div>
<div class="ttc" id="classItem__cume__dist_html"><div class="ttname"><a href="classItem__cume__dist.html">Item_cume_dist</a></div><div class="ttdoc">CUME_DIST window function, cf. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2338</div></div>
<div class="ttc" id="classAggregator__distinct_html_ac3c8cd50d13b20f393fa079d31018f39"><div class="ttname"><a href="classAggregator__distinct.html#ac3c8cd50d13b20f393fa079d31018f39">Aggregator_distinct::tree</a></div><div class="ttdeci">Unique * tree</div><div class="ttdef"><b>Definition:</b> item_sum.h:865</div></div>
<div class="ttc" id="classItem__sum__udf__float_html"><div class="ttname"><a href="classItem__sum__udf__float.html">Item_sum_udf_float</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1972</div></div>
<div class="ttc" id="test__udf__registration_8cc_html_a96e3cff2f3e1d8eda47115215d03ff32"><div class="ttname"><a href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">list</a></div><div class="ttdeci">class udf_list * list</div></div>
<div class="ttc" id="item__func_8h_html"><div class="ttname"><a href="item__func_8h.html">item_func.h</a></div></div>
<div class="ttc" id="classAggregator_html_ad9419dfc50b0b7e5e977a81b3bd8ddda"><div class="ttname"><a href="classAggregator.html#ad9419dfc50b0b7e5e977a81b3bd8ddda">Aggregator::Aggregator</a></div><div class="ttdeci">Aggregator(Item_sum *arg)</div><div class="ttdef"><b>Definition:</b> item_sum.h:111</div></div>
<div class="ttc" id="classItem__sum__bit_html_addb3eecb42624467d527050b3703339e"><div class="ttname"><a href="classItem__sum__bit.html#addb3eecb42624467d527050b3703339e">Item_sum_bit::m_digit_cnt_card</a></div><div class="ttdeci">uint m_digit_cnt_card</div><div class="ttdef"><b>Definition:</b> item_sum.h:1787</div></div>
<div class="ttc" id="classItem__rank_html_a09c4a858819cbc39ce41e163f4037506"><div class="ttname"><a href="classItem__rank.html#a09c4a858819cbc39ce41e163f4037506">Item_rank::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2308</div></div>
<div class="ttc" id="classItem__sum__variance_html_aa96f9a9c01583b12849167b06dea7397"><div class="ttname"><a href="classItem__sum__variance.html#aa96f9a9c01583b12849167b06dea7397">Item_sum_variance::prec_increment</a></div><div class="ttdeci">uint prec_increment</div><div class="ttdef"><b>Definition:</b> item_sum.h:1449</div></div>
<div class="ttc" id="classItem__sum__hybrid__field_html_ae4779a9f259ded74583dfa063e3200c7"><div class="ttname"><a href="classItem__sum__hybrid__field.html#ae4779a9f259ded74583dfa063e3200c7">Item_sum_hybrid_field::mark_field_in_map</a></div><div class="ttdeci">bool mark_field_in_map(uchar *arg) override</div><div class="ttdoc">Mark underlying field in read or write map of a table. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1138</div></div>
<div class="ttc" id="classString_html_aeaf7246f97fb6eca08e3ef1fadf6a7d4"><div class="ttname"><a href="classString.html#aeaf7246f97fb6eca08e3ef1fadf6a7d4">String::c_ptr</a></div><div class="ttdeci">char * c_ptr()</div><div class="ttdef"><b>Definition:</b> sql_string.h:248</div></div>
<div class="ttc" id="classItem__func__grouping_html_a2af2707a76d03cebeaa8944f58d21a94"><div class="ttname"><a href="classItem__func__grouping.html#a2af2707a76d03cebeaa8944f58d21a94">Item_func_grouping::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2680</div></div>
<div class="ttc" id="udf__registration__types_8h_html_ac852cc9149359bbfde83ad6ff646fd62a8abdf3ddb05d5f0331210fc03d584ae3"><div class="ttname"><a href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62a8abdf3ddb05d5f0331210fc03d584ae3">REAL_RESULT</a></div><div class="ttdoc">char * </div><div class="ttdef"><b>Definition:</b> udf_registration_types.h:41</div></div>
<div class="ttc" id="sql__const_8h_html_ab2df5e15d7fb7ccd43e6af9527cb81cf"><div class="ttname"><a href="sql__const_8h.html#ab2df5e15d7fb7ccd43e6af9527cb81cf">enum_walk</a></div><div class="ttdeci">enum_walk</div><div class="ttdoc">Enumeration for {Item,SELECT_LEX[_UNIT],Table_function}walk. </div><div class="ttdef"><b>Definition:</b> sql_const.h:438</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a7620f9b90e587ff12d3089e700b825db"><div class="ttname"><a href="classItem__non__framing__wf.html#a7620f9b90e587ff12d3089e700b825db">Item_non_framing_wf::reset_field</a></div><div class="ttdeci">void reset_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2235</div></div>
<div class="ttc" id="classItem__sum__udf__int_html_a1a10b600bfa9e714743588384f487394"><div class="ttname"><a href="classItem__sum__udf__int.html#a1a10b600bfa9e714743588384f487394">Item_sum_udf_int::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2012</div></div>
<div class="ttc" id="classItem__row__number_html_a80c3aaa1430c74d0b55fc776d569cb43"><div class="ttname"><a href="classItem__row__number.html#a80c3aaa1430c74d0b55fc776d569cb43">Item_row_number::Item_row_number</a></div><div class="ttdeci">Item_row_number(const POS &amp;pos, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2255</div></div>
<div class="ttc" id="window__lex_8h_html"><div class="ttname"><a href="window__lex_8h.html">window_lex.h</a></div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a67178473e460b5e944cbd42a7f011f6c"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a67178473e460b5e944cbd42a7f011f6c">Item_sum::SUM_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:441</div></div>
<div class="ttc" id="classItem__sum__or_html_af5bb356e1370532fb745fa436289f3ff"><div class="ttname"><a href="classItem__sum__or.html#af5bb356e1370532fb745fa436289f3ff">Item_sum_or::Item_sum_or</a></div><div class="ttdeci">Item_sum_or(const POS &amp;pos, Item *item_par, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1896</div></div>
<div class="ttc" id="classItem__sum__udf__float_html_aa47efe79ad7939cea3def9c0eca68d8a"><div class="ttname"><a href="classItem__sum__udf__float.html#aa47efe79ad7939cea3def9c0eca68d8a">Item_sum_udf_float::val_real</a></div><div class="ttdeci">double val_real() override</div><div class="ttdef"><b>Definition:</b> item_sum.cc:3822</div></div>
<div class="ttc" id="classAggregator__distinct_html_ad147028f9a5609167d5d3da4aa11d4fd"><div class="ttname"><a href="classAggregator__distinct.html#ad147028f9a5609167d5d3da4aa11d4fd">Aggregator_distinct::Aggrtype</a></div><div class="ttdeci">Aggregator_type Aggrtype() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:915</div></div>
<div class="ttc" id="classItem__sum__avg_html_a4f26a86cba0c87ce9c932efbfd7206a1"><div class="ttname"><a href="classItem__sum__avg.html#a4f26a86cba0c87ce9c932efbfd7206a1">Item_sum_avg::super</a></div><div class="ttdeci">Item_sum_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:1316</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a0aab5e57cf7e6c6bc2d38e4ec6d647fc"><div class="ttname"><a href="classItem__func__group__concat.html#a0aab5e57cf7e6c6bc2d38e4ec6d647fc">Item_func_group_concat::original</a></div><div class="ttdeci">Item_func_group_concat * original</div><div class="ttdef"><b>Definition:</b> item_sum.h:2133</div></div>
<div class="ttc" id="classItem__sum__json_html_a99a0c92af127f10e49dcbf53fcf94a65"><div class="ttname"><a href="classItem__sum__json.html#a99a0c92af127f10e49dcbf53fcf94a65">Item_sum_json::result_type</a></div><div class="ttdeci">Item_result result_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1238</div></div>
<div class="ttc" id="classItem__sum__num__field_html"><div class="ttname"><a href="classItem__sum__num__field.html">Item_sum_num_field</a></div><div class="ttdoc">Common abstract class for: Item_avg_field Item_variance_field. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1158</div></div>
<div class="ttc" id="m__string_8h_html"><div class="ttname"><a href="m__string_8h.html">m_string.h</a></div></div>
<div class="ttc" id="classItem__first__last__value_html_ad4a28451b09f52fc1aa4d4e146143969"><div class="ttname"><a href="classItem__first__last__value.html#ad4a28451b09f52fc1aa4d4e146143969">Item_first_last_value::Item_first_last_value</a></div><div class="ttdeci">Item_first_last_value(const POS &amp;pos, bool first, Item *a, enum_null_treatment null_treatment, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2545</div></div>
<div class="ttc" id="classItem__sum__std_html_a7cb91181cf60db2d084ef0c519c9d445"><div class="ttname"><a href="classItem__sum__std.html#a7cb91181cf60db2d084ef0c519c9d445">Item_sum_std::Item_sum_std</a></div><div class="ttdeci">Item_sum_std(THD *thd, Item_sum_std *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1519</div></div>
<div class="ttc" id="classItem__percent__rank_html_a7dea7263a85f606ff85d109c64cb816a"><div class="ttname"><a href="classItem__percent__rank.html#a7dea7263a85f606ff85d109c64cb816a">Item_percent_rank::super</a></div><div class="ttdeci">Item_non_framing_wf super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2368</div></div>
<div class="ttc" id="classPT__item__list_html"><div class="ttname"><a href="classPT__item__list.html">PT_item_list</a></div><div class="ttdoc">Wrapper class for an Item list head, used to allocate Item lists in the parser in a context-independe...</div><div class="ttdef"><b>Definition:</b> parse_tree_helpers.h:100</div></div>
<div class="ttc" id="test__status__var__service__reg__only_8cc_html_a4df9f0843338cac2e855f13a01f88485"><div class="ttname"><a href="test__status__var__service__reg__only_8cc.html#a4df9f0843338cac2e855f13a01f88485">str_value</a></div><div class="ttdeci">static char str_value[32]</div><div class="ttdef"><b>Definition:</b> test_status_var_service_reg_only.cc:45</div></div>
<div class="ttc" id="classItem__nth__value_html_a458dcfdaee797c9a4305ca3503a9954d"><div class="ttname"><a href="classItem__nth__value.html#a458dcfdaee797c9a4305ca3503a9954d">Item_nth_value::m_hybrid_type</a></div><div class="ttdeci">Item_result m_hybrid_type</div><div class="ttdef"><b>Definition:</b> item_sum.h:2605</div></div>
<div class="ttc" id="structItem__sum_1_1Collect__grouped__aggregate__info_html_a71528e45cfea97e633ab6556f6823892"><div class="ttname"><a href="structItem__sum_1_1Collect__grouped__aggregate__info.html#a71528e45cfea97e633ab6556f6823892">Item_sum::Collect_grouped_aggregate_info::list</a></div><div class="ttdeci">std::vector&lt; Item_sum * &gt; list</div><div class="ttdoc">accumulated all aggregates found </div><div class="ttdef"><b>Definition:</b> item_sum.h:650</div></div>
<div class="ttc" id="classItem__avg__field_html_a4f9eb29708694e72f01d803759f63cd5"><div class="ttname"><a href="classItem__avg__field.html#a4f9eb29708694e72f01d803759f63cd5">Item_avg_field::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1183</div></div>
<div class="ttc" id="classItem__sum__sum_html_a5a118ea9d45cadadda30037cc5dc0458"><div class="ttname"><a href="classItem__sum__sum.html#a5a118ea9d45cadadda30037cc5dc0458">Item_sum_sum::no_rows_in_result</a></div><div class="ttdeci">void no_rows_in_result() override</div><div class="ttdoc">Mark an aggregate as having no rows. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1061</div></div>
<div class="ttc" id="classudf__handler_html"><div class="ttname"><a href="classudf__handler.html">udf_handler</a></div><div class="ttdef"><b>Definition:</b> sql_udf.h:82</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_a0d4f616ce2ad7c8fdbb2d1f83373e4c7"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a0d4f616ce2ad7c8fdbb2d1f83373e4c7">Item_rollup_sum_switcher::set_arg</a></div><div class="ttdeci">Item * set_arg(THD *thd, uint i, Item *new_val) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2758</div></div>
<div class="ttc" id="enum__query__type_8h_html_a84267bb0a3694b1d41b6494868ce18ac"><div class="ttname"><a href="enum__query__type_8h.html#a84267bb0a3694b1d41b6494868ce18ac">enum_query_type</a></div><div class="ttdeci">enum_query_type</div><div class="ttdoc">Query type constants (usable as bitmap flags). </div><div class="ttdef"><b>Definition:</b> enum_query_type.h:30</div></div>
<div class="ttc" id="classAggregator__distinct_html_afbd34da51092275ff762e357fcbb8468"><div class="ttname"><a href="classAggregator__distinct.html#afbd34da51092275ff762e357fcbb8468">Aggregator_distinct::Aggregator_distinct</a></div><div class="ttdeci">Aggregator_distinct(Item_sum *sum)</div><div class="ttdef"><b>Definition:</b> item_sum.h:907</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_ac8dec3b182fb3acf747d257a25e22872"><div class="ttname"><a href="classItem__sum__hybrid.html#ac8dec3b182fb3acf747d257a25e22872">Item_sum_hybrid::cmp</a></div><div class="ttdeci">Arg_comparator * cmp</div><div class="ttdef"><b>Definition:</b> item_sum.h:1553</div></div>
<div class="ttc" id="classItem__ntile_html_a2e67da719513a2ac74db4a093bc1cee1"><div class="ttname"><a href="classItem__ntile.html#a2e67da719513a2ac74db4a093bc1cee1">Item_ntile::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *thd) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2421</div></div>
<div class="ttc" id="classItem__sum__num_html_a3e4e3007a8303b4727631ffed4c23334"><div class="ttname"><a href="classItem__sum__num.html#a3e4e3007a8303b4727631ffed4c23334">Item_sum_num::default_data_type</a></div><div class="ttdeci">enum_field_types default_data_type() const override</div><div class="ttdoc">Get the default data (output) type for the specific item. </div><div class="ttdef"><b>Definition:</b> item_sum.h:969</div></div>
<div class="ttc" id="classString_html"><div class="ttname"><a href="classString.html">String</a></div><div class="ttdoc">Using this class is fraught with peril, and you need to be very careful when doing so...</div><div class="ttdef"><b>Definition:</b> sql_string.h:164</div></div>
<div class="ttc" id="classItem__ident_html_a3ee97a85f6049ff319db96713fdf715a"><div class="ttname"><a href="classItem__ident.html#a3ee97a85f6049ff319db96713fdf715a">Item_ident::orig_table_name</a></div><div class="ttdeci">const char * orig_table_name() const</div><div class="ttdef"><b>Definition:</b> item.h:3777</div></div>
<div class="ttc" id="classItem__sum__udf__float_html_a165853995ebdecce7a9b182bb827233c"><div class="ttname"><a href="classItem__sum__udf__float.html#a165853995ebdecce7a9b182bb827233c">Item_sum_udf_float::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1991</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a4a2ea3905c84059683b1420cf1931151"><div class="ttname"><a href="classItem__func__group__concat.html#a4a2ea3905c84059683b1420cf1931151">Item_func_group_concat::val_real</a></div><div class="ttdeci">double val_real() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2169</div></div>
<div class="ttc" id="classAggregator_html_a2581c04dee61cf1a4d72519da64baf53"><div class="ttname"><a href="classAggregator.html#a2581c04dee61cf1a4d72519da64baf53">Aggregator::arg_is_null</a></div><div class="ttdeci">virtual bool arg_is_null(bool use_null_value)=0</div><div class="ttdoc">NULLness of being-aggregated argument. </div></div>
<div class="ttc" id="classAggregator__distinct_html_a03f0eef6077bebba0804687a31748387"><div class="ttname"><a href="classAggregator__distinct.html#a03f0eef6077bebba0804687a31748387">Aggregator_distinct::tree_key_length</a></div><div class="ttdeci">uint tree_key_length</div><div class="ttdef"><b>Definition:</b> item_sum.h:873</div></div>
<div class="ttc" id="classItem__sum_html_a15e7047e85571842d5aada49784f4278"><div class="ttname"><a href="classItem__sum.html#a15e7047e85571842d5aada49784f4278">Item_sum::aggregator_clear</a></div><div class="ttdeci">void aggregator_clear()</div><div class="ttdoc">Called to cleanup the aggregator. </div><div class="ttdef"><b>Definition:</b> item_sum.h:700</div></div>
<div class="ttc" id="classItem__sum__xor_html_a65032780b1d27eb3119b7e0f79337131"><div class="ttname"><a href="classItem__sum__xor.html#a65032780b1d27eb3119b7e0f79337131">Item_sum_xor::Item_sum_xor</a></div><div class="ttdeci">Item_sum_xor(THD *thd, Item_sum_xor *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1921</div></div>
<div class="ttc" id="classItem__sum__min_html_a1b008b065b692dd925edf070bafe2d9f"><div class="ttname"><a href="classItem__sum__min.html#a1b008b065b692dd925edf070bafe2d9f">Item_sum_min::Item_sum_min</a></div><div class="ttdeci">Item_sum_min(THD *thd, const Item_sum_min *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1707</div></div>
<div class="ttc" id="classAggregator_html_ad416a800e9cdec7908dd3e9bdffa70e5"><div class="ttname"><a href="classAggregator.html#ad416a800e9cdec7908dd3e9bdffa70e5">Aggregator::clear</a></div><div class="ttdeci">virtual void clear()=0</div><div class="ttdoc">Called when we need to wipe out all the data from the aggregator : all the values acumulated and all ...</div></div>
<div class="ttc" id="enum__query__type_8h_html"><div class="ttname"><a href="enum__query__type_8h.html">enum_query_type.h</a></div></div>
<div class="ttc" id="classItem__sum__avg_html_af14db615df9815d148437b00b60ac1ce"><div class="ttname"><a href="classItem__sum__avg.html#af14db615df9815d148437b00b60ac1ce">Item_sum_avg::prec_increment</a></div><div class="ttdeci">uint prec_increment</div><div class="ttdef"><b>Definition:</b> item_sum.h:1314</div></div>
<div class="ttc" id="classItem__func__group__concat_html_ade5da4ab7e95817c311bfdd65d8162bd"><div class="ttname"><a href="classItem__func__group__concat.html#ade5da4ab7e95817c311bfdd65d8162bd">Item_func_group_concat::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2187</div></div>
<div class="ttc" id="structTABLE_html"><div class="ttname"><a href="structTABLE.html">TABLE</a></div><div class="ttdef"><b>Definition:</b> table.h:1363</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693">Item_sum::Sumfunctype</a></div><div class="ttdeci">Sumfunctype</div><div class="ttdef"><b>Definition:</b> item_sum.h:438</div></div>
<div class="ttc" id="classItem__sum_html_a8c0a57533a9bd8e0dc9ce67d99e7d749"><div class="ttname"><a href="classItem__sum.html#a8c0a57533a9bd8e0dc9ce67d99e7d749">Item_sum::framing</a></div><div class="ttdeci">virtual bool framing() const</div><div class="ttdoc">All aggregates are framing, i.e. </div><div class="ttdef"><b>Definition:</b> item_sum.h:769</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a0b0f2d35d959af3a9eb707d2fceb09e0"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a0b0f2d35d959af3a9eb707d2fceb09e0">Item_sum::COUNT_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:439</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a6477981f1ac6daabc34ae8429b8ca7a8"><div class="ttname"><a href="classItem__non__framing__wf.html#a6477981f1ac6daabc34ae8429b8ca7a8">Item_non_framing_wf::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2227</div></div>
<div class="ttc" id="classItem__sum__num_html_a1733718abe75fd4f1144432e8ee1858d"><div class="ttname"><a href="classItem__sum__num.html#a1733718abe75fd4f1144432e8ee1858d">Item_sum_num::Item_sum_num</a></div><div class="ttdeci">Item_sum_num(THD *thd, Item_sum_num *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:967</div></div>
<div class="ttc" id="classItem__variance__field_html_a3cbd49315a358c717e5e86fc74e9e2c1"><div class="ttname"><a href="classItem__variance__field.html#a3cbd49315a358c717e5e86fc74e9e2c1">Item_variance_field::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1368</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_abbea012b413231388b8906bc4c04ea88"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#abbea012b413231388b8906bc4c04ea88">Item_rollup_sum_switcher::get_arg</a></div><div class="ttdeci">Item * get_arg(uint i) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2757</div></div>
<div class="ttc" id="field__types_8h_html_a69e798807026a0f7e12b1d6c72374854a2324a409d98e39c7868cf04ee538accf"><div class="ttname"><a href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854a2324a409d98e39c7868cf04ee538accf">MYSQL_TYPE_LONGLONG</a></div><div class="ttdef"><b>Definition:</b> field_types.h:65</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693afb61bec720e0b28a4c54f5a00638a0f7"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afb61bec720e0b28a4c54f5a00638a0f7">Item_sum::RANK_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:454</div></div>
<div class="ttc" id="classItem__func__group__concat_html_aee6ece6fc19a8d1d3d16f5b7b97abf1c"><div class="ttname"><a href="classItem__func__group__concat.html#aee6ece6fc19a8d1d3d16f5b7b97abf1c">Item_func_group_concat::separator</a></div><div class="ttdeci">String * separator</div><div class="ttdef"><b>Definition:</b> item_sum.h:2100</div></div>
<div class="ttc" id="classItem__sum__avg_html_a6e6ed59b59d3c1c789e325523217eaeb"><div class="ttname"><a href="classItem__sum__avg.html#a6e6ed59b59d3c1c789e325523217eaeb">Item_sum_avg::no_rows_in_result</a></div><div class="ttdeci">void no_rows_in_result() override</div><div class="ttdoc">Mark an aggregate as having no rows. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1342</div></div>
<div class="ttc" id="classJson__array_html"><div class="ttname"><a href="classJson__array.html">Json_array</a></div><div class="ttdoc">Represents a JSON array container, i.e. </div><div class="ttdef"><b>Definition:</b> json_dom.h:519</div></div>
<div class="ttc" id="classItem__std__field_html_a595a89ecd75ebdd78a858ea3099e08bd"><div class="ttname"><a href="classItem__std__field.html#a595a89ecd75ebdd78a858ea3099e08bd">Item_std_field::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1498</div></div>
<div class="ttc" id="classItem__lead__lag_html_ada677022837987127565fc7cf82e17f2"><div class="ttname"><a href="classItem__lead__lag.html#ada677022837987127565fc7cf82e17f2">Item_lead_lag::set_has_value</a></div><div class="ttdeci">void set_has_value(bool value)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2516</div></div>
<div class="ttc" id="classItem__sum__num__field_html_a6811639d510c4035e75e789c9574686f"><div class="ttname"><a href="classItem__sum__num__field.html#a6811639d510c4035e75e789c9574686f">Item_sum_num_field::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1167</div></div>
<div class="ttc" id="classItem__ntile_html_a245054dcdba6e7a7caa9c9369f9bd9b7"><div class="ttname"><a href="classItem__ntile.html#a245054dcdba6e7a7caa9c9369f9bd9b7">Item_ntile::super</a></div><div class="ttdeci">Item_non_framing_wf super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2409</div></div>
<div class="ttc" id="classItem__lead__lag_html_a53935156b1f8413b1d757f60ad23b491"><div class="ttname"><a href="classItem__lead__lag.html#a53935156b1f8413b1d757f60ad23b491">Item_lead_lag::Item_lead_lag</a></div><div class="ttdeci">Item_lead_lag(const POS &amp;pos, bool lead, PT_item_list *opt_list, enum_null_treatment null_treatment, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2466</div></div>
<div class="ttc" id="classItem__sum_html_acb08d29902d48a883e1d0f8624807578"><div class="ttname"><a href="classItem__sum.html#acb08d29902d48a883e1d0f8624807578">Item_sum::type</a></div><div class="ttdeci">Type type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:570</div></div>
<div class="ttc" id="classItem__sum_html_a7b9bc9030ff8d0c2c2a4e5543abebdd9"><div class="ttname"><a href="classItem__sum.html#a7b9bc9030ff8d0c2c2a4e5543abebdd9">Item_sum::save_deny_window_func</a></div><div class="ttdeci">nesting_map save_deny_window_func</div><div class="ttdoc">WFs are forbidden when resolving Item_sum; this member is used to restore WF allowance status afterwa...</div><div class="ttdef"><b>Definition:</b> item_sum.h:496</div></div>
<div class="ttc" id="classItem__first__last__value_html_ad102e9312db14961057c39c66db0870d"><div class="ttname"><a href="classItem__first__last__value.html#ad102e9312db14961057c39c66db0870d">Item_first_last_value::add</a></div><div class="ttdeci">bool add() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2578</div></div>
<div class="ttc" id="classItem__sum__xor_html"><div class="ttname"><a href="classItem__sum__xor.html">Item_sum_xor</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1914</div></div>
<div class="ttc" id="classItem__sum_html_a058b0e6d479d59d533c2e790b8ae6c7d"><div class="ttname"><a href="classItem__sum.html#a058b0e6d479d59d533c2e790b8ae6c7d">Item_sum::used_tables_cache</a></div><div class="ttdeci">table_map used_tables_cache</div><div class="ttdef"><b>Definition:</b> item_sum.h:499</div></div>
<div class="ttc" id="classItem__lead__lag_html_a6f79e05f6af32fbd782ce5f8671abc1f"><div class="ttname"><a href="classItem__lead__lag.html#a6f79e05f6af32fbd782ce5f8671abc1f">Item_lead_lag::m_null_treatment</a></div><div class="ttdeci">enum_null_treatment m_null_treatment</div><div class="ttdef"><b>Definition:</b> item_sum.h:2446</div></div>
<div class="ttc" id="classItem__sum__max_html_a08694788a963c7ec71ba5f6f2a705949"><div class="ttname"><a href="classItem__sum__max.html#a08694788a963c7ec71ba5f6f2a705949">Item_sum_max::Item_sum_max</a></div><div class="ttdeci">Item_sum_max(Item *item_par)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1718</div></div>
<div class="ttc" id="classAggregator__distinct_html_a7bc6a2ac9c7ff433914e145e233067c4"><div class="ttname"><a href="classAggregator__distinct.html#a7bc6a2ac9c7ff433914e145e233067c4">Aggregator_distinct::use_distinct_values</a></div><div class="ttdeci">bool use_distinct_values</div><div class="ttdoc">When feeding back the data in endup() from Unique/temp table back to Item_sum::add() methods we must ...</div><div class="ttdef"><b>Definition:</b> item_sum.h:904</div></div>
<div class="ttc" id="classItem__sum__avg_html_ac9ef62c001b8ca968f3b330f7e9b235d"><div class="ttname"><a href="classItem__sum__avg.html#ac9ef62c001b8ca968f3b330f7e9b235d">Item_sum_avg::val_int</a></div><div class="ttdeci">longlong val_int() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1334</div></div>
<div class="ttc" id="classItem__percent__rank_html_a787dcc571133a756d17ea533a1f8a774"><div class="ttname"><a href="classItem__percent__rank.html#a787dcc571133a756d17ea533a1f8a774">Item_percent_rank::m_peers</a></div><div class="ttdeci">ulonglong m_peers</div><div class="ttdoc">Needed to make PERCENT_RANK same for peers. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2371</div></div>
<div class="ttc" id="classItem__lead__lag_html_a775833882d33ba0105499cc82037496d"><div class="ttname"><a href="classItem__lead__lag.html#a775833882d33ba0105499cc82037496d">Item_lead_lag::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2479</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a97c7f3a3695fc7dd9eb62a6cb937912f"><div class="ttname"><a href="classItem__func__group__concat.html#a97c7f3a3695fc7dd9eb62a6cb937912f">Item_func_group_concat::tmp_table_param</a></div><div class="ttdeci">Temp_table_param * tmp_table_param</div><div class="ttdef"><b>Definition:</b> item_sum.h:2098</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a6a79db6160d04f6ee45e6153cc25d8d7"><div class="ttname"><a href="classItem__sum__hybrid.html#a6a79db6160d04f6ee45e6153cc25d8d7">Item_sum_hybrid::m_saved_last_value_at</a></div><div class="ttdeci">int64 m_saved_last_value_at</div><div class="ttdoc">Execution state: keeps track of at which row we saved a non-null last value. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1583</div></div>
<div class="ttc" id="classItem__sum__bit_html_ae830a1125fea199addfe880db1363ea2"><div class="ttname"><a href="classItem__sum__bit.html#ae830a1125fea199addfe880db1363ea2">Item_sum_bit::Item_sum_bit</a></div><div class="ttdeci">Item_sum_bit(THD *thd, Item_sum_bit *item)</div><div class="ttdoc">Copy constructor, used for executing subqueries with temporary tables. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1808</div></div>
<div class="ttc" id="mem__root__array_8h_html"><div class="ttname"><a href="mem__root__array_8h.html">mem_root_array.h</a></div></div>
<div class="ttc" id="my__tree_8h_html_af1a923de24cf7c281b86cf7490523c65"><div class="ttname"><a href="my__tree_8h.html#af1a923de24cf7c281b86cf7490523c65">element_count</a></div><div class="ttdeci">uint32 element_count</div><div class="ttdef"><b>Definition:</b> my_tree.h:51</div></div>
<div class="ttc" id="classItem__sum_html_a60c09ebcee5c1df3af7ae2ea4c1e71db"><div class="ttname"><a href="classItem__sum.html#a60c09ebcee5c1df3af7ae2ea4c1e71db">Item_sum::is_null</a></div><div class="ttdeci">bool is_null() override</div><div class="ttdoc">The method allows to determine nullness of a complex expression without fully evaluating it...</div><div class="ttdef"><b>Definition:</b> item_sum.h:620</div></div>
<div class="ttc" id="classItem__lead__lag_html_afdaeb1e3acd69fd83a66c800f647cd6e"><div class="ttname"><a href="classItem__lead__lag.html#afdaeb1e3acd69fd83a66c800f647cd6e">Item_lead_lag::super</a></div><div class="ttdeci">Item_non_framing_wf super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2463</div></div>
<div class="ttc" id="classItem__sum_html_ac3887d3e6c7b0dc6b992b2fbdc280aab"><div class="ttname"><a href="classItem__sum.html#ac3887d3e6c7b0dc6b992b2fbdc280aab">Item_sum::keep_field_type</a></div><div class="ttdeci">virtual bool keep_field_type() const</div><div class="ttdef"><b>Definition:</b> item_sum.h:601</div></div>
<div class="ttc" id="classItem__udf__sum_html_adf5a36b38ba227dc9e8c010673b17c77"><div class="ttname"><a href="classItem__udf__sum.html#adf5a36b38ba227dc9e8c010673b17c77">Item_udf_sum::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:1931</div></div>
<div class="ttc" id="my__dbug_8h_html_af5d75f213550ec27715b65d9bdfa45ec"><div class="ttname"><a href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a></div><div class="ttdeci">#define DBUG_ASSERT(A)</div><div class="ttdef"><b>Definition:</b> my_dbug.h:199</div></div>
<div class="ttc" id="classItem__cume__dist_html_abfefc4858cb7968d328d6079026f0a68"><div class="ttname"><a href="classItem__cume__dist.html#abfefc4858cb7968d328d6079026f0a68">Item_cume_dist::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *thd) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2347</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a7dba02e0ab1f5f8742c22e264af7d1bf"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a7dba02e0ab1f5f8742c22e264af7d1bf">Item_sum::CUME_DIST_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:456</div></div>
<div class="ttc" id="classItem__sum_html_ab37017d1c1c59664864a89a9935969dd"><div class="ttname"><a href="classItem__sum.html#ab37017d1c1c59664864a89a9935969dd">Item_sum::Item_sum</a></div><div class="ttdeci">Item_sum(Item *a)</div><div class="ttdef"><b>Definition:</b> item_sum.h:524</div></div>
<div class="ttc" id="item__sum_8h_html_a2262f61b863186f76a023670ded48bc4"><div class="ttname"><a href="item__sum_8h.html#a2262f61b863186f76a023670ded48bc4">dump_leaf_key</a></div><div class="ttdeci">int dump_leaf_key(void *key_arg, element_count count, void *item_arg)</div><div class="ttdoc">Append data from current leaf to item-&gt;result. </div><div class="ttdef"><b>Definition:</b> item_sum.cc:4011</div></div>
<div class="ttc" id="classArg__comparator_html"><div class="ttname"><a href="classArg__comparator.html">Arg_comparator</a></div><div class="ttdef"><b>Definition:</b> item_cmpfunc.h:131</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a0fc149d813d11fc2d58792c35e671304"><div class="ttname"><a href="classItem__sum__hybrid.html#a0fc149d813d11fc2d58792c35e671304">Item_sum_hybrid::uses_only_one_row</a></div><div class="ttdeci">bool uses_only_one_row() const override</div><div class="ttdoc">Only for framing window functions. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1682</div></div>
<div class="ttc" id="classItem__sum__udf__int_html_a3b233cea4d16226d32e9a73c7515f348"><div class="ttname"><a href="classItem__sum__udf__int.html#a3b233cea4d16226d32e9a73c7515f348">Item_sum_udf_int::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2015</div></div>
<div class="ttc" id="sql__tmp__table_8cc_html_a84cb94cab909e1376525f4b5265116dd"><div class="ttname"><a href="sql__tmp__table_8cc.html#a84cb94cab909e1376525f4b5265116dd">create_tmp_field</a></div><div class="ttdeci">Field * create_tmp_field(THD *thd, TABLE *table, Item *item, Item::Type type, Func_ptr_array *copy_func, Field **from_field, Field **default_field, bool group, bool modify_item, bool table_cant_handle_bit_fields, bool make_copy_field, bool copy_result_field)</div><div class="ttdoc">Create field for temporary table. </div><div class="ttdef"><b>Definition:</b> sql_tmp_table.cc:343</div></div>
<div class="ttc" id="classItem__sum_html_ab1ed4a8c3b715e1602b76a5642567b6a"><div class="ttname"><a href="classItem__sum.html#ab1ed4a8c3b715e1602b76a5642567b6a">Item_sum::aggr_select</a></div><div class="ttdeci">SELECT_LEX * aggr_select</div><div class="ttdoc">For a group aggregate, query block where function is aggregated. </div><div class="ttdef"><b>Definition:</b> item_sum.h:486</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693aff76c4fabaed8adb2c31fc8d32354d4c"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aff76c4fabaed8adb2c31fc8d32354d4c">Item_sum::VARIANCE_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:448</div></div>
<div class="ttc" id="classItem__avg__field_html_acf2226358ba698ece73250be30547cb0"><div class="ttname"><a href="classItem__avg__field.html#acf2226358ba698ece73250be30547cb0">Item_avg_field::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1182</div></div>
<div class="ttc" id="classAggregator_html_a61b988705710055ea031d1c227b43d05"><div class="ttname"><a href="classAggregator.html#a61b988705710055ea031d1c227b43d05">Aggregator::Aggregator_type</a></div><div class="ttdeci">Aggregator_type</div><div class="ttdef"><b>Definition:</b> item_sum.h:114</div></div>
<div class="ttc" id="classItem__lead__lag_html_a0df0084e5b2fe08947c357e8e8235265"><div class="ttname"><a href="classItem__lead__lag.html#a0df0084e5b2fe08947c357e8e8235265">Item_lead_lag::has_value</a></div><div class="ttdeci">bool has_value() const</div><div class="ttdef"><b>Definition:</b> item_sum.h:2517</div></div>
<div class="ttc" id="classItem__first__last__value_html_aa2643d0a949bfbb34ec3b0fa42f72d47"><div class="ttname"><a href="classItem__first__last__value.html#aa2643d0a949bfbb34ec3b0fa42f72d47">Item_first_last_value::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2542</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a659e4a7e5905fec7dd5ed311be997f88"><div class="ttname"><a href="classItem__non__framing__wf.html#a659e4a7e5905fec7dd5ed311be997f88">Item_non_framing_wf::update_field</a></div><div class="ttdeci">void update_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2236</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a916885f70a9fec3bb7a0e75121afae54"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a916885f70a9fec3bb7a0e75121afae54">Item_sum::UDF_SUM_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:450</div></div>
<div class="ttc" id="classItem__sum__num__field_html_a3088e2fe640e18fd0a3593943ee5c9c0"><div class="ttname"><a href="classItem__sum__num__field.html#a3088e2fe640e18fd0a3593943ee5c9c0">Item_sum_num_field::is_null</a></div><div class="ttdeci">bool is_null() override</div><div class="ttdoc">The method allows to determine nullness of a complex expression without fully evaluating it...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1170</div></div>
<div class="ttc" id="classItem__cume__dist_html_aab7d4b5d0ac0d92917dd5ed4607c8c6d"><div class="ttname"><a href="classItem__cume__dist.html#aab7d4b5d0ac0d92917dd5ed4607c8c6d">Item_cume_dist::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2344</div></div>
<div class="ttc" id="classItem__sum_html_a7a39aa1166cfee32f60ab3f63459c8cb"><div class="ttname"><a href="classItem__sum.html#a7a39aa1166cfee32f60ab3f63459c8cb">Item_sum::with_distinct</a></div><div class="ttdeci">bool with_distinct</div><div class="ttdoc">Indicates how the aggregate function was specified by the parser : true if it was written as AGGREGAT...</div><div class="ttdef"><b>Definition:</b> item_sum.h:432</div></div>
<div class="ttc" id="classItem__ntile_html_aa2a832c5471f878b47918e9554ba85ec"><div class="ttname"><a href="classItem__ntile.html#aa2a832c5471f878b47918e9554ba85ec">Item_ntile::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2418</div></div>
<div class="ttc" id="classItem__func__group__concat_html_ac6f535ab3312a4d9d5b22d42860605d6"><div class="ttname"><a href="classItem__func__group__concat.html#ac6f535ab3312a4d9d5b22d42860605d6">Item_func_group_concat::context</a></div><div class="ttdeci">Name_resolution_context * context</div><div class="ttdef"><b>Definition:</b> item_sum.h:2114</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a102d89e87367c0ece2362e793d06d551"><div class="ttname"><a href="classItem__non__framing__wf.html#a102d89e87367c0ece2362e793d06d551">Item_non_framing_wf::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2231</div></div>
<div class="ttc" id="do__ctype_8cc_html_ab5ad9aa3d3e725ca44ebfa85e0b1020d"><div class="ttname"><a href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a></div><div class="ttdeci">char * pos</div><div class="ttdef"><b>Definition:</b> do_ctype.cc:76</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a580c76992d1d60c51f2d92b697a43300"><div class="ttname"><a href="classItem__non__framing__wf.html#a580c76992d1d60c51f2d92b697a43300">Item_non_framing_wf::Item_non_framing_wf</a></div><div class="ttdeci">Item_non_framing_wf(THD *thd, Item_non_framing_wf *i)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2225</div></div>
<div class="ttc" id="classItem__func__grouping_html"><div class="ttname"><a href="classItem__func__grouping.html">Item_func_grouping</a></div><div class="ttdoc">Class for implementation of the GROUPING function. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2675</div></div>
<div class="ttc" id="classItem__sum_html_a0d3f5893bf56f30e06bc88684ce00e89"><div class="ttname"><a href="classItem__sum.html#a0d3f5893bf56f30e06bc88684ce00e89">Item_sum::result_item</a></div><div class="ttdeci">virtual Item * result_item(Field *field)</div><div class="ttdef"><b>Definition:</b> item_sum.h:603</div></div>
<div class="ttc" id="classItem__std__field_html_a5c4e87ac1df83b50ed4a07cef6dca815"><div class="ttname"><a href="classItem__std__field.html#a5c4e87ac1df83b50ed4a07cef6dca815">Item_std_field::check_function_as_value_generator</a></div><div class="ttdeci">bool check_function_as_value_generator(uchar *args) override</div><div class="ttdoc">Check if this item is allowed for a virtual column or inside a default expression. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1502</div></div>
<div class="ttc" id="classItem__udf__sum_html"><div class="ttname"><a href="classItem__udf__sum.html">Item_udf_sum</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1930</div></div>
<div class="ttc" id="classItem__sum__std_html_a5459473469303e671d570119cad674a9"><div class="ttname"><a href="classItem__sum__std.html#a5459473469303e671d570119cad674a9">Item_sum_std::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1523</div></div>
<div class="ttc" id="test__mysql__runtime__error_8cc_html_ab3b3804e3bf2734c0f4f1c72f30df1bd"><div class="ttname"><a href="test__mysql__runtime__error_8cc.html#ab3b3804e3bf2734c0f4f1c72f30df1bd">MYF</a></div><div class="ttdeci">#define MYF(v)</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a63d4584ec7c1d08f7847f7f842dcdf0f"><div class="ttname"><a href="classItem__func__group__concat.html#a63d4584ec7c1d08f7847f7f842dcdf0f">Item_func_group_concat::unique_filter</a></div><div class="ttdeci">Unique * unique_filter</div><div class="ttdoc">If DISTINCT is used with this GROUP_CONCAT, this member is used to filter out duplicates. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2111</div></div>
<div class="ttc" id="classItem__sum__count_html_ad0382b9a59c5e773cead1b1bcfb43f7e"><div class="ttname"><a href="classItem__sum__count.html#ad0382b9a59c5e773cead1b1bcfb43f7e">Item_sum_count::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1112</div></div>
<div class="ttc" id="classItem__func__group__concat_html_ad2a91ce1150afc37aaf9aa3aadb71c7e"><div class="ttname"><a href="classItem__func__group__concat.html#ad2a91ce1150afc37aaf9aa3aadb71c7e">Item_func_group_concat::reset_field</a></div><div class="ttdeci">void reset_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2164</div></div>
<div class="ttc" id="structYYLTYPE_html"><div class="ttname"><a href="structYYLTYPE.html">YYLTYPE</a></div><div class="ttdoc">Bison &quot;location&quot; class. </div><div class="ttdef"><b>Definition:</b> parse_location.h:42</div></div>
<div class="ttc" id="classItem__sum__int_html_a110c872d9d7361a87b161d4581aa0939"><div class="ttname"><a href="classItem__sum__int.html#a110c872d9d7361a87b161d4581aa0939">Item_sum_int::Item_sum_int</a></div><div class="ttdeci">Item_sum_int(const POS &amp;pos, Item *item_par, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:990</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_aa4733d4883354fdfe3d8fe8497c9d138"><div class="ttname"><a href="classItem__sum__hybrid.html#aa4733d4883354fdfe3d8fe8497c9d138">Item_sum_hybrid::m_optimize</a></div><div class="ttdeci">bool m_optimize</div><div class="ttdoc">Set to true when min/max can be optimized using window&amp;#39;s ordering. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1563</div></div>
<div class="ttc" id="classItem__sum_html_a924bf27cfaf66cfcf1a76a816e8f47b2"><div class="ttname"><a href="classItem__sum.html#a924bf27cfaf66cfcf1a76a816e8f47b2">Item_sum::has_with_distinct</a></div><div class="ttdeci">bool has_with_distinct() const</div><div class="ttdef"><b>Definition:</b> item_sum.h:436</div></div>
<div class="ttc" id="classItem__sum__xor_html_a644bf04ff0d0ffde292ec026aec717a7"><div class="ttname"><a href="classItem__sum__xor.html#a644bf04ff0d0ffde292ec026aec717a7">Item_sum_xor::Item_sum_xor</a></div><div class="ttdeci">Item_sum_xor(const POS &amp;pos, Item *item_par, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1916</div></div>
<div class="ttc" id="classAggregator_html_a61b988705710055ea031d1c227b43d05a32fabdb8e0b9020428daf2593b89699e"><div class="ttname"><a href="classAggregator.html#a61b988705710055ea031d1c227b43d05a32fabdb8e0b9020428daf2593b89699e">Aggregator::SIMPLE_AGGREGATOR</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:114</div></div>
<div class="ttc" id="classItem__sum__std_html_a475471d1a423c362db211c258d795fca"><div class="ttname"><a href="classItem__sum__std.html#a475471d1a423c362db211c258d795fca">Item_sum_std::Item_sum_std</a></div><div class="ttdeci">Item_sum_std(const POS &amp;pos, Item *item_par, uint sample_arg, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1516</div></div>
<div class="ttc" id="classItem__sum__bit__field_html"><div class="ttname"><a href="classItem__sum__bit__field.html">Item_sum_bit_field</a></div><div class="ttdoc">This is used in connection with an Item_sum_bit,. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1190</div></div>
<div class="ttc" id="classItem__sum__json_html_a6f26e0a35ce7b96079da0c374a963b69"><div class="ttname"><a href="classItem__sum__json.html#a6f26e0a35ce7b96079da0c374a963b69">Item_sum_json::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:1213</div></div>
<div class="ttc" id="classItem__sum_html_aca14d38d7bb89085ac4472ce4350a5b2"><div class="ttname"><a href="classItem__sum.html#aca14d38d7bb89085ac4472ce4350a5b2">Item_sum::has_force_copy_fields</a></div><div class="ttdeci">bool has_force_copy_fields() const</div><div class="ttdef"><b>Definition:</b> item_sum.h:435</div></div>
<div class="ttc" id="classItem__sum__num__field_html_a73d5c7725728e85feef77faa592151f6"><div class="ttname"><a href="classItem__sum__num__field.html#a73d5c7725728e85feef77faa592151f6">Item_sum_num_field::val_int</a></div><div class="ttdeci">longlong val_int() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1160</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a00440651a96b1eac6692fd258e413b58"><div class="ttname"><a href="classItem__non__framing__wf.html#a00440651a96b1eac6692fd258e413b58">Item_non_framing_wf::add</a></div><div class="ttdeci">bool add() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2237</div></div>
<div class="ttc" id="classItem__sum__udf__int_html_a3af57e58b551f037138707d425401a43"><div class="ttname"><a href="classItem__sum__udf__int.html#a3af57e58b551f037138707d425401a43">Item_sum_udf_int::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2017</div></div>
<div class="ttc" id="classItem__sum_html"><div class="ttname"><a href="classItem__sum.html">Item_sum</a></div><div class="ttdoc">Class Item_sum is the base class used for special expressions that SQL calls &amp;#39;set functions&amp;#39;...</div><div class="ttdef"><b>Definition:</b> item_sum.h:394</div></div>
<div class="ttc" id="classItem__percent__rank_html_aab601dc333001f2012903a44a8ddd4a8"><div class="ttname"><a href="classItem__percent__rank.html#aab601dc333001f2012903a44a8ddd4a8">Item_percent_rank::m_last_peer_visited</a></div><div class="ttdeci">bool m_last_peer_visited</div><div class="ttdoc">Set when the last peer has been visited. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2375</div></div>
<div class="ttc" id="classItem__nth__value_html_af4084e283949d57b000b1305cfed0434"><div class="ttname"><a href="classItem__nth__value.html#af4084e283949d57b000b1305cfed0434">Item_nth_value::uses_only_one_row</a></div><div class="ttdeci">bool uses_only_one_row() const override</div><div class="ttdoc">Only for framing window functions. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2655</div></div>
<div class="ttc" id="classList_html"><div class="ttname"><a href="classList.html">List&lt; Cached_item &gt;</a></div></div>
<div class="ttc" id="classItem__ntile_html_ad5ef0bb6619f9faa70c7d75c33ce4176"><div class="ttname"><a href="classItem__ntile.html#ad5ef0bb6619f9faa70c7d75c33ce4176">Item_ntile::Item_ntile</a></div><div class="ttdeci">Item_ntile(const POS &amp;pos, Item *a, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2413</div></div>
<div class="ttc" id="classItem__sum__bit_html_a05f2a829fd4e812a23d949c71ebd7c0f"><div class="ttname"><a href="classItem__sum__bit.html#a05f2a829fd4e812a23d949c71ebd7c0f">Item_sum_bit::result_item</a></div><div class="ttdeci">Item * result_item(Field *) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1827</div></div>
<div class="ttc" id="classItem__sum__bit_html_a75483ac134ee7780c3b592231ef49bfd"><div class="ttname"><a href="classItem__sum__bit.html#a75483ac134ee7780c3b592231ef49bfd">Item_sum_bit::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:1736</div></div>
<div class="ttc" id="classItem__sum__std_html"><div class="ttname"><a href="classItem__sum__std.html">Item_sum_std</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1514</div></div>
<div class="ttc" id="structItem__sum_1_1Collect__grouped__aggregate__info_html_abf46b952978818ba986de5050c3383cd"><div class="ttname"><a href="structItem__sum_1_1Collect__grouped__aggregate__info.html#abf46b952978818ba986de5050c3383cd">Item_sum::Collect_grouped_aggregate_info::aggregates_that_were_hidden</a></div><div class="ttdeci">std::set&lt; Item_sum * &gt; aggregates_that_were_hidden</div><div class="ttdef"><b>Definition:</b> item_sum.h:651</div></div>
<div class="ttc" id="classItem__func__group__concat_html_ade262cd849ac19052408b7fa4b285569"><div class="ttname"><a href="classItem__func__group__concat.html#ade262cd849ac19052408b7fa4b285569">Item_func_group_concat::group_concat_max_len</a></div><div class="ttdeci">uint group_concat_max_len</div><div class="ttdoc">The maximum permitted result length in bytes as set for group_concat_max_len system variable...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2122</div></div>
<div class="ttc" id="classItem__lead__lag_html_ad1e61da9f2aed7bfb8312e243669ede7"><div class="ttname"><a href="classItem__lead__lag.html#ad1e61da9f2aed7bfb8312e243669ede7">Item_lead_lag::m_hybrid_type</a></div><div class="ttdeci">Item_result m_hybrid_type</div><div class="ttdef"><b>Definition:</b> item_sum.h:2449</div></div>
<div class="ttc" id="namespacerules__table__service_html_a71d6ca457fe4ae5d5151f92c06cc3fd3"><div class="ttname"><a href="namespacerules__table__service.html#a71d6ca457fe4ae5d5151f92c06cc3fd3">rules_table_service::end</a></div><div class="ttdeci">Cursor end()</div><div class="ttdoc">A past-the-end Cursor. </div><div class="ttdef"><b>Definition:</b> rules_table_service.cc:188</div></div>
<div class="ttc" id="classItem__rank_html_a26550dc41387237d7fe458dfa77839bb"><div class="ttname"><a href="classItem__rank.html#a26550dc41387237d7fe458dfa77839bb">Item_rank::result_type</a></div><div class="ttdeci">Item_result result_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2332</div></div>
<div class="ttc" id="my__inttypes_8h_html_a7cde0074dfd288f2d70c0e035dacb28a"><div class="ttname"><a href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a></div><div class="ttdeci">int64_t int64</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:67</div></div>
<div class="ttc" id="classItem__sum__count_html_a127f95489dd913257e15810c5c652ffc"><div class="ttname"><a href="classItem__sum__count.html#a127f95489dd913257e15810c5c652ffc">Item_sum_count::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *thd) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1098</div></div>
<div class="ttc" id="classAggregator__distinct_html_a221fc6bdb73b1e2e94bc1efa7fa8a150"><div class="ttname"><a href="classAggregator__distinct.html#a221fc6bdb73b1e2e94bc1efa7fa8a150">Aggregator_distinct::endup_done</a></div><div class="ttdeci">bool endup_done</div><div class="ttdef"><b>Definition:</b> item_sum.h:831</div></div>
<div class="ttc" id="structTREE_html"><div class="ttname"><a href="structTREE.html">TREE</a></div><div class="ttdef"><b>Definition:</b> my_tree.h:67</div></div>
<div class="ttc" id="classItem__first__last__value_html_a91f91ed094207861e884b5c2de1b51fb"><div class="ttname"><a href="classItem__first__last__value.html#a91f91ed094207861e884b5c2de1b51fb">Item_first_last_value::m_null_treatment</a></div><div class="ttdeci">enum_null_treatment m_null_treatment</div><div class="ttdef"><b>Definition:</b> item_sum.h:2538</div></div>
<div class="ttc" id="classItem__std__field_html"><div class="ttname"><a href="classItem__std__field.html">Item_std_field</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1491</div></div>
<div class="ttc" id="classmy__decimal_html"><div class="ttname"><a href="classmy__decimal.html">my_decimal</a></div><div class="ttdoc">my_decimal class limits &amp;#39;decimal_t&amp;#39; type to what we need in MySQL. </div><div class="ttdef"><b>Definition:</b> my_decimal.h:91</div></div>
<div class="ttc" id="classItem__sum_html_a7350fc56f199d66b1ec98b4067074ba5"><div class="ttname"><a href="classItem__sum.html#a7350fc56f199d66b1ec98b4067074ba5">Item_sum::super2</a></div><div class="ttdeci">Func_args_handle super2</div><div class="ttdef"><b>Definition:</b> item_sum.h:396</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a81121cefe1f2809d0551544613a19780"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a81121cefe1f2809d0551544613a19780">Item_sum::SUM_DISTINCT_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:442</div></div>
<div class="ttc" id="classItem__sum__int_html_a747d0569ab23643c58a282cc000dcbe9"><div class="ttname"><a href="classItem__sum__int.html#a747d0569ab23643c58a282cc000dcbe9">Item_sum_int::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1013</div></div>
<div class="ttc" id="classItem__func_html_a44783465b41db99f2cff936cb7b6e70b"><div class="ttname"><a href="classItem__func.html#a44783465b41db99f2cff936cb7b6e70b">Item_func::Functype</a></div><div class="ttdeci">Functype</div><div class="ttdef"><b>Definition:</b> item_func.h:168</div></div>
<div class="ttc" id="udf__registration__types_8h_html_ac852cc9149359bbfde83ad6ff646fd62aaa55b8a9aec727343eedde132b806441"><div class="ttname"><a href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aaa55b8a9aec727343eedde132b806441">INVALID_RESULT</a></div><div class="ttdef"><b>Definition:</b> udf_registration_types.h:39</div></div>
<div class="ttc" id="classItem__sum__and_html_a0e5d856d0cb251dd672d2b740411cb9b"><div class="ttname"><a href="classItem__sum__and.html#a0e5d856d0cb251dd672d2b740411cb9b">Item_sum_and::Item_sum_and</a></div><div class="ttdeci">Item_sum_and(const POS &amp;pos, Item *item_par, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1906</div></div>
<div class="ttc" id="classItem__sum__and_html"><div class="ttname"><a href="classItem__sum__and.html">Item_sum_and</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1904</div></div>
<div class="ttc" id="udf__registration__types_8h_html_ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c"><div class="ttname"><a href="udf__registration__types_8h.html#ac852cc9149359bbfde83ad6ff646fd62aa7d751f33290327d19d506b5e095438c">INT_RESULT</a></div><div class="ttdoc">double </div><div class="ttdef"><b>Definition:</b> udf_registration_types.h:42</div></div>
<div class="ttc" id="classItem__rank_html_a40e4cab4ad1891e1ec4b0970c021b5a2"><div class="ttname"><a href="classItem__rank.html#a40e4cab4ad1891e1ec4b0970c021b5a2">Item_rank::m_dense</a></div><div class="ttdeci">bool m_dense</div><div class="ttdoc">If true, the object represents DENSE_RANK. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2289</div></div>
<div class="ttc" id="namespaceudf__ext_1_1consts_html_a01c760bc7a1c2d6faa109edc9e22c4e9"><div class="ttname"><a href="namespaceudf__ext_1_1consts.html#a01c760bc7a1c2d6faa109edc9e22c4e9">udf_ext::consts::collation</a></div><div class="ttdeci">const std::string collation(&quot;collation&quot;)</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_ae64238a3694c60d247880645d6448d5f"><div class="ttname"><a href="classItem__sum__hybrid.html#ae64238a3694c60d247880645d6448d5f">Item_sum_hybrid::m_nulls_first</a></div><div class="ttdeci">bool m_nulls_first</div><div class="ttdoc">Set to true if the window is ordered ascending. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1559</div></div>
<div class="ttc" id="classItem__sum_html_aeeaceddf32c6826633f1bbc8f9d1c361"><div class="ttname"><a href="classItem__sum.html#aeeaceddf32c6826633f1bbc8f9d1c361">Item_sum::Item_sum</a></div><div class="ttdeci">Item_sum(const POS &amp;pos, Item *a, Item *b, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:550</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693af385d1ec78f07e7950d005aad9f8b597"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693af385d1ec78f07e7950d005aad9f8b597">Item_sum::NTH_VALUE_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:461</div></div>
<div class="ttc" id="classItem__sum_html_a2f367d4660a3ccec53fd4d0efb925b17"><div class="ttname"><a href="classItem__sum.html#a2f367d4660a3ccec53fd4d0efb925b17">Item_sum::init_aggregator</a></div><div class="ttdeci">void init_aggregator()</div><div class="ttdef"><b>Definition:</b> item_sum.h:684</div></div>
<div class="ttc" id="my__compiler_8h_html"><div class="ttname"><a href="my__compiler_8h.html">my_compiler.h</a></div><div class="ttdoc">Header for compiler-dependent features. </div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693abe98645ab77fe6679af7bc55185f19e2"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693abe98645ab77fe6679af7bc55185f19e2">Item_sum::MAX_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:446</div></div>
<div class="ttc" id="classItem__percent__rank_html_a14d6462e56733c86ee344f06ed3739f8"><div class="ttname"><a href="classItem__percent__rank.html#a14d6462e56733c86ee344f06ed3739f8">Item_percent_rank::Item_percent_rank</a></div><div class="ttdeci">Item_percent_rank(const POS &amp;pos, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2378</div></div>
<div class="ttc" id="classItem__sum__json__object_html_aecb5759cf2ff3601c46359771089f03a"><div class="ttname"><a href="classItem__sum__json__object.html#aecb5759cf2ff3601c46359771089f03a">Item_sum_json_object::m_tmp_key_value</a></div><div class="ttdeci">String m_tmp_key_value</div><div class="ttdoc">Buffer used to get the value of the key. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1279</div></div>
<div class="ttc" id="classItem__sum__udf__str_html_afbd8d06712b0030cd4e50fb72c5ac096"><div class="ttname"><a href="classItem__sum__udf__str.html#afbd8d06712b0030cd4e50fb72c5ac096">Item_sum_udf_str::Item_sum_udf_str</a></div><div class="ttdeci">Item_sum_udf_str(const POS &amp;pos, udf_func *udf_arg, PT_item_list *opt_list)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2026</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a70eddab1877535e7ac62d0a2e1507dda"><div class="ttname"><a href="classItem__func__group__concat.html#a70eddab1877535e7ac62d0a2e1507dda">Item_func_group_concat::order_array</a></div><div class="ttdeci">Mem_root_array&lt; ORDER &gt; order_array</div><div class="ttdef"><b>Definition:</b> item_sum.h:2113</div></div>
<div class="ttc" id="classItem__sum__udf__float_html_ad99ac506e1fae538bf992d07cbe5c339"><div class="ttname"><a href="classItem__sum__udf__float.html#ad99ac506e1fae538bf992d07cbe5c339">Item_sum_udf_float::Item_sum_udf_float</a></div><div class="ttdeci">Item_sum_udf_float(const POS &amp;pos, udf_func *udf_arg, PT_item_list *opt_list)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1974</div></div>
<div class="ttc" id="classItem__udf__sum_html_aa6398d4b7fbc16ecb272857d77eb8c86"><div class="ttname"><a href="classItem__udf__sum.html#aa6398d4b7fbc16ecb272857d77eb8c86">Item_udf_sum::~Item_udf_sum</a></div><div class="ttdeci">~Item_udf_sum() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1945</div></div>
<div class="ttc" id="classItem__sum__variance_html"><div class="ttname"><a href="classItem__sum__variance.html">Item_sum_variance</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1437</div></div>
<div class="ttc" id="structCheck__function__as__value__generator__parameters_html_ad96792abc96469cc12c1c43f07180a0a"><div class="ttname"><a href="structCheck__function__as__value__generator__parameters.html#ad96792abc96469cc12c1c43f07180a0a">Check_function_as_value_generator_parameters::get_unnamed_function_error_code</a></div><div class="ttdeci">int get_unnamed_function_error_code() const</div><div class="ttdoc">Return the correct error code, based on whether or not if we are checking for disallowed functions in...</div><div class="ttdef"><b>Definition:</b> item.h:503</div></div>
<div class="ttc" id="classAggregator__distinct_html_a4ceb4aea36f2f0c9997424be52643d25"><div class="ttname"><a href="classAggregator__distinct.html#a4ceb4aea36f2f0c9997424be52643d25">Aggregator_distinct::Const_distinct</a></div><div class="ttdeci">Const_distinct</div><div class="ttdef"><b>Definition:</b> item_sum.h:875</div></div>
<div class="ttc" id="sql__list_8h_html"><div class="ttname"><a href="sql__list_8h.html">sql_list.h</a></div></div>
<div class="ttc" id="field__types_8h_html_a69e798807026a0f7e12b1d6c72374854"><div class="ttname"><a href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a></div><div class="ttdeci">enum_field_types</div><div class="ttdoc">Column types for MySQL. </div><div class="ttdef"><b>Definition:</b> field_types.h:52</div></div>
<div class="ttc" id="classItem__sum__or_html_ab1092dd372dc9d8a67bc03c8d6d060a6"><div class="ttname"><a href="classItem__sum__or.html#ab1092dd372dc9d8a67bc03c8d6d060a6">Item_sum_or::Item_sum_or</a></div><div class="ttdeci">Item_sum_or(THD *thd, Item_sum_or *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1899</div></div>
<div class="ttc" id="classItem__sum__num__field_html_a122b01efce287e7157af15758a26cdb0"><div class="ttname"><a href="classItem__sum__num__field.html#a122b01efce287e7157af15758a26cdb0">Item_sum_num_field::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1164</div></div>
<div class="ttc" id="classItem_html"><div class="ttname"><a href="classItem.html">Item</a></div><div class="ttdef"><b>Definition:</b> item.h:775</div></div>
<div class="ttc" id="classItem__sum_html_ab090330ed58167234556e1f906976c0c"><div class="ttname"><a href="classItem__sum.html#ab090330ed58167234556e1f906976c0c">Item_sum::aggregator_add</a></div><div class="ttdeci">bool aggregator_add()</div><div class="ttdoc">Called to add value to the aggregator. </div><div class="ttdef"><b>Definition:</b> item_sum.h:706</div></div>
<div class="ttc" id="classItem__sum_html_aa11953fabb73621c7cb0d34c7148091f"><div class="ttname"><a href="classItem__sum.html#aa11953fabb73621c7cb0d34c7148091f">Item_sum::m_window_resolved</a></div><div class="ttdeci">bool m_window_resolved</div><div class="ttdoc">True if we have already resolved this window functions window reference. </div><div class="ttdef"><b>Definition:</b> item_sum.h:416</div></div>
<div class="ttc" id="uca-dump_8cc_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> uca-dump.cc:29</div></div>
<div class="ttc" id="hash_8c_html_ab4646d77540701d2eb2c877effbe5739"><div class="ttname"><a href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a></div><div class="ttdeci">#define final(a, b, c)</div><div class="ttdef"><b>Definition:</b> hash.c:109</div></div>
<div class="ttc" id="classItem__sum__udf__int_html_a9a29d09fbf8926f8dac108556082e965"><div class="ttname"><a href="classItem__sum__udf__int.html#a9a29d09fbf8926f8dac108556082e965">Item_sum_udf_int::Item_sum_udf_int</a></div><div class="ttdeci">Item_sum_udf_int(const POS &amp;pos, udf_func *udf_arg, PT_item_list *opt_list)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2001</div></div>
<div class="ttc" id="classItem__cume__dist_html_af456148513bbc7d46d38b24d93f14d3f"><div class="ttname"><a href="classItem__cume__dist.html#af456148513bbc7d46d38b24d93f14d3f">Item_cume_dist::result_type</a></div><div class="ttdeci">Item_result result_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2361</div></div>
<div class="ttc" id="classString_html_adc1130bf198730a0a9ae26345430b016"><div class="ttname"><a href="classString.html#adc1130bf198730a0a9ae26345430b016">String::set</a></div><div class="ttdeci">void set(String &amp;str, size_t offset, size_t arg_length)</div><div class="ttdef"><b>Definition:</b> sql_string.h:277</div></div>
<div class="ttc" id="classItem__nth__value_html_a2f222089cb60682e4180be41cb7efce3"><div class="ttname"><a href="classItem__nth__value.html#a2f222089cb60682e4180be41cb7efce3">Item_nth_value::update_field</a></div><div class="ttdeci">void update_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2647</div></div>
<div class="ttc" id="config__static_8h_html_a41f9c5fb8b08eb5dc3edce4dcb37fee7"><div class="ttname"><a href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></div><div class="ttdeci">#define true</div><div class="ttdef"><b>Definition:</b> config_static.h:44</div></div>
<div class="ttc" id="classItem__sum__bit_html_a9275d8b2d4d516e22f679492a83e7b01"><div class="ttname"><a href="classItem__sum__bit.html#a9275d8b2d4d516e22f679492a83e7b01">Item_sum_bit::is_and</a></div><div class="ttdeci">bool is_and() const</div><div class="ttdef"><b>Definition:</b> item_sum.h:1857</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_aa926b7f6d5b59cb596254e6fc74536e3"><div class="ttname"><a href="classItem__sum__hybrid.html#aa926b7f6d5b59cb596254e6fc74536e3">Item_sum_hybrid::Item_sum_hybrid</a></div><div class="ttdeci">Item_sum_hybrid(Item *item_par, bool is_min)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1615</div></div>
<div class="ttc" id="my__inttypes_8h_html_a9c0acdcb1b083d30069a62cee1ece644"><div class="ttname"><a href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a></div><div class="ttdeci">long long int longlong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:54</div></div>
<div class="ttc" id="classItem__lead__lag_html_a14e5a66d8c0a9edc94763085c6cd888b"><div class="ttname"><a href="classItem__lead__lag.html#a14e5a66d8c0a9edc94763085c6cd888b">Item_lead_lag::m_is_lead</a></div><div class="ttdeci">bool m_is_lead</div><div class="ttdoc">if true, the function is LEAD, else LAG </div><div class="ttdef"><b>Definition:</b> item_sum.h:2447</div></div>
<div class="ttc" id="classItem__row__number_html_a9e224bbf035bbebea44f367dee8b4f5b"><div class="ttname"><a href="classItem__row__number.html#a9e224bbf035bbebea44f367dee8b4f5b">Item_row_number::result_type</a></div><div class="ttdeci">Item_result result_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2275</div></div>
<div class="ttc" id="classItem__sum__sum_html_adb90c30194a2fc4669425dce10ccc033"><div class="ttname"><a href="classItem__sum__sum.html#adb90c30194a2fc4669425dce10ccc033">Item_sum_sum::m_frame_null_count</a></div><div class="ttdeci">ulonglong m_frame_null_count</div><div class="ttdoc">Execution state: this is for counting NULLs of rows entering and leaving the window frame...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1035</div></div>
<div class="ttc" id="classItem__func__group__concat_html"><div class="ttname"><a href="classItem__func__group__concat.html">Item_func_group_concat</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:2095</div></div>
<div class="ttc" id="classItem_html_a6b718f9918eb7a5b2d4572cc1a231005"><div class="ttname"><a href="classItem.html#a6b718f9918eb7a5b2d4572cc1a231005">Item::Type</a></div><div class="ttdeci">Type</div><div class="ttdef"><b>Definition:</b> item.h:811</div></div>
<div class="ttc" id="udf__registration__types_8h_html"><div class="ttname"><a href="udf__registration__types_8h.html">udf_registration_types.h</a></div></div>
<div class="ttc" id="classItem__sum_html_a71713b544df4bf4e9f63181e40ca9827"><div class="ttname"><a href="classItem__sum.html#a71713b544df4bf4e9f63181e40ca9827">Item_sum::base_select</a></div><div class="ttdeci">SELECT_LEX * base_select</div><div class="ttdoc">query block where function is placed </div><div class="ttdef"><b>Definition:</b> item_sum.h:480</div></div>
<div class="ttc" id="classItem__func__group__concat_html_af62d533d9022821779be8bc387289fc6"><div class="ttname"><a href="classItem__func__group__concat.html#af62d533d9022821779be8bc387289fc6">Item_func_group_concat::check_wf_semantics1</a></div><div class="ttdeci">bool check_wf_semantics1(THD *, SELECT_LEX *, Window_evaluation_requirements *) override</div><div class="ttdoc">Only relevant for aggregates qua window functions. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2200</div></div>
<div class="ttc" id="classItem__rank_html_aae4e5acedf9bf284f51a868ae7335ee9"><div class="ttname"><a href="classItem__rank.html#aae4e5acedf9bf284f51a868ae7335ee9">Item_rank::m_previous</a></div><div class="ttdeci">List&lt; Cached_item &gt; m_previous</div><div class="ttdoc">Values of previous row&amp;#39;s ORDER BY items. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2293</div></div>
<div class="ttc" id="classItem__sum__json_html_a577a5dd188f57b67eb970f05610e0efe"><div class="ttname"><a href="classItem__sum__json.html#a577a5dd188f57b67eb970f05610e0efe">Item_sum_json::m_value</a></div><div class="ttdeci">String m_value</div><div class="ttdoc">String used when reading JSON binary values or JSON text values. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1217</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693aef3c1557b84fed257568ca191ba87218"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aef3c1557b84fed257568ca191ba87218">Item_sum::NTILE_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:458</div></div>
<div class="ttc" id="my__inttypes_8h_html_acbd4acd0d29e2d6c43104827f77d9cd2"><div class="ttname"><a href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a></div><div class="ttdeci">uint32_t uint32</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:66</div></div>
<div class="ttc" id="structItem__sum_1_1Collect__grouped__aggregate__info_html"><div class="ttname"><a href="structItem__sum_1_1Collect__grouped__aggregate__info.html">Item_sum::Collect_grouped_aggregate_info</a></div><div class="ttdoc">argument used by walk method collect_grouped_aggregates (&quot;cga&quot;) </div><div class="ttdef"><b>Definition:</b> item_sum.h:648</div></div>
<div class="ttc" id="structMY__CHARSET__HANDLER_html_a0469deb77f36e31a045eb6863bd9eb21"><div class="ttname"><a href="structMY__CHARSET__HANDLER.html#a0469deb77f36e31a045eb6863bd9eb21">MY_CHARSET_HANDLER::strtoll10</a></div><div class="ttdeci">longlong(* strtoll10)(const CHARSET_INFO *cs, const char *nptr, const char **endptr, int *error)</div><div class="ttdef"><b>Definition:</b> m_ctype.h:346</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a2c1f587e20d40909c7d6de3903e00def"><div class="ttname"><a href="classItem__non__framing__wf.html#a2c1f587e20d40909c7d6de3903e00def">Item_non_framing_wf::Item_non_framing_wf</a></div><div class="ttdeci">Item_non_framing_wf(const POS &amp;pos, Item *a, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2221</div></div>
<div class="ttc" id="structCheck__function__as__value__generator__parameters_html_a81e02ebaffbb11347daf6c73593f8cda"><div class="ttname"><a href="structCheck__function__as__value__generator__parameters.html#a81e02ebaffbb11347daf6c73593f8cda">Check_function_as_value_generator_parameters::banned_function_name</a></div><div class="ttdeci">const char * banned_function_name</div><div class="ttdoc">the name of the function which is not allowed </div><div class="ttdef"><b>Definition:</b> item.h:498</div></div>
<div class="ttc" id="classItem__sum__bit__field_html_a5805349f437fbbb88c6749c2016bd09f"><div class="ttname"><a href="classItem__sum__bit__field.html#a5805349f437fbbb88c6749c2016bd09f">Item_sum_bit_field::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1205</div></div>
<div class="ttc" id="classItem__sum__and_html_a67846cc79e4ca64a1a0ee0d4f3e84ffd"><div class="ttname"><a href="classItem__sum__and.html#a67846cc79e4ca64a1a0ee0d4f3e84ffd">Item_sum_and::Item_sum_and</a></div><div class="ttdeci">Item_sum_and(THD *thd, Item_sum_and *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1909</div></div>
<div class="ttc" id="classItem__sum__num_html"><div class="ttname"><a href="classItem__sum__num.html">Item_sum_num</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:948</div></div>
<div class="ttc" id="classItem__sum_html_a40ecfda7d82cafc7f0ccdb24e653d78b"><div class="ttname"><a href="classItem__sum.html#a40ecfda7d82cafc7f0ccdb24e653d78b">Item_sum::allow_group_via_temp_table</a></div><div class="ttdeci">bool allow_group_via_temp_table</div><div class="ttdoc">If incremental update of fields is supported. </div><div class="ttdef"><b>Definition:</b> item_sum.h:490</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a7fe63418cc5879d4bb020b1d16e3a4a0"><div class="ttname"><a href="classItem__func__group__concat.html#a7fe63418cc5879d4bb020b1d16e3a4a0">Item_func_group_concat::tree_base</a></div><div class="ttdeci">TREE tree_base</div><div class="ttdef"><b>Definition:</b> item_sum.h:2101</div></div>
<div class="ttc" id="classItem__sum__avg_html_ab23d231ade5c3a85e3d9d13b2ff75a92"><div class="ttname"><a href="classItem__sum__avg.html#ab23d231ade5c3a85e3d9d13b2ff75a92">Item_sum_avg::m_avg</a></div><div class="ttdeci">double m_avg</div><div class="ttdef"><b>Definition:</b> item_sum.h:1318</div></div>
<div class="ttc" id="classItem__sum__std_html_a3cf8a137c788ee442f1fc43eae035b82"><div class="ttname"><a href="classItem__sum__std.html#a3cf8a137c788ee442f1fc43eae035b82">Item_sum_std::result_item</a></div><div class="ttdeci">Item * result_item(Field *) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1522</div></div>
<div class="ttc" id="classItem__lead__lag_html_af5c0e992740b79f78e69a3274e4c42e6"><div class="ttname"><a href="classItem__lead__lag.html#af5c0e992740b79f78e69a3274e4c42e6">Item_lead_lag::m_value</a></div><div class="ttdeci">Item_cache * m_value</div><div class="ttdef"><b>Definition:</b> item_sum.h:2450</div></div>
<div class="ttc" id="namespacebinary__log_1_1transaction_1_1compression_html_a22a3b5d8096f4c73ced74c0b668df0be"><div class="ttname"><a href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">binary_log::transaction::compression::type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> base.h:36</div></div>
<div class="ttc" id="my__decimal_8h_html"><div class="ttname"><a href="my__decimal_8h.html">my_decimal.h</a></div><div class="ttdoc">It is interface module to fixed precision decimals library. </div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693afa5f66313461808a8e797522dea70c6a"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afa5f66313461808a8e797522dea70c6a">Item_sum::GROUP_CONCAT_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:451</div></div>
<div class="ttc" id="classItem__int__func_html"><div class="ttname"><a href="classItem__int__func.html">Item_int_func</a></div><div class="ttdef"><b>Definition:</b> item_func.h:888</div></div>
<div class="ttc" id="classItem__sum__udf__str_html_a8210412a2523d39d0687d042c3d2f4b9"><div class="ttname"><a href="classItem__sum__udf__str.html#a8210412a2523d39d0687d042c3d2f4b9">Item_sum_udf_str::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2054</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693afdcc9332d64fc72e75ceb7f85062ec33"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afdcc9332d64fc72e75ceb7f85062ec33">Item_sum::PERCENT_RANK_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:457</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a4033a053dac86ad398339ae353dd8ee3"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a4033a053dac86ad398339ae353dd8ee3">Item_sum::DENSE_RANK_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:455</div></div>
<div class="ttc" id="structCHARSET__INFO_html"><div class="ttname"><a href="structCHARSET__INFO.html">CHARSET_INFO</a></div><div class="ttdef"><b>Definition:</b> m_ctype.h:359</div></div>
<div class="ttc" id="classItem__sum_html_a3e89a3b1d0fb04b95fee914255eaa039"><div class="ttname"><a href="classItem__sum.html#a3e89a3b1d0fb04b95fee914255eaa039">Item_sum::Item_sum</a></div><div class="ttdeci">Item_sum(const POS &amp;pos, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:512</div></div>
<div class="ttc" id="classItem__sum__udf__float_html_a7993206085a7f9a5194f3dd200fc7a66"><div class="ttname"><a href="classItem__sum__udf__float.html#a7993206085a7f9a5194f3dd200fc7a66">Item_sum_udf_float::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1985</div></div>
<div class="ttc" id="classItem__sum__hybrid__field_html_a36519cfabf15492e278a0999afb049da"><div class="ttname"><a href="classItem__sum__hybrid__field.html#a36519cfabf15492e278a0999afb049da">Item_sum_hybrid_field::hybrid_type</a></div><div class="ttdeci">Item_result hybrid_type</div><div class="ttdoc">Stores the Item&amp;#39;s result type. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1134</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693aa75af916914732fa62e8cf5ad7d54c37"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693aa75af916914732fa62e8cf5ad7d54c37">Item_sum::JSON_AGG_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:452</div></div>
<div class="ttc" id="m__ctype_8h_html_ac69c8b6e0ec6a09b1c13596fe97f02ee"><div class="ttname"><a href="m__ctype_8h.html#ac69c8b6e0ec6a09b1c13596fe97f02ee">my_strntod</a></div><div class="ttdeci">#define my_strntod(s, a, b, c, d)</div><div class="ttdef"><b>Definition:</b> m_ctype.h:744</div></div>
<div class="ttc" id="classItem__avg__field_html"><div class="ttname"><a href="classItem__avg__field.html">Item_avg_field</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1173</div></div>
<div class="ttc" id="classMem__root__array_html"><div class="ttname"><a href="classMem__root__array.html">Mem_root_array&lt; ORDER &gt;</a></div></div>
<div class="ttc" id="structParse__context_html"><div class="ttname"><a href="structParse__context.html">Parse_context</a></div><div class="ttdoc">Environment data for the contextualization phase. </div><div class="ttdef"><b>Definition:</b> parse_tree_node_base.h:89</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_ab6d9d8b7db05309fe402fb481020cacb"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#ab6d9d8b7db05309fe402fb481020cacb">Item_rollup_sum_switcher::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2719</div></div>
<div class="ttc" id="classItem__sum_html_ab2beaafa5b31b3b2a905fd1a5b44e210"><div class="ttname"><a href="classItem__sum.html#ab2beaafa5b31b3b2a905fd1a5b44e210">Item_sum::needs_card</a></div><div class="ttdeci">virtual bool needs_card() const</div><div class="ttdoc">Return true if we need to make two passes over the rows in the partition - either because we need the...</div><div class="ttdef"><b>Definition:</b> item_sum.h:785</div></div>
<div class="ttc" id="classItem__first__last__value_html_a6d6faf370f994cccc95ac35a8f92bc09"><div class="ttname"><a href="classItem__first__last__value.html#a6d6faf370f994cccc95ac35a8f92bc09">Item_first_last_value::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2554</div></div>
<div class="ttc" id="classItem__ntile_html"><div class="ttname"><a href="classItem__ntile.html">Item_ntile</a></div><div class="ttdoc">NTILE window function, cf. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2408</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a3888430800a03914d6123fbd15ebb6b3"><div class="ttname"><a href="classItem__non__framing__wf.html#a3888430800a03914d6123fbd15ebb6b3">Item_non_framing_wf::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2217</div></div>
<div class="ttc" id="my__sys_8h_html"><div class="ttname"><a href="my__sys_8h.html">my_sys.h</a></div><div class="ttdoc">Common header for many mysys elements. </div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a9297e66139e588a8a2efdbace8137721"><div class="ttname"><a href="classItem__sum__hybrid.html#a9297e66139e588a8a2efdbace8137721">Item_sum_hybrid::any_value</a></div><div class="ttdeci">bool any_value()</div><div class="ttdef"><b>Definition:</b> item_sum.h:1679</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a9d92c7c82daa1e96eb2dfad70d854e93"><div class="ttname"><a href="classItem__sum__hybrid.html#a9d92c7c82daa1e96eb2dfad70d854e93">Item_sum_hybrid::was_values</a></div><div class="ttdeci">bool was_values</div><div class="ttdef"><b>Definition:</b> item_sum.h:1555</div></div>
<div class="ttc" id="item_8h_html"><div class="ttname"><a href="item_8h.html">item.h</a></div></div>
<div class="ttc" id="classAggregator__simple_html_a6662194815d05bdfc3d3011ddd338ecf"><div class="ttname"><a href="classAggregator__simple.html#a6662194815d05bdfc3d3011ddd338ecf">Aggregator_simple::setup</a></div><div class="ttdeci">bool setup(THD *thd) override</div><div class="ttdoc">Called before adding the first row. </div><div class="ttdef"><b>Definition:</b> item_sum.h:939</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a3f5aa68a1f258dd96c35874d00711733"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a3f5aa68a1f258dd96c35874d00711733">Item_sum::AVG_DISTINCT_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:444</div></div>
<div class="ttc" id="classItem__sum_html_ad1e0663c5f47f53b2f0ff35df046cf6d"><div class="ttname"><a href="classItem__sum.html#ad1e0663c5f47f53b2f0ff35df046cf6d">Item_sum::Item_sum</a></div><div class="ttdeci">Item_sum(const POS &amp;pos, Item *a, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:537</div></div>
<div class="ttc" id="classFunc__args__handle_html"><div class="ttname"><a href="classFunc__args__handle.html">Func_args_handle</a></div><div class="ttdoc">Mixin class for classes which have an array of arguments (&amp;#39;args&amp;#39;) and a count of them (&amp;#39;arg_count&amp;#39;)...</div><div class="ttdef"><b>Definition:</b> item_func.h:90</div></div>
<div class="ttc" id="classItem__sum__sum_html"><div class="ttname"><a href="classItem__sum__sum.html">Item_sum_sum</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:1017</div></div>
<div class="ttc" id="classItem__sum__avg_html_a8f1208be1f8256ad9a1ea6bf92512381"><div class="ttname"><a href="classItem__sum__avg.html#a8f1208be1f8256ad9a1ea6bf92512381">Item_sum_avg::m_avg_dec</a></div><div class="ttdeci">my_decimal m_avg_dec</div><div class="ttdef"><b>Definition:</b> item_sum.h:1317</div></div>
<div class="ttc" id="classItem__sum_html_a6ff5bd547facf5c328841cf385e59509"><div class="ttname"><a href="classItem__sum.html#a6ff5bd547facf5c328841cf385e59509">Item_sum::aggr</a></div><div class="ttdeci">Aggregator * aggr</div><div class="ttdoc">Aggregator class instance. </div><div class="ttdef"><b>Definition:</b> item_sum.h:406</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a13c7b0a2d214a18af14259a0fdde58f1"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a13c7b0a2d214a18af14259a0fdde58f1">Item_sum::STD_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:447</div></div>
<div class="ttc" id="classAggregator__simple_html_a4c8ec9df0208b3c69b92f1723d6d0569"><div class="ttname"><a href="classAggregator__simple.html#a4c8ec9df0208b3c69b92f1723d6d0569">Aggregator_simple::Aggregator_simple</a></div><div class="ttdeci">Aggregator_simple(Item_sum *sum)</div><div class="ttdef"><b>Definition:</b> item_sum.h:936</div></div>
<div class="ttc" id="classItem__sum__udf__str_html_acac42a4094150566643f74bf54d077b6"><div class="ttname"><a href="classItem__sum__udf__str.html#acac42a4094150566643f74bf54d077b6">Item_sum_udf_str::val_int</a></div><div class="ttdeci">longlong val_int() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2040</div></div>
<div class="ttc" id="classItem__non__framing__wf_html_a003ee10a35896b48a03db885b706e74b"><div class="ttname"><a href="classItem__non__framing__wf.html#a003ee10a35896b48a03db885b706e74b">Item_non_framing_wf::Item_non_framing_wf</a></div><div class="ttdeci">Item_non_framing_wf(const POS &amp;pos, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2220</div></div>
<div class="ttc" id="my__alloc_8h_html_aefc3f0449dec4e54570dcfe7f33f23ba"><div class="ttname"><a href="my__alloc_8h.html#aefc3f0449dec4e54570dcfe7f33f23ba">unique_ptr_destroy_only</a></div><div class="ttdeci">std::unique_ptr&lt; T, Destroy_only&lt; T &gt; &gt; unique_ptr_destroy_only</div><div class="ttdoc">std::unique_ptr, but only destroying. </div><div class="ttdef"><b>Definition:</b> my_alloc.h:409</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a38003b0679510375e05932ee190bcfce"><div class="ttname"><a href="classItem__func__group__concat.html#a38003b0679510375e05932ee190bcfce">Item_func_group_concat::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2096</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a04f9be30e72e9f7a34e3fbfda057a322"><div class="ttname"><a href="classItem__func__group__concat.html#a04f9be30e72e9f7a34e3fbfda057a322">Item_func_group_concat::m_result_finalized</a></div><div class="ttdeci">bool m_result_finalized</div><div class="ttdoc">True if result has been written to output buffer. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2128</div></div>
<div class="ttc" id="classItem__sum__udf__decimal_html_a7dc5bb72ea4379dc6090652e9216da45"><div class="ttname"><a href="classItem__sum__udf__decimal.html#a7dc5bb72ea4379dc6090652e9216da45">Item_sum_udf_decimal::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2076</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693ad99a80088425f924dda80393402a879c"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693ad99a80088425f924dda80393402a879c">Item_sum::AVG_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:443</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a45295a5646521318a518bdb89c3d00ee"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a45295a5646521318a518bdb89c3d00ee">Item_sum::FIRST_LAST_VALUE_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:460</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a05bbed8ce1ede4d40fa84452b2707188"><div class="ttname"><a href="classItem__func__group__concat.html#a05bbed8ce1ede4d40fa84452b2707188">Item_func_group_concat::result</a></div><div class="ttdeci">String result</div><div class="ttdef"><b>Definition:</b> item_sum.h:2099</div></div>
<div class="ttc" id="classItem__nth__value_html_a8b45892d47c8fd321b3e263c305bc0fd"><div class="ttname"><a href="classItem__nth__value.html#a8b45892d47c8fd321b3e263c305bc0fd">Item_nth_value::m_null_treatment</a></div><div class="ttdeci">enum_null_treatment m_null_treatment</div><div class="ttdef"><b>Definition:</b> item_sum.h:2602</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693afc6a8c1a883e82a283bfa6723a66c488"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693afc6a8c1a883e82a283bfa6723a66c488">Item_sum::LEAD_LAG_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:459</div></div>
<div class="ttc" id="sql__const_8h_html_a231f985cae1e69550cbc48583b89ad66"><div class="ttname"><a href="sql__const_8h.html#a231f985cae1e69550cbc48583b89ad66">Item_processor</a></div><div class="ttdeci">bool(Item::* Item_processor)(uchar *arg)</div><div class="ttdoc">Processor type for {Item,SELECT_LEX[_UNIT],Table_function}walk. </div><div class="ttdef"><b>Definition:</b> sql_const.h:456</div></div>
<div class="ttc" id="my__time_8h_html_ad446f6444047fbdc28582bb3ec0fe821"><div class="ttname"><a href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a></div><div class="ttdeci">unsigned int my_time_flags_t</div><div class="ttdoc">Flags to str_to_datetime and number_to_datetime. </div><div class="ttdef"><b>Definition:</b> my_time.h:82</div></div>
<div class="ttc" id="structName__resolution__context_html"><div class="ttname"><a href="structName__resolution__context.html">Name_resolution_context</a></div><div class="ttdef"><b>Definition:</b> item.h:394</div></div>
<div class="ttc" id="classItem__rank_html"><div class="ttname"><a href="classItem__rank.html">Item_rank</a></div><div class="ttdoc">RANK or DENSE_RANK window function, cf. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2287</div></div>
<div class="ttc" id="classItem__row__number_html_a7ea27307a7ef3724a2945cd47f6e8897"><div class="ttname"><a href="classItem__row__number.html#a7ea27307a7ef3724a2945cd47f6e8897">Item_row_number::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2260</div></div>
<div class="ttc" id="structCheck__function__as__value__generator__parameters_html_a162a4b7a452505055c392f39c51b916b"><div class="ttname"><a href="structCheck__function__as__value__generator__parameters.html#a162a4b7a452505055c392f39c51b916b">Check_function_as_value_generator_parameters::err_code</a></div><div class="ttdeci">int err_code</div><div class="ttdoc">the error code found during check(if any) </div><div class="ttdef"><b>Definition:</b> item.h:491</div></div>
<div class="ttc" id="template__utils_8h_html"><div class="ttname"><a href="template__utils_8h.html">template_utils.h</a></div></div>
<div class="ttc" id="classItem__sum__udf__int_html_a3516c52e06b53d22337de777fbe68254"><div class="ttname"><a href="classItem__sum__udf__int.html#a3516c52e06b53d22337de777fbe68254">Item_sum_udf_int::Item_sum_udf_int</a></div><div class="ttdeci">Item_sum_udf_int(THD *thd, Item_sum_udf_int *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2003</div></div>
<div class="ttc" id="m__string_8h_html_a68c90461b12e5536fae6dcbae032fc96"><div class="ttname"><a href="m__string_8h.html#a68c90461b12e5536fae6dcbae032fc96">my_strtoll10</a></div><div class="ttdeci">longlong my_strtoll10(const char *nptr, const char **endptr, int *error)</div><div class="ttdef"><b>Definition:</b> my_strtoll10.cc:86</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a463cd6b5921d42986e3b67eee959648a"><div class="ttname"><a href="classItem__func__group__concat.html#a463cd6b5921d42986e3b67eee959648a">Item_func_group_concat::table</a></div><div class="ttdeci">TABLE * table</div><div class="ttdef"><b>Definition:</b> item_sum.h:2112</div></div>
<div class="ttc" id="classItem__nth__value_html_a60074a7267612ee29b3a22aa19b11c73"><div class="ttname"><a href="classItem__nth__value.html#a60074a7267612ee29b3a22aa19b11c73">Item_nth_value::m_hybrid_field_type</a></div><div class="ttdeci">enum_field_types m_hybrid_field_type</div><div class="ttdef"><b>Definition:</b> item_sum.h:2606</div></div>
<div class="ttc" id="classItem__sum__bit_html"><div class="ttname"><a href="classItem__sum__bit.html">Item_sum_bit</a></div><div class="ttdoc">Base class used to implement BIT_AND, BIT_OR and BIT_XOR. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1735</div></div>
<div class="ttc" id="classItem__nth__value_html_a364d5e3ae4509f5346de943c76c15450"><div class="ttname"><a href="classItem__nth__value.html#a364d5e3ae4509f5346de943c76c15450">Item_nth_value::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:2610</div></div>
<div class="ttc" id="classItem__sum__bit_html_a8cd6571734475708534bfa91708b0981"><div class="ttname"><a href="classItem__sum__bit.html#a8cd6571734475708534bfa91708b0981">Item_sum_bit::hybrid_type</a></div><div class="ttdeci">Item_result hybrid_type</div><div class="ttdoc">Stores the Item&amp;#39;s result type. Can only be INT_RESULT or STRING_RESULT. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1744</div></div>
<div class="ttc" id="structMYSQL__TIME_html"><div class="ttname"><a href="structMYSQL__TIME.html">MYSQL_TIME</a></div><div class="ttdef"><b>Definition:</b> mysql_time.h:81</div></div>
<div class="ttc" id="classItem__rank_html_ab65b1b78a912ef9d958c05a038ca9c89"><div class="ttname"><a href="classItem__rank.html#ab65b1b78a912ef9d958c05a038ca9c89">Item_rank::m_rank_ctr</a></div><div class="ttdeci">ulonglong m_rank_ctr</div><div class="ttdoc">Increment when window order columns change. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2291</div></div>
<div class="ttc" id="classItem__lead__lag_html_ac77f534d79a9ef38a26983e63254907d"><div class="ttname"><a href="classItem__lead__lag.html#ac77f534d79a9ef38a26983e63254907d">Item_lead_lag::needs_card</a></div><div class="ttdeci">bool needs_card() const override</div><div class="ttdoc">Return true if we need to make two passes over the rows in the partition - either because we need the...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2501</div></div>
<div class="ttc" id="classItem__sum_html_ad3d0d4b2a4f83faf64e9ef9ee88f3a56"><div class="ttname"><a href="classItem__sum.html#ad3d0d4b2a4f83faf64e9ef9ee88f3a56">Item_sum::super</a></div><div class="ttdeci">Item_result_field super</div><div class="ttdef"><b>Definition:</b> item_sum.h:395</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a50a12ed484a319ae0b7ac24a8e70d03e"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a50a12ed484a319ae0b7ac24a8e70d03e">Item_sum::SUM_BIT_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:449</div></div>
<div class="ttc" id="classItem__sum_html_aca8cb364c927c500573cbf67b496699e"><div class="ttname"><a href="classItem__sum.html#aca8cb364c927c500573cbf67b496699e">Item_sum::window</a></div><div class="ttdeci">const Window * window() const</div><div class="ttdef"><b>Definition:</b> item_sum.h:756</div></div>
<div class="ttc" id="my__tree_8h_html"><div class="ttname"><a href="my__tree_8h.html">my_tree.h</a></div></div>
<div class="ttc" id="classItem__first__last__value_html_a8a0f889fed8f71be25df202ea02cd82f"><div class="ttname"><a href="classItem__first__last__value.html#a8a0f889fed8f71be25df202ea02cd82f">Item_first_last_value::update_field</a></div><div class="ttdeci">void update_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2577</div></div>
<div class="ttc" id="pfs__example__plugin__employee_8cc_html_ab3f8ffa864d702be7152eed806293ad9"><div class="ttname"><a href="pfs__example__plugin__employee_8cc.html#ab3f8ffa864d702be7152eed806293ad9">r</a></div><div class="ttdeci">const mysql_service_registry_t * r</div><div class="ttdef"><b>Definition:</b> pfs_example_plugin_employee.cc:85</div></div>
<div class="ttc" id="classItem__ntile_html_a1b2d515e394187a0b5eaf040f512dfd7"><div class="ttname"><a href="classItem__ntile.html#a1b2d515e394187a0b5eaf040f512dfd7">Item_ntile::clear</a></div><div class="ttdeci">void clear() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2438</div></div>
<div class="ttc" id="classItem__sum__int_html_a429efb6f4f5c0a9ee7bd2d1443996ebd"><div class="ttname"><a href="classItem__sum__int.html#a429efb6f4f5c0a9ee7bd2d1443996ebd">Item_sum_int::Item_sum_int</a></div><div class="ttdeci">Item_sum_int(THD *thd, Item_sum_int *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1000</div></div>
<div class="ttc" id="classItem__sum__udf__str_html"><div class="ttname"><a href="classItem__sum__udf__str.html">Item_sum_udf_str</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:2024</div></div>
<div class="ttc" id="classItem__sum__bit_html_a8fd0a8be775a735e338062a19bfb23e4"><div class="ttname"><a href="classItem__sum__bit.html#a8fd0a8be775a735e338062a19bfb23e4">Item_sum_bit::Item_sum_bit</a></div><div class="ttdeci">Item_sum_bit(const POS &amp;pos, Item *item_par, ulonglong reset_arg, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1795</div></div>
<div class="ttc" id="classItem__udf__sum_html_a6c78c6b3c95c7c18a968030073b5d19a"><div class="ttname"><a href="classItem__udf__sum.html#a6c78c6b3c95c7c18a968030073b5d19a">Item_udf_sum::fix_fields</a></div><div class="ttdeci">bool fix_fields(THD *thd, Item **ref) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1951</div></div>
<div class="ttc" id="classItem__sum__variance_html_a7cfce2d841120e00a8cfb64f7d8a1645"><div class="ttname"><a href="classItem__sum__variance.html#a7cfce2d841120e00a8cfb64f7d8a1645">Item_sum_variance::no_rows_in_result</a></div><div class="ttdeci">void no_rows_in_result() override</div><div class="ttdoc">Mark an aggregate as having no rows. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1474</div></div>
<div class="ttc" id="classItem__sum__avg_html_a9aee8457a7a0a0729c2184db1467496b"><div class="ttname"><a href="classItem__sum__avg.html#a9aee8457a7a0a0729c2184db1467496b">Item_sum_avg::f_scale</a></div><div class="ttdeci">uint f_scale</div><div class="ttdef"><b>Definition:</b> item_sum.h:1315</div></div>
<div class="ttc" id="classItem__cume__dist_html_a4e2d15178d0467a565ed91aa02f2c05a"><div class="ttname"><a href="classItem__cume__dist.html#a4e2d15178d0467a565ed91aa02f2c05a">Item_cume_dist::needs_card</a></div><div class="ttdeci">bool needs_card() const override</div><div class="ttdoc">Return true if we need to make two passes over the rows in the partition - either because we need the...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2355</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a233e0daab849c8515c62c6189b94ee84"><div class="ttname"><a href="classItem__func__group__concat.html#a233e0daab849c8515c62c6189b94ee84">Item_func_group_concat::row_count</a></div><div class="ttdeci">uint row_count</div><div class="ttdef"><b>Definition:</b> item_sum.h:2119</div></div>
<div class="ttc" id="classItem__lead__lag_html_ad372f3f1b3e60750168f5113b1a651c4"><div class="ttname"><a href="classItem__lead__lag.html#ad372f3f1b3e60750168f5113b1a651c4">Item_lead_lag::m_n</a></div><div class="ttdeci">int64 m_n</div><div class="ttdoc">canonicalized offset value </div><div class="ttdef"><b>Definition:</b> item_sum.h:2448</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a33003d7469e78d6f5cb93d7232702e90"><div class="ttname"><a href="classItem__func__group__concat.html#a33003d7469e78d6f5cb93d7232702e90">Item_func_group_concat::change_context_processor</a></div><div class="ttdeci">bool change_context_processor(uchar *arg) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2195</div></div>
<div class="ttc" id="my__dbug_8h_html"><div class="ttname"><a href="my__dbug_8h.html">my_dbug.h</a></div></div>
<div class="ttc" id="classItem__sum__udf__float_html_ae0a2555d6f01f536d635b7b4774d8797"><div class="ttname"><a href="classItem__sum__udf__float.html#ae0a2555d6f01f536d635b7b4774d8797">Item_sum_udf_float::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1988</div></div>
<div class="ttc" id="classItem__sum_html_a6f3ba1878aae94c5c6bc7a47a9ae21e9"><div class="ttname"><a href="classItem__sum.html#a6f3ba1878aae94c5c6bc7a47a9ae21e9">Item_sum::unsupported_as_wf</a></div><div class="ttdeci">void unsupported_as_wf()</div><div class="ttdef"><b>Definition:</b> item_sum.h:803</div></div>
<div class="ttc" id="classItem__sum__variance_html_a027f7880e98b575f969a086d0c417753"><div class="ttname"><a href="classItem__sum__variance.html#a027f7880e98b575f969a086d0c417753">Item_sum_variance::count</a></div><div class="ttdeci">ulonglong count</div><div class="ttdef"><b>Definition:</b> item_sum.h:1447</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a3c8639dab3e33310b6147b35fc59088d"><div class="ttname"><a href="classItem__func__group__concat.html#a3c8639dab3e33310b6147b35fc59088d">Item_func_group_concat::distinct</a></div><div class="ttdeci">bool distinct</div><div class="ttdef"><b>Definition:</b> item_sum.h:2123</div></div>
<div class="ttc" id="classItem__sum_html_ab6d6dadc286edb069d017f4e24dbaa3e"><div class="ttname"><a href="classItem__sum.html#ab6d6dadc286edb069d017f4e24dbaa3e">Item_sum::set_distinct</a></div><div class="ttdeci">void set_distinct(bool distinct)</div><div class="ttdef"><b>Definition:</b> item_sum.h:709</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_ad41d087b170f4e0712ca18af807350fb"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#ad41d087b170f4e0712ca18af807350fb">Item_rollup_sum_switcher::argument_count</a></div><div class="ttdeci">uint argument_count() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2765</div></div>
<div class="ttc" id="classItem__cume__dist_html_a093c5054f4cedd0c46179260c93efe77"><div class="ttname"><a href="classItem__cume__dist.html#a093c5054f4cedd0c46179260c93efe77">Item_cume_dist::Item_cume_dist</a></div><div class="ttdeci">Item_cume_dist(const POS &amp;pos, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2342</div></div>
<div class="ttc" id="classItem__nth__value_html_ad2483d3ac9bd44ccd661f9d1e90a1f8c"><div class="ttname"><a href="classItem__nth__value.html#ad2483d3ac9bd44ccd661f9d1e90a1f8c">Item_nth_value::add</a></div><div class="ttdeci">bool add() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2648</div></div>
<div class="ttc" id="classItem__percent__rank_html"><div class="ttname"><a href="classItem__percent__rank.html">Item_percent_rank</a></div><div class="ttdoc">PERCENT_RANK window function, cf. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2367</div></div>
<div class="ttc" id="classItem__nth__value_html_a85f6a639442b1e888ae6fcdba9d0daf8"><div class="ttname"><a href="classItem__nth__value.html#a85f6a639442b1e888ae6fcdba9d0daf8">Item_nth_value::m_value</a></div><div class="ttdeci">Item_cache * m_value</div><div class="ttdef"><b>Definition:</b> item_sum.h:2607</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_a277256ef34334743a6bd4fac6156af22"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a277256ef34334743a6bd4fac6156af22">Item_rollup_sum_switcher::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2722</div></div>
<div class="ttc" id="classJson__object_html"><div class="ttname"><a href="classJson__object.html">Json_object</a></div><div class="ttdoc">Represents a JSON container value of type &quot;object&quot; (ECMA), type J_OBJECT here. </div><div class="ttdef"><b>Definition:</b> json_dom.h:368</div></div>
<div class="ttc" id="classItem__sum__variance_html_a7277f4c479b7c401d89c159c3bd04c0a"><div class="ttname"><a href="classItem__sum__variance.html#a7277f4c479b7c401d89c159c3bd04c0a">Item_sum_variance::recurrence_s</a></div><div class="ttdeci">double recurrence_s</div><div class="ttdef"><b>Definition:</b> item_sum.h:1445</div></div>
<div class="ttc" id="classItem__sum__max_html_a211deb9ff3ac4d13f1baab321add648b"><div class="ttname"><a href="classItem__sum__max.html#a211deb9ff3ac4d13f1baab321add648b">Item_sum_max::Item_sum_max</a></div><div class="ttdeci">Item_sum_max(THD *thd, const Item_sum_max *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1721</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_afe6ba99674356cc79b69c65ef76816d8"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#afe6ba99674356cc79b69c65ef76816d8">Item_rollup_sum_switcher::master</a></div><div class="ttdeci">Item_sum * master() const</div><div class="ttdef"><b>Definition:</b> item_sum.h:2769</div></div>
<div class="ttc" id="classItem__sum__bit_html_af283369ca189fd3977eba3b8a9f48fe4"><div class="ttname"><a href="classItem__sum__bit.html#af283369ca189fd3977eba3b8a9f48fe4">Item_sum_bit::m_frame_null_count</a></div><div class="ttdeci">ulonglong m_frame_null_count</div><div class="ttdoc">Execution state (windowing): this is for counting NULLs of rows entering and leaving the window frame...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1760</div></div>
<div class="ttc" id="classItem__udf__sum_html_a7ef4acf9a78b0af389e5aba8e4dbc390"><div class="ttname"><a href="classItem__udf__sum.html#a7ef4acf9a78b0af389e5aba8e4dbc390">Item_udf_sum::Item_udf_sum</a></div><div class="ttdeci">Item_udf_sum(const POS &amp;pos, udf_func *udf_arg, PT_item_list *opt_list)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1937</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_a9499ec1d45540cda5efd8305f77bab2c"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a9499ec1d45540cda5efd8305f77bab2c">Item_rollup_sum_switcher::aggregator_add_all</a></div><div class="ttdeci">bool aggregator_add_all()</div><div class="ttdef"><b>Definition:</b> item_sum.h:2746</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693abc1dea6af3294543d9b49feea04597cb"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693abc1dea6af3294543d9b49feea04597cb">Item_sum::ROW_NUMBER_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:453</div></div>
<div class="ttc" id="classItem__percent__rank_html_a37e3a84c12411d080508e798195c574f"><div class="ttname"><a href="classItem__percent__rank.html#a37e3a84c12411d080508e798195c574f">Item_percent_rank::result_type</a></div><div class="ttdeci">Item_result result_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2402</div></div>
<div class="ttc" id="classItem__sum__udf__int_html_acccd8d74131246292830fc15d73de599"><div class="ttname"><a href="classItem__sum__udf__int.html#acccd8d74131246292830fc15d73de599">Item_sum_udf_int::val_int</a></div><div class="ttdeci">longlong val_int() override</div><div class="ttdef"><b>Definition:</b> item_sum.cc:3863</div></div>
<div class="ttc" id="my__systime_8h_html_a494ab8601ee72b192b3ae047f8738e49"><div class="ttname"><a href="my__systime_8h.html#a494ab8601ee72b192b3ae047f8738e49">get_date</a></div><div class="ttdeci">void get_date(char *to, int flag, time_t date)</div><div class="ttdoc">Store textual representation of date in a character array. </div><div class="ttdef"><b>Definition:</b> my_systime.cc:107</div></div>
<div class="ttc" id="classItem__sum_html_a67b53e7725198c9280538ca643c88e32"><div class="ttname"><a href="classItem__sum.html#a67b53e7725198c9280538ca643c88e32">Item_sum::forced_const</a></div><div class="ttdeci">bool forced_const</div><div class="ttdoc">True means that this field has been evaluated during optimization. </div><div class="ttdef"><b>Definition:</b> item_sum.h:505</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_adf1c3f4bbb5f8ce925e9e7f8617af137"><div class="ttname"><a href="classItem__sum__hybrid.html#adf1c3f4bbb5f8ce925e9e7f8617af137">Item_sum_hybrid::m_want_first</a></div><div class="ttdeci">bool m_want_first</div><div class="ttdoc">For min() - Set to true when results are ordered in ascending and false when descending. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1571</div></div>
<div class="ttc" id="classItem__sum_html_aab1364c0f2d629b6fbe83380ecdb3693a5c3953c913c0224cffeebbb156524627"><div class="ttname"><a href="classItem__sum.html#aab1364c0f2d629b6fbe83380ecdb3693a5c3953c913c0224cffeebbb156524627">Item_sum::COUNT_DISTINCT_FUNC</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:440</div></div>
<div class="ttc" id="classAggregator_html_a726ef59a61b219b87c0a6041f8162037"><div class="ttname"><a href="classAggregator.html#a726ef59a61b219b87c0a6041f8162037">Aggregator::endup</a></div><div class="ttdeci">virtual void endup()=0</div><div class="ttdoc">Called when there are no more data and the final value is to be retrieved. </div></div>
<div class="ttc" id="classItem__sum__num_html_a2a3cc609ba913eee6bce95ef31626de1"><div class="ttname"><a href="classItem__sum__num.html#a2a3cc609ba913eee6bce95ef31626de1">Item_sum_num::val_int</a></div><div class="ttdeci">longlong val_int() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:973</div></div>
<div class="ttc" id="classItem__variance__field_html_aff0e1e1d1dcceb957a9dc9252aadb699"><div class="ttname"><a href="classItem__variance__field.html#aff0e1e1d1dcceb957a9dc9252aadb699">Item_variance_field::check_function_as_value_generator</a></div><div class="ttdeci">bool check_function_as_value_generator(uchar *args) override</div><div class="ttdoc">Check if this item is allowed for a virtual column or inside a default expression. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1372</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_a2478b8872265e17fa954ab2d2fba8ba2"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a2478b8872265e17fa954ab2d2fba8ba2">Item_rollup_sum_switcher::update_field</a></div><div class="ttdeci">void update_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2735</div></div>
<div class="ttc" id="classItem__variance__field_html_a4e21ab225a3915b6d2ad9f89e10df4bd"><div class="ttname"><a href="classItem__variance__field.html#a4e21ab225a3915b6d2ad9f89e10df4bd">Item_variance_field::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1367</div></div>
<div class="ttc" id="classItem__lead__lag_html_aa8b7193606c3029fa7606f391b432521"><div class="ttname"><a href="classItem__lead__lag.html#aa8b7193606c3029fa7606f391b432521">Item_lead_lag::m_has_value</a></div><div class="ttdeci">bool m_has_value</div><div class="ttdoc">Execution state: if set, we already have a value for current row. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2461</div></div>
<div class="ttc" id="classItem__nth__value_html_aa10ac8124464ef096cc97e9cb4ac7c92"><div class="ttname"><a href="classItem__nth__value.html#aa10ac8124464ef096cc97e9cb4ac7c92">Item_nth_value::reset_field</a></div><div class="ttdeci">void reset_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2646</div></div>
<div class="ttc" id="classItem__lead__lag_html_a379ae4e0e29f0cfa95c28c8232a923ce"><div class="ttname"><a href="classItem__lead__lag.html#a379ae4e0e29f0cfa95c28c8232a923ce">Item_lead_lag::set_use_default</a></div><div class="ttdeci">void set_use_default(bool value)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2519</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_aafae5660496b52647f60de8a0ae89904"><div class="ttname"><a href="classItem__sum__hybrid.html#aafae5660496b52647f60de8a0ae89904">Item_sum_hybrid::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:1537</div></div>
<div class="ttc" id="classItem__sum_html_a41c914f3c66a8f4f2f7347d84a5146e7"><div class="ttname"><a href="classItem__sum.html#a41c914f3c66a8f4f2f7347d84a5146e7">Item_sum::add</a></div><div class="ttdeci">virtual bool add()=0</div></div>
<div class="ttc" id="classItem__sum__json_html_a2ccc33c817acd1a138864eecfc70ad1f"><div class="ttname"><a href="classItem__sum__json.html#a2ccc33c817acd1a138864eecfc70ad1f">Item_sum_json::m_wrapper</a></div><div class="ttdeci">unique_ptr_destroy_only&lt; Json_wrapper &gt; m_wrapper</div><div class="ttdoc">Wrapper around the container (object/array) which accumulates the value. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1221</div></div>
<div class="ttc" id="classItem__ident_html_aeb9d4be144fb86d6dd1e87b59ca51b32"><div class="ttname"><a href="classItem__ident.html#aeb9d4be144fb86d6dd1e87b59ca51b32">Item_ident::orig_db_name</a></div><div class="ttdeci">const char * orig_db_name() const</div><div class="ttdef"><b>Definition:</b> item.h:3776</div></div>
<div class="ttc" id="classItem__sum__json__object_html_a56cb8ac248bc595407910a444bd4b137"><div class="ttname"><a href="classItem__sum__json__object.html#a56cb8ac248bc595407910a444bd4b137">Item_sum_json_object::m_json_object</a></div><div class="ttdeci">unique_ptr_destroy_only&lt; Json_object &gt; m_json_object</div><div class="ttdoc">Accumulates the final value. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1277</div></div>
<div class="ttc" id="classAggregator_html_a61b988705710055ea031d1c227b43d05acf5cecfafac12412b43335aad7b087e1"><div class="ttname"><a href="classAggregator.html#a61b988705710055ea031d1c227b43d05acf5cecfafac12412b43335aad7b087e1">Aggregator::DISTINCT_AGGREGATOR</a></div><div class="ttdef"><b>Definition:</b> item_sum.h:114</div></div>
<div class="ttc" id="mysql__time_8h_html"><div class="ttname"><a href="mysql__time_8h.html">mysql_time.h</a></div><div class="ttdoc">Time declarations shared between the server and client API: you should not add anything to this heade...</div></div>
<div class="ttc" id="classItem__result__field_html"><div class="ttname"><a href="classItem__result__field.html">Item_result_field</a></div><div class="ttdoc">Item with result field. </div><div class="ttdef"><b>Definition:</b> item.h:5295</div></div>
<div class="ttc" id="classItem__sum__udf__int_html_af05ad30cf6f958a081641b0bbdc358bc"><div class="ttname"><a href="classItem__sum__udf__int.html#af05ad30cf6f958a081641b0bbdc358bc">Item_sum_udf_int::val_real</a></div><div class="ttdeci">double val_real() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2006</div></div>
<div class="ttc" id="classItem__percent__rank_html_a1d6afe6022e494c8c6945d8b2c7c1fd9"><div class="ttname"><a href="classItem__percent__rank.html#a1d6afe6022e494c8c6945d8b2c7c1fd9">Item_percent_rank::needs_card</a></div><div class="ttdeci">bool needs_card() const override</div><div class="ttdoc">Return true if we need to make two passes over the rows in the partition - either because we need the...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2395</div></div>
<div class="ttc" id="classItem__sum__bit_html_afa8058f38ed36cdbe895ba0cc48d986b"><div class="ttname"><a href="classItem__sum__bit.html#afa8058f38ed36cdbe895ba0cc48d986b">Item_sum_bit::value_buff</a></div><div class="ttdeci">String value_buff</div><div class="ttdoc">Stores the result value for the STRING_RESULT. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1742</div></div>
<div class="ttc" id="classItem__sum__avg_html_a57f0b9a506b882c3bfa1f1ca5f3bd762"><div class="ttname"><a href="classItem__sum__avg.html#a57f0b9a506b882c3bfa1f1ca5f3bd762">Item_sum_avg::cleanup</a></div><div class="ttdeci">void cleanup() override</div><div class="ttdoc">Called for every Item after use (preparation and execution). </div><div class="ttdef"><b>Definition:</b> item_sum.h:1346</div></div>
<div class="ttc" id="classItem__sum__json__array_html_a7b4da09ff0066d9b9f380c868a3d33b7"><div class="ttname"><a href="classItem__sum__json__array.html#a7b4da09ff0066d9b9f380c868a3d33b7">Item_sum_json_array::m_json_array</a></div><div class="ttdeci">unique_ptr_destroy_only&lt; Json_array &gt; m_json_array</div><div class="ttdoc">Accumulates the final value. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1258</div></div>
<div class="ttc" id="structCheck__function__as__value__generator__parameters_html"><div class="ttname"><a href="structCheck__function__as__value__generator__parameters.html">Check_function_as_value_generator_parameters</a></div><div class="ttdoc">Struct used to pass around arguments to/from check_function_as_value_generator. </div><div class="ttdef"><b>Definition:</b> item.h:484</div></div>
<div class="ttc" id="classItem__sum__sum_html_a49c532a747ca5af46207a076c4306e9e"><div class="ttname"><a href="classItem__sum__sum.html#a49c532a747ca5af46207a076c4306e9e">Item_sum_sum::sum</a></div><div class="ttdeci">double sum</div><div class="ttdef"><b>Definition:</b> item_sum.h:1020</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_a87f42ae98c54bf07d0cd9a100ec29547"><div class="ttname"><a href="classItem__sum__hybrid.html#a87f42ae98c54bf07d0cd9a100ec29547">Item_sum_hybrid::m_cnt</a></div><div class="ttdeci">int64 m_cnt</div><div class="ttdoc">Execution state: keeps track if this is the first row in the frame when buffering is not needed...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1577</div></div>
<div class="ttc" id="field__types_8h_html_a69e798807026a0f7e12b1d6c72374854abf1e0aa5e259fe4d630043c94f6f693a"><div class="ttname"><a href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854abf1e0aa5e259fe4d630043c94f6f693a">MYSQL_TYPE_NEWDECIMAL</a></div><div class="ttdef"><b>Definition:</b> field_types.h:81</div></div>
<div class="ttc" id="classItem__sum__int_html_a9880c10b5a80d9fd66d3ece7606ef4ff"><div class="ttname"><a href="classItem__sum__int.html#a9880c10b5a80d9fd66d3ece7606ef4ff">Item_sum_int::val_real</a></div><div class="ttdeci">double val_real() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1004</div></div>
<div class="ttc" id="classItem__ident_html_a21a0ef794fa03c54a7eb21bdbf4d9e24"><div class="ttname"><a href="classItem__ident.html#a21a0ef794fa03c54a7eb21bdbf4d9e24">Item_ident::set_orig_field_name</a></div><div class="ttdeci">void set_orig_field_name(const char *name_arg)</div><div class="ttdef"><b>Definition:</b> item.h:3773</div></div>
<div class="ttc" id="my__table__map_8h_html_a1f1cfcef19e74658a6a4e0b69325e088"><div class="ttname"><a href="my__table__map_8h.html#a1f1cfcef19e74658a6a4e0b69325e088">nesting_map</a></div><div class="ttdeci">uint64_t nesting_map</div><div class="ttdef"><b>Definition:</b> my_table_map.h:30</div></div>
<div class="ttc" id="classItem__sum_html_a5d29c1ad81ae5e0193775cb360f4a74a"><div class="ttname"><a href="classItem__sum.html#a5d29c1ad81ae5e0193775cb360f4a74a">Item_sum::reset_and_add</a></div><div class="ttdeci">bool reset_and_add()</div><div class="ttdoc">Resets the aggregate value to its default and aggregates the current value of its attribute(s)...</div><div class="ttdef"><b>Definition:</b> item_sum.h:580</div></div>
<div class="ttc" id="classItem__sum__num_html_a71d65d6b2e03bb879a1f7e90ffc1308b"><div class="ttname"><a href="classItem__sum__num.html#a71d65d6b2e03bb879a1f7e90ffc1308b">Item_sum_num::super</a></div><div class="ttdeci">Item_sum super</div><div class="ttdef"><b>Definition:</b> item_sum.h:949</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a842daab4232030185c306066709cfc13"><div class="ttname"><a href="classItem__func__group__concat.html#a842daab4232030185c306066709cfc13">Item_func_group_concat::update_field</a></div><div class="ttdeci">void update_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2165</div></div>
<div class="ttc" id="item__sum_8h_html_a53a52a3ef588f2b7cfd0a612b6d374da"><div class="ttname"><a href="item__sum_8h.html#a53a52a3ef588f2b7cfd0a612b6d374da">group_concat_key_cmp_with_order</a></div><div class="ttdeci">int group_concat_key_cmp_with_order(const void *arg, const void *key1, const void *key2)</div><div class="ttdoc">function of sort for syntax: GROUP_CONCAT(expr,... </div><div class="ttdef"><b>Definition:</b> item_sum.cc:3968</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_a4ab091e83a3a2df02558b7336c18ccd6"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a4ab091e83a3a2df02558b7336c18ccd6">Item_rollup_sum_switcher::set_current_rollup_level</a></div><div class="ttdeci">void set_current_rollup_level(int level)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2768</div></div>
<div class="ttc" id="classItem__sum__int_html_ad0f72aa47deab415598b50d3619c5228"><div class="ttname"><a href="classItem__sum__int.html#ad0f72aa47deab415598b50d3619c5228">Item_sum_int::Item_sum_int</a></div><div class="ttdeci">Item_sum_int(const POS &amp;pos, PT_item_list *list, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:995</div></div>
<div class="ttc" id="classItem__row__number_html_a0752db59dc5ec62390b8a218e1e82b94"><div class="ttname"><a href="classItem__row__number.html#a0752db59dc5ec62390b8a218e1e82b94">Item_row_number::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *thd) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2263</div></div>
<div class="ttc" id="classItem__sum__num_html_a4b221928ac624c5d31274172f9c238d1"><div class="ttname"><a href="classItem__sum__num.html#a4b221928ac624c5d31274172f9c238d1">Item_sum_num::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:979</div></div>
<div class="ttc" id="classAggregator__simple_html_a912510169470b31053bb002881a28207"><div class="ttname"><a href="classAggregator__simple.html#a912510169470b31053bb002881a28207">Aggregator_simple::endup</a></div><div class="ttdeci">void endup() override</div><div class="ttdoc">Called when there are no more data and the final value is to be retrieved. </div><div class="ttdef"><b>Definition:</b> item_sum.h:942</div></div>
<div class="ttc" id="structItem__sum_1_1Collect__grouped__aggregate__info_html_a97b825138747740f8a33f2094832bcb3"><div class="ttname"><a href="structItem__sum_1_1Collect__grouped__aggregate__info.html#a97b825138747740f8a33f2094832bcb3">Item_sum::Collect_grouped_aggregate_info::Collect_grouped_aggregate_info</a></div><div class="ttdeci">Collect_grouped_aggregate_info(SELECT_LEX *select)</div><div class="ttdef"><b>Definition:</b> item_sum.h:659</div></div>
<div class="ttc" id="classItem__first__last__value_html_a6059bdbd4e5f274ae97a9f2ce728756e"><div class="ttname"><a href="classItem__first__last__value.html#a6059bdbd4e5f274ae97a9f2ce728756e">Item_first_last_value::m_hybrid_type</a></div><div class="ttdeci">Item_result m_hybrid_type</div><div class="ttdef"><b>Definition:</b> item_sum.h:2539</div></div>
<div class="ttc" id="classString_html_adeb3c645da2b33173c87c97ea21aaaf9"><div class="ttname"><a href="classString.html#adeb3c645da2b33173c87c97ea21aaaf9">String::charset</a></div><div class="ttdeci">const CHARSET_INFO * charset() const</div><div class="ttdef"><b>Definition:</b> sql_string.h:237</div></div>
<div class="ttc" id="template__utils_8h_html_a0d8e42511b409c2d0a335061cf19fadf"><div class="ttname"><a href="template__utils_8h.html#a0d8e42511b409c2d0a335061cf19fadf">down_cast</a></div><div class="ttdeci">Target down_cast(Source *arg)</div><div class="ttdoc">Casts from one pointer type to another in a type hierarchy. </div><div class="ttdef"><b>Definition:</b> template_utils.h:94</div></div>
<div class="ttc" id="m__ctype_8h_html"><div class="ttname"><a href="m__ctype_8h.html">m_ctype.h</a></div><div class="ttdoc">A better implementation of the UNIX ctype(3) library. </div></div>
<div class="ttc" id="my__table__map_8h_html_a82b78abeba8cfb8e3df3e082f42b6cff"><div class="ttname"><a href="my__table__map_8h.html#a82b78abeba8cfb8e3df3e082f42b6cff">table_map</a></div><div class="ttdeci">uint64_t table_map</div><div class="ttdef"><b>Definition:</b> my_table_map.h:29</div></div>
<div class="ttc" id="classAggregator_html_a2afeb7cbcc97ddd2c3c74cf87352e0ab"><div class="ttname"><a href="classAggregator.html#a2afeb7cbcc97ddd2c3c74cf87352e0ab">Aggregator::Item_sum_sum</a></div><div class="ttdeci">friend class Item_sum_sum</div><div class="ttdef"><b>Definition:</b> item_sum.h:98</div></div>
<div class="ttc" id="m__ctype_8h_html_aa4bb45da77755c7a221e0bff25562753"><div class="ttname"><a href="m__ctype_8h.html#aa4bb45da77755c7a221e0bff25562753">my_charset_bin</a></div><div class="ttdeci">MYSQL_PLUGIN_IMPORT CHARSET_INFO my_charset_bin</div><div class="ttdef"><b>Definition:</b> ctype-bin.cc:510</div></div>
<div class="ttc" id="classItem__nth__value_html_aaccc1e4911018ac6b025e5dba0f5e97f"><div class="ttname"><a href="classItem__nth__value.html#aaccc1e4911018ac6b025e5dba0f5e97f">Item_nth_value::Item_nth_value</a></div><div class="ttdeci">Item_nth_value(const POS &amp;pos, PT_item_list *a, bool from_last, enum_null_treatment null_treatment, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2613</div></div>
<div class="ttc" id="classItem__sum_html_abebaefba373176f5e88a77d6b3615ff0"><div class="ttname"><a href="classItem__sum.html#abebaefba373176f5e88a77d6b3615ff0">Item_sum::next_sum</a></div><div class="ttdeci">Item_sum * next_sum</div><div class="ttdoc">next in the circular chain of registered objects </div><div class="ttdef"><b>Definition:</b> item_sum.h:478</div></div>
<div class="ttc" id="classItem__sum__num_html_a4b87692f14bcb14428bf7c496241fd92"><div class="ttname"><a href="classItem__sum__num.html#a4b87692f14bcb14428bf7c496241fd92">Item_sum_num::get_time</a></div><div class="ttdeci">bool get_time(MYSQL_TIME *ltime) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:982</div></div>
<div class="ttc" id="classItem__first__last__value_html_a57e529fb338dcfee9e38df2aa7775c67"><div class="ttname"><a href="classItem__first__last__value.html#a57e529fb338dcfee9e38df2aa7775c67">Item_first_last_value::cnt</a></div><div class="ttdeci">int64 cnt</div><div class="ttdoc">used when evaluating on-the-fly (non-buffered processing) </div><div class="ttdef"><b>Definition:</b> item_sum.h:2541</div></div>
<div class="ttc" id="classAggregator__distinct_html_accf7341ca263e6324c1b75d35f693328"><div class="ttname"><a href="classAggregator__distinct.html#accf7341ca263e6324c1b75d35f693328">Aggregator_distinct::table</a></div><div class="ttdeci">TABLE * table</div><div class="ttdef"><b>Definition:</b> item_sum.h:842</div></div>
<div class="ttc" id="classItem__sum__json__array_html_a289abc7e1ba3c45b1fb1c69e73d6e02c"><div class="ttname"><a href="classItem__sum__json__array.html#a289abc7e1ba3c45b1fb1c69e73d6e02c">Item_sum_json_array::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1268</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a0da7f7a5bc6e5cbd753656386328e6d1"><div class="ttname"><a href="classItem__func__group__concat.html#a0da7f7a5bc6e5cbd753656386328e6d1">Item_func_group_concat::val_int</a></div><div class="ttdeci">longlong val_int() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2174</div></div>
<div class="ttc" id="classItem__sum__max_html_afc71dd00b23f6934eadf65e4481c7413"><div class="ttname"><a href="classItem__sum__max.html#afc71dd00b23f6934eadf65e4481c7413">Item_sum_max::Item_sum_max</a></div><div class="ttdeci">Item_sum_max(const POS &amp;pos, Item *item_par, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1719</div></div>
<div class="ttc" id="classItem__udf__sum_html_a3ce13edf66f051a24e0c2077462717df"><div class="ttname"><a href="classItem__udf__sum.html#a3ce13edf66f051a24e0c2077462717df">Item_udf_sum::reset_field</a></div><div class="ttdeci">void reset_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1965</div></div>
<div class="ttc" id="classItem__sum_html_ac0b8ea2a1e56beef4716d1dbdd9c3785"><div class="ttname"><a href="classItem__sum.html#ac0b8ea2a1e56beef4716d1dbdd9c3785">Item_sum::in_sum_func</a></div><div class="ttdeci">Item_sum * in_sum_func</div><div class="ttdoc">the containing set function if any </div><div class="ttdef"><b>Definition:</b> item_sum.h:479</div></div>
<div class="ttc" id="field__types_8h_html_a69e798807026a0f7e12b1d6c72374854ad4e0c04e294f1f9c060b9fb37646670f"><div class="ttname"><a href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854ad4e0c04e294f1f9c060b9fb37646670f">MYSQL_TYPE_DOUBLE</a></div><div class="ttdef"><b>Definition:</b> field_types.h:62</div></div>
<div class="ttc" id="persisted__variable_8cc_html_a211d620ef86d6a09b1d29b51b6e44f06"><div class="ttname"><a href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a></div><div class="ttdeci">const string value(&quot;\alue\)</div></div>
<div class="ttc" id="classItem__sum__variance_html_ad1c85cbd8e174c9e5df13dfc0e90128f"><div class="ttname"><a href="classItem__sum__variance.html#ad1c85cbd8e174c9e5df13dfc0e90128f">Item_sum_variance::result_item</a></div><div class="ttdeci">Item * result_item(Field *) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1473</div></div>
<div class="ttc" id="classItem__sum__bit_html_aef58a7c72496dc0bf26b6d1c73d63f3e"><div class="ttname"><a href="classItem__sum__bit.html#aef58a7c72496dc0bf26b6d1c73d63f3e">Item_sum_bit::bits</a></div><div class="ttdeci">ulonglong bits</div><div class="ttdoc">Stores the result value for the INT_RESULT. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1740</div></div>
<div class="ttc" id="classItem__lead__lag_html"><div class="ttname"><a href="classItem__lead__lag.html">Item_lead_lag</a></div><div class="ttdoc">LEAD/LAG window functions, cf. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2445</div></div>
<div class="ttc" id="classItem__ntile_html_a9b72e6acc73d1b060f8aba046653a5e7"><div class="ttname"><a href="classItem__ntile.html#a9b72e6acc73d1b060f8aba046653a5e7">Item_ntile::m_value</a></div><div class="ttdeci">longlong m_value</div><div class="ttdef"><b>Definition:</b> item_sum.h:2410</div></div>
<div class="ttc" id="classItem__udf__sum_html_ae6f928893c9e58b6e9e718308e64eaee"><div class="ttname"><a href="classItem__udf__sum.html#ae6f928893c9e58b6e9e718308e64eaee">Item_udf_sum::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1950</div></div>
<div class="ttc" id="classItem__lead__lag_html_a7d458dfc7f1ddc10de6df4d6c2e0adba"><div class="ttname"><a href="classItem__lead__lag.html#a7d458dfc7f1ddc10de6df4d6c2e0adba">Item_lead_lag::use_default</a></div><div class="ttdeci">bool use_default() const</div><div class="ttdef"><b>Definition:</b> item_sum.h:2520</div></div>
<div class="ttc" id="my__time_8h_html"><div class="ttname"><a href="my__time_8h.html">my_time.h</a></div><div class="ttdoc">Interface for low level time utilities. </div></div>
<div class="ttc" id="classItem__sum__json_html_a57cf67a9411221ea202dc507907cd3be"><div class="ttname"><a href="classItem__sum__json.html#a57cf67a9411221ea202dc507907cd3be">Item_sum_json::m_conversion_buffer</a></div><div class="ttdeci">String m_conversion_buffer</div><div class="ttdoc">String used for converting JSON text values to utf8mb4 charset. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1219</div></div>
<div class="ttc" id="classItem__avg__field_html_a43c435a608853b4f43a6a50479879668"><div class="ttname"><a href="classItem__avg__field.html#a43c435a608853b4f43a6a50479879668">Item_avg_field::prec_increment</a></div><div class="ttdeci">uint prec_increment</div><div class="ttdef"><b>Definition:</b> item_sum.h:1176</div></div>
<div class="ttc" id="classItem__nth__value_html_a8bf89aa7127600aa53237b844daf3352"><div class="ttname"><a href="classItem__nth__value.html#a8bf89aa7127600aa53237b844daf3352">Item_nth_value::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2623</div></div>
<div class="ttc" id="classItem__sum__json_html"><div class="ttname"><a href="classItem__sum__json.html">Item_sum_json</a></div><div class="ttdoc">Common abstraction for Item_sum_json_array and Item_sum_json_object. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1212</div></div>
<div class="ttc" id="classItem__sum_html_a404721b60cdb6a76a8beeb2c5940bd17"><div class="ttname"><a href="classItem__sum.html#a404721b60cdb6a76a8beeb2c5940bd17">Item_sum::no_rows_in_result</a></div><div class="ttdeci">void no_rows_in_result() override</div><div class="ttdoc">Mark an aggregate as having no rows. </div><div class="ttdef"><b>Definition:</b> item_sum.h:639</div></div>
<div class="ttc" id="classItem__sum__udf__decimal_html_ace7881e135d1ba912b57e7d831ca5ff3"><div class="ttname"><a href="classItem__sum__udf__decimal.html#ace7881e135d1ba912b57e7d831ca5ff3">Item_sum_udf_decimal::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2080</div></div>
<div class="ttc" id="classString_html_a36e2d4a832274ed2718c9edf63041f08"><div class="ttname"><a href="classString.html#a36e2d4a832274ed2718c9edf63041f08">String::ptr</a></div><div class="ttdeci">const char * ptr() const</div><div class="ttdef"><b>Definition:</b> sql_string.h:246</div></div>
<div class="ttc" id="classItem__sum__variance_html_ab8ec46805b28403aa7d6be48cb002b28"><div class="ttname"><a href="classItem__sum__variance.html#ab8ec46805b28403aa7d6be48cb002b28">Item_sum_variance::sample</a></div><div class="ttdeci">uint sample</div><div class="ttdef"><b>Definition:</b> item_sum.h:1448</div></div>
<div class="ttc" id="classAggregator_html_a0965a66058cd00c581b015b9c571cb07"><div class="ttname"><a href="classAggregator.html#a0965a66058cd00c581b015b9c571cb07">Aggregator::arg_val_decimal</a></div><div class="ttdeci">virtual my_decimal * arg_val_decimal(my_decimal *value)=0</div><div class="ttdoc">Decimal value of being-aggregated argument. </div></div>
<div class="ttc" id="classItem__sum__hybrid_html"><div class="ttname"><a href="classItem__sum__hybrid.html">Item_sum_hybrid</a></div><div class="ttdoc">Abstract base class for the MIN and MAX aggregate functions. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1536</div></div>
<div class="ttc" id="classItem__sum__max_html_ab8f27e8cc65d087693b64864c85457c0"><div class="ttname"><a href="classItem__sum__max.html#ab8f27e8cc65d087693b64864c85457c0">Item_sum_max::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1724</div></div>
<div class="ttc" id="classItem__sum_html_a551fb0c43e28ae3088d71625d47c23f8"><div class="ttname"><a href="classItem__sum.html#a551fb0c43e28ae3088d71625d47c23f8">Item_sum::make_unique</a></div><div class="ttdeci">virtual void make_unique()</div><div class="ttdef"><b>Definition:</b> item_sum.h:644</div></div>
<div class="ttc" id="classItem__func__group__concat_html_aa649691e64adc6cac9f26e33fa5e9df5"><div class="ttname"><a href="classItem__func__group__concat.html#aa649691e64adc6cac9f26e33fa5e9df5">Item_func_group_concat::result_type</a></div><div class="ttdeci">Item_result result_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2160</div></div>
<div class="ttc" id="classItem__first__last__value_html_ad637e59d81122653d6b9a29072be4209"><div class="ttname"><a href="classItem__first__last__value.html#ad637e59d81122653d6b9a29072be4209">Item_first_last_value::m_is_first</a></div><div class="ttdeci">bool m_is_first</div><div class="ttdoc">if true, the function is FIRST_VALUE, else LAST_VALUE </div><div class="ttdef"><b>Definition:</b> item_sum.h:2537</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_a5b75a0ecf6d26c3f5f95d43df07e0292"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a5b75a0ecf6d26c3f5f95d43df07e0292">Item_rollup_sum_switcher::result_type</a></div><div class="ttdeci">Item_result result_type() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2721</div></div>
<div class="ttc" id="classItem__sum__hybrid_html_aa65eb6b72f585791cfb6a0c0ced49960"><div class="ttname"><a href="classItem__sum__hybrid.html#aa65eb6b72f585791cfb6a0c0ced49960">Item_sum_hybrid::Item_sum_hybrid</a></div><div class="ttdeci">Item_sum_hybrid(const POS &amp;pos, Item *item_par, bool is_min, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1631</div></div>
<div class="ttc" id="sql__const_8h_html_af0f679578ee29423c1bd5afe5aa9b3e2"><div class="ttname"><a href="sql__const_8h.html#af0f679578ee29423c1bd5afe5aa9b3e2">STRING_BUFFER_USUAL_SIZE</a></div><div class="ttdeci">#define STRING_BUFFER_USUAL_SIZE</div><div class="ttdef"><b>Definition:</b> sql_const.h:126</div></div>
<div class="ttc" id="classItem__lead__lag_html_a3980d19207ebad06325f7461e419f899"><div class="ttname"><a href="classItem__lead__lag.html#a3980d19207ebad06325f7461e419f899">Item_lead_lag::m_use_default</a></div><div class="ttdeci">bool m_use_default</div><div class="ttdoc">execution state: use default value for current row </div><div class="ttdef"><b>Definition:</b> item_sum.h:2462</div></div>
<div class="ttc" id="structCHARSET__INFO_html_aa3dd3461b180f806b3310c749ffa0c05"><div class="ttname"><a href="structCHARSET__INFO.html#aa3dd3461b180f806b3310c749ffa0c05">CHARSET_INFO::cset</a></div><div class="ttdeci">MY_CHARSET_HANDLER * cset</div><div class="ttdef"><b>Definition:</b> m_ctype.h:391</div></div>
<div class="ttc" id="classAggregator__distinct_html_a178ab012eeea95dd1b95f7f646f3ebf7"><div class="ttname"><a href="classAggregator__distinct.html#a178ab012eeea95dd1b95f7f646f3ebf7">Aggregator_distinct::field_lengths</a></div><div class="ttdeci">uint32 * field_lengths</div><div class="ttdef"><b>Definition:</b> item_sum.h:850</div></div>
<div class="ttc" id="classItem__variance__field_html_a83ba7d14be291632a2ae35945f2395f4"><div class="ttname"><a href="classItem__variance__field.html#a83ba7d14be291632a2ae35945f2395f4">Item_variance_field::sample</a></div><div class="ttdeci">uint sample</div><div class="ttdef"><b>Definition:</b> item_sum.h:1357</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_ae8e911a2abe5f0b638f30476a4145964"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#ae8e911a2abe5f0b638f30476a4145964">Item_rollup_sum_switcher::add</a></div><div class="ttdeci">bool add() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2737</div></div>
<div class="ttc" id="classAggregator__simple_html"><div class="ttname"><a href="classAggregator__simple.html">Aggregator_simple</a></div><div class="ttdoc">The pass-through aggregator. </div><div class="ttdef"><b>Definition:</b> item_sum.h:934</div></div>
<div class="ttc" id="parse__tree__window_8h_html"><div class="ttname"><a href="parse__tree__window_8h.html">parse_tree_window.h</a></div></div>
<div class="ttc" id="classAggregator_html_aa839d991497a8872e05da159b5ae7970"><div class="ttname"><a href="classAggregator.html#aa839d991497a8872e05da159b5ae7970">Aggregator::Aggrtype</a></div><div class="ttdeci">virtual Aggregator_type Aggrtype()=0</div></div>
<div class="ttc" id="classAggregator__simple_html_a776842bbc3e5c7c72f9708337a807d11"><div class="ttname"><a href="classAggregator__simple.html#a776842bbc3e5c7c72f9708337a807d11">Aggregator_simple::Aggrtype</a></div><div class="ttdeci">Aggregator_type Aggrtype() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:937</div></div>
<div class="ttc" id="classItem__percent__rank_html_a306243bbaaa0a24ca347616e6836e643"><div class="ttname"><a href="classItem__percent__rank.html#a306243bbaaa0a24ca347616e6836e643">Item_percent_rank::m_rank_ctr</a></div><div class="ttdeci">ulonglong m_rank_ctr</div><div class="ttdoc">Increment when window order columns change. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2370</div></div>
<div class="ttc" id="my__inttypes_8h_html_aa79c2d3de4fcd200458c406f40b2ae64"><div class="ttname"><a href="my__inttypes_8h.html#aa79c2d3de4fcd200458c406f40b2ae64">int8</a></div><div class="ttdeci">int8_t int8</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:61</div></div>
<div class="ttc" id="sql__udf_8h_html"><div class="ttname"><a href="sql__udf_8h.html">sql_udf.h</a></div></div>
<div class="ttc" id="classItem__sum__bit_html_a42680b90d4de4a0773cf2435b97f0997"><div class="ttname"><a href="classItem__sum__bit.html#a42680b90d4de4a0773cf2435b97f0997">Item_sum_bit::m_is_xor</a></div><div class="ttdeci">bool m_is_xor</div><div class="ttdoc">true iff BIT_XOR </div><div class="ttdef"><b>Definition:</b> item_sum.h:1792</div></div>
<div class="ttc" id="classItem__sum__min_html_a67174cad468a0f29f82e209b9fb64932"><div class="ttname"><a href="classItem__sum__min.html#a67174cad468a0f29f82e209b9fb64932">Item_sum_min::Item_sum_min</a></div><div class="ttdeci">Item_sum_min(const POS &amp;pos, Item *item_par, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1705</div></div>
<div class="ttc" id="window__lex_8h_html_a2e5413a34005dc3d9b8aa0f7505748b1"><div class="ttname"><a href="window__lex_8h.html#a2e5413a34005dc3d9b8aa0f7505748b1">enum_null_treatment</a></div><div class="ttdeci">enum_null_treatment</div><div class="ttdoc">Cf. </div><div class="ttdef"><b>Definition:</b> window_lex.h:57</div></div>
<div class="ttc" id="classItem__nth__value_html_a6219d40ab4627b979588a965d6c09f20"><div class="ttname"><a href="classItem__nth__value.html#a6219d40ab4627b979588a965d6c09f20">Item_nth_value::m_n</a></div><div class="ttdeci">int64 m_n</div><div class="ttdoc">The N of the function. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2603</div></div>
<div class="ttc" id="classItem__ntile_html_a5a331497ded3030ba67f1772bd4a846c"><div class="ttname"><a href="classItem__ntile.html#a5a331497ded3030ba67f1772bd4a846c">Item_ntile::needs_card</a></div><div class="ttdeci">bool needs_card() const override</div><div class="ttdoc">Return true if we need to make two passes over the rows in the partition - either because we need the...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2439</div></div>
<div class="ttc" id="classItem__sum_html_a4402330a8044c1cfce2b7fb98d6f908c"><div class="ttname"><a href="classItem__sum.html#a4402330a8044c1cfce2b7fb98d6f908c">Item_sum::get_arg</a></div><div class="ttdeci">virtual Item * get_arg(uint i)</div><div class="ttdef"><b>Definition:</b> item_sum.h:676</div></div>
<div class="ttc" id="classItem__sum__hybrid__field_html_aa12162b49c49b0315f6676e138bd11db"><div class="ttname"><a href="classItem__sum__hybrid__field.html#aa12162b49c49b0315f6676e138bd11db">Item_sum_hybrid_field::field</a></div><div class="ttdeci">Field * field</div><div class="ttdoc">The tmp table&amp;#39;s column containing the value of the set function. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1132</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a06e9ff13fd6412c7d239f784a61975e5"><div class="ttname"><a href="classItem__func__group__concat.html#a06e9ff13fd6412c7d239f784a61975e5">Item_func_group_concat::arg_count_order</a></div><div class="ttdeci">uint arg_count_order</div><div class="ttdoc">The number of ORDER BY items. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2116</div></div>
<div class="ttc" id="classItem__func__grouping_html_a816e2f95a1556116480e2bace2cf7f52"><div class="ttname"><a href="classItem__func__grouping.html#a816e2f95a1556116480e2bace2cf7f52">Item_func_grouping::Item_func_grouping</a></div><div class="ttdeci">Item_func_grouping(const POS &amp;pos, PT_item_list *a)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2677</div></div>
<div class="ttc" id="classItem__rollup__sum__switcher_html_a84581c2a7db3a3209f5cf35e890c16ad"><div class="ttname"><a href="classItem__rollup__sum__switcher.html#a84581c2a7db3a3209f5cf35e890c16ad">Item_rollup_sum_switcher::Item_rollup_sum_switcher</a></div><div class="ttdeci">Item_rollup_sum_switcher(List&lt; Item &gt; *sum_func_per_level)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2697</div></div>
<div class="ttc" id="classItem__func__group__concat_html_aed67d50347c25c7630dcfcdc56679fcf"><div class="ttname"><a href="classItem__func__group__concat.html#aed67d50347c25c7630dcfcdc56679fcf">Item_func_group_concat::warning_for_row</a></div><div class="ttdeci">bool warning_for_row</div><div class="ttdef"><b>Definition:</b> item_sum.h:2124</div></div>
<div class="ttc" id="classItem__first__last__value_html_a0b928e875bd55e937d5c17450203bba8"><div class="ttname"><a href="classItem__first__last__value.html#a0b928e875bd55e937d5c17450203bba8">Item_first_last_value::reset_field</a></div><div class="ttdeci">void reset_field() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2576</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a2be4ee1ad9019ae24098e69a4ec83950"><div class="ttname"><a href="classItem__func__group__concat.html#a2be4ee1ad9019ae24098e69a4ec83950">Item_func_group_concat::arg_count_field</a></div><div class="ttdeci">uint arg_count_field</div><div class="ttdoc">The number of selected items, aka the expr list. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2118</div></div>
<div class="ttc" id="classudf__handler_html_a65f1a1780d959d040f6aa582341734a1"><div class="ttname"><a href="classudf__handler.html#a65f1a1780d959d040f6aa582341734a1">udf_handler::m_original</a></div><div class="ttdeci">bool m_original</div><div class="ttdef"><b>Definition:</b> sql_udf.h:101</div></div>
<div class="ttc" id="classAggregator__distinct_html_a4ceb4aea36f2f0c9997424be52643d25a46d997685628065c6ae4765e33360e8a"><div class="ttname"><a href="classAggregator__distinct.html#a4ceb4aea36f2f0c9997424be52643d25a46d997685628065c6ae4765e33360e8a">Aggregator_distinct::CONST_NULL</a></div><div class="ttdoc">Set to true if the result is known to be always NULL. </div><div class="ttdef"><b>Definition:</b> item_sum.h:886</div></div>
<div class="ttc" id="classItem__func__group__concat_html_a6dc29f1a7e03590a5642d72dcef267a4"><div class="ttname"><a href="classItem__func__group__concat.html#a6dc29f1a7e03590a5642d72dcef267a4">Item_func_group_concat::no_rows_in_result</a></div><div class="ttdeci">void no_rows_in_result() override</div><div class="ttdoc">Mark an aggregate as having no rows. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2192</div></div>
<div class="ttc" id="config__static_8h_html_a65e9886d74aaee76545e83dd09011727"><div class="ttname"><a href="config__static_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></div><div class="ttdeci">#define false</div><div class="ttdef"><b>Definition:</b> config_static.h:43</div></div>
<div class="ttc" id="classItem__sum__udf__decimal_html_a181cc12bbb9577fadfa8064d81054447"><div class="ttname"><a href="classItem__sum__udf__decimal.html#a181cc12bbb9577fadfa8064d81054447">Item_sum_udf_decimal::get_date</a></div><div class="ttdeci">bool get_date(MYSQL_TIME *ltime, my_time_flags_t fuzzydate) override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2073</div></div>
<div class="ttc" id="classItem__sum_html_adc634ba3b80ac828e26ca202030a0757"><div class="ttname"><a href="classItem__sum.html#adc634ba3b80ac828e26ca202030a0757">Item_sum::used_tables</a></div><div class="ttdeci">table_map used_tables() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:613</div></div>
<div class="ttc" id="classItem__sum__variance_html_a75fae36c78afec6a86fb57560a1abb35"><div class="ttname"><a href="classItem__sum__variance.html#a75fae36c78afec6a86fb57560a1abb35">Item_sum_variance::optimize</a></div><div class="ttdeci">bool optimize</div><div class="ttdoc">If set, uses a algorithm II mentioned in the class description to calculate the variance which helps ...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1455</div></div>
<div class="ttc" id="classItem__rank_html_a89d6ec8452cbe75156f3ab23a298068c"><div class="ttname"><a href="classItem__rank.html#a89d6ec8452cbe75156f3ab23a298068c">Item_rank::Item_rank</a></div><div class="ttdeci">Item_rank(const POS &amp;pos, bool dense, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2295</div></div>
<div class="ttc" id="classString_html_ad3b888edbfb3bab21d4bae4663d2211a"><div class="ttname"><a href="classString.html#ad3b888edbfb3bab21d4bae4663d2211a">String::length</a></div><div class="ttdeci">size_t length() const</div><div class="ttdef"><b>Definition:</b> sql_string.h:238</div></div>
<div class="ttc" id="classItem__sum__count_html_a7982a66971620b97764ecef2aff2b3c1"><div class="ttname"><a href="classItem__sum__count.html#a7982a66971620b97764ecef2aff2b3c1">Item_sum_count::make_const</a></div><div class="ttdeci">void make_const(longlong count_arg)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1105</div></div>
<div class="ttc" id="classItem__sum__num_html_afd17a11a0912518ddfc6f9f777044a5a"><div class="ttname"><a href="classItem__sum__num.html#afd17a11a0912518ddfc6f9f777044a5a">Item_sum_num::Item_sum_num</a></div><div class="ttdeci">Item_sum_num(const POS &amp;pos, PT_item_list *list, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:964</div></div>
<div class="ttc" id="m__string_8h_html_a8b40462840eb1560e87307d1623d8b81"><div class="ttname"><a href="m__string_8h.html#a8b40462840eb1560e87307d1623d8b81">my_atof</a></div><div class="ttdeci">double my_atof(const char *nptr)</div><div class="ttdef"><b>Definition:</b> dtoa.cc:528</div></div>
<div class="ttc" id="classItem__sum__sum_html_a05b97c46f17e37ff6e1541e42e848584"><div class="ttname"><a href="classItem__sum__sum.html#a05b97c46f17e37ff6e1541e42e848584">Item_sum_sum::m_count</a></div><div class="ttdeci">ulonglong m_count</div><div class="ttdoc">Execution state: this is for counting rows entering and leaving the window frame, see m_frame_null_co...</div><div class="ttdef"><b>Definition:</b> item_sum.h:1028</div></div>
<div class="ttc" id="classudf__handler_html_a5152fd7ac55476b8ed2ac81fc12fc06b"><div class="ttname"><a href="classudf__handler.html#a5152fd7ac55476b8ed2ac81fc12fc06b">udf_handler::is_initialized</a></div><div class="ttdeci">bool is_initialized() const</div><div class="ttdef"><b>Definition:</b> sql_udf.h:112</div></div>
<div class="ttc" id="namespacegis_html_aa61acdd68dbc03fa9a3070c517f0f42f"><div class="ttname"><a href="namespacegis.html#aa61acdd68dbc03fa9a3070c517f0f42f">gis::transform</a></div><div class="ttdeci">bool transform(const dd::Spatial_reference_system *source_srs, const Geometry &amp;in, const dd::Spatial_reference_system *target_srs, const char *func_name, std::unique_ptr&lt; Geometry &gt; *out) noexcept</div><div class="ttdoc">Transforms a geometry from one SRS to another. </div><div class="ttdef"><b>Definition:</b> transform.cc:228</div></div>
<div class="ttc" id="classTemp__table__param_html"><div class="ttname"><a href="classTemp__table__param.html">Temp_table_param</a></div><div class="ttdoc">Object containing parameters used when creating and using temporary tables. </div><div class="ttdef"><b>Definition:</b> temp_table_param.h:74</div></div>
<div class="ttc" id="classItem__row__number_html"><div class="ttname"><a href="classItem__row__number.html">Item_row_number</a></div><div class="ttdoc">ROW_NUMBER window function, cf. </div><div class="ttdef"><b>Definition:</b> item_sum.h:2250</div></div>
<div class="ttc" id="structitems_html"><div class="ttname"><a href="structitems.html">items</a></div><div class="ttdef"><b>Definition:</b> items.h:34</div></div>
<div class="ttc" id="classItem__sum_html_ae3293817564e056d0d283194100b3d7c"><div class="ttname"><a href="classItem__sum.html#ae3293817564e056d0d283194100b3d7c">Item_sum::cleanup</a></div><div class="ttdeci">void cleanup() override</div><div class="ttdoc">Called for every Item after use (preparation and execution). </div><div class="ttdef"><b>Definition:</b> item_sum.cc:870</div></div>
<div class="ttc" id="classItem__sum__variance_html_a835842fe34b2e93ac23f6d93c898ca43"><div class="ttname"><a href="classItem__sum__variance.html#a835842fe34b2e93ac23f6d93c898ca43">Item_sum_variance::recurrence_s2</a></div><div class="ttdeci">double recurrence_s2</div><div class="ttdef"><b>Definition:</b> item_sum.h:1446</div></div>
<div class="ttc" id="classItem__sum__avg_html_a66012b0c0daa78e830f6bdbe347044e3"><div class="ttname"><a href="classItem__sum__avg.html#a66012b0c0daa78e830f6bdbe347044e3">Item_sum_avg::Item_sum_avg</a></div><div class="ttdeci">Item_sum_avg(const POS &amp;pos, Item *item_par, bool distinct, PT_window *w)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1320</div></div>
<div class="ttc" id="classItem__sum__udf__decimal_html_a8a0fb9b5ea6c63f671326fe9916b2df2"><div class="ttname"><a href="classItem__sum__udf__decimal.html#a8a0fb9b5ea6c63f671326fe9916b2df2">Item_sum_udf_decimal::Item_sum_udf_decimal</a></div><div class="ttdeci">Item_sum_udf_decimal(const POS &amp;pos, udf_func *udf_arg, PT_item_list *opt_list)</div><div class="ttdef"><b>Definition:</b> item_sum.h:2064</div></div>
<div class="ttc" id="classItem__cume__dist_html_a6c8ba4b28e0e1c89ff4923b578068e11"><div class="ttname"><a href="classItem__cume__dist.html#a6c8ba4b28e0e1c89ff4923b578068e11">Item_cume_dist::clear</a></div><div class="ttdeci">void clear() override</div><div class="ttdef"><b>Definition:</b> item_sum.h:2356</div></div>
<div class="ttc" id="classItem_html_ada2ce79ccf5ef1273b9e1654448944c1"><div class="ttname"><a href="classItem.html#ada2ce79ccf5ef1273b9e1654448944c1">Item::mark_field_in_map</a></div><div class="ttdeci">virtual bool mark_field_in_map(uchar *arg)</div><div class="ttdoc">Mark underlying field in read or write map of a table. </div><div class="ttdef"><b>Definition:</b> item.h:2449</div></div>
<div class="ttc" id="classItem__sum__json__object_html"><div class="ttname"><a href="classItem__sum__json__object.html">Item_sum_json_object</a></div><div class="ttdoc">Implements aggregation of values into an object. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1275</div></div>
<div class="ttc" id="classItem__sum__json__array_html"><div class="ttname"><a href="classItem__sum__json__array.html">Item_sum_json_array</a></div><div class="ttdoc">Implements aggregation of values into an array. </div><div class="ttdef"><b>Definition:</b> item_sum.h:1256</div></div>
<div class="ttc" id="classItem__sum__sum_html_aad9abfdc9b109ba2e8a602202c6062c7"><div class="ttname"><a href="classItem__sum__sum.html#aad9abfdc9b109ba2e8a602202c6062c7">Item_sum_sum::Item_sum_sum</a></div><div class="ttdeci">Item_sum_sum(const POS &amp;pos, Item *item_par, bool distinct, PT_window *window)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1038</div></div>
<div class="ttc" id="my__alloc_8h_html"><div class="ttname"><a href="my__alloc_8h.html">my_alloc.h</a></div><div class="ttdoc">This file follows Google coding style, except for the name MEM_ROOT (which is kept for historical rea...</div></div>
<div class="ttc" id="classTHD_html"><div class="ttname"><a href="classTHD.html">THD</a></div><div class="ttdoc">For each client connection we create a separate thread with THD serving as a thread/connection descri...</div><div class="ttdef"><b>Definition:</b> sql_class.h:803</div></div>
<div class="ttc" id="dialog_8cc_html_ae7bd12bd7c9e418a420087971d0a7e31"><div class="ttname"><a href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></div><div class="ttdeci">Dialog Client Authentication nullptr</div><div class="ttdef"><b>Definition:</b> dialog.cc:353</div></div>
<div class="ttc" id="classItem__sum__sum_html_a0f16cbb73aa44b51096c48c73413ba36"><div class="ttname"><a href="classItem__sum__sum.html#a0f16cbb73aa44b51096c48c73413ba36">Item_sum_sum::func_name</a></div><div class="ttdeci">const char * func_name() const override</div><div class="ttdef"><b>Definition:</b> item_sum.h:1062</div></div>
<div class="ttc" id="classItem__sum__count_html_a05a11066440c9efa732439b51a54ca93"><div class="ttname"><a href="classItem__sum__count.html#a05a11066440c9efa732439b51a54ca93">Item_sum_count::count</a></div><div class="ttdeci">longlong count</div><div class="ttdef"><b>Definition:</b> item_sum.h:1067</div></div>
<div class="ttc" id="classItem__percent__rank_html_a839269db48f29a6684616a5103bd2079"><div class="ttname"><a href="classItem__percent__rank.html#a839269db48f29a6684616a5103bd2079">Item_percent_rank::resolve_type</a></div><div class="ttdeci">bool resolve_type(THD *thd) override</div><div class="ttdoc">Resolve type-related information for this item, such as result field type, maximum size...</div><div class="ttdef"><b>Definition:</b> item_sum.h:2388</div></div>
<div class="ttc" id="classItem__avg__field_html_aa467e705dc756ba716ed4e89aa2d87a8"><div class="ttname"><a href="classItem__avg__field.html#aa467e705dc756ba716ed4e89aa2d87a8">Item_avg_field::f_scale</a></div><div class="ttdeci">uint f_scale</div><div class="ttdef"><b>Definition:</b> item_sum.h:1175</div></div>
<div class="ttc" id="classItem__sum_html_a7a25abf6a2e7f8e21b54b6e3e163efb6"><div class="ttname"><a href="classItem__sum.html#a7a25abf6a2e7f8e21b54b6e3e163efb6">Item_sum::clear</a></div><div class="ttdeci">virtual void clear()=0</div></div>
<div class="ttc" id="classItem__sum__count_html_a8c954509f8e4c8ebb2c6d2116349ae93"><div class="ttname"><a href="classItem__sum__count.html#a8c954509f8e4c8ebb2c6d2116349ae93">Item_sum_count::Item_sum_count</a></div><div class="ttdeci">Item_sum_count(THD *thd, Item_sum_count *item)</div><div class="ttdef"><b>Definition:</b> item_sum.h:1093</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="item__sum_8h.html">item_sum.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
