<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/rpl_utility.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rpl__utility_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rpl_utility.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="rpl__utility_8h_source.html">sql/rpl_utility.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;regex&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="binary__log__funcs_8h_source.html">libbinlogevents/export/binary_log_funcs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__byteorder_8h_source.html">my_byteorder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__loglevel_8h_source.html">my_loglevel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__builtins_8h_source.html">mysql/components/services/log_builtins.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="service__mysql__alloc_8h_source.html">mysql/service_mysql_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="thr__malloc_8h_source.html">sql/thr_malloc.h</a>&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &quot;<a class="el" href="binlog__event_8h_source.html">libbinlogevents/include/binlog_event.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__ctype_8h_source.html">m_ctype.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__string_8h_source.html">m_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__base_8h_source.html">my_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__bitmap_8h_source.html">my_bitmap.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi_2psi__memory_8h_source.html">mysql/psi/psi_memory.h</a>&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="create__field_8h_source.html">sql/create_field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd_8h_source.html">sql/dd/dd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dictionary_8h_source.html">sql/dd/dictionary.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="derror_8h_source.html">sql/derror.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2field_8h_source.html">sql/field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h_source.html">sql/log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log__event_8h_source.html">sql/log_event.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__decimal_8h_source.html">sql/my_decimal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysqld_8h_source.html">sql/mysqld.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi__memory__key_8h_source.html">sql/psi_memory_key.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rpl__rli_8h_source.html">sql/rpl_rli.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rpl__slave_8h_source.html">sql/rpl_slave.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__class_8h_source.html">sql/sql_class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__const_8h_source.html">sql/sql_const.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__lex_8h_source.html">sql/sql_lex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__list_8h_source.html">sql/sql_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__plugin__ref_8h_source.html">sql/sql_plugin_ref.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__tmp__table_8h_source.html">sql/sql_tmp_table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__show_8h_source.html">sql_show.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__string_8h_source.html">sql_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="template__utils_8h_source.html">template_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="typelib_8h_source.html">typelib.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5b793b9434036eca7bc2515afc7d0e0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a5b793b9434036eca7bc2515afc7d0e0c">HASH_ROWS_POS_SEARCH_INVALID</a>&#160;&#160;&#160;-1</td></tr>
<tr class="separator:a5b793b9434036eca7bc2515afc7d0e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aca075917775355d2faedb1478f5fcaba"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#aca075917775355d2faedb1478f5fcaba">compare</a> (size_t a, size_t b)</td></tr>
<tr class="memdesc:aca075917775355d2faedb1478f5fcaba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to compare two size_t integers for their relative order.  <a href="#aca075917775355d2faedb1478f5fcaba">More...</a><br /></td></tr>
<tr class="separator:aca075917775355d2faedb1478f5fcaba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d136b1306bcd7615c9b871dc13ff72d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a5d136b1306bcd7615c9b871dc13ff72d">compare_lengths</a> (<a class="el" href="classField.html">Field</a> *field, <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> source_type, <a class="el" href="my__inttypes_8h.html#ac2a9e79eb120216f855626495b7bd18a">uint16</a> <a class="el" href="persisted__variable_8cc.html#a17632c4b396fac52c8df4d4f83af6923">metadata</a>)</td></tr>
<tr class="separator:a5d136b1306bcd7615c9b871dc13ff72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736ce59412f21e0aa365bdb69fcf8645"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a736ce59412f21e0aa365bdb69fcf8645">is_conversion_ok</a> (int order)</td></tr>
<tr class="memdesc:a736ce59412f21e0aa365bdb69fcf8645"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the order variable and print errors if the order is not acceptable according to the current settings.  <a href="#a736ce59412f21e0aa365bdb69fcf8645">More...</a><br /></td></tr>
<tr class="separator:a736ce59412f21e0aa365bdb69fcf8645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8867c120ecb8fe0151e28ba3f4229e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#afb8867c120ecb8fe0151e28ba3f4229e">timestamp_cross_check</a> (<a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> type1, <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> type2)</td></tr>
<tr class="memdesc:afb8867c120ecb8fe0151e28ba3f4229e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the types are criss cross means type1 is MYSQL_TYPE_TIMESTAMP and type2 as MYSQL_TYPE_TIMESTAMP2 or vice versa.  <a href="#afb8867c120ecb8fe0151e28ba3f4229e">More...</a><br /></td></tr>
<tr class="separator:afb8867c120ecb8fe0151e28ba3f4229e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f6a282d014582876233db3e072bbff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a90f6a282d014582876233db3e072bbff">datetime_cross_check</a> (<a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> type1, <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> type2)</td></tr>
<tr class="memdesc:a90f6a282d014582876233db3e072bbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the types are criss cross means type1 is MYSQL_TYPE_DATETIME and type2 as MYSQL_TYPE_DATETIME or vice versa.  <a href="#a90f6a282d014582876233db3e072bbff">More...</a><br /></td></tr>
<tr class="separator:a90f6a282d014582876233db3e072bbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3459bd2828c93575813c4cfad21e1fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#ae3459bd2828c93575813c4cfad21e1fb">time_cross_check</a> (<a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> type1, <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> type2)</td></tr>
<tr class="memdesc:ae3459bd2828c93575813c4cfad21e1fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the types are criss cross means type1 is MYSQL_TYPE_TIME and type2 as MYSQL_TYPE_TIME2 or vice versa.  <a href="#ae3459bd2828c93575813c4cfad21e1fb">More...</a><br /></td></tr>
<tr class="separator:ae3459bd2828c93575813c4cfad21e1fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a130e767949ac5eca8011a1698ed5b3d0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a130e767949ac5eca8011a1698ed5b3d0">can_convert_field_to</a> (<a class="el" href="classField.html">Field</a> *field, <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> source_type, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="persisted__variable_8cc.html#a17632c4b396fac52c8df4d4f83af6923">metadata</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_array, <a class="el" href="classRelay__log__info.html">Relay_log_info</a> *rli, <a class="el" href="my__inttypes_8h.html#ac2a9e79eb120216f855626495b7bd18a">uint16</a> mflags, int *order_var)</td></tr>
<tr class="memdesc:a130e767949ac5eca8011a1698ed5b3d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can a type potentially be converted to another type?  <a href="#a130e767949ac5eca8011a1698ed5b3d0">More...</a><br /></td></tr>
<tr class="separator:a130e767949ac5eca8011a1698ed5b3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d5b2607061463bb71bd3bf0e558cb3"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a>, std::pair&lt; <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a17d5b2607061463bb71bd3bf0e558cb3">read_field_metadata</a> (const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, <a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> binlog_type)</td></tr>
<tr class="memdesc:a17d5b2607061463bb71bd3bf0e558cb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode field metadata from a char buffer (serialized form) into an int (packed form).  <a href="#a17d5b2607061463bb71bd3bf0e558cb3">More...</a><br /></td></tr>
<tr class="separator:a17d5b2607061463bb71bd3bf0e558cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f32709112691e3020bcf41227dd57ef"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a6f32709112691e3020bcf41227dd57ef">replace_all_in_str</a> (std::string from, std::string find, std::string <a class="el" href="mysqltest_8cc.html#ae15f28154e8543fe5d9ccb8d1d254a7e">replace</a>)</td></tr>
<tr class="memdesc:a6f32709112691e3020bcf41227dd57ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces every occurrence of the string <code>find</code> by the string <code>replace</code>, within the string <code>from</code> and return the resulting string.  <a href="#a6f32709112691e3020bcf41227dd57ef">More...</a><br /></td></tr>
<tr class="separator:a6f32709112691e3020bcf41227dd57ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb47266a4bc5a386b2b4922cf2200e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#adbb47266a4bc5a386b2b4922cf2200e0">evaluate_command_row_only_restrictions</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:adbb47266a4bc5a386b2b4922cf2200e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method shall evaluate if a command being executed goes against any of the restrictions of server variable session.require_row_format.  <a href="#adbb47266a4bc5a386b2b4922cf2200e0">More...</a><br /></td></tr>
<tr class="separator:adbb47266a4bc5a386b2b4922cf2200e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4838e14214492ee5a4456febefa55f9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a4838e14214492ee5a4456febefa55f9a">rename_fields_use_old_replica_source_terms</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;field_list)</td></tr>
<tr class="memdesc:a4838e14214492ee5a4456febefa55f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function shall blindly replace some deprecated terms used in the field names with more recent ones.  <a href="#a4838e14214492ee5a4456febefa55f9a">More...</a><br /></td></tr>
<tr class="separator:a4838e14214492ee5a4456febefa55f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a158e7cfec377d5c2793f7309a79c4e4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psi__abi__memory.html#ga902dd5c9fe51b8cbdd7438a30e43fdd0">PSI_memory_key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rpl__utility_8cc.html#a158e7cfec377d5c2793f7309a79c4e4e">key_memory_table_def_memory</a></td></tr>
<tr class="separator:a158e7cfec377d5c2793f7309a79c4e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a5b793b9434036eca7bc2515afc7d0e0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b793b9434036eca7bc2515afc7d0e0c">&#9670;&nbsp;</a></span>HASH_ROWS_POS_SEARCH_INVALID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_ROWS_POS_SEARCH_INVALID&#160;&#160;&#160;-1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a130e767949ac5eca8011a1698ed5b3d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a130e767949ac5eca8011a1698ed5b3d0">&#9670;&nbsp;</a></span>can_convert_field_to()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> can_convert_field_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classField.html">Field</a> *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>source_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRelay__log__info.html">Relay_log_info</a> *&#160;</td>
          <td class="paramname"><em>rli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#ac2a9e79eb120216f855626495b7bd18a">uint16</a>&#160;</td>
          <td class="paramname"><em>mflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>order_var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Can a type potentially be converted to another type? </p>
<p>This function check if the types are convertible and what conversion is required.</p>
<p>If conversion is not possible, and error is printed.</p>
<p>If conversion is possible:</p>
<ul>
<li>*order will be set to -1 if source type is smaller than target type and a non-lossy conversion can be required. This includes the case where the field types are different but types could actually be converted in either direction.</li>
<li>*order will be set to 0 if no conversion is required.</li>
<li>*order will be set to 1 if the source type is strictly larger than the target type and that conversion is potentially lossy.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">field</td><td>Target field </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source_type</td><td>Source field type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">metadata</td><td>Source field metadata </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_array</td><td>Whether the source field is a typed array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rli</td><td>Relay log info (for error reporting) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mflags</td><td>Flags from the table map event </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">order_var</td><td>Order between source field and target field</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if conversion is possible according to the current settings, <code>false</code> if conversion is not possible according to the current setting. </dd></dl>

</div>
</div>
<a id="aca075917775355d2faedb1478f5fcaba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca075917775355d2faedb1478f5fcaba">&#9670;&nbsp;</a></span>compare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int compare </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to compare two size_t integers for their relative order. </p>
<p>Used below. </p>

</div>
</div>
<a id="a5d136b1306bcd7615c9b871dc13ff72d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d136b1306bcd7615c9b871dc13ff72d">&#9670;&nbsp;</a></span>compare_lengths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int compare_lengths </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classField.html">Field</a> *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>source_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#ac2a9e79eb120216f855626495b7bd18a">uint16</a>&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a90f6a282d014582876233db3e072bbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f6a282d014582876233db3e072bbff">&#9670;&nbsp;</a></span>datetime_cross_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> datetime_cross_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>type1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>type2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the types are criss cross means type1 is MYSQL_TYPE_DATETIME and type2 as MYSQL_TYPE_DATETIME or vice versa. </p>

</div>
</div>
<a id="adbb47266a4bc5a386b2b4922cf2200e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbb47266a4bc5a386b2b4922cf2200e0">&#9670;&nbsp;</a></span>evaluate_command_row_only_restrictions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> evaluate_command_row_only_restrictions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method shall evaluate if a command being executed goes against any of the restrictions of server variable session.require_row_format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>The thread associated to the command </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it violates any restrictions false otherwise </dd></dl>

</div>
</div>
<a id="a736ce59412f21e0aa365bdb69fcf8645"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736ce59412f21e0aa365bdb69fcf8645">&#9670;&nbsp;</a></span>is_conversion_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_conversion_ok </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the order variable and print errors if the order is not acceptable according to the current settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">order</td><td>The computed order of the conversion needed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17d5b2607061463bb71bd3bf0e558cb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17d5b2607061463bb71bd3bf0e558cb3">&#9670;&nbsp;</a></span>read_field_metadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;<a class="el" href="my__inttypes_8h.html#a378b5b2448c7170f4b6bd225583e8a19">my_off_t</a>, std::pair&lt;<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&gt; &gt; read_field_metadata </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>binlog_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode field metadata from a char buffer (serialized form) into an int (packed form). </p>
<dl class="section note"><dt>Note</dt><dd>On little-endian platforms (e.g Intel) this function effectively inverts order of bytes compared to what Field::save_field_metadata() writes. E.g for MYSQL_TYPE_NEWDECIMAL save_field_metadata writes precision into the first byte and decimals into the second, this function puts precision into the second byte and decimals into the first. This layout is expected by replication code that reads metadata in the uint form. Due to this design feature show_sql_type() can't correctly print immediate output of save_field_metadata(), this function have to be used as translator.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Field metadata, in the character stream form produced by save_field_metadata. </td></tr>
    <tr><td class="paramname">binlog_type</td><td>The type of the field, in the form returned by Field::binlog_type and stored in Table_map_log_event. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">pair</td><td>where:<ul>
<li>the first component is the length of the metadata within 'buffer', i.e., how much the buffer pointer should move forward in order to skip it.</li>
<li>the second component is pair containing:<ul>
<li>the metadata, encoded as an 'uint', in the form required by e.g. show_sql_type.</li>
<li>bool indicating whether the field is array (true) or a scalar (false) </li>
</ul>
</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4838e14214492ee5a4456febefa55f9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4838e14214492ee5a4456febefa55f9a">&#9670;&nbsp;</a></span>rename_fields_use_old_replica_source_terms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rename_fields_use_old_replica_source_terms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmem__root__deque.html">mem_root_deque</a>&lt; <a class="el" href="classItem.html">Item</a> *&gt; &amp;&#160;</td>
          <td class="paramname"><em>field_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function shall blindly replace some deprecated terms used in the field names with more recent ones. </p>
<p>This function must be removed once the related syntax (SHOW SLAVE STATUS and friends) is removed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>the thread context. </td></tr>
    <tr><td class="paramname">field_list</td><td>the list of fields that will have their name checked and altered if needed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f32709112691e3020bcf41227dd57ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f32709112691e3020bcf41227dd57ef">&#9670;&nbsp;</a></span>replace_all_in_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string replace_all_in_str </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>find</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replaces every occurrence of the string <code>find</code> by the string <code>replace</code>, within the string <code>from</code> and return the resulting string. </p>
<p>The original string <code>from</code> remains untouched.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>the string to search within. </td></tr>
    <tr><td class="paramname">find</td><td>the string to search for. </td></tr>
    <tr><td class="paramname">replace</td><td>the string to replace every occurrence of <code>from</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new string, holding the result of the search and replace operation. </dd></dl>

</div>
</div>
<a id="ae3459bd2828c93575813c4cfad21e1fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3459bd2828c93575813c4cfad21e1fb">&#9670;&nbsp;</a></span>time_cross_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> time_cross_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>type1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>type2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the types are criss cross means type1 is MYSQL_TYPE_TIME and type2 as MYSQL_TYPE_TIME2 or vice versa. </p>

</div>
</div>
<a id="afb8867c120ecb8fe0151e28ba3f4229e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8867c120ecb8fe0151e28ba3f4229e">&#9670;&nbsp;</a></span>timestamp_cross_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> timestamp_cross_check </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>type1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>type2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the types are criss cross means type1 is MYSQL_TYPE_TIMESTAMP and type2 as MYSQL_TYPE_TIMESTAMP2 or vice versa. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a158e7cfec377d5c2793f7309a79c4e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a158e7cfec377d5c2793f7309a79c4e4e">&#9670;&nbsp;</a></span>key_memory_table_def_memory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psi__abi__memory.html#ga902dd5c9fe51b8cbdd7438a30e43fdd0">PSI_memory_key</a> key_memory_table_def_memory</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="rpl__utility_8cc.html">rpl_utility.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
