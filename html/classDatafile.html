<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Datafile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classDatafile.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classDatafile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Datafile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Data file control information.  
 <a href="classDatafile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fsp0file_8h_source.html">fsp0file.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0803337152b8f18ad91d6217598bb95b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a0803337152b8f18ad91d6217598bb95b">Datafile</a> ()</td></tr>
<tr class="separator:a0803337152b8f18ad91d6217598bb95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996ebab22f2b9bc8328693a2fd47a7fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a996ebab22f2b9bc8328693a2fd47a7fa">Datafile</a> (const char *<a class="el" href="classDatafile.html#aef05d89bcde7b6b7561eee94affc2e11">name</a>, uint32_t <a class="el" href="classDatafile.html#a5106d24df0d1f262b3fe86988bc6f00a">flags</a>, <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> <a class="el" href="classDatafile.html#af7553986afdc218a9e5abee9ef716ad6">size</a>, ulint <a class="el" href="classDatafile.html#a863e4b5587a71ee42f53e70fb166bdda">order</a>)</td></tr>
<tr class="separator:a996ebab22f2b9bc8328693a2fd47a7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494d78c48947cf57315f25dacb000de9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a494d78c48947cf57315f25dacb000de9">Datafile</a> (const <a class="el" href="classDatafile.html">Datafile</a> &amp;file)</td></tr>
<tr class="separator:a494d78c48947cf57315f25dacb000de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8660bf2f83c9a8951f61476fb86fb768"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a8660bf2f83c9a8951f61476fb86fb768">~Datafile</a> ()</td></tr>
<tr class="separator:a8660bf2f83c9a8951f61476fb86fb768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19bb32f22c6c3a2040787a062fbfae7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDatafile.html">Datafile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a19bb32f22c6c3a2040787a062fbfae7a">operator=</a> (const <a class="el" href="classDatafile.html">Datafile</a> &amp;file)</td></tr>
<tr class="separator:a19bb32f22c6c3a2040787a062fbfae7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77999a72fe30b8bec297d7b106fdfa4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#aa77999a72fe30b8bec297d7b106fdfa4">init</a> (const char *<a class="el" href="classDatafile.html#aef05d89bcde7b6b7561eee94affc2e11">name</a>, uint32_t <a class="el" href="classDatafile.html#a5106d24df0d1f262b3fe86988bc6f00a">flags</a>)</td></tr>
<tr class="memdesc:aa77999a72fe30b8bec297d7b106fdfa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the name and flags of this datafile.  <a href="#aa77999a72fe30b8bec297d7b106fdfa4">More...</a><br /></td></tr>
<tr class="separator:aa77999a72fe30b8bec297d7b106fdfa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a834e96055ca5d468cbf071c9df03c3a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a834e96055ca5d468cbf071c9df03c3a4">shutdown</a> ()</td></tr>
<tr class="memdesc:a834e96055ca5d468cbf071c9df03c3a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the resources.  <a href="#a834e96055ca5d468cbf071c9df03c3a4">More...</a><br /></td></tr>
<tr class="separator:a834e96055ca5d468cbf071c9df03c3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f67cb854ea70605fce15bab06267c10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a8f67cb854ea70605fce15bab06267c10">open_read_only</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> strict)</td></tr>
<tr class="memdesc:a8f67cb854ea70605fce15bab06267c10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a data file in read-only mode to check if it exists so that it can be validated.  <a href="#a8f67cb854ea70605fce15bab06267c10">More...</a><br /></td></tr>
<tr class="separator:a8f67cb854ea70605fce15bab06267c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2371c33c8459787ced7aec694d1d5712"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a2371c33c8459787ced7aec694d1d5712">open_read_write</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> read_only_mode)</td></tr>
<tr class="memdesc:a2371c33c8459787ced7aec694d1d5712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a data file in read-write mode during start-up so that doublewrite pages can be restored and then it can be validated.  <a href="#a2371c33c8459787ced7aec694d1d5712">More...</a><br /></td></tr>
<tr class="separator:a2371c33c8459787ced7aec694d1d5712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a9075c2a7533ef1580e0a22aac6ee3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a81a9075c2a7533ef1580e0a22aac6ee3">init_file_info</a> ()</td></tr>
<tr class="memdesc:a81a9075c2a7533ef1580e0a22aac6ee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize OS specific file info.  <a href="#a81a9075c2a7533ef1580e0a22aac6ee3">More...</a><br /></td></tr>
<tr class="separator:a81a9075c2a7533ef1580e0a22aac6ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe7628574d61445c3b1069ee6b0a667"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#acbe7628574d61445c3b1069ee6b0a667">close</a> ()</td></tr>
<tr class="memdesc:acbe7628574d61445c3b1069ee6b0a667"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a data file.  <a href="#acbe7628574d61445c3b1069ee6b0a667">More...</a><br /></td></tr>
<tr class="separator:acbe7628574d61445c3b1069ee6b0a667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a479f329bb1e196c6c0997af09868be19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a479f329bb1e196c6c0997af09868be19">is_raw_type</a> ()</td></tr>
<tr class="memdesc:a479f329bb1e196c6c0997af09868be19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if the Datafile is created in raw partition.  <a href="#a479f329bb1e196c6c0997af09868be19">More...</a><br /></td></tr>
<tr class="separator:a479f329bb1e196c6c0997af09868be19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c66465bda325906964cf5b86462623d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a4c66465bda325906964cf5b86462623d">make_filepath</a> (const char *dirpath, const char *<a class="el" href="mi__test3_8cc.html#a7efa5e9c7494c7d4586359300221aa5d">filename</a>, <a class="el" href="fil0fil_8h.html#ae4202885f0e295482e94ef66a76cd00c">ib_file_suffix</a> ext)</td></tr>
<tr class="memdesc:a4c66465bda325906964cf5b86462623d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a full filepath from a directory path and a filename.  <a href="#a4c66465bda325906964cf5b86462623d">More...</a><br /></td></tr>
<tr class="separator:a4c66465bda325906964cf5b86462623d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b0b201a503f16a1a6b12f87efa334d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ac6b0b201a503f16a1a6b12f87efa334d">set_filepath</a> (const char *<a class="el" href="classDatafile.html#a7edcccfe51b4396a33b3fdd84204cdf4">filepath</a>)</td></tr>
<tr class="memdesc:ac6b0b201a503f16a1a6b12f87efa334d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the filepath by duplicating the filepath sent in.  <a href="#ac6b0b201a503f16a1a6b12f87efa334d">More...</a><br /></td></tr>
<tr class="separator:ac6b0b201a503f16a1a6b12f87efa334d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80ade4afaa55ec033e399a2bb7e8f94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#af80ade4afaa55ec033e399a2bb7e8f94">set_name</a> (const char *<a class="el" href="classDatafile.html#aef05d89bcde7b6b7561eee94affc2e11">name</a>)</td></tr>
<tr class="memdesc:af80ade4afaa55ec033e399a2bb7e8f94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and set the datafile or tablespace name in m_name.  <a href="#af80ade4afaa55ec033e399a2bb7e8f94">More...</a><br /></td></tr>
<tr class="separator:af80ade4afaa55ec033e399a2bb7e8f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a575e392e239d905b0748843d3fc850d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a575e392e239d905b0748843d3fc850d9">validate_to_dd</a> (<a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> <a class="el" href="classDatafile.html#a137ee2d089768181bb94a993bd1bf8ee">space_id</a>, uint32_t <a class="el" href="classDatafile.html#a5106d24df0d1f262b3fe86988bc6f00a">flags</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> for_import)</td></tr>
<tr class="memdesc:a575e392e239d905b0748843d3fc850d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates the datafile and checks that it conforms with the expected space ID and flags.  <a href="#a575e392e239d905b0748843d3fc850d9">More...</a><br /></td></tr>
<tr class="separator:a575e392e239d905b0748843d3fc850d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3996674c49f01e748fa44333fde05a8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a3996674c49f01e748fa44333fde05a8b">validate_for_recovery</a> (<a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> <a class="el" href="classDatafile.html#a137ee2d089768181bb94a993bd1bf8ee">space_id</a>)</td></tr>
<tr class="memdesc:a3996674c49f01e748fa44333fde05a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validates this datafile for the purpose of recovery.  <a href="#a3996674c49f01e748fa44333fde05a8b">More...</a><br /></td></tr>
<tr class="separator:a3996674c49f01e748fa44333fde05a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a7eab085ba9c494e2facf843adbaf2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a72a7eab085ba9c494e2facf843adbaf2">validate_first_page</a> (<a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> <a class="el" href="classDatafile.html#a137ee2d089768181bb94a993bd1bf8ee">space_id</a>, <a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> *flush_lsn, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> for_import)</td></tr>
<tr class="memdesc:a72a7eab085ba9c494e2facf843adbaf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the consistency of the first page of a datafile when the tablespace is opened.  <a href="#a72a7eab085ba9c494e2facf843adbaf2">More...</a><br /></td></tr>
<tr class="separator:a72a7eab085ba9c494e2facf843adbaf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef05d89bcde7b6b7561eee94affc2e11"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#aef05d89bcde7b6b7561eee94affc2e11">name</a> () const</td></tr>
<tr class="memdesc:aef05d89bcde7b6b7561eee94affc2e11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_name.  <a href="#aef05d89bcde7b6b7561eee94affc2e11">More...</a><br /></td></tr>
<tr class="separator:aef05d89bcde7b6b7561eee94affc2e11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edcccfe51b4396a33b3fdd84204cdf4"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a7edcccfe51b4396a33b3fdd84204cdf4">filepath</a> () const</td></tr>
<tr class="memdesc:a7edcccfe51b4396a33b3fdd84204cdf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_filepath.  <a href="#a7edcccfe51b4396a33b3fdd84204cdf4">More...</a><br /></td></tr>
<tr class="separator:a7edcccfe51b4396a33b3fdd84204cdf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dfc103fabaaf4d1e68606a6ca81cc11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpfs__os__file__t.html">pfs_os_file_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a6dfc103fabaaf4d1e68606a6ca81cc11">handle</a> () const</td></tr>
<tr class="memdesc:a6dfc103fabaaf4d1e68606a6ca81cc11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_handle.  <a href="#a6dfc103fabaaf4d1e68606a6ca81cc11">More...</a><br /></td></tr>
<tr class="separator:a6dfc103fabaaf4d1e68606a6ca81cc11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a863e4b5587a71ee42f53e70fb166bdda"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a863e4b5587a71ee42f53e70fb166bdda">order</a> () const</td></tr>
<tr class="memdesc:a863e4b5587a71ee42f53e70fb166bdda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_order.  <a href="#a863e4b5587a71ee42f53e70fb166bdda">More...</a><br /></td></tr>
<tr class="separator:a863e4b5587a71ee42f53e70fb166bdda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8b73bde23e0221ca1e3cf6cd45cdef"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#aab8b73bde23e0221ca1e3cf6cd45cdef">server_version</a> () const</td></tr>
<tr class="memdesc:aab8b73bde23e0221ca1e3cf6cd45cdef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_server_version.  <a href="#aab8b73bde23e0221ca1e3cf6cd45cdef">More...</a><br /></td></tr>
<tr class="separator:aab8b73bde23e0221ca1e3cf6cd45cdef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6f9b0d21bf501cb87ca2deb1dbbe4a4"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ad6f9b0d21bf501cb87ca2deb1dbbe4a4">space_version</a> () const</td></tr>
<tr class="memdesc:ad6f9b0d21bf501cb87ca2deb1dbbe4a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_space_version.  <a href="#ad6f9b0d21bf501cb87ca2deb1dbbe4a4">More...</a><br /></td></tr>
<tr class="separator:ad6f9b0d21bf501cb87ca2deb1dbbe4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a137ee2d089768181bb94a993bd1bf8ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a137ee2d089768181bb94a993bd1bf8ee">space_id</a> () const</td></tr>
<tr class="memdesc:a137ee2d089768181bb94a993bd1bf8ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_space_id.  <a href="#a137ee2d089768181bb94a993bd1bf8ee">More...</a><br /></td></tr>
<tr class="separator:a137ee2d089768181bb94a993bd1bf8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5106d24df0d1f262b3fe86988bc6f00a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a5106d24df0d1f262b3fe86988bc6f00a">flags</a> () const</td></tr>
<tr class="memdesc:a5106d24df0d1f262b3fe86988bc6f00a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_flags.  <a href="#a5106d24df0d1f262b3fe86988bc6f00a">More...</a><br /></td></tr>
<tr class="separator:a5106d24df0d1f262b3fe86988bc6f00a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ea5c35c919c4f903328246348eda8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ab6ea5c35c919c4f903328246348eda8f">is_open</a> () const</td></tr>
<tr class="separator:ab6ea5c35c919c4f903328246348eda8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3037402830515efcb5e4fb033d9e34e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a3037402830515efcb5e4fb033d9e34e0">is_valid</a> () const</td></tr>
<tr class="memdesc:a3037402830515efcb5e4fb033d9e34e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Datafile::m_is_valid.  <a href="#a3037402830515efcb5e4fb033d9e34e0">More...</a><br /></td></tr>
<tr class="separator:a3037402830515efcb5e4fb033d9e34e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1efedfc6388cc032988e3b7d6ec5f59"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ad1efedfc6388cc032988e3b7d6ec5f59">last_os_error</a> () const</td></tr>
<tr class="memdesc:ad1efedfc6388cc032988e3b7d6ec5f59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last OS error reported.  <a href="#ad1efedfc6388cc032988e3b7d6ec5f59">More...</a><br /></td></tr>
<tr class="separator:ad1efedfc6388cc032988e3b7d6ec5f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a50096f9d962e074274b5021c618da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a52a50096f9d962e074274b5021c618da">same_filepath_as</a> (const char *other) const</td></tr>
<tr class="memdesc:a52a50096f9d962e074274b5021c618da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do a quick test if the filepath provided looks the same as this filepath byte by byte.  <a href="#a52a50096f9d962e074274b5021c618da">More...</a><br /></td></tr>
<tr class="separator:a52a50096f9d962e074274b5021c618da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1800198e2025dc37bfefd58f8c48071"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ab1800198e2025dc37bfefd58f8c48071">same_as</a> (const <a class="el" href="classDatafile.html">Datafile</a> &amp;other) const</td></tr>
<tr class="memdesc:ab1800198e2025dc37bfefd58f8c48071"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if another opened datafile is the same file as this object.  <a href="#ab1800198e2025dc37bfefd58f8c48071">More...</a><br /></td></tr>
<tr class="separator:ab1800198e2025dc37bfefd58f8c48071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eaf8da91a7925c93f582547d80a7615"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a1eaf8da91a7925c93f582547d80a7615">find_space_id</a> ()</td></tr>
<tr class="memdesc:a1eaf8da91a7925c93f582547d80a7615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the space id of the given file descriptor by reading a few pages from the beginning of the .ibd file.  <a href="#a1eaf8da91a7925c93f582547d80a7615">More...</a><br /></td></tr>
<tr class="separator:a1eaf8da91a7925c93f582547d80a7615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7553986afdc218a9e5abee9ef716ad6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#af7553986afdc218a9e5abee9ef716ad6">size</a> () const</td></tr>
<tr class="separator:af7553986afdc218a9e5abee9ef716ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8f021000ba334f7a7433d495f47a8333"><td class="memItemLeft" align="right" valign="top">struct stat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a8f021000ba334f7a7433d495f47a8333">m_file_info</a></td></tr>
<tr class="memdesc:a8f021000ba334f7a7433d495f47a8333"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the following to determine the uniqueness of this datafile.  <a href="#a8f021000ba334f7a7433d495f47a8333">More...</a><br /></td></tr>
<tr class="separator:a8f021000ba334f7a7433d495f47a8333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab64c5c32fd85a6b3ba149e8d18dc5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a1ab64c5c32fd85a6b3ba149e8d18dc5b">m_encryption_key</a></td></tr>
<tr class="memdesc:a1ab64c5c32fd85a6b3ba149e8d18dc5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encryption key read from first page.  <a href="#a1ab64c5c32fd85a6b3ba149e8d18dc5b">More...</a><br /></td></tr>
<tr class="separator:a1ab64c5c32fd85a6b3ba149e8d18dc5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d34d84cad4a5783ae389d099365d1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a15d34d84cad4a5783ae389d099365d1a">m_encryption_iv</a></td></tr>
<tr class="memdesc:a15d34d84cad4a5783ae389d099365d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encryption iv read from first page.  <a href="#a15d34d84cad4a5783ae389d099365d1a">More...</a><br /></td></tr>
<tr class="separator:a15d34d84cad4a5783ae389d099365d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291e420851d7a76648c0194ccf8a6f40"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fil0fil_8h.html#a49ce4da45019e3380a27ec498952c9ee">encryption_op_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a291e420851d7a76648c0194ccf8a6f40">m_encryption_op_in_progress</a></td></tr>
<tr class="memdesc:a291e420851d7a76648c0194ccf8a6f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encryption operation in progress.  <a href="#a291e420851d7a76648c0194ccf8a6f40">More...</a><br /></td></tr>
<tr class="separator:a291e420851d7a76648c0194ccf8a6f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad9a199a9126c1ebd0a89f4ac1787a85c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ad9a199a9126c1ebd0a89f4ac1787a85c">m_filepath</a></td></tr>
<tr class="memdesc:ad9a199a9126c1ebd0a89f4ac1787a85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Physical file path with base name and extension.  <a href="#ad9a199a9126c1ebd0a89f4ac1787a85c">More...</a><br /></td></tr>
<tr class="separator:ad9a199a9126c1ebd0a89f4ac1787a85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41672e8a372f2039a3c281a80d168f81"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a41672e8a372f2039a3c281a80d168f81">m_last_os_error</a></td></tr>
<tr class="memdesc:a41672e8a372f2039a3c281a80d168f81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last OS error received so it can be reported if needed.  <a href="#a41672e8a372f2039a3c281a80d168f81">More...</a><br /></td></tr>
<tr class="separator:a41672e8a372f2039a3c281a80d168f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa4615b61f86868928ba8a52c92cfe981"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#aa4615b61f86868928ba8a52c92cfe981">free_filepath</a> ()</td></tr>
<tr class="memdesc:aa4615b61f86868928ba8a52c92cfe981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the filepath buffer.  <a href="#aa4615b61f86868928ba8a52c92cfe981">More...</a><br /></td></tr>
<tr class="separator:aa4615b61f86868928ba8a52c92cfe981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636291fb0181ec6ea28a4296ca23c9dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a636291fb0181ec6ea28a4296ca23c9dc">set_filename</a> ()</td></tr>
<tr class="memdesc:a636291fb0181ec6ea28a4296ca23c9dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the filename pointer to the start of the file name in the filepath.  <a href="#a636291fb0181ec6ea28a4296ca23c9dc">More...</a><br /></td></tr>
<tr class="separator:a636291fb0181ec6ea28a4296ca23c9dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f89a26a81620ff56116bf7f91a22747"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a7f89a26a81620ff56116bf7f91a22747">open_or_create</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> read_only_mode)</td></tr>
<tr class="memdesc:a7f89a26a81620ff56116bf7f91a22747"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create/open a data file.  <a href="#a7f89a26a81620ff56116bf7f91a22747">More...</a><br /></td></tr>
<tr class="separator:a7f89a26a81620ff56116bf7f91a22747"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ca1df2c4f56053012e8e500d4462414"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a7ca1df2c4f56053012e8e500d4462414">read_first_page</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> read_only_mode)</td></tr>
<tr class="memdesc:a7ca1df2c4f56053012e8e500d4462414"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a few significant fields from the first page of the datafile, which must already be open.  <a href="#a7ca1df2c4f56053012e8e500d4462414">More...</a><br /></td></tr>
<tr class="separator:a7ca1df2c4f56053012e8e500d4462414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33d57ffecf7e3a3c9cb2a4671207eb2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a33d57ffecf7e3a3c9cb2a4671207eb2d">free_first_page</a> ()</td></tr>
<tr class="memdesc:a33d57ffecf7e3a3c9cb2a4671207eb2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the first page from memory when it is no longer needed.  <a href="#a33d57ffecf7e3a3c9cb2a4671207eb2d">More...</a><br /></td></tr>
<tr class="separator:a33d57ffecf7e3a3c9cb2a4671207eb2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51843d899825d113c9126080e6211f4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a51843d899825d113c9126080e6211f4a">set_open_flags</a> (<a class="el" href="os0file_8h.html#a071ff3cdfa621fa3ba6f3abbf62e4ae5">os_file_create_t</a> open_flags)</td></tr>
<tr class="memdesc:a51843d899825d113c9126080e6211f4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Datafile::m_open_flags.  <a href="#a51843d899825d113c9126080e6211f4a">More...</a><br /></td></tr>
<tr class="separator:a51843d899825d113c9126080e6211f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a624820fec1ea32e1a21ea41b065f5a93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a624820fec1ea32e1a21ea41b065f5a93">restore_from_doublewrite</a> (<a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> restore_page_no)</td></tr>
<tr class="memdesc:a624820fec1ea32e1a21ea41b065f5a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a given page of the given space id from the double write buffer and copies it to the corresponding .ibd file.  <a href="#a624820fec1ea32e1a21ea41b065f5a93">More...</a><br /></td></tr>
<tr class="separator:a624820fec1ea32e1a21ea41b065f5a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab2432687bb3c6653f7b044d1f93bdf51"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ab2432687bb3c6653f7b044d1f93bdf51">m_name</a></td></tr>
<tr class="memdesc:ab2432687bb3c6653f7b044d1f93bdf51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Datafile name at the tablespace location.  <a href="#ab2432687bb3c6653f7b044d1f93bdf51">More...</a><br /></td></tr>
<tr class="separator:ab2432687bb3c6653f7b044d1f93bdf51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec209930d40b619f737a98eb221f1a03"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#aec209930d40b619f737a98eb221f1a03">m_filename</a></td></tr>
<tr class="memdesc:aec209930d40b619f737a98eb221f1a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Points into m_filepath to the file name with extension.  <a href="#aec209930d40b619f737a98eb221f1a03">More...</a><br /></td></tr>
<tr class="separator:aec209930d40b619f737a98eb221f1a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5eb3511d490709dd0665fdd9deada5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpfs__os__file__t.html">pfs_os_file_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ab5eb3511d490709dd0665fdd9deada5f">m_handle</a></td></tr>
<tr class="memdesc:ab5eb3511d490709dd0665fdd9deada5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open file handle.  <a href="#ab5eb3511d490709dd0665fdd9deada5f">More...</a><br /></td></tr>
<tr class="separator:ab5eb3511d490709dd0665fdd9deada5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad535ec8238430cc09c5e411c1df4f81f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os0file_8h.html#a071ff3cdfa621fa3ba6f3abbf62e4ae5">os_file_create_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ad535ec8238430cc09c5e411c1df4f81f">m_open_flags</a></td></tr>
<tr class="memdesc:ad535ec8238430cc09c5e411c1df4f81f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags to use for opening the data file.  <a href="#ad535ec8238430cc09c5e411c1df4f81f">More...</a><br /></td></tr>
<tr class="separator:ad535ec8238430cc09c5e411c1df4f81f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66ef71703860baf4d6be1be99e41e290"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a66ef71703860baf4d6be1be99e41e290">m_size</a></td></tr>
<tr class="memdesc:a66ef71703860baf4d6be1be99e41e290"><td class="mdescLeft">&#160;</td><td class="mdescRight">size in pages  <a href="#a66ef71703860baf4d6be1be99e41e290">More...</a><br /></td></tr>
<tr class="separator:a66ef71703860baf4d6be1be99e41e290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50cf0769be3c29efb98e1baf9294de7a"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a50cf0769be3c29efb98e1baf9294de7a">m_order</a></td></tr>
<tr class="memdesc:a50cf0769be3c29efb98e1baf9294de7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">ordinal position of this datafile in the tablespace  <a href="#a50cf0769be3c29efb98e1baf9294de7a">More...</a><br /></td></tr>
<tr class="separator:a50cf0769be3c29efb98e1baf9294de7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6973da88cc6af04ccf589cbdd1012ff0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="fsp0file_8h.html#af8da54b00ae65a6f59727cfeeaf898f3">device_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a6973da88cc6af04ccf589cbdd1012ff0">m_type</a></td></tr>
<tr class="memdesc:a6973da88cc6af04ccf589cbdd1012ff0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the data file.  <a href="#a6973da88cc6af04ccf589cbdd1012ff0">More...</a><br /></td></tr>
<tr class="separator:a6973da88cc6af04ccf589cbdd1012ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f6c4fc7419c3dd809fb3751ed471e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a31f6c4fc7419c3dd809fb3751ed471e0">m_space_id</a></td></tr>
<tr class="memdesc:a31f6c4fc7419c3dd809fb3751ed471e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tablespace ID.  <a href="#a31f6c4fc7419c3dd809fb3751ed471e0">More...</a><br /></td></tr>
<tr class="separator:a31f6c4fc7419c3dd809fb3751ed471e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b06b573b9f8ecf6a900a7931c15c6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a56b06b573b9f8ecf6a900a7931c15c6e">m_server_version</a></td></tr>
<tr class="memdesc:a56b06b573b9f8ecf6a900a7931c15c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server version.  <a href="#a56b06b573b9f8ecf6a900a7931c15c6e">More...</a><br /></td></tr>
<tr class="separator:a56b06b573b9f8ecf6a900a7931c15c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d548b8d4848eff53ffdc973569f80c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a6d548b8d4848eff53ffdc973569f80c2">m_space_version</a></td></tr>
<tr class="memdesc:a6d548b8d4848eff53ffdc973569f80c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Space version.  <a href="#a6d548b8d4848eff53ffdc973569f80c2">More...</a><br /></td></tr>
<tr class="separator:a6d548b8d4848eff53ffdc973569f80c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb43b4e2d318ef7156ebdfe007286184"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#acb43b4e2d318ef7156ebdfe007286184">m_flags</a></td></tr>
<tr class="memdesc:acb43b4e2d318ef7156ebdfe007286184"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tablespace flags.  <a href="#acb43b4e2d318ef7156ebdfe007286184">More...</a><br /></td></tr>
<tr class="separator:acb43b4e2d318ef7156ebdfe007286184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46798173e884196490a73dd3fae7f9f0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a46798173e884196490a73dd3fae7f9f0">m_exists</a></td></tr>
<tr class="memdesc:a46798173e884196490a73dd3fae7f9f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if file already existed on startup  <a href="#a46798173e884196490a73dd3fae7f9f0">More...</a><br /></td></tr>
<tr class="separator:a46798173e884196490a73dd3fae7f9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ad8436378b7f2095c73327e17e9dd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#af6ad8436378b7f2095c73327e17e9dd9">m_is_valid</a></td></tr>
<tr class="separator:af6ad8436378b7f2095c73327e17e9dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd10e18fd7e52a310d9c556a593a11f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#acd10e18fd7e52a310d9c556a593a11f7">m_first_page_buf</a></td></tr>
<tr class="memdesc:acd10e18fd7e52a310d9c556a593a11f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer to hold first page.  <a href="#acd10e18fd7e52a310d9c556a593a11f7">More...</a><br /></td></tr>
<tr class="separator:acd10e18fd7e52a310d9c556a593a11f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55b37ddbeb18727f5cc2f833c9ccc0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ab55b37ddbeb18727f5cc2f833c9ccc0c">m_first_page</a></td></tr>
<tr class="memdesc:ab55b37ddbeb18727f5cc2f833c9ccc0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the first page held in the buffer above.  <a href="#ab55b37ddbeb18727f5cc2f833c9ccc0c">More...</a><br /></td></tr>
<tr class="separator:ab55b37ddbeb18727f5cc2f833c9ccc0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36b10786ac7f5175a201e071a72a74b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a36b10786ac7f5175a201e071a72a74b7">m_atomic_write</a></td></tr>
<tr class="memdesc:a36b10786ac7f5175a201e071a72a74b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">true if atomic writes enabled for this file  <a href="#a36b10786ac7f5175a201e071a72a74b7">More...</a><br /></td></tr>
<tr class="separator:a36b10786ac7f5175a201e071a72a74b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a297d0c43a800684e1995d7566f139b9e"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#a297d0c43a800684e1995d7566f139b9e">Tablespace</a></td></tr>
<tr class="separator:a297d0c43a800684e1995d7566f139b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5fe56e2c3f36b9b0e9177fbf3b66bbf"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDatafile.html#ae5fe56e2c3f36b9b0e9177fbf3b66bbf">SysTablespace</a></td></tr>
<tr class="separator:ae5fe56e2c3f36b9b0e9177fbf3b66bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Data file control information. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0803337152b8f18ad91d6217598bb95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0803337152b8f18ad91d6217598bb95b">&#9670;&nbsp;</a></span>Datafile() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Datafile::Datafile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a996ebab22f2b9bc8328693a2fd47a7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a996ebab22f2b9bc8328693a2fd47a7fa">&#9670;&nbsp;</a></span>Datafile() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Datafile::Datafile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a494d78c48947cf57315f25dacb000de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a494d78c48947cf57315f25dacb000de9">&#9670;&nbsp;</a></span>Datafile() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Datafile::Datafile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDatafile.html">Datafile</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8660bf2f83c9a8951f61476fb86fb768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8660bf2f83c9a8951f61476fb86fb768">&#9670;&nbsp;</a></span>~Datafile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Datafile::~Datafile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acbe7628574d61445c3b1069ee6b0a667"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbe7628574d61445c3b1069ee6b0a667">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a data file. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>

</div>
</div>
<a id="a7edcccfe51b4396a33b3fdd84204cdf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edcccfe51b4396a33b3fdd84204cdf4">&#9670;&nbsp;</a></span>filepath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* Datafile::filepath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_filepath. </p>
<dl class="section return"><dt>Returns</dt><dd>m_filepath </dd></dl>

</div>
</div>
<a id="a1eaf8da91a7925c93f582547d80a7615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eaf8da91a7925c93f582547d80a7615">&#9670;&nbsp;</a></span>find_space_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::find_space_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the space id of the given file descriptor by reading a few pages from the beginning of the .ibd file. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS if space id was successfully identified, else DB_ERROR. </dd></dl>

</div>
</div>
<a id="a5106d24df0d1f262b3fe86988bc6f00a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5106d24df0d1f262b3fe86988bc6f00a">&#9670;&nbsp;</a></span>flags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Datafile::flags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_flags. </p>
<dl class="section return"><dt>Returns</dt><dd>m_flags </dd></dl>

</div>
</div>
<a id="aa4615b61f86868928ba8a52c92cfe981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4615b61f86868928ba8a52c92cfe981">&#9670;&nbsp;</a></span>free_filepath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::free_filepath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free the filepath buffer. </p>

</div>
</div>
<a id="a33d57ffecf7e3a3c9cb2a4671207eb2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33d57ffecf7e3a3c9cb2a4671207eb2d">&#9670;&nbsp;</a></span>free_first_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::free_first_page </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free the first page from memory when it is no longer needed. </p>

</div>
</div>
<a id="a6dfc103fabaaf4d1e68606a6ca81cc11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dfc103fabaaf4d1e68606a6ca81cc11">&#9670;&nbsp;</a></span>handle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpfs__os__file__t.html">pfs_os_file_t</a> Datafile::handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_handle. </p>
<dl class="section return"><dt>Returns</dt><dd>m_handle </dd></dl>

</div>
</div>
<a id="aa77999a72fe30b8bec297d7b106fdfa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa77999a72fe30b8bec297d7b106fdfa4">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the name and flags of this datafile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>tablespace name, will be copied </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>tablespace flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81a9075c2a7533ef1580e0a22aac6ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81a9075c2a7533ef1580e0a22aac6ee3">&#9670;&nbsp;</a></span>init_file_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::init_file_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize OS specific file info. </p>

</div>
</div>
<a id="ab6ea5c35c919c4f903328246348eda8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6ea5c35c919c4f903328246348eda8f">&#9670;&nbsp;</a></span>is_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Datafile::is_open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>true if m_handle is open, false if not </dd></dl>

</div>
</div>
<a id="a479f329bb1e196c6c0997af09868be19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a479f329bb1e196c6c0997af09868be19">&#9670;&nbsp;</a></span>is_raw_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Datafile::is_raw_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns if the Datafile is created in raw partition. </p>
<dl class="section return"><dt>Returns</dt><dd>true if partition used is raw , false otherwise </dd></dl>

</div>
</div>
<a id="a3037402830515efcb5e4fb033d9e34e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3037402830515efcb5e4fb033d9e34e0">&#9670;&nbsp;</a></span>is_valid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Datafile::is_valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_is_valid. </p>
<dl class="section return"><dt>Returns</dt><dd>m_is_valid </dd></dl>

</div>
</div>
<a id="ad1efedfc6388cc032988e3b7d6ec5f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1efedfc6388cc032988e3b7d6ec5f59">&#9670;&nbsp;</a></span>last_os_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint Datafile::last_os_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the last OS error reported. </p>
<dl class="section return"><dt>Returns</dt><dd>m_last_os_error </dd></dl>

</div>
</div>
<a id="a4c66465bda325906964cf5b86462623d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c66465bda325906964cf5b86462623d">&#9670;&nbsp;</a></span>make_filepath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::make_filepath </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dirpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="fil0fil_8h.html#ae4202885f0e295482e94ef66a76cd00c">ib_file_suffix</a>&#160;</td>
          <td class="paramname"><em>ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make a full filepath from a directory path and a filename. </p>
<p>Prepend the dirpath to filename using the extension given. If dirpath is nullptr, prepend the default datadir to filepath. Store the result in m_filepath. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dirpath</td><td>directory path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>filename or filepath </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ext</td><td>filename extension </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aef05d89bcde7b6b7561eee94affc2e11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef05d89bcde7b6b7561eee94affc2e11">&#9670;&nbsp;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* Datafile::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_name. </p>
<dl class="section return"><dt>Returns</dt><dd>m_name </dd></dl>

</div>
</div>
<a id="a7f89a26a81620ff56116bf7f91a22747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f89a26a81620ff56116bf7f91a22747">&#9670;&nbsp;</a></span>open_or_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::open_or_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>read_only_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create/open a data file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">read_only_mode</td><td>if true, then readonly mode checks are enforced. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>

</div>
</div>
<a id="a8f67cb854ea70605fce15bab06267c10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f67cb854ea70605fce15bab06267c10">&#9670;&nbsp;</a></span>open_read_only()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::open_read_only </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>strict</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a data file in read-only mode to check if it exists so that it can be validated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">strict</td><td>whether to issue error messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>

</div>
</div>
<a id="a2371c33c8459787ced7aec694d1d5712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2371c33c8459787ced7aec694d1d5712">&#9670;&nbsp;</a></span>open_read_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::open_read_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>read_only_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a data file in read-write mode during start-up so that doublewrite pages can be restored and then it can be validated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">read_only_mode</td><td>if true, then readonly mode checks are enforced. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>

</div>
</div>
<a id="a19bb32f22c6c3a2040787a062fbfae7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19bb32f22c6c3a2040787a062fbfae7a">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDatafile.html">Datafile</a>&amp; Datafile::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDatafile.html">Datafile</a> &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a863e4b5587a71ee42f53e70fb166bdda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a863e4b5587a71ee42f53e70fb166bdda">&#9670;&nbsp;</a></span>order()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint Datafile::order </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_order. </p>
<dl class="section return"><dt>Returns</dt><dd>m_order </dd></dl>

</div>
</div>
<a id="a7ca1df2c4f56053012e8e500d4462414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ca1df2c4f56053012e8e500d4462414">&#9670;&nbsp;</a></span>read_first_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::read_first_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>read_only_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a few significant fields from the first page of the datafile, which must already be open. </p>
<p>Reads a few significant fields from the first page of the first datafile, which must already be open.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">read_only_mode</td><td>If true, then readonly mode checks are enforced. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_IO_ERROR if page cannot be read </dd></dl>

</div>
</div>
<a id="a624820fec1ea32e1a21ea41b065f5a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a624820fec1ea32e1a21ea41b065f5a93">&#9670;&nbsp;</a></span>restore_from_doublewrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::restore_from_doublewrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>restore_page_no</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finds a given page of the given space id from the double write buffer and copies it to the corresponding .ibd file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">restore_page_no</td><td>Page number to restore </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS if page was restored from doublewrite, else DB_ERROR </dd></dl>

</div>
</div>
<a id="ab1800198e2025dc37bfefd58f8c48071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1800198e2025dc37bfefd58f8c48071">&#9670;&nbsp;</a></span>same_as()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Datafile::same_as </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDatafile.html">Datafile</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if another opened datafile is the same file as this object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">other</td><td>Datafile to compare with </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it is the same file, else false </dd></dl>

</div>
</div>
<a id="a52a50096f9d962e074274b5021c618da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a50096f9d962e074274b5021c618da">&#9670;&nbsp;</a></span>same_filepath_as()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Datafile::same_filepath_as </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do a quick test if the filepath provided looks the same as this filepath byte by byte. </p>
<p>If they are two different looking paths to the same file, same_as() will be used to show that after the files are opened. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">other</td><td>filepath to compare with </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if it is the same filename by byte comparison </td></tr>
    <tr><td class="paramname">false</td><td>if it looks different </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aab8b73bde23e0221ca1e3cf6cd45cdef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8b73bde23e0221ca1e3cf6cd45cdef">&#9670;&nbsp;</a></span>server_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint Datafile::server_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_server_version. </p>
<dl class="section return"><dt>Returns</dt><dd>m_server_version </dd></dl>

</div>
</div>
<a id="a636291fb0181ec6ea28a4296ca23c9dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a636291fb0181ec6ea28a4296ca23c9dc">&#9670;&nbsp;</a></span>set_filename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::set_filename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the filename pointer to the start of the file name in the filepath. </p>

</div>
</div>
<a id="ac6b0b201a503f16a1a6b12f87efa334d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b0b201a503f16a1a6b12f87efa334d">&#9670;&nbsp;</a></span>set_filepath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::set_filepath </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filepath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the filepath by duplicating the filepath sent in. </p>
<p>This is the name of the file with its extension and absolute or relative path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filepath</td><td>filepath to set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af80ade4afaa55ec033e399a2bb7e8f94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80ade4afaa55ec033e399a2bb7e8f94">&#9670;&nbsp;</a></span>set_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::set_name </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and set the datafile or tablespace name in m_name. </p>
<p>If a name is provided, use it; else if the datafile is file-per-table, extract a file-per-table tablespace name from m_filepath; else it is a general tablespace, so just call it that for now. The value of m_name will be freed in the destructor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Tablespace Name if known, nullptr if not </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a51843d899825d113c9126080e6211f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51843d899825d113c9126080e6211f4a">&#9670;&nbsp;</a></span>set_open_flags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::set_open_flags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="os0file_8h.html#a071ff3cdfa621fa3ba6f3abbf62e4ae5">os_file_create_t</a>&#160;</td>
          <td class="paramname"><em>open_flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the Datafile::m_open_flags. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">open_flags</td><td>The Open flags to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a834e96055ca5d468cbf071c9df03c3a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a834e96055ca5d468cbf071c9df03c3a4">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Datafile::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release the resources. </p>

</div>
</div>
<a id="af7553986afdc218a9e5abee9ef716ad6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7553986afdc218a9e5abee9ef716ad6">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> Datafile::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>file size in number of pages </dd></dl>

</div>
</div>
<a id="a137ee2d089768181bb94a993bd1bf8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a137ee2d089768181bb94a993bd1bf8ee">&#9670;&nbsp;</a></span>space_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> Datafile::space_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_space_id. </p>
<dl class="section return"><dt>Returns</dt><dd>m_space_id </dd></dl>

</div>
</div>
<a id="ad6f9b0d21bf501cb87ca2deb1dbbe4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6f9b0d21bf501cb87ca2deb1dbbe4a4">&#9670;&nbsp;</a></span>space_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint Datafile::space_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get Datafile::m_space_version. </p>
<dl class="section return"><dt>Returns</dt><dd>m_space_version </dd></dl>

</div>
</div>
<a id="a72a7eab085ba9c494e2facf843adbaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a7eab085ba9c494e2facf843adbaf2">&#9670;&nbsp;</a></span>validate_first_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::validate_first_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td>
          <td class="paramname"><em>space_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="log0types_8h.html#aa7401e3081ffb8ee7e8fb182647f475c">lsn_t</a> *&#160;</td>
          <td class="paramname"><em>flush_lsn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>for_import</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the consistency of the first page of a datafile when the tablespace is opened. </p>
<p>This occurs before the fil_space_t is created so the Space ID found here must not already be open. m_is_valid is set true on success, else false. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">space_id</td><td>Expected space ID </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">flush_lsn</td><td>contents of FIL_PAGE_FILE_FLUSH_LSN </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">for_import</td><td>if it is for importing (only valid for the first file of the system tablespace) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DB_WRONG_FILE_NAME</td><td>tablespace in file header doesn't match expected value </td></tr>
    <tr><td class="paramname">DB_SUCCESS</td><td>on if the datafile is valid </td></tr>
    <tr><td class="paramname">DB_CORRUPTION</td><td>if the datafile is not readable </td></tr>
    <tr><td class="paramname">DB_INVALID_ENCRYPTION_META</td><td>if the encrypption meta data is not readable </td></tr>
    <tr><td class="paramname">DB_TABLESPACE_EXISTS</td><td>if there is a duplicate space_id </td></tr>
  </table>
  </dd>
</dl>
<p>TODO: Enable following after WL#11063: Update server version information in InnoDB tablespaces:</p>
<p>else if (!for_import &amp;&amp; (fsp_header_get_server_version(m_first_page) != DD_SPACE_CURRENT_SRV_VERSION)) { error_txt = "Wrong server version"; } else if (!for_import &amp;&amp; (fsp_header_get_space_version(m_first_page) != DD_SPACE_CURRENT_SPACE_VERSION)) { error_txt = "Wrong tablespace version"; } </p>

</div>
</div>
<a id="a3996674c49f01e748fa44333fde05a8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3996674c49f01e748fa44333fde05a8b">&#9670;&nbsp;</a></span>validate_for_recovery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::validate_for_recovery </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td>
          <td class="paramname"><em>space_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates this datafile for the purpose of recovery. </p>
<p>The file should exist and be successfully opened. We initially open it in read-only mode because we just want to read the SpaceID. However, if the first page is corrupt and needs to be restored from the doublewrite buffer, we will reopen it in write mode and ry to restore that page. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">space_id</td><td>Expected space ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DB_SUCCESS</td><td>on success m_is_valid is also set true on success, else false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a575e392e239d905b0748843d3fc850d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a575e392e239d905b0748843d3fc850d9">&#9670;&nbsp;</a></span>validate_to_dd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> Datafile::validate_to_dd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td>
          <td class="paramname"><em>space_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>for_import</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validates the datafile and checks that it conforms with the expected space ID and flags. </p>
<p>The file should exist and be successfully opened in order for this function to validate it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">space_id</td><td>The expected tablespace ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>The expected tablespace flags. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">for_import</td><td>if it is for importing </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DB_SUCCESS</td><td>if tablespace is valid, DB_ERROR if not. m_is_valid is also set true on success, else false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="ae5fe56e2c3f36b9b0e9177fbf3b66bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5fe56e2c3f36b9b0e9177fbf3b66bbf">&#9670;&nbsp;</a></span>SysTablespace</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classSysTablespace.html">SysTablespace</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a297d0c43a800684e1995d7566f139b9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297d0c43a800684e1995d7566f139b9e">&#9670;&nbsp;</a></span>Tablespace</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classTablespace.html">Tablespace</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a36b10786ac7f5175a201e071a72a74b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b10786ac7f5175a201e071a72a74b7">&#9670;&nbsp;</a></span>m_atomic_write</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Datafile::m_atomic_write</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>true if atomic writes enabled for this file </p>

</div>
</div>
<a id="a15d34d84cad4a5783ae389d099365d1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d34d84cad4a5783ae389d099365d1a">&#9670;&nbsp;</a></span>m_encryption_iv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* Datafile::m_encryption_iv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encryption iv read from first page. </p>

</div>
</div>
<a id="a1ab64c5c32fd85a6b3ba149e8d18dc5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab64c5c32fd85a6b3ba149e8d18dc5b">&#9670;&nbsp;</a></span>m_encryption_key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* Datafile::m_encryption_key</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encryption key read from first page. </p>

</div>
</div>
<a id="a291e420851d7a76648c0194ccf8a6f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291e420851d7a76648c0194ccf8a6f40">&#9670;&nbsp;</a></span>m_encryption_op_in_progress</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fil0fil_8h.html#a49ce4da45019e3380a27ec498952c9ee">encryption_op_type</a> Datafile::m_encryption_op_in_progress</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encryption operation in progress. </p>

</div>
</div>
<a id="a46798173e884196490a73dd3fae7f9f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46798173e884196490a73dd3fae7f9f0">&#9670;&nbsp;</a></span>m_exists</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Datafile::m_exists</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>true if file already existed on startup </p>

</div>
</div>
<a id="a8f021000ba334f7a7433d495f47a8333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f021000ba334f7a7433d495f47a8333">&#9670;&nbsp;</a></span>m_file_info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct stat Datafile::m_file_info</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the following to determine the uniqueness of this datafile. </p>
<p>Use field st_ino. </p>

</div>
</div>
<a id="aec209930d40b619f737a98eb221f1a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec209930d40b619f737a98eb221f1a03">&#9670;&nbsp;</a></span>m_filename</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Datafile::m_filename</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Points into m_filepath to the file name with extension. </p>

</div>
</div>
<a id="ad9a199a9126c1ebd0a89f4ac1787a85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9a199a9126c1ebd0a89f4ac1787a85c">&#9670;&nbsp;</a></span>m_filepath</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Datafile::m_filepath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Physical file path with base name and extension. </p>

</div>
</div>
<a id="ab55b37ddbeb18727f5cc2f833c9ccc0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab55b37ddbeb18727f5cc2f833c9ccc0c">&#9670;&nbsp;</a></span>m_first_page</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* Datafile::m_first_page</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the first page held in the buffer above. </p>

</div>
</div>
<a id="acd10e18fd7e52a310d9c556a593a11f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd10e18fd7e52a310d9c556a593a11f7">&#9670;&nbsp;</a></span>m_first_page_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* Datafile::m_first_page_buf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Buffer to hold first page. </p>

</div>
</div>
<a id="acb43b4e2d318ef7156ebdfe007286184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb43b4e2d318ef7156ebdfe007286184">&#9670;&nbsp;</a></span>m_flags</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Datafile::m_flags</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tablespace flags. </p>
<p>Contained in the datafile header. If this is a system tablespace, FSP_SPACE_FLAGS are only valid in the first datafile. </p>

</div>
</div>
<a id="ab5eb3511d490709dd0665fdd9deada5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5eb3511d490709dd0665fdd9deada5f">&#9670;&nbsp;</a></span>m_handle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpfs__os__file__t.html">pfs_os_file_t</a> Datafile::m_handle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open file handle. </p>

</div>
</div>
<a id="af6ad8436378b7f2095c73327e17e9dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ad8436378b7f2095c73327e17e9dd9">&#9670;&nbsp;</a></span>m_is_valid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Datafile::m_is_valid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a41672e8a372f2039a3c281a80d168f81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41672e8a372f2039a3c281a80d168f81">&#9670;&nbsp;</a></span>m_last_os_error</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint Datafile::m_last_os_error</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last OS error received so it can be reported if needed. </p>

</div>
</div>
<a id="ab2432687bb3c6653f7b044d1f93bdf51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2432687bb3c6653f7b044d1f93bdf51">&#9670;&nbsp;</a></span>m_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Datafile::m_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Datafile name at the tablespace location. </p>
<p>This is either the basename of the file if an absolute path was entered, or it is the relative path to the datadir or Tablespace::m_path. </p>

</div>
</div>
<a id="ad535ec8238430cc09c5e411c1df4f81f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad535ec8238430cc09c5e411c1df4f81f">&#9670;&nbsp;</a></span>m_open_flags</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os0file_8h.html#a071ff3cdfa621fa3ba6f3abbf62e4ae5">os_file_create_t</a> Datafile::m_open_flags</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flags to use for opening the data file. </p>

</div>
</div>
<a id="a50cf0769be3c29efb98e1baf9294de7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50cf0769be3c29efb98e1baf9294de7a">&#9670;&nbsp;</a></span>m_order</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint Datafile::m_order</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ordinal position of this datafile in the tablespace </p>

</div>
</div>
<a id="a56b06b573b9f8ecf6a900a7931c15c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56b06b573b9f8ecf6a900a7931c15c6e">&#9670;&nbsp;</a></span>m_server_version</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> Datafile::m_server_version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Server version. </p>

</div>
</div>
<a id="a66ef71703860baf4d6be1be99e41e290"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66ef71703860baf4d6be1be99e41e290">&#9670;&nbsp;</a></span>m_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> Datafile::m_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>size in pages </p>

</div>
</div>
<a id="a31f6c4fc7419c3dd809fb3751ed471e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f6c4fc7419c3dd809fb3751ed471e0">&#9670;&nbsp;</a></span>m_space_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> Datafile::m_space_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tablespace ID. </p>
<p>Contained in the datafile header. If this is a system tablespace, FSP_SPACE_ID is only valid in the first datafile. </p>

</div>
</div>
<a id="a6d548b8d4848eff53ffdc973569f80c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d548b8d4848eff53ffdc973569f80c2">&#9670;&nbsp;</a></span>m_space_version</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> Datafile::m_space_version</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Space version. </p>

</div>
</div>
<a id="a6973da88cc6af04ccf589cbdd1012ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6973da88cc6af04ccf589cbdd1012ff0">&#9670;&nbsp;</a></span>m_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="fsp0file_8h.html#af8da54b00ae65a6f59727cfeeaf898f3">device_t</a> Datafile::m_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The type of the data file. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>storage/innobase/include/<a class="el" href="fsp0file_8h_source.html">fsp0file.h</a></li>
<li>storage/innobase/fsp/<a class="el" href="fsp0file_8cc.html">fsp0file.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classDatafile.html">Datafile</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
