<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: s_mysql_log_builtins Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structs__mysql__log__builtins.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structs__mysql__log__builtins-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">s_mysql_log_builtins Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This defines built-in functions for use by logging services.  
 <a href="structs__mysql__log__builtins.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="log__builtins_8h_source.html">log_builtins.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:abb9fef5d3626faf6de7150cadd36e23f"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#abb9fef5d3626faf6de7150cadd36e23f">wellknown_by_type</a> )(<a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:abb9fef5d3626faf6de7150cadd36e23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">See whether a type is wellknown.  <a href="#abb9fef5d3626faf6de7150cadd36e23f">More...</a><br /></td></tr>
<tr class="separator:abb9fef5d3626faf6de7150cadd36e23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9db97b81c7df2b9552cbd32f0ecfcd8"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#ae9db97b81c7df2b9552cbd32f0ecfcd8">wellknown_by_name</a> )(const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, size_t length)</td></tr>
<tr class="memdesc:ae9db97b81c7df2b9552cbd32f0ecfcd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">See whether a string is a wellknown field name.  <a href="#ae9db97b81c7df2b9552cbd32f0ecfcd8">More...</a><br /></td></tr>
<tr class="separator:ae9db97b81c7df2b9552cbd32f0ecfcd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84772f885861175353ff2de7d693c653"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a84772f885861175353ff2de7d693c653">wellknown_get_type</a> )(<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx)</td></tr>
<tr class="memdesc:a84772f885861175353ff2de7d693c653"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor: from a record describing a wellknown key, get its type.  <a href="#a84772f885861175353ff2de7d693c653">More...</a><br /></td></tr>
<tr class="separator:a84772f885861175353ff2de7d693c653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f135ab20724795c64fa123a5b28d113"><td class="memItemLeft" align="right" valign="top">const char *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a7f135ab20724795c64fa123a5b28d113">wellknown_get_name</a> )(<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx)</td></tr>
<tr class="memdesc:a7f135ab20724795c64fa123a5b28d113"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor: from a record describing a wellknown key, get its name.  <a href="#a7f135ab20724795c64fa123a5b28d113">More...</a><br /></td></tr>
<tr class="separator:a7f135ab20724795c64fa123a5b28d113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b22798a26763884049292724cc80ab1"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a0b22798a26763884049292724cc80ab1">item_inconsistent</a> )(<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li)</td></tr>
<tr class="memdesc:a0b22798a26763884049292724cc80ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sanity check an item.  <a href="#a0b22798a26763884049292724cc80ab1">More...</a><br /></td></tr>
<tr class="separator:a0b22798a26763884049292724cc80ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee808df88510795e92950484d3d75fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a1ee808df88510795e92950484d3d75fd">item_generic_type</a> )(<a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:a1ee808df88510795e92950484d3d75fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate used to determine whether a type is generic (generic string, generic float, generic integer) rather than a well-known type.  <a href="#a1ee808df88510795e92950484d3d75fd">More...</a><br /></td></tr>
<tr class="separator:a1ee808df88510795e92950484d3d75fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd03be5646fe374bad8636b19dffa69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a1fd03be5646fe374bad8636b19dffa69">item_string_class</a> )(<a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a> c)</td></tr>
<tr class="memdesc:a1fd03be5646fe374bad8636b19dffa69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate used to determine whether a class is a string class (C-string or Lex-string).  <a href="#a1fd03be5646fe374bad8636b19dffa69">More...</a><br /></td></tr>
<tr class="separator:a1fd03be5646fe374bad8636b19dffa69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ca8b39023439a3efb273c01810a570"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#ad5ca8b39023439a3efb273c01810a570">item_numeric_class</a> )(<a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a> c)</td></tr>
<tr class="memdesc:ad5ca8b39023439a3efb273c01810a570"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate used to determine whether a class is a numeric class (integer or float).  <a href="#ad5ca8b39023439a3efb273c01810a570">More...</a><br /></td></tr>
<tr class="separator:ad5ca8b39023439a3efb273c01810a570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470ac95b608f3011433aff160753fd9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a470ac95b608f3011433aff160753fd9e">item_set_int</a> )(<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> i)</td></tr>
<tr class="memdesc:a470ac95b608f3011433aff160753fd9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an integer value on a log_item.  <a href="#a470ac95b608f3011433aff160753fd9e">More...</a><br /></td></tr>
<tr class="separator:a470ac95b608f3011433aff160753fd9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368b45e3de2b96e08858f235936b8312"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a368b45e3de2b96e08858f235936b8312">item_set_float</a> )(<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, double f)</td></tr>
<tr class="memdesc:a368b45e3de2b96e08858f235936b8312"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a floating point value on a log_item.  <a href="#a368b45e3de2b96e08858f235936b8312">More...</a><br /></td></tr>
<tr class="separator:a368b45e3de2b96e08858f235936b8312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbadc09e2d37ced4999f580eaafa5b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a1fbadc09e2d37ced4999f580eaafa5b5">item_set_lexstring</a> )(<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, const char *s, size_t s_len)</td></tr>
<tr class="memdesc:a1fbadc09e2d37ced4999f580eaafa5b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a string value on a log_item.  <a href="#a1fbadc09e2d37ced4999f580eaafa5b5">More...</a><br /></td></tr>
<tr class="separator:a1fbadc09e2d37ced4999f580eaafa5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a683dc15b4de2e18319e0319415310385"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a683dc15b4de2e18319e0319415310385">item_set_cstring</a> )(<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, const char *s)</td></tr>
<tr class="memdesc:a683dc15b4de2e18319e0319415310385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a string value on a log_item.  <a href="#a683dc15b4de2e18319e0319415310385">More...</a><br /></td></tr>
<tr class="separator:a683dc15b4de2e18319e0319415310385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1334955433692a5d36479bc06db7f85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#aa1334955433692a5d36479bc06db7f85">item_set_with_key</a> )(<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t, const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> alloc)</td></tr>
<tr class="memdesc:aa1334955433692a5d36479bc06db7f85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new log item with key name "key", and allocation flags of "alloc" (see enum_log_item_free).  <a href="#aa1334955433692a5d36479bc06db7f85">More...</a><br /></td></tr>
<tr class="separator:aa1334955433692a5d36479bc06db7f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c98ee17e884f4f3563234d8bcefc25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a73c98ee17e884f4f3563234d8bcefc25">item_set</a> )(<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:a73c98ee17e884f4f3563234d8bcefc25"><td class="mdescLeft">&#160;</td><td class="mdescRight">As log_item_set_with_key(), except that the key is automatically derived from the wellknown log_item_type t.  <a href="#a73c98ee17e884f4f3563234d8bcefc25">More...</a><br /></td></tr>
<tr class="separator:a73c98ee17e884f4f3563234d8bcefc25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab377c0a908a0cf3a1ae7def6527cd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a1ab377c0a908a0cf3a1ae7def6527cd0">line_item_set_with_key</a> )(<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t, const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> alloc)</td></tr>
<tr class="memdesc:a1ab377c0a908a0cf3a1ae7def6527cd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new log item in log line "ll", with key name "key", and allocation flags of "alloc" (see enum_log_item_free).  <a href="#a1ab377c0a908a0cf3a1ae7def6527cd0">More...</a><br /></td></tr>
<tr class="separator:a1ab377c0a908a0cf3a1ae7def6527cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a572dfcc60af8cb287c65410e2e43243a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a572dfcc60af8cb287c65410e2e43243a">line_item_set</a> )(<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td></tr>
<tr class="memdesc:a572dfcc60af8cb287c65410e2e43243a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new log item of well-known type "t" in log line "ll".  <a href="#a572dfcc60af8cb287c65410e2e43243a">More...</a><br /></td></tr>
<tr class="separator:a572dfcc60af8cb287c65410e2e43243a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7d3146c6e2dab94ebb5a2cfce23013"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#aee7d3146c6e2dab94ebb5a2cfce23013">line_init</a> )()</td></tr>
<tr class="memdesc:aee7d3146c6e2dab94ebb5a2cfce23013"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically allocate and initialize a log_line.  <a href="#aee7d3146c6e2dab94ebb5a2cfce23013">More...</a><br /></td></tr>
<tr class="separator:aee7d3146c6e2dab94ebb5a2cfce23013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8376d0324c81a05d5b3d9afcdafdeb6"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#ad8376d0324c81a05d5b3d9afcdafdeb6">line_exit</a> )(<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:ad8376d0324c81a05d5b3d9afcdafdeb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a log_line allocated with line_init()  <a href="#ad8376d0324c81a05d5b3d9afcdafdeb6">More...</a><br /></td></tr>
<tr class="separator:ad8376d0324c81a05d5b3d9afcdafdeb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3676fefd9858510f518aa13e12316278"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a3676fefd9858510f518aa13e12316278">line_item_count</a> )(<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a3676fefd9858510f518aa13e12316278"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many items are currently set on the given log_line?  <a href="#a3676fefd9858510f518aa13e12316278">More...</a><br /></td></tr>
<tr class="separator:a3676fefd9858510f518aa13e12316278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1712dae6599f7b63ce089c376ac06167"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#af03da2cb6c6eadac3c6f59b2a629eeee">log_item_type_mask</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a1712dae6599f7b63ce089c376ac06167">line_item_types_seen</a> )(<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#af03da2cb6c6eadac3c6f59b2a629eeee">log_item_type_mask</a> m)</td></tr>
<tr class="memdesc:a1712dae6599f7b63ce089c376ac06167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether a given type is presumed present on the log line.  <a href="#a1712dae6599f7b63ce089c376ac06167">More...</a><br /></td></tr>
<tr class="separator:a1712dae6599f7b63ce089c376ac06167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f774f19c5922c8b297bcbeb6435c512"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a1f774f19c5922c8b297bcbeb6435c512">line_get_output_buffer</a> )(<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a1f774f19c5922c8b297bcbeb6435c512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get log-line's output buffer.  <a href="#a1f774f19c5922c8b297bcbeb6435c512">More...</a><br /></td></tr>
<tr class="separator:a1f774f19c5922c8b297bcbeb6435c512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc6fce8a46ef060de8eecb232f77656"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#adcc6fce8a46ef060de8eecb232f77656">line_item_iter_acquire</a> )(<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:adcc6fce8a46ef060de8eecb232f77656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an iterator for the items in a log_line.  <a href="#adcc6fce8a46ef060de8eecb232f77656">More...</a><br /></td></tr>
<tr class="separator:adcc6fce8a46ef060de8eecb232f77656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3cbe56172acb8addd2b9b29afa661a"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#aac3cbe56172acb8addd2b9b29afa661a">line_item_iter_release</a> )(<a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *it)</td></tr>
<tr class="memdesc:aac3cbe56172acb8addd2b9b29afa661a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release an iterator for the items in a log_line.  <a href="#aac3cbe56172acb8addd2b9b29afa661a">More...</a><br /></td></tr>
<tr class="separator:aac3cbe56172acb8addd2b9b29afa661a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf55e5637cb08da234e42da42ac8eef3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#aaf55e5637cb08da234e42da42ac8eef3">line_item_iter_first</a> )(<a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *it)</td></tr>
<tr class="memdesc:aaf55e5637cb08da234e42da42ac8eef3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the log_line iterator to get the first item from the set.  <a href="#aaf55e5637cb08da234e42da42ac8eef3">More...</a><br /></td></tr>
<tr class="separator:aaf55e5637cb08da234e42da42ac8eef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94db9bb998a78669c4a72c1b50d42db0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a94db9bb998a78669c4a72c1b50d42db0">line_item_iter_next</a> )(<a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *it)</td></tr>
<tr class="memdesc:a94db9bb998a78669c4a72c1b50d42db0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the log_line iterator to get the next item from the set.  <a href="#a94db9bb998a78669c4a72c1b50d42db0">More...</a><br /></td></tr>
<tr class="separator:a94db9bb998a78669c4a72c1b50d42db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac59a7252afac4eb2b22e096ffdedd7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#aac59a7252afac4eb2b22e096ffdedd7b">line_item_iter_current</a> )(<a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *it)</td></tr>
<tr class="memdesc:aac59a7252afac4eb2b22e096ffdedd7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the log_line iterator to get the current item from the set.  <a href="#aac59a7252afac4eb2b22e096ffdedd7b">More...</a><br /></td></tr>
<tr class="separator:aac59a7252afac4eb2b22e096ffdedd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13859514f4769783e3573e188fd31f56"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a13859514f4769783e3573e188fd31f56">line_submit</a> )(<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td></tr>
<tr class="memdesc:a13859514f4769783e3573e188fd31f56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complete, filter, and write submitted log items.  <a href="#a13859514f4769783e3573e188fd31f56">More...</a><br /></td></tr>
<tr class="separator:a13859514f4769783e3573e188fd31f56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46a7986d870cf4827ca17e54eca2c83f"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a46a7986d870cf4827ca17e54eca2c83f">message</a> )(int <a class="el" href="mi__log_8cc.html#ad1e2a6d9014a2af70dfa80ce7b69d4b0">log_type</a>,...)</td></tr>
<tr class="memdesc:a46a7986d870cf4827ca17e54eca2c83f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit a log-message for log "log_type".  <a href="#a46a7986d870cf4827ca17e54eca2c83f">More...</a><br /></td></tr>
<tr class="separator:a46a7986d870cf4827ca17e54eca2c83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5691355d0f13c7674fe374c4707348d0"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a5691355d0f13c7674fe374c4707348d0">sanitize</a> )(<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li)</td></tr>
<tr class="memdesc:a5691355d0f13c7674fe374c4707348d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Escape \0 bytes, add \0 terminator.  <a href="#a5691355d0f13c7674fe374c4707348d0">More...</a><br /></td></tr>
<tr class="separator:a5691355d0f13c7674fe374c4707348d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6817a4d21c5b9d7430b8684d48210159"><td class="memItemLeft" align="right" valign="top">const char *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a6817a4d21c5b9d7430b8684d48210159">errmsg_by_errcode</a> )(int mysql_errcode)</td></tr>
<tr class="memdesc:a6817a4d21c5b9d7430b8684d48210159"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return MySQL error message for a given error code.  <a href="#a6817a4d21c5b9d7430b8684d48210159">More...</a><br /></td></tr>
<tr class="separator:a6817a4d21c5b9d7430b8684d48210159"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad612c5ea1022476c6fbd5ecc7210f1cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#ad612c5ea1022476c6fbd5ecc7210f1cf">errcode_by_errsymbol</a> )(const char *sym)</td></tr>
<tr class="memdesc:ad612c5ea1022476c6fbd5ecc7210f1cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return MySQL error code for a given error symbol.  <a href="#ad612c5ea1022476c6fbd5ecc7210f1cf">More...</a><br /></td></tr>
<tr class="separator:ad612c5ea1022476c6fbd5ecc7210f1cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699fa485c233d1387754b49ea0b3f561"><td class="memItemLeft" align="right" valign="top">const char *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a699fa485c233d1387754b49ea0b3f561">label_from_prio</a> )(int prio)</td></tr>
<tr class="memdesc:a699fa485c233d1387754b49ea0b3f561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function: Derive a log label ("error", "warning", "information") from a severity.  <a href="#a699fa485c233d1387754b49ea0b3f561">More...</a><br /></td></tr>
<tr class="separator:a699fa485c233d1387754b49ea0b3f561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0daa3c3c236c7e6b130a0726f9a07fe9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a0daa3c3c236c7e6b130a0726f9a07fe9">parse_iso8601_timestamp</a> )(const char *<a class="el" href="persisted__variable_8cc.html#a7ae4492f386ecb304442670d1dee0f0d">timestamp</a>, size_t len)</td></tr>
<tr class="memdesc:a0daa3c3c236c7e6b130a0726f9a07fe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a ISO8601 timestamp and return the number of microseconds since the epoch.  <a href="#a0daa3c3c236c7e6b130a0726f9a07fe9">More...</a><br /></td></tr>
<tr class="separator:a0daa3c3c236c7e6b130a0726f9a07fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa72d61a50676cf05b881fbd1a2f8788a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__service_8h.html#ae4871f54cbb0619a0c304c2818298685">log_service_error</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#aa72d61a50676cf05b881fbd1a2f8788a">open_errstream</a> )(const char *name_or_ext, void **my_errstream)</td></tr>
<tr class="memdesc:aa72d61a50676cf05b881fbd1a2f8788a"><td class="mdescLeft">&#160;</td><td class="mdescRight">open an error log file  <a href="#aa72d61a50676cf05b881fbd1a2f8788a">More...</a><br /></td></tr>
<tr class="separator:aa72d61a50676cf05b881fbd1a2f8788a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395c6b29b841846285a1ff5bc287d42a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__service_8h.html#ae4871f54cbb0619a0c304c2818298685">log_service_error</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a395c6b29b841846285a1ff5bc287d42a">write_errstream</a> )(void *my_errstream, const char *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t length)</td></tr>
<tr class="memdesc:a395c6b29b841846285a1ff5bc287d42a"><td class="mdescLeft">&#160;</td><td class="mdescRight">write to an error log file previously opened with open_errstream()  <a href="#a395c6b29b841846285a1ff5bc287d42a">More...</a><br /></td></tr>
<tr class="separator:a395c6b29b841846285a1ff5bc287d42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a043d439cbacb533689883c748ec16fcd"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a043d439cbacb533689883c748ec16fcd">dedicated_errstream</a> )(void *my_errstream)</td></tr>
<tr class="memdesc:a043d439cbacb533689883c748ec16fcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">are we writing to a dedicated errstream, or are we sharing it?  <a href="#a043d439cbacb533689883c748ec16fcd">More...</a><br /></td></tr>
<tr class="separator:a043d439cbacb533689883c748ec16fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3e5dc8a0dced92b97ba1b6648e3047"><td class="memItemLeft" align="right" valign="top"><a class="el" href="log__service_8h.html#ae4871f54cbb0619a0c304c2818298685">log_service_error</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__mysql__log__builtins.html#a0e3e5dc8a0dced92b97ba1b6648e3047">close_errstream</a> )(void **my_errstream)</td></tr>
<tr class="memdesc:a0e3e5dc8a0dced92b97ba1b6648e3047"><td class="mdescLeft">&#160;</td><td class="mdescRight">close an error log file previously opened with open_errstream()  <a href="#a0e3e5dc8a0dced92b97ba1b6648e3047">More...</a><br /></td></tr>
<tr class="separator:a0e3e5dc8a0dced92b97ba1b6648e3047"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This defines built-in functions for use by logging services. </p>
<p>These helpers are organized into a number of APIs grouping related functionality.</p>
<p>For documentation of the individual functions, see log_builtins.cc Primitives for services to interact with the structured logger: functions pertaining to log_line and log_item data </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a0e3e5dc8a0dced92b97ba1b6648e3047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3e5dc8a0dced92b97ba1b6648e3047">&#9670;&nbsp;</a></span>close_errstream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__service_8h.html#ae4871f54cbb0619a0c304c2818298685">log_service_error</a>(*  s_mysql_log_builtins::close_errstream) (void **my_errstream)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close an error log file previously opened with open_errstream() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">my_stream</td><td>a handle describing the log file</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_SERVICE_SUCCESS</td><td>success </td></tr>
    <tr><td class="paramname">otherwise</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a043d439cbacb533689883c748ec16fcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a043d439cbacb533689883c748ec16fcd">&#9670;&nbsp;</a></span>dedicated_errstream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(*  s_mysql_log_builtins::dedicated_errstream) (void *my_errstream)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>are we writing to a dedicated errstream, or are we sharing it? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">my_errstream</td><td>a handle describing the log file</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>not dedicated (multiplexed, stderr, ...) </td></tr>
    <tr><td class="paramname">1</td><td>dedicated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad612c5ea1022476c6fbd5ecc7210f1cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad612c5ea1022476c6fbd5ecc7210f1cf">&#9670;&nbsp;</a></span>errcode_by_errsymbol</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a>(*  s_mysql_log_builtins::errcode_by_errsymbol) (const char *sym)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return MySQL error code for a given error symbol. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sym</td><td>the symbol to look up</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>failure </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>the MySQL error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6817a4d21c5b9d7430b8684d48210159"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6817a4d21c5b9d7430b8684d48210159">&#9670;&nbsp;</a></span>errmsg_by_errcode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(*  s_mysql_log_builtins::errmsg_by_errcode) (int mysql_errcode)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return MySQL error message for a given error code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mysql_errcode</td><td>the error code the message for which to look up</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>message (a printf-style format string) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1ee808df88510795e92950484d3d75fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ee808df88510795e92950484d3d75fd">&#9670;&nbsp;</a></span>item_generic_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*  s_mysql_log_builtins::item_generic_type) (<a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate used to determine whether a type is generic (generic string, generic float, generic integer) rather than a well-known type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>log item type to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if generic type </td></tr>
    <tr><td class="paramname">false</td><td>if wellknown type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0b22798a26763884049292724cc80ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b22798a26763884049292724cc80ab1">&#9670;&nbsp;</a></span>item_inconsistent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(*  s_mysql_log_builtins::item_inconsistent) (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sanity check an item. </p>
<p>Certain log sinks have very low requirements with regard to the data they receive; they write keys as strings, and then data according to the item's class (string, integer, or float), formatted to the sink's standards (e.g. JSON, XML, ...). Code that has higher requirements can use this check to see whether the given item is of a known type (whether generic or wellknown), whether the given type and class agree, and whether in case of a well-known type, the given key is correct for that type. If your code generates items that don't pass this check, you should probably go meditate on it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">li</td><td>the log_item to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_ITEM_OK</td><td>no problems </td></tr>
    <tr><td class="paramname">LOG_ITEM_TYPE_NOT_FOUND</td><td>unknown item type </td></tr>
    <tr><td class="paramname">LOG_ITEM_CLASS_MISMATCH</td><td>item_class derived from type isn't what's set on the item </td></tr>
    <tr><td class="paramname">LOG_ITEM_KEY_MISMATCH</td><td>class not generic, so key should match wellknown </td></tr>
    <tr><td class="paramname">LOG_ITEM_STRING_NULL</td><td>class is string, pointer is nullptr </td></tr>
    <tr><td class="paramname">LOG_ITEM_KEY_NULL</td><td>no key set (this is legal e.g. on aux items of filter rules, but should not occur in a log_line, i.e., log_sinks are within their rights to discard such items) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad5ca8b39023439a3efb273c01810a570"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ca8b39023439a3efb273c01810a570">&#9670;&nbsp;</a></span>item_numeric_class</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*  s_mysql_log_builtins::item_numeric_class) (<a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a> c)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate used to determine whether a class is a numeric class (integer or float). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>log item class to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if of a numeric class </td></tr>
    <tr><td class="paramname">false</td><td>if not of a numeric class </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a73c98ee17e884f4f3563234d8bcefc25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c98ee17e884f4f3563234d8bcefc25">&#9670;&nbsp;</a></span>item_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a>*(*  s_mysql_log_builtins::item_set) (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>As log_item_set_with_key(), except that the key is automatically derived from the wellknown log_item_type t. </p>
<p>Create new log item with type "t". Will return a pointer to the item's log_item_data struct for convenience. This is mostly interesting for filters and other services that create items that are not part of a log_line; sources etc. that intend to create an item for a log_line (the more common case) should usually use the below line_item_set_with_key() which creates an item (like this function does), but also correctly inserts it into a log_line.</p>
<p>The allocation of this item will be LOG_ITEM_FREE_NONE; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">li</td><td>the log_item to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the log_item's log_data, for easy chaining: log_item_set_with_key(...)-&gt;data_integer= 1; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a683dc15b4de2e18319e0319415310385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a683dc15b4de2e18319e0319415310385">&#9670;&nbsp;</a></span>item_set_cstring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*  s_mysql_log_builtins::item_set_cstring) (<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, const char *s)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a string value on a log_item. </p>
<p>Fails gracefully if no log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">s</td><td>pointer to NTBS</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a368b45e3de2b96e08858f235936b8312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a368b45e3de2b96e08858f235936b8312">&#9670;&nbsp;</a></span>item_set_float</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*  s_mysql_log_builtins::item_set_float) (<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, double f)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a floating point value on a log_item. </p>
<p>Fails gracefully if no log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">f</td><td>float to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a470ac95b608f3011433aff160753fd9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470ac95b608f3011433aff160753fd9e">&#9670;&nbsp;</a></span>item_set_int</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*  s_mysql_log_builtins::item_set_int) (<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> i)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set an integer value on a log_item. </p>
<p>Fails gracefully if no log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">i</td><td>integer to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1fbadc09e2d37ced4999f580eaafa5b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fbadc09e2d37ced4999f580eaafa5b5">&#9670;&nbsp;</a></span>item_set_lexstring</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*  s_mysql_log_builtins::item_set_lexstring) (<a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a> *lid, const char *s, size_t s_len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a string value on a log_item. </p>
<p>Fails gracefully if no log_item_data is supplied, so it can safely wrap log_line_item_set[_with_key]().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lid</td><td>log_item_data struct to set the value on </td></tr>
    <tr><td class="paramname">s</td><td>pointer to string </td></tr>
    <tr><td class="paramname">s_len</td><td>length of string</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>lid was nullptr (possibly: OOM, could not set up log_item) </td></tr>
    <tr><td class="paramname">false</td><td>all's well </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1334955433692a5d36479bc06db7f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1334955433692a5d36479bc06db7f85">&#9670;&nbsp;</a></span>item_set_with_key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a>*(*  s_mysql_log_builtins::item_set_with_key) (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t, const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> alloc)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create new log item with key name "key", and allocation flags of "alloc" (see enum_log_item_free). </p>
<p>Will return a pointer to the item's log_item_data struct for convenience. This is mostly interesting for filters and other services that create items that are not part of a log_line; sources etc. that intend to create an item for a log_line (the more common case) should usually use the below line_item_set_with_key() which creates an item (like this function does), but also correctly inserts it into a log_line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">li</td><td>the log_item to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type </td></tr>
    <tr><td class="paramname">key</td><td>the key to set on the item. ignored for non-generic types (may pass nullptr for those) see alloc </td></tr>
    <tr><td class="paramname">alloc</td><td>LOG_ITEM_FREE_KEY if key was allocated by caller LOG_ITEM_FREE_NONE if key was not allocated Allocated keys will automatically free()d when the log_item is. The log_item's alloc flags will be set to the submitted value; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the log_item's log_data, for easy chaining: log_item_set_with_key(...)-&gt;data_integer= 1; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1fd03be5646fe374bad8636b19dffa69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fd03be5646fe374bad8636b19dffa69">&#9670;&nbsp;</a></span>item_string_class</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>(*  s_mysql_log_builtins::item_string_class) (<a class="el" href="log__shared_8h.html#a0c7b7faf8aeff20daff447cc877089c0">log_item_class</a> c)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate used to determine whether a class is a string class (C-string or Lex-string). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>log item class to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if of a string class </td></tr>
    <tr><td class="paramname">false</td><td>if not of a string class </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a699fa485c233d1387754b49ea0b3f561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a699fa485c233d1387754b49ea0b3f561">&#9670;&nbsp;</a></span>label_from_prio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(*  s_mysql_log_builtins::label_from_prio) (int prio)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience function: Derive a log label ("error", "warning", "information") from a severity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prio</td><td>the severity/prio in question</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a label corresponding to that priority. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">System</td><td>for prio of SYSTEM_LEVEL </td></tr>
    <tr><td class="paramname">Error</td><td>for prio of ERROR_LEVEL </td></tr>
    <tr><td class="paramname">Warning</td><td>for prio of WARNING_LEVEL </td></tr>
    <tr><td class="paramname">Note</td><td>for prio of INFORMATION_LEVEL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad8376d0324c81a05d5b3d9afcdafdeb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8376d0324c81a05d5b3d9afcdafdeb6">&#9670;&nbsp;</a></span>line_exit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(*  s_mysql_log_builtins::line_exit) (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a log_line allocated with line_init() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>a log_line previously allocated with line_init() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f774f19c5922c8b297bcbeb6435c512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f774f19c5922c8b297bcbeb6435c512">&#9670;&nbsp;</a></span>line_get_output_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a>*(*  s_mysql_log_builtins::line_get_output_buffer) (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get log-line's output buffer. </p>
<p>If the logger core provides this buffer, the log-service may use it to assemble its output therein and implicitly return it to the core. Participation is required for services that support populating performance_schema.error_log, and optional for all others.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nullptr</td><td>success, an output buffer is available </td></tr>
    <tr><td class="paramname">otherwise</td><td>failure, no output buffer is available </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aee7d3146c6e2dab94ebb5a2cfce23013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee7d3146c6e2dab94ebb5a2cfce23013">&#9670;&nbsp;</a></span>line_init</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a>*(*  s_mysql_log_builtins::line_init) ()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dynamically allocate and initialize a log_line. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nullptr</td><td>could not set up buffer (too small?) </td></tr>
    <tr><td class="paramname">other</td><td>address of the newly initialized log_line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3676fefd9858510f518aa13e12316278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3676fefd9858510f518aa13e12316278">&#9670;&nbsp;</a></span>line_item_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(*  s_mysql_log_builtins::line_item_count) (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>How many items are currently set on the given log_line? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log-line to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>number of items set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adcc6fce8a46ef060de8eecb232f77656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc6fce8a46ef060de8eecb232f77656">&#9670;&nbsp;</a></span>line_item_iter_acquire</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a>*(*  s_mysql_log_builtins::line_item_iter_acquire) (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an iterator for the items in a log_line. </p>
<p>For now, only one iterator may exist per log_line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>log_iter_iter, or nullptr on failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac59a7252afac4eb2b22e096ffdedd7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac59a7252afac4eb2b22e096ffdedd7b">&#9670;&nbsp;</a></span>line_item_iter_current</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a>*(*  s_mysql_log_builtins::line_item_iter_current) (<a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *it)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the log_line iterator to get the current item from the set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>the iterator to use</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">pointer</td><td>to the current log_item in the collection, or nullptr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf55e5637cb08da234e42da42ac8eef3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf55e5637cb08da234e42da42ac8eef3">&#9670;&nbsp;</a></span>line_item_iter_first</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a>*(*  s_mysql_log_builtins::line_item_iter_first) (<a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *it)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the log_line iterator to get the first item from the set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>the iterator to use</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">pointer</td><td>to the first log_item in the collection, or nullptr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a94db9bb998a78669c4a72c1b50d42db0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94db9bb998a78669c4a72c1b50d42db0">&#9670;&nbsp;</a></span>line_item_iter_next</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a>*(*  s_mysql_log_builtins::line_item_iter_next) (<a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *it)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the log_line iterator to get the next item from the set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>the iterator to use</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">pointer</td><td>to the next log_item in the collection, or nullptr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac3cbe56172acb8addd2b9b29afa661a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac3cbe56172acb8addd2b9b29afa661a">&#9670;&nbsp;</a></span>line_item_iter_release</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(*  s_mysql_log_builtins::line_item_iter_release) (<a class="el" href="log__shared_8h.html#a3a4bbbba19baec48b6bd3510b019e9c5">log_item_iter</a> *it)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release an iterator for the items in a log_line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">it</td><td>the iterator to release </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a572dfcc60af8cb287c65410e2e43243a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a572dfcc60af8cb287c65410e2e43243a">&#9670;&nbsp;</a></span>line_item_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a>*(*  s_mysql_log_builtins::line_item_set) (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new log item of well-known type "t" in log line "ll". </p>
<p>On success, the number of registered items on the log line is increased, the item's type is added to the log_line's "seen" property, and a pointer to the item's log_item_data struct is returned for convenience.</p>
<p>The allocation of this item will be LOG_ITEM_FREE_NONE; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the log_item's log_data, for easy chaining: log_line_item_set_with_key(...)-&gt;data_integer= 1; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1ab377c0a908a0cf3a1ae7def6527cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab377c0a908a0cf3a1ae7def6527cd0">&#9670;&nbsp;</a></span>line_item_set_with_key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#a5b331f7bebb7080412f104d3ee434c1f">log_item_data</a>*(*  s_mysql_log_builtins::line_item_set_with_key) (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t, const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> alloc)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create new log item in log line "ll", with key name "key", and allocation flags of "alloc" (see enum_log_item_free). </p>
<p>On success, the number of registered items on the log line is increased, the item's type is added to the log_line's "seen" property, and a pointer to the item's log_item_data struct is returned for convenience.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to work on </td></tr>
    <tr><td class="paramname">t</td><td>the item-type </td></tr>
    <tr><td class="paramname">key</td><td>the key to set on the item. ignored for non-generic types (may pass nullptr for those) see alloc </td></tr>
    <tr><td class="paramname">alloc</td><td>LOG_ITEM_FREE_KEY if key was allocated by caller LOG_ITEM_FREE_NONE if key was not allocated Allocated keys will automatically free()d when the log_item is. The log_item's alloc flags will be set to the submitted value; specifically, any pre-existing value will be clobbered. It is therefore WRONG a) to use this on a log_item that already has a key; it should only be used on freshly init'd log_items; b) to use this on a log_item that already has a value (specifically, an allocated one); the correct order is to init a log_item, then set up type and key, and finally to set the value. If said value is an allocated string, the log_item's alloc should be bitwise or'd with LOG_ITEM_FREE_VALUE.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the log_item's log_data, for easy chaining: log_line_item_set_with_key(...)-&gt;data_integer= 1; </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1712dae6599f7b63ce089c376ac06167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1712dae6599f7b63ce089c376ac06167">&#9670;&nbsp;</a></span>line_item_types_seen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#af03da2cb6c6eadac3c6f59b2a629eeee">log_item_type_mask</a>(*  s_mysql_log_builtins::line_item_types_seen) (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll, <a class="el" href="log__shared_8h.html#af03da2cb6c6eadac3c6f59b2a629eeee">log_item_type_mask</a> m)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test whether a given type is presumed present on the log line. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>the log_line to examine </td></tr>
    <tr><td class="paramname">m</td><td>the log_type to test for</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>not present </td></tr>
    <tr><td class="paramname">!=0</td><td>present </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a13859514f4769783e3573e188fd31f56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13859514f4769783e3573e188fd31f56">&#9670;&nbsp;</a></span>line_submit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(*  s_mysql_log_builtins::line_submit) (<a class="el" href="log__shared_8h.html#abef61f7610a42c29cd8b3a92f391143f">log_line</a> *ll)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Complete, filter, and write submitted log items. </p>
<p>This expects a log_line collection of log-related key/value pairs, e.g. from log_message().</p>
<p>Where missing, timestamp, priority, thread-ID (if any) and so forth are added.</p>
<p>Log item source services, log item filters, and log item sinks are then called; then all applicable resources are freed.</p>
<p>This interface is intended to facilitate the building of submission interfaces other than the variadic message() one below. See the example fluent C++ LogEvent() wrapper for an example of how to leverage it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>key/value pairs describing info to log</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>number of fields in created log line </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a46a7986d870cf4827ca17e54eca2c83f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46a7986d870cf4827ca17e54eca2c83f">&#9670;&nbsp;</a></span>message</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(*  s_mysql_log_builtins::message) (int <a class="el" href="mi__log_8cc.html#ad1e2a6d9014a2af70dfa80ce7b69d4b0">log_type</a>,...)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Submit a log-message for log "log_type". </p>
<p>Variadic convenience function for logging.</p>
<p>This fills in the array that is used by the filter and log-writer services. Where missing, timestamp, priority, and thread-ID (if any) are added. Log item source services, log item filters, and log item writers are called.</p>
<p>The variadic list accepts a list of "assignments" of the form</p><ul>
<li>log_item_type, value, for well-known types, and</li>
<li>log_item_type, key, value, for ad-hoc types (LOG_ITEM_GEN_*)</li>
</ul>
<p>As its last item, the list should have</p><ul>
<li><p class="startli">an element of type LOG_ITEM_LOG_MESSAGE, containing a printf-style format string, followed by all variables necessary to satisfy the substitutions in that string</p>
<p class="startli">OR</p>
</li>
<li><p class="startli">an element of type LOG_ITEM_LOG_LOOKUP, containing a MySQL error code, which will be looked up in the list or regular error messages, followed by all variables necessary to satisfy the substitutions in that string</p>
<p class="startli">OR</p>
</li>
<li>an element of type LOG_ITEM_LOG_VERBATIM, containing a string that will be used directly, with no % substitutions</li>
</ul>
<p>see log_vmessage() for more information. </p>

</div>
</div>
<a id="aa72d61a50676cf05b881fbd1a2f8788a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa72d61a50676cf05b881fbd1a2f8788a">&#9670;&nbsp;</a></span>open_errstream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__service_8h.html#ae4871f54cbb0619a0c304c2818298685">log_service_error</a>(*  s_mysql_log_builtins::open_errstream) (const char *name_or_ext, void **my_errstream)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>open an error log file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name_or_ext</td><td>if beginning with '.': @global.log_error, except with this extension otherwise: use this as file name in the same location as @global.log_error</td></tr>
  </table>
  </dd>
</dl>
<p>Value not contain folder separators!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">my_errstream</td><td>an error log handle, or nullptr on failure</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_SERVICE_SUCCESS</td><td>success </td></tr>
    <tr><td class="paramname">LOG_SERVICE_INVALID_ARGUMENT</td><td>no my_errstream, or bad log name </td></tr>
    <tr><td class="paramname">LOG_SERVICE_OUT_OF_MEMORY</td><td>could not allocate file handle </td></tr>
    <tr><td class="paramname">LOG_SERVICE_LOCK_ERROR</td><td>couldn't lock lock </td></tr>
    <tr><td class="paramname">LOG_SERVICE_UNABLE_TO_WRITE</td><td>couldn't write to given location </td></tr>
    <tr><td class="paramname">LOG_SERVICE_COULD_NOT_MAKE_LOG_NAME</td><td>could not make log name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0daa3c3c236c7e6b130a0726f9a07fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0daa3c3c236c7e6b130a0726f9a07fe9">&#9670;&nbsp;</a></span>parse_iso8601_timestamp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>(*  s_mysql_log_builtins::parse_iso8601_timestamp) (const char *<a class="el" href="persisted__variable_8cc.html#a7ae4492f386ecb304442670d1dee0f0d">timestamp</a>, size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a ISO8601 timestamp and return the number of microseconds since the epoch. </p>
<p>Heeds +/- timezone info if present.</p>
<dl class="section see"><dt>See also</dt><dd>make_iso8601_timestamp()</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timestamp</td><td>an ASCII string containing an ISO8601 timestamp </td></tr>
    <tr><td class="paramname">len</td><td>Length in bytes of the aforementioned string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>microseconds since the epoch </dd></dl>

</div>
</div>
<a id="a5691355d0f13c7674fe374c4707348d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5691355d0f13c7674fe374c4707348d0">&#9670;&nbsp;</a></span>sanitize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(*  s_mysql_log_builtins::sanitize) (<a class="el" href="log__shared_8h.html#ad21911bb1e1fa9dd868e83040531f7e8">log_item</a> *li)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Escape \0 bytes, add \0 terminator. </p>
<p>For log-writers and other sinks that terminate in an API using C-strings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">li</td><td>list_item to process</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>out of memory </td></tr>
    <tr><td class="paramname">0</td><td>success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9db97b81c7df2b9552cbd32f0ecfcd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9db97b81c7df2b9552cbd32f0ecfcd8">&#9670;&nbsp;</a></span>wellknown_by_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(*  s_mysql_log_builtins::wellknown_by_name) (const char *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, size_t length)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See whether a string is a wellknown field name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>potential key starts here </td></tr>
    <tr><td class="paramname">length</td><td>length of the string to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_ITEM_TYPE_RESERVED</td><td>reserved, but not "wellknown" key </td></tr>
    <tr><td class="paramname">LOG_ITEM_TYPE_NOT_FOUND</td><td>key not found </td></tr>
    <tr><td class="paramname">&gt;0</td><td>index in array of wellknowns </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abb9fef5d3626faf6de7150cadd36e23f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb9fef5d3626faf6de7150cadd36e23f">&#9670;&nbsp;</a></span>wellknown_by_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(*  s_mysql_log_builtins::wellknown_by_type) (<a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a> t)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See whether a type is wellknown. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>log item type to examine</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_ITEM_TYPE_NOT_FOUND</td><td>key not found </td></tr>
    <tr><td class="paramname">&gt;0</td><td>index in array of wellknowns </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f135ab20724795c64fa123a5b28d113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f135ab20724795c64fa123a5b28d113">&#9670;&nbsp;</a></span>wellknown_get_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(*  s_mysql_log_builtins::wellknown_get_name) (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessor: from a record describing a wellknown key, get its name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>index in array of wellknowns, see log_item_wellknown_by_...()</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">name</td><td>(NTBS) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a84772f885861175353ff2de7d693c653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84772f885861175353ff2de7d693c653">&#9670;&nbsp;</a></span>wellknown_get_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__shared_8h.html#ade5f8c741c3fdee8549c24d43fba98bd">log_item_type</a>(*  s_mysql_log_builtins::wellknown_get_type) (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> idx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accessor: from a record describing a wellknown key, get its type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">idx</td><td>index in array of wellknowns, see log_item_wellknown_by_...()</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>log item type for the wellknown key </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a395c6b29b841846285a1ff5bc287d42a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a395c6b29b841846285a1ff5bc287d42a">&#9670;&nbsp;</a></span>write_errstream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="log__service_8h.html#ae4871f54cbb0619a0c304c2818298685">log_service_error</a>(*  s_mysql_log_builtins::write_errstream) (void *my_errstream, const char *<a class="el" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, size_t length)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write to an error log file previously opened with open_errstream() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">my_errstream</td><td>a handle describing the log file </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer to the string to write </td></tr>
    <tr><td class="paramname">length</td><td>length of the string to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LOG_SERVICE_SUCCESS</td><td>success </td></tr>
    <tr><td class="paramname">otherwise</td><td>failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/mysql/components/services/<a class="el" href="log__builtins_8h_source.html">log_builtins.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structs__mysql__log__builtins.html">s_mysql_log_builtins</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
