<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/sync/sync0rw.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sync0rw_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sync0rw.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The read-write lock (for thread synchronization)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sync0rw_8h_source.html">sync0rw.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ha__prototypes_8h_source.html">ha_prototypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem0mem_8h_source.html">mem0mem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0event_8h_source.html">os0event.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0thread_8h_source.html">os0thread.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0mon_8h_source.html">srv0mon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0srv_8h_source.html">srv0srv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sync0debug_8h_source.html">sync0debug.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae430ae7b1b4c53a77c3e8333e0e43f87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#ae430ae7b1b4c53a77c3e8333e0e43f87">rw_lock_x_lock_wait</a>(<a class="el" href="ctype-tis620_8cc.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>,  <a class="el" href="dtoa_8cc.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>,  T,  F,  O)&#160;&#160;&#160;<a class="el" href="sync0rw_8cc.html#a6f102c53c6afd52725fa916def76a82d">rw_lock_x_lock_wait_func</a>(<a class="el" href="ctype-tis620_8cc.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>, <a class="el" href="dtoa_8cc.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, T, F, O)</td></tr>
<tr class="separator:ae430ae7b1b4c53a77c3e8333e0e43f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a528d102f2a77d974ced2d547d11046f9"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="structrw__lock__debug__t.html">rw_lock_debug_t</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a528d102f2a77d974ced2d547d11046f9">Infos</a></td></tr>
<tr class="memdesc:a528d102f2a77d974ced2d547d11046f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">For collecting the debug information for a thread's rw-lock.  <a href="#a528d102f2a77d974ced2d547d11046f9">More...</a><br /></td></tr>
<tr class="separator:a528d102f2a77d974ced2d547d11046f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8fe0a29cb492ce42ab94c08a2fb83dc1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structrw__lock__debug__t.html">rw_lock_debug_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a8fe0a29cb492ce42ab94c08a2fb83dc1">rw_lock_debug_create</a> (void)</td></tr>
<tr class="memdesc:a8fe0a29cb492ce42ab94c08a2fb83dc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a debug info struct.  <a href="#a8fe0a29cb492ce42ab94c08a2fb83dc1">More...</a><br /></td></tr>
<tr class="separator:a8fe0a29cb492ce42ab94c08a2fb83dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1c5adf9764b8cec884d31d879c47ce1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#ab1c5adf9764b8cec884d31d879c47ce1">rw_lock_debug_free</a> (<a class="el" href="structrw__lock__debug__t.html">rw_lock_debug_t</a> *<a class="el" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>)</td></tr>
<tr class="memdesc:ab1c5adf9764b8cec884d31d879c47ce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees a debug info struct.  <a href="#ab1c5adf9764b8cec884d31d879c47ce1">More...</a><br /></td></tr>
<tr class="separator:ab1c5adf9764b8cec884d31d879c47ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157576de78e420e98a309fcd4ed6e3fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a157576de78e420e98a309fcd4ed6e3fc">rw_lock_create_func</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, <a class="el" href="sync0types_8h.html#a90b80adb6be14e0e67189518b5185e89">latch_level_t</a> level, const char *cmutex_name, const char *cfile_name, ulint cline)</td></tr>
<tr class="memdesc:a157576de78e420e98a309fcd4ed6e3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates, or rather, initializes an rw-lock object in a specified memory location (which must be appropriately aligned).  <a href="#a157576de78e420e98a309fcd4ed6e3fc">More...</a><br /></td></tr>
<tr class="separator:a157576de78e420e98a309fcd4ed6e3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9827872505d65c6344e9d6a759eeeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a0c9827872505d65c6344e9d6a759eeeb">rw_lock_free_func</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock)</td></tr>
<tr class="memdesc:a0c9827872505d65c6344e9d6a759eeeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calling this function is obligatory only if the memory buffer containing the rw-lock is freed.  <a href="#a0c9827872505d65c6344e9d6a759eeeb">More...</a><br /></td></tr>
<tr class="separator:a0c9827872505d65c6344e9d6a759eeeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21003dd6ab46f793e6b2b6e65707cee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#ad21003dd6ab46f793e6b2b6e65707cee">rw_lock_s_lock_spin</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint pass, const char *file_name, ulint line)</td></tr>
<tr class="memdesc:ad21003dd6ab46f793e6b2b6e65707cee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock an rw-lock in shared mode for the current thread.  <a href="#ad21003dd6ab46f793e6b2b6e65707cee">More...</a><br /></td></tr>
<tr class="separator:ad21003dd6ab46f793e6b2b6e65707cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef4026325be1e4aa93e0ac64e8796db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#afef4026325be1e4aa93e0ac64e8796db">rw_lock_x_lock_move_ownership</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock)</td></tr>
<tr class="memdesc:afef4026325be1e4aa93e0ac64e8796db"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used in the insert buffer to move the ownership of an x-latch on a buffer frame to the current thread.  <a href="#afef4026325be1e4aa93e0ac64e8796db">More...</a><br /></td></tr>
<tr class="separator:afef4026325be1e4aa93e0ac64e8796db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f102c53c6afd52725fa916def76a82d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a6f102c53c6afd52725fa916def76a82d">rw_lock_x_lock_wait_func</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint pass, lint threshold, const char *file_name, ulint line)</td></tr>
<tr class="memdesc:a6f102c53c6afd52725fa916def76a82d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for the next writer to call.  <a href="#a6f102c53c6afd52725fa916def76a82d">More...</a><br /></td></tr>
<tr class="separator:a6f102c53c6afd52725fa916def76a82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa293b3180d9a05b2b7996055e7a7917d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#aa293b3180d9a05b2b7996055e7a7917d">rw_lock_x_lock_low</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint pass, const char *file_name, ulint line)</td></tr>
<tr class="memdesc:aa293b3180d9a05b2b7996055e7a7917d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low-level function for acquiring an exclusive lock.  <a href="#aa293b3180d9a05b2b7996055e7a7917d">More...</a><br /></td></tr>
<tr class="separator:aa293b3180d9a05b2b7996055e7a7917d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace332860f04c623e42064947d3a71f9a"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#ace332860f04c623e42064947d3a71f9a">rw_lock_sx_lock_low</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint pass, const char *file_name, ulint line)</td></tr>
<tr class="memdesc:ace332860f04c623e42064947d3a71f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low-level function for acquiring an sx lock.  <a href="#ace332860f04c623e42064947d3a71f9a">More...</a><br /></td></tr>
<tr class="separator:ace332860f04c623e42064947d3a71f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17cd4828a3d408fcfad1b1e5f05a9d4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a17cd4828a3d408fcfad1b1e5f05a9d4d">rw_lock_x_lock_func</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint pass, const char *file_name, ulint line)</td></tr>
<tr class="memdesc:a17cd4828a3d408fcfad1b1e5f05a9d4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">NOTE! Use the corresponding macro, not directly this function! Lock an rw-lock in exclusive mode for the current thread.  <a href="#a17cd4828a3d408fcfad1b1e5f05a9d4d">More...</a><br /></td></tr>
<tr class="separator:a17cd4828a3d408fcfad1b1e5f05a9d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59d74973ed44fb479ba8df6c5ab8b4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#aa59d74973ed44fb479ba8df6c5ab8b4c">rw_lock_sx_lock_func</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint pass, const char *file_name, ulint line)</td></tr>
<tr class="memdesc:aa59d74973ed44fb479ba8df6c5ab8b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">NOTE! Use the corresponding macro, not directly this function! Lock an rw-lock in SX mode for the current thread.  <a href="#aa59d74973ed44fb479ba8df6c5ab8b4c">More...</a><br /></td></tr>
<tr class="separator:aa59d74973ed44fb479ba8df6c5ab8b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f5c94ef49e51beb4e3de79062f25be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#ab6f5c94ef49e51beb4e3de79062f25be">rw_lock_validate</a> (const <a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock)</td></tr>
<tr class="memdesc:ab6f5c94ef49e51beb4e3de79062f25be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the rw-lock has been initialized and that there are no simultaneous shared and exclusive locks.  <a href="#ab6f5c94ef49e51beb4e3de79062f25be">More...</a><br /></td></tr>
<tr class="separator:ab6f5c94ef49e51beb4e3de79062f25be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c54ece3002efbfce4f1ae57705383f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a0c54ece3002efbfce4f1ae57705383f9">rw_lock_is_locked</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint lock_type)</td></tr>
<tr class="memdesc:a0c54ece3002efbfce4f1ae57705383f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if somebody has locked the rw-lock in the specified mode.  <a href="#a0c54ece3002efbfce4f1ae57705383f9">More...</a><br /></td></tr>
<tr class="separator:a0c54ece3002efbfce4f1ae57705383f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c8e5eec6e82492f641637172455f784"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a4c8e5eec6e82492f641637172455f784">rw_lock_add_debug_info</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint pass, ulint lock_type, const char *file_name, ulint line)</td></tr>
<tr class="memdesc:a4c8e5eec6e82492f641637172455f784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts the debug information for an rw-lock.  <a href="#a4c8e5eec6e82492f641637172455f784">More...</a><br /></td></tr>
<tr class="separator:a4c8e5eec6e82492f641637172455f784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209a1c4372150d4b1598768eaa060e7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a209a1c4372150d4b1598768eaa060e7f">rw_lock_remove_debug_info</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint pass, ulint lock_type)</td></tr>
<tr class="memdesc:a209a1c4372150d4b1598768eaa060e7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a debug information struct for an rw-lock.  <a href="#a209a1c4372150d4b1598768eaa060e7f">More...</a><br /></td></tr>
<tr class="separator:a209a1c4372150d4b1598768eaa060e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7b5b80fccd18515f08dd868ffb1692"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a7e7b5b80fccd18515f08dd868ffb1692">rw_lock_own</a> (<a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, ulint lock_type)</td></tr>
<tr class="memdesc:a7e7b5b80fccd18515f08dd868ffb1692"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the thread has locked the rw-lock in the specified mode, with the pass value == 0.  <a href="#a7e7b5b80fccd18515f08dd868ffb1692">More...</a><br /></td></tr>
<tr class="separator:a7e7b5b80fccd18515f08dd868ffb1692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2472fe16e1ce4e9607b6a9963a5a68"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a3f2472fe16e1ce4e9607b6a9963a5a68">rw_lock_get_debug_info</a> (const <a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, <a class="el" href="sync0rw_8cc.html#a528d102f2a77d974ced2d547d11046f9">Infos</a> *infos)</td></tr>
<tr class="memdesc:a3f2472fe16e1ce4e9607b6a9963a5a68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the thread debug info.  <a href="#a3f2472fe16e1ce4e9607b6a9963a5a68">More...</a><br /></td></tr>
<tr class="separator:a3f2472fe16e1ce4e9607b6a9963a5a68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae06593afcd010dc462adfee82ad8e2c0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#ae06593afcd010dc462adfee82ad8e2c0">rw_lock_own_flagged</a> (const <a class="el" href="structrw__lock__t.html">rw_lock_t</a> *lock, <a class="el" href="sync0types_8h.html#aeebbd9e7f4a86e1a39894a7f8a335652">rw_lock_flags_t</a> <a class="el" href="mi__test1_8cc.html#a6eec09a91807e20d7b3d6ef3da594067">flags</a>)</td></tr>
<tr class="memdesc:ae06593afcd010dc462adfee82ad8e2c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the thread has locked the rw-lock in the specified mode, with the pass value == 0.  <a href="#ae06593afcd010dc462adfee82ad8e2c0">More...</a><br /></td></tr>
<tr class="separator:ae06593afcd010dc462adfee82ad8e2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f66695516238f4ab6667bf4d4dc771"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#ab6f66695516238f4ab6667bf4d4dc771">rw_lock_list_print_info</a> (FILE *file)</td></tr>
<tr class="memdesc:ab6f66695516238f4ab6667bf4d4dc771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints debug info of currently locked rw-locks.  <a href="#ab6f66695516238f4ab6667bf4d4dc771">More...</a><br /></td></tr>
<tr class="separator:ab6f66695516238f4ab6667bf4d4dc771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9a188cc45554c9815e9ec0f8b0a030"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a6f9a188cc45554c9815e9ec0f8b0a030">rw_lock_debug_print</a> (FILE *f, const <a class="el" href="structrw__lock__debug__t.html">rw_lock_debug_t</a> *<a class="el" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>)</td></tr>
<tr class="memdesc:a6f9a188cc45554c9815e9ec0f8b0a030"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints info of a debug struct.  <a href="#a6f9a188cc45554c9815e9ec0f8b0a030">More...</a><br /></td></tr>
<tr class="separator:a6f9a188cc45554c9815e9ec0f8b0a030"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a170e3023b96429fc1d32d3f18e616128"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structrw__lock__stats__t.html">rw_lock_stats_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a170e3023b96429fc1d32d3f18e616128">rw_lock_stats</a></td></tr>
<tr class="memdesc:a170e3023b96429fc1d32d3f18e616128"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counters for RW locks.  <a href="#a170e3023b96429fc1d32d3f18e616128">More...</a><br /></td></tr>
<tr class="separator:a170e3023b96429fc1d32d3f18e616128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865b35e6bcb6041e1d21fe594be4b51a"><td class="memItemLeft" align="right" valign="top">rw_lock_list_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#a865b35e6bcb6041e1d21fe594be4b51a">rw_lock_list</a></td></tr>
<tr class="separator:a865b35e6bcb6041e1d21fe594be4b51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f2c7ca7d81c3ccd69421a9ce8a5a65"><td class="memItemLeft" align="right" valign="top">ib_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0rw_8cc.html#ab2f2c7ca7d81c3ccd69421a9ce8a5a65">rw_lock_list_mutex</a></td></tr>
<tr class="separator:ab2f2c7ca7d81c3ccd69421a9ce8a5a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The read-write lock (for thread synchronization) </p>
<p>Created 9/11/1995 Heikki Tuuri </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae430ae7b1b4c53a77c3e8333e0e43f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae430ae7b1b4c53a77c3e8333e0e43f87">&#9670;&nbsp;</a></span>rw_lock_x_lock_wait</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rw_lock_x_lock_wait</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="ctype-tis620_8cc.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="dtoa_8cc.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">T, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">F, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">O&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="sync0rw_8cc.html#a6f102c53c6afd52725fa916def76a82d">rw_lock_x_lock_wait_func</a>(<a class="el" href="ctype-tis620_8cc.html#aa73214aa5f2f94f63d90bb4e3d99fe53">L</a>, <a class="el" href="dtoa_8cc.html#a2748566f4c443ee77aa831e63dbb5ebe">P</a>, T, F, O)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a528d102f2a77d974ced2d547d11046f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528d102f2a77d974ced2d547d11046f9">&#9670;&nbsp;</a></span>Infos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="structrw__lock__debug__t.html">rw_lock_debug_t</a> *&gt; <a class="el" href="sync0rw_8cc.html#a528d102f2a77d974ced2d547d11046f9">Infos</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For collecting the debug information for a thread's rw-lock. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4c8e5eec6e82492f641637172455f784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c8e5eec6e82492f641637172455f784">&#9670;&nbsp;</a></span>rw_lock_add_debug_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_add_debug_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>lock_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts the debug information for an rw-lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: rw-lock </td></tr>
    <tr><td class="paramname">pass</td><td>in: pass value </td></tr>
    <tr><td class="paramname">lock_type</td><td>in: lock type </td></tr>
    <tr><td class="paramname">file_name</td><td>in: file where requested </td></tr>
    <tr><td class="paramname">line</td><td>in: line where requested </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a157576de78e420e98a309fcd4ed6e3fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157576de78e420e98a309fcd4ed6e3fc">&#9670;&nbsp;</a></span>rw_lock_create_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_create_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sync0types_8h.html#a90b80adb6be14e0e67189518b5185e89">latch_level_t</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmutex_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cfile_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>cline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates, or rather, initializes an rw-lock object in a specified memory location (which must be appropriately aligned). </p>
<p>The rw-lock is initialized to the non-locked state. Explicit freeing of the rw-lock with rw_lock_free is necessary only if the memory block containing it is freed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: pointer to memory </td></tr>
    <tr><td class="paramname">level</td><td>in: level </td></tr>
    <tr><td class="paramname">cmutex_name</td><td>in: rw-lock name </td></tr>
    <tr><td class="paramname">cfile_name</td><td>in: file name where created </td></tr>
    <tr><td class="paramname">cline</td><td>in: file line where created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8fe0a29cb492ce42ab94c08a2fb83dc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe0a29cb492ce42ab94c08a2fb83dc1">&#9670;&nbsp;</a></span>rw_lock_debug_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structrw__lock__debug__t.html">rw_lock_debug_t</a> * rw_lock_debug_create </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a debug info struct. </p>
<dl class="section return"><dt>Returns</dt><dd>own: debug info struct </dd></dl>

</div>
</div>
<a id="ab1c5adf9764b8cec884d31d879c47ce1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1c5adf9764b8cec884d31d879c47ce1">&#9670;&nbsp;</a></span>rw_lock_debug_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rw_lock_debug_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__debug__t.html">rw_lock_debug_t</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frees a debug info struct. </p>

</div>
</div>
<a id="a6f9a188cc45554c9815e9ec0f8b0a030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f9a188cc45554c9815e9ec0f8b0a030">&#9670;&nbsp;</a></span>rw_lock_debug_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_debug_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structrw__lock__debug__t.html">rw_lock_debug_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints info of a debug struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">f</td><td>Output stream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>Debug struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c9827872505d65c6344e9d6a759eeeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c9827872505d65c6344e9d6a759eeeb">&#9670;&nbsp;</a></span>rw_lock_free_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_free_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calling this function is obligatory only if the memory buffer containing the rw-lock is freed. </p>
<p>Removes an rw-lock object from the global list. The rw-lock is checked to be in the non-locked state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in/out: rw-lock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f2472fe16e1ce4e9607b6a9963a5a68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2472fe16e1ce4e9607b6a9963a5a68">&#9670;&nbsp;</a></span>rw_lock_get_debug_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rw_lock_get_debug_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sync0rw_8cc.html#a528d102f2a77d974ced2d547d11046f9">Infos</a> *&#160;</td>
          <td class="paramname"><em>infos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the thread debug info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">infos</td><td>The rw-lock mode owned by the threads </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lock</td><td>rw-lock to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the thread debug info or NULL if not found </dd></dl>

</div>
</div>
<a id="a0c54ece3002efbfce4f1ae57705383f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c54ece3002efbfce4f1ae57705383f9">&#9670;&nbsp;</a></span>rw_lock_is_locked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rw_lock_is_locked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>lock_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if somebody has locked the rw-lock in the specified mode. </p>
<dl class="section return"><dt>Returns</dt><dd>true if locked </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: rw-lock </td></tr>
    <tr><td class="paramname">lock_type</td><td>in: lock type: RW_LOCK_S, RW_LOCK_X or RW_LOCK_SX </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab6f66695516238f4ab6667bf4d4dc771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f66695516238f4ab6667bf4d4dc771">&#9670;&nbsp;</a></span>rw_lock_list_print_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_list_print_info </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints debug info of currently locked rw-locks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>in: file where to print </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e7b5b80fccd18515f08dd868ffb1692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7b5b80fccd18515f08dd868ffb1692">&#9670;&nbsp;</a></span>rw_lock_own()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool rw_lock_own </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>lock_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the thread has locked the rw-lock in the specified mode, with the pass value == 0. </p>
<dl class="section return"><dt>Returns</dt><dd>true if locked </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: rw-lock </td></tr>
    <tr><td class="paramname">lock_type</td><td>in: lock type: RW_LOCK_S, RW_LOCK_X </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae06593afcd010dc462adfee82ad8e2c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae06593afcd010dc462adfee82ad8e2c0">&#9670;&nbsp;</a></span>rw_lock_own_flagged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rw_lock_own_flagged </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sync0types_8h.html#aeebbd9e7f4a86e1a39894a7f8a335652">rw_lock_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the thread has locked the rw-lock in the specified mode, with the pass value == 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock</td><td>rw-lock </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>specify lock types with OR of the rw_lock_flag_t values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if locked </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: rw-lock </td></tr>
    <tr><td class="paramname">flags</td><td>in: specify lock types with OR of the rw_lock_flag_t values </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a209a1c4372150d4b1598768eaa060e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209a1c4372150d4b1598768eaa060e7f">&#9670;&nbsp;</a></span>rw_lock_remove_debug_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_remove_debug_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>lock_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a debug information struct for an rw-lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: rw-lock </td></tr>
    <tr><td class="paramname">pass</td><td>in: pass value </td></tr>
    <tr><td class="paramname">lock_type</td><td>in: lock type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad21003dd6ab46f793e6b2b6e65707cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21003dd6ab46f793e6b2b6e65707cee">&#9670;&nbsp;</a></span>rw_lock_s_lock_spin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_s_lock_spin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock an rw-lock in shared mode for the current thread. </p>
<p>If the rw-lock is locked in exclusive mode, or there is an exclusive lock request waiting, the function spins a preset time (controlled by srv_n_spin_wait_rounds), waiting for the lock, before suspending the thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: pointer to rw-lock </td></tr>
    <tr><td class="paramname">pass</td><td>in: pass value; != 0, if the lock will be passed to another thread to unlock </td></tr>
    <tr><td class="paramname">file_name</td><td>in: file name where lock requested </td></tr>
    <tr><td class="paramname">line</td><td>in: line where requested </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa59d74973ed44fb479ba8df6c5ab8b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa59d74973ed44fb479ba8df6c5ab8b4c">&#9670;&nbsp;</a></span>rw_lock_sx_lock_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_sx_lock_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NOTE! Use the corresponding macro, not directly this function! Lock an rw-lock in SX mode for the current thread. </p>
<p>If the rw-lock is locked in exclusive mode, or there is an exclusive lock request waiting, the function spins a preset time (controlled by SYNC_SPIN_ROUNDS), waiting for the lock, before suspending the thread. If the same thread has an x-lock on the rw-lock, locking succeed, with the following exception: if pass != 0, only a single sx-lock may be taken on the lock. NOTE: If the same thread has an s-lock, locking does not succeed! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: pointer to rw-lock </td></tr>
    <tr><td class="paramname">pass</td><td>in: pass value; != 0, if the lock will be passed to another thread to unlock </td></tr>
    <tr><td class="paramname">file_name</td><td>in: file name where lock requested </td></tr>
    <tr><td class="paramname">line</td><td>in: line where requested </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace332860f04c623e42064947d3a71f9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace332860f04c623e42064947d3a71f9a">&#9670;&nbsp;</a></span>rw_lock_sx_lock_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool rw_lock_sx_lock_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low-level function for acquiring an sx lock. </p>
<dl class="section return"><dt>Returns</dt><dd>false if did not succeed, true if success. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: pointer to rw-lock </td></tr>
    <tr><td class="paramname">pass</td><td>in: pass value; != 0, if the lock will be passed to another thread to unlock </td></tr>
    <tr><td class="paramname">file_name</td><td>in: file name where lock requested </td></tr>
    <tr><td class="paramname">line</td><td>in: line where requested </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab6f5c94ef49e51beb4e3de79062f25be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6f5c94ef49e51beb4e3de79062f25be">&#9670;&nbsp;</a></span>rw_lock_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rw_lock_validate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks that the rw-lock has been initialized and that there are no simultaneous shared and exclusive locks. </p>
<dl class="section return"><dt>Returns</dt><dd>true </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: rw-lock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17cd4828a3d408fcfad1b1e5f05a9d4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17cd4828a3d408fcfad1b1e5f05a9d4d">&#9670;&nbsp;</a></span>rw_lock_x_lock_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_x_lock_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NOTE! Use the corresponding macro, not directly this function! Lock an rw-lock in exclusive mode for the current thread. </p>
<p>If the rw-lock is locked in shared or exclusive mode, or there is an exclusive lock request waiting, the function spins a preset time (controlled by srv_n_spin_wait_rounds), waiting for the lock before suspending the thread. If the same thread has an x-lock on the rw-lock, locking succeed, with the following exception: if pass != 0, only a single x-lock may be taken on the lock. NOTE: If the same thread has an s-lock, locking does not succeed! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: pointer to rw-lock </td></tr>
    <tr><td class="paramname">pass</td><td>in: pass value; != 0, if the lock will be passed to another thread to unlock </td></tr>
    <tr><td class="paramname">file_name</td><td>in: file name where lock requested </td></tr>
    <tr><td class="paramname">line</td><td>in: line where requested </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa293b3180d9a05b2b7996055e7a7917d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa293b3180d9a05b2b7996055e7a7917d">&#9670;&nbsp;</a></span>rw_lock_x_lock_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ibool rw_lock_x_lock_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low-level function for acquiring an exclusive lock. </p>
<dl class="section return"><dt>Returns</dt><dd>false if did not succeed, true if success. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: pointer to rw-lock </td></tr>
    <tr><td class="paramname">pass</td><td>in: pass value; != 0, if the lock will be passed to another thread to unlock </td></tr>
    <tr><td class="paramname">file_name</td><td>in: file name where lock requested </td></tr>
    <tr><td class="paramname">line</td><td>in: line where requested </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afef4026325be1e4aa93e0ac64e8796db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afef4026325be1e4aa93e0ac64e8796db">&#9670;&nbsp;</a></span>rw_lock_x_lock_move_ownership()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rw_lock_x_lock_move_ownership </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used in the insert buffer to move the ownership of an x-latch on a buffer frame to the current thread. </p>
<p>The x-latch was set by the buffer read operation and it protected the buffer frame while the read was done. The ownership is moved because we want that the current thread is able to acquire a second x-latch which is stored in an mtr. This, in turn, is needed to pass the debug checks of index page operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: lock which was x-locked in the buffer read </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f102c53c6afd52725fa916def76a82d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f102c53c6afd52725fa916def76a82d">&#9670;&nbsp;</a></span>rw_lock_x_lock_wait_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void rw_lock_x_lock_wait_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrw__lock__t.html">rw_lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lint&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for the next writer to call. </p>
<p>Waits for readers to exit. The caller must have already decremented lock_word by X_LOCK_DECR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>in: pointer to rw-lock </td></tr>
    <tr><td class="paramname">pass</td><td>in: pass value; != 0, if the lock will be passed to another thread to unlock </td></tr>
    <tr><td class="paramname">threshold</td><td>in: threshold to wait for </td></tr>
    <tr><td class="paramname">file_name</td><td>in: file name where lock requested </td></tr>
    <tr><td class="paramname">line</td><td>in: line where requested </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a865b35e6bcb6041e1d21fe594be4b51a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865b35e6bcb6041e1d21fe594be4b51a">&#9670;&nbsp;</a></span>rw_lock_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rw_lock_list_t rw_lock_list</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab2f2c7ca7d81c3ccd69421a9ce8a5a65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2f2c7ca7d81c3ccd69421a9ce8a5a65">&#9670;&nbsp;</a></span>rw_lock_list_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ib_mutex_t rw_lock_list_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a170e3023b96429fc1d32d3f18e616128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a170e3023b96429fc1d32d3f18e616128">&#9670;&nbsp;</a></span>rw_lock_stats</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structrw__lock__stats__t.html">rw_lock_stats_t</a> rw_lock_stats</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counters for RW locks. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_896ced0655a8426ac9535c34ff631e5f.html">sync</a></li><li class="navelem"><a class="el" href="sync0rw_8cc.html">sync0rw.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
