<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: i_s_locks_row_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structi__s__locks__row__t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structi__s__locks__row__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">i_s_locks_row_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This structure represents INFORMATION_SCHEMA.innodb_locks row.  
 <a href="structi__s__locks__row__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="trx0i__s_8h_source.html">trx0i_s.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aaca47ccfc6f27c1f52497537061e3b18"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi__s__locks__row__t.html#aaca47ccfc6f27c1f52497537061e3b18">lock_trx_immutable_id</a></td></tr>
<tr class="memdesc:aaca47ccfc6f27c1f52497537061e3b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">transaction address as integer.  <a href="#aaca47ccfc6f27c1f52497537061e3b18">More...</a><br /></td></tr>
<tr class="separator:aaca47ccfc6f27c1f52497537061e3b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa0859c6444f84fac845d1f1ed4e655"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi__s__locks__row__t.html#a2aa0859c6444f84fac845d1f1ed4e655">lock_immutable_id</a></td></tr>
<tr class="memdesc:a2aa0859c6444f84fac845d1f1ed4e655"><td class="mdescLeft">&#160;</td><td class="mdescRight">lock address as integer.  <a href="#a2aa0859c6444f84fac845d1f1ed4e655">More...</a><br /></td></tr>
<tr class="separator:a2aa0859c6444f84fac845d1f1ed4e655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a3ed0d14b86ecfd9c0bbde3ed5e930a12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi__s__locks__row__t.html#a3ed0d14b86ecfd9c0bbde3ed5e930a12">lock_space</a></td></tr>
<tr class="memdesc:a3ed0d14b86ecfd9c0bbde3ed5e930a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information for record locks.  <a href="#a3ed0d14b86ecfd9c0bbde3ed5e930a12">More...</a><br /></td></tr>
<tr class="separator:a3ed0d14b86ecfd9c0bbde3ed5e930a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfe6eee222c27c7c0bf33c152882af54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi__s__locks__row__t.html#acfe6eee222c27c7c0bf33c152882af54">lock_page</a></td></tr>
<tr class="memdesc:acfe6eee222c27c7c0bf33c152882af54"><td class="mdescLeft">&#160;</td><td class="mdescRight">page number within the_space  <a href="#acfe6eee222c27c7c0bf33c152882af54">More...</a><br /></td></tr>
<tr class="separator:acfe6eee222c27c7c0bf33c152882af54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76e17204aff07b07e6e7718f9c158f74"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi__s__locks__row__t.html#a76e17204aff07b07e6e7718f9c158f74">lock_rec</a></td></tr>
<tr class="memdesc:a76e17204aff07b07e6e7718f9c158f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">heap number of the record on the page  <a href="#a76e17204aff07b07e6e7718f9c158f74">More...</a><br /></td></tr>
<tr class="separator:a76e17204aff07b07e6e7718f9c158f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a9c06852da327d08ffafe445753d3c87c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi__s__locks__row__t.html#a9c06852da327d08ffafe445753d3c87c">lock_table_id</a></td></tr>
<tr class="memdesc:a9c06852da327d08ffafe445753d3c87c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following are auxiliary and not included in the table.  <a href="#a9c06852da327d08ffafe445753d3c87c">More...</a><br /></td></tr>
<tr class="separator:a9c06852da327d08ffafe445753d3c87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This structure represents INFORMATION_SCHEMA.innodb_locks row. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="a2aa0859c6444f84fac845d1f1ed4e655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa0859c6444f84fac845d1f1ed4e655">&#9670;&nbsp;</a></span>lock_immutable_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t i_s_locks_row_t::lock_immutable_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>lock address as integer. </p>
<p>We need to identify the lock in unique way. Specifying space, page and heap_no and trx is not enough, because there could be locks with different modes. Using mode as part of id is not good, because we sometimes change the mode of the lock (for example when granting the lock we drop LOCK_WAITING flag and in lock_trx_release_read_locks we add LOCK_REC_NOT_GAP flag). The only permanent thing is then the address. We use both lock_immutable_id and lock_trx_immutable_id even though lock_immutable_id is unique, because we need to be able to locate the row in PERFORMANCE_SCHEMA based on the id, and we need a way to verify that the lock_immutable_id is safe to dereference. Simplest way to do that is to check that trx still has the lock on its list of locks. </p>

</div>
</div>
<a id="acfe6eee222c27c7c0bf33c152882af54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfe6eee222c27c7c0bf33c152882af54">&#9670;&nbsp;</a></span>lock_page</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> i_s_locks_row_t::lock_page</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>page number within the_space </p>

</div>
</div>
<a id="a76e17204aff07b07e6e7718f9c158f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76e17204aff07b07e6e7718f9c158f74">&#9670;&nbsp;</a></span>lock_rec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint i_s_locks_row_t::lock_rec</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>heap number of the record on the page </p>

</div>
</div>
<a id="a3ed0d14b86ecfd9c0bbde3ed5e930a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed0d14b86ecfd9c0bbde3ed5e930a12">&#9670;&nbsp;</a></span>lock_space</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> i_s_locks_row_t::lock_space</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Information for record locks. </p>
<p>All these are ULINT_UNDEFINED for table locks. tablespace identifier </p>

</div>
</div>
<a id="a9c06852da327d08ffafe445753d3c87c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c06852da327d08ffafe445753d3c87c">&#9670;&nbsp;</a></span>lock_table_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dict0types_8h.html#ac877e05c194a7c04fa5921c88cdcb1f7">table_id_t</a> i_s_locks_row_t::lock_table_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following are auxiliary and not included in the table. </p>
<p>table identifier from lock_get_table_id </p>

</div>
</div>
<a id="aaca47ccfc6f27c1f52497537061e3b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaca47ccfc6f27c1f52497537061e3b18">&#9670;&nbsp;</a></span>lock_trx_immutable_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t i_s_locks_row_t::lock_trx_immutable_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transaction address as integer. </p>
<p>We need an id which is unique and does not change over time. Unfortunately trx-&gt;id is initially equal to 0 for all trxs which still appear to be read only, and it changes to non-zero, once trx needs to perform write. For this reason trx-&gt;id is not good enough for our purpose. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>storage/innobase/include/<a class="el" href="trx0i__s_8h_source.html">trx0i_s.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structi__s__locks__row__t.html">i_s_locks_row_t</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
