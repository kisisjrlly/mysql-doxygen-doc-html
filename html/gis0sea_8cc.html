<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/gis/gis0sea.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gis0sea_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gis0sea.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>InnoDB R-tree search interfaces.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;new&gt;</code><br />
<code>#include &quot;<a class="el" href="fsp0fsp_8h_source.html">fsp0fsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gis0rtree_8h_source.html">gis0rtree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0cur_8h_source.html">page0cur.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0page_8h_source.html">page0page.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0zip_8h_source.html">page0zip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0cur_8h_source.html">btr0cur.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0pcur_8h_source.html">btr0pcur.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0sea_8h_source.html">btr0sea.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ibuf0ibuf_8h_source.html">ibuf0ibuf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock0lock_8h_source.html">lock0lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rem0cmp_8h_source.html">rem0cmp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0mon_8h_source.html">srv0mon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sync0sync_8h_source.html">sync0sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
<code>#include &quot;univ.i&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a483e9870c739697361ff0fe56267a1d6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a483e9870c739697361ff0fe56267a1d6">rtr_cur_restore_position</a> (ulint latch_mode, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, ulint level, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a483e9870c739697361ff0fe56267a1d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the stored position of a persistent cursor bufferfixing the page.  <a href="#a483e9870c739697361ff0fe56267a1d6">More...</a><br /></td></tr>
<tr class="separator:a483e9870c739697361ff0fe56267a1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc715904a0b031a4b36e4a5f9f664c38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#afc715904a0b031a4b36e4a5f9f664c38">rtr_adjust_parent_path</a> (<a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *<a class="el" href="structrtr__info.html">rtr_info</a>, <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> page_no)</td></tr>
<tr class="memdesc:afc715904a0b031a4b36e4a5f9f664c38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop out used parent path entry, until we find the parent with matching page number.  <a href="#afc715904a0b031a4b36e4a5f9f664c38">More...</a><br /></td></tr>
<tr class="separator:afc715904a0b031a4b36e4a5f9f664c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d5ba7556abe527201033ee4017254c6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a0d5ba7556abe527201033ee4017254c6">rtr_pcur_getnext_from_path</a> (const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, <a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a> mode, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *btr_cur, ulint target_level, ulint latch_mode, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> index_locked, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a0d5ba7556abe527201033ee4017254c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the next matching record.  <a href="#a0d5ba7556abe527201033ee4017254c6">More...</a><br /></td></tr>
<tr class="separator:a0d5ba7556abe527201033ee4017254c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c098d043e61902d01571db12ebd080"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a17c098d043e61902d01571db12ebd080">rtr_pcur_move_to_next</a> (const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, <a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a> mode, <a class="el" href="lock0types_8h.html#ab5c6ab6fca939782acb38f91e297d41c">select_mode</a> sel_mode, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, ulint cur_level, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a17c098d043e61902d01571db12ebd080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the next matching record.  <a href="#a17c098d043e61902d01571db12ebd080">More...</a><br /></td></tr>
<tr class="separator:a17c098d043e61902d01571db12ebd080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac68d290ce96f08924601f347cef2de9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#aac68d290ce96f08924601f347cef2de9">rtr_compare_cursor_rec</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> page_no, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> **heap)</td></tr>
<tr class="memdesc:aac68d290ce96f08924601f347cef2de9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the cursor holds record pointing to the specified child page.  <a href="#aac68d290ce96f08924601f347cef2de9">More...</a><br /></td></tr>
<tr class="separator:aac68d290ce96f08924601f347cef2de9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5556e9bb22bc7214d2f54eb8342ab111"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a5556e9bb22bc7214d2f54eb8342ab111">rtr_pcur_open_low</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, ulint level, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, <a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a> mode, ulint latch_mode, <a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *cursor, const char *file, ulint line, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a5556e9bb22bc7214d2f54eb8342ab111"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and opens a persistent cursor to an index tree.  <a href="#a5556e9bb22bc7214d2f54eb8342ab111">More...</a><br /></td></tr>
<tr class="separator:a5556e9bb22bc7214d2f54eb8342ab111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af281e7bd0cef9f2c9620b6f26c5ecaa6"><td class="memItemLeft" align="right" valign="top">static ulint *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#af281e7bd0cef9f2c9620b6f26c5ecaa6">rtr_page_get_father_node_ptr</a> (ulint *offsets, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *sea_cur, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:af281e7bd0cef9f2c9620b6f26c5ecaa6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the upper level node pointer to a R-Tree page.  <a href="#af281e7bd0cef9f2c9620b6f26c5ecaa6">More...</a><br /></td></tr>
<tr class="separator:af281e7bd0cef9f2c9620b6f26c5ecaa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1396fc105a6db53b1331947d97cb8039"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a1396fc105a6db53b1331947d97cb8039">rtr_page_get_father</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *sea_cur, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor)</td></tr>
<tr class="separator:a1396fc105a6db53b1331947d97cb8039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac51833ddc22a74a3376d159cf100bb0"><td class="memItemLeft" align="right" valign="top">ulint *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#aac51833ddc22a74a3376d159cf100bb0">rtr_page_get_father_block</a> (ulint *offsets, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *sea_cur, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor)</td></tr>
<tr class="memdesc:aac51833ddc22a74a3376d159cf100bb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the father block to a page.  <a href="#aac51833ddc22a74a3376d159cf100bb0">More...</a><br /></td></tr>
<tr class="separator:aac51833ddc22a74a3376d159cf100bb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e32793107f34849c771e5a2fe8c16cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a6e32793107f34849c771e5a2fe8c16cd">rtr_get_father_node</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, ulint level, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *sea_cur, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *btr_cur, <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> page_no, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a6e32793107f34849c771e5a2fe8c16cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the upper level node pointer to a R-Tree page.  <a href="#a6e32793107f34849c771e5a2fe8c16cd">More...</a><br /></td></tr>
<tr class="separator:a6e32793107f34849c771e5a2fe8c16cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae215837d487e1848f61c0bdc329fcd23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#ae215837d487e1848f61c0bdc329fcd23">rtr_create_rtr_info</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> need_prdt, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> init_matches, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>)</td></tr>
<tr class="memdesc:ae215837d487e1848f61c0bdc329fcd23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a RTree search info structure.  <a href="#ae215837d487e1848f61c0bdc329fcd23">More...</a><br /></td></tr>
<tr class="separator:ae215837d487e1848f61c0bdc329fcd23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75f6b11b87cbf147b1f8ad970c51fab3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a75f6b11b87cbf147b1f8ad970c51fab3">rtr_info_update_btr</a> (<a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *<a class="el" href="structrtr__info.html">rtr_info</a>)</td></tr>
<tr class="memdesc:a75f6b11b87cbf147b1f8ad970c51fab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a btr_cur_t with rtr_info.  <a href="#a75f6b11b87cbf147b1f8ad970c51fab3">More...</a><br /></td></tr>
<tr class="separator:a75f6b11b87cbf147b1f8ad970c51fab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd52693deed27029c2d3ed5d70bade7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a8bd52693deed27029c2d3ed5d70bade7">rtr_init_rtr_info</a> (<a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *<a class="el" href="structrtr__info.html">rtr_info</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> need_prdt, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> reinit)</td></tr>
<tr class="memdesc:a8bd52693deed27029c2d3ed5d70bade7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a R-Tree Search structure.  <a href="#a8bd52693deed27029c2d3ed5d70bade7">More...</a><br /></td></tr>
<tr class="separator:a8bd52693deed27029c2d3ed5d70bade7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4f8cab48165f26875645e795158c43a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#af4f8cab48165f26875645e795158c43a">rtr_clean_rtr_info</a> (<a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *<a class="el" href="structrtr__info.html">rtr_info</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> free_all)</td></tr>
<tr class="memdesc:af4f8cab48165f26875645e795158c43a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up R-Tree search structure.  <a href="#af4f8cab48165f26875645e795158c43a">More...</a><br /></td></tr>
<tr class="separator:af4f8cab48165f26875645e795158c43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c58bcaca0504bd12641e564aa09cf46"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a2c58bcaca0504bd12641e564aa09cf46">rtr_rebuild_path</a> (<a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *<a class="el" href="structrtr__info.html">rtr_info</a>, <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> page_no)</td></tr>
<tr class="memdesc:a2c58bcaca0504bd12641e564aa09cf46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebuilt the "path" to exclude the removing page no.  <a href="#a2c58bcaca0504bd12641e564aa09cf46">More...</a><br /></td></tr>
<tr class="separator:a2c58bcaca0504bd12641e564aa09cf46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad1e6bc176ef819fc12e1fbff9e83dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a9ad1e6bc176ef819fc12e1fbff9e83dc">rtr_check_discard_page</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block)</td></tr>
<tr class="memdesc:a9ad1e6bc176ef819fc12e1fbff9e83dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a discarding page is in anyone's search path.  <a href="#a9ad1e6bc176ef819fc12e1fbff9e83dc">More...</a><br /></td></tr>
<tr class="separator:a9ad1e6bc176ef819fc12e1fbff9e83dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb8db9267a76acfbb5b29f4c80a41cd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#abeb8db9267a76acfbb5b29f4c80a41cd">rtr_leaf_push_match_rec</a> (const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, <a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *<a class="el" href="structrtr__info.html">rtr_info</a>, ulint *offsets, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_comp)</td></tr>
<tr class="memdesc:abeb8db9267a76acfbb5b29f4c80a41cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the leaf level R-tree record, and push it to matched_rec in rtr_info.  <a href="#abeb8db9267a76acfbb5b29f4c80a41cd">More...</a><br /></td></tr>
<tr class="separator:abeb8db9267a76acfbb5b29f4c80a41cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195de5c4396832cf23b77054e3d7553b"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a195de5c4396832cf23b77054e3d7553b">rtr_store_parent_path</a> (const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *btr_cur, ulint latch_mode, ulint level, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a195de5c4396832cf23b77054e3d7553b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the parent path cursor.  <a href="#a195de5c4396832cf23b77054e3d7553b">More...</a><br /></td></tr>
<tr class="separator:a195de5c4396832cf23b77054e3d7553b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16dc8fc0d865c0acaaddedd1411c071e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a16dc8fc0d865c0acaaddedd1411c071e">rtr_non_leaf_insert_stack_push</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="gis0type_8h.html#af3de39b8bc503ae1121963ccaaec5629">rtr_node_path_t</a> *<a class="el" href="mysqldump_8cc.html#a38dcf0baefa35c1961c23cf3e06002b5">path</a>, ulint level, <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> child_no, const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, double mbr_inc)</td></tr>
<tr class="memdesc:a16dc8fc0d865c0acaaddedd1411c071e"><td class="mdescLeft">&#160;</td><td class="mdescRight">push a nonleaf index node to the search path for insertion  <a href="#a16dc8fc0d865c0acaaddedd1411c071e">More...</a><br /></td></tr>
<tr class="separator:a16dc8fc0d865c0acaaddedd1411c071e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accff0a4b26f5829e7ba93b8436e3f37a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#accff0a4b26f5829e7ba93b8436e3f37a">rtr_copy_buf</a> (<a class="el" href="gis0type_8h.html#af735bf38450cc5fedaab5c778a33e20b">matched_rec_t</a> *matches, const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block)</td></tr>
<tr class="memdesc:accff0a4b26f5829e7ba93b8436e3f37a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a buf_block_t strcuture, except "block-&gt;lock", "block-&gt;mutex" and "block-&gt;debug_latch.".  <a href="#accff0a4b26f5829e7ba93b8436e3f37a">More...</a><br /></td></tr>
<tr class="separator:accff0a4b26f5829e7ba93b8436e3f37a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a849b628b75b8037fe3ba10bdd1b05"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#ab6a849b628b75b8037fe3ba10bdd1b05">rtr_init_match</a> (<a class="el" href="gis0type_8h.html#af735bf38450cc5fedaab5c778a33e20b">matched_rec_t</a> *matches, const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>)</td></tr>
<tr class="memdesc:ab6a849b628b75b8037fe3ba10bdd1b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a shadow copy of the page block header to save the matched records.  <a href="#ab6a849b628b75b8037fe3ba10bdd1b05">More...</a><br /></td></tr>
<tr class="separator:ab6a849b628b75b8037fe3ba10bdd1b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185e07f377e15de57108f766b1cf9a27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a185e07f377e15de57108f766b1cf9a27">rtr_get_mbr_from_rec</a> (const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, const ulint *offsets, <a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *mbr)</td></tr>
<tr class="memdesc:a185e07f377e15de57108f766b1cf9a27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the bounding box content from an index record.  <a href="#a185e07f377e15de57108f766b1cf9a27">More...</a><br /></td></tr>
<tr class="separator:a185e07f377e15de57108f766b1cf9a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac038680d998d7a79e23dedae7b51ef5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#ac038680d998d7a79e23dedae7b51ef5c">rtr_get_mbr_from_tuple</a> (const <a class="el" href="structdtuple__t.html">dtuple_t</a> *dtuple, <a class="el" href="structrtr__mbr.html">rtr_mbr</a> *mbr)</td></tr>
<tr class="memdesc:ac038680d998d7a79e23dedae7b51ef5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the bounding box content from a MBR data record.  <a href="#ac038680d998d7a79e23dedae7b51ef5c">More...</a><br /></td></tr>
<tr class="separator:ac038680d998d7a79e23dedae7b51ef5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6efc723a0d71a92e4c22568e0ea29d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0sea_8cc.html#a7a6efc723a0d71a92e4c22568e0ea29d">rtr_cur_search_with_match</a> (const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, <a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a> mode, <a class="el" href="structpage__cur__t.html">page_cur_t</a> *cursor, <a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *<a class="el" href="structrtr__info.html">rtr_info</a>)</td></tr>
<tr class="memdesc:a7a6efc723a0d71a92e4c22568e0ea29d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the right position in rtree for a page cursor.  <a href="#a7a6efc723a0d71a92e4c22568e0ea29d">More...</a><br /></td></tr>
<tr class="separator:a7a6efc723a0d71a92e4c22568e0ea29d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>InnoDB R-tree search interfaces. </p>
<p>Created 2014/01/16 Jimmy Yang </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afc715904a0b031a4b36e4a5f9f664c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc715904a0b031a4b36e4a5f9f664c38">&#9670;&nbsp;</a></span>rtr_adjust_parent_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtr_adjust_parent_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *&#160;</td>
          <td class="paramname"><em>rtr_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>page_no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pop out used parent path entry, until we find the parent with matching page number. </p>

</div>
</div>
<a id="a9ad1e6bc176ef819fc12e1fbff9e83dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad1e6bc176ef819fc12e1fbff9e83dc">&#9670;&nbsp;</a></span>rtr_check_discard_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_check_discard_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether a discarding page is in anyone's search path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">cursor</td><td>Cursor on the page to discard: not on the root page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Block of page to be discarded </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af4f8cab48165f26875645e795158c43a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4f8cab48165f26875645e795158c43a">&#9670;&nbsp;</a></span>rtr_clean_rtr_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_clean_rtr_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *&#160;</td>
          <td class="paramname"><em>rtr_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>free_all</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up R-Tree search structure. </p>
<p>Clean up Rtree cursor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtr_info</td><td>in: RTree search info </td></tr>
    <tr><td class="paramname">free_all</td><td>in: need to free rtr_info itself </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac68d290ce96f08924601f347cef2de9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac68d290ce96f08924601f347cef2de9">&#9670;&nbsp;</a></span>rtr_compare_cursor_rec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rtr_compare_cursor_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> **&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the cursor holds record pointing to the specified child page. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it is (pointing to the child page) false otherwise </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">cursor</td><td>in: Cursor to check </td></tr>
    <tr><td class="paramname">page_no</td><td>in: desired child page number </td></tr>
    <tr><td class="paramname">heap</td><td>in: memory heap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="accff0a4b26f5829e7ba93b8436e3f37a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accff0a4b26f5829e7ba93b8436e3f37a">&#9670;&nbsp;</a></span>rtr_copy_buf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtr_copy_buf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#af735bf38450cc5fedaab5c778a33e20b">matched_rec_t</a> *&#160;</td>
          <td class="paramname"><em>matches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy a buf_block_t strcuture, except "block-&gt;lock", "block-&gt;mutex" and "block-&gt;debug_latch.". </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">matches</td><td>copy to match-&gt;block </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>block to copy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae215837d487e1848f61c0bdc329fcd23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae215837d487e1848f61c0bdc329fcd23">&#9670;&nbsp;</a></span>rtr_create_rtr_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a>* rtr_create_rtr_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>need_prdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>init_matches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a RTree search info structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">need_prdt</td><td>Whether predicate lock is needed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">init_matches</td><td>Whether to initiate the "matches" structure for collecting matched leaf records </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cursor</td><td>Tree search cursor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index struct </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a483e9870c739697361ff0fe56267a1d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a483e9870c739697361ff0fe56267a1d6">&#9670;&nbsp;</a></span>rtr_cur_restore_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rtr_cur_restore_position </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore the stored position of a persistent cursor bufferfixing the page. </p>
<p>in: mtr </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">latch_mode</td><td>in: BTR_SEARCH_LEAF, ... </td></tr>
    <tr><td class="paramname">cursor</td><td>in: detached persistent cursor </td></tr>
    <tr><td class="paramname">level</td><td>in: index level </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7a6efc723a0d71a92e4c22568e0ea29d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a6efc723a0d71a92e4c22568e0ea29d">&#9670;&nbsp;</a></span>rtr_cur_search_with_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rtr_cur_search_with_match </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__cur__t.html">page_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *&#160;</td>
          <td class="paramname"><em>rtr_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches the right position in rtree for a page cursor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Buffer block </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index descriptor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tuple</td><td>Data tuple </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Page_cur_l, page_cur_le, page_cur_g, or page_cur_ge </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">cursor</td><td>Page cursor </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rtr_info</td><td>Search stack </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e32793107f34849c771e5a2fe8c16cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e32793107f34849c771e5a2fe8c16cd">&#9670;&nbsp;</a></span>rtr_get_father_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_get_father_node </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>sea_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>btr_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the upper level node pointer to a R-Tree page. </p>
<p>in: mtr</p>
<p>It is assumed that mtr holds an x-latch on the tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">level</td><td>in: the tree level of search </td></tr>
    <tr><td class="paramname">tuple</td><td>in: data tuple; NOTE: n_fields_cmp in tuple must be set so that it cannot get compared to the node ptr page number field! </td></tr>
    <tr><td class="paramname">sea_cur</td><td>in: search cursor </td></tr>
    <tr><td class="paramname">btr_cur</td><td>in/out: tree cursor; the cursor page is s- or x-latched, but see also above! </td></tr>
    <tr><td class="paramname">page_no</td><td>Current page no </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a185e07f377e15de57108f766b1cf9a27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185e07f377e15de57108f766b1cf9a27">&#9670;&nbsp;</a></span>rtr_get_mbr_from_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_get_mbr_from_rec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *&#160;</td>
          <td class="paramname"><em>mbr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the bounding box content from an index record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Data tuple </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>Offsets array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mbr</td><td>Mbr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac038680d998d7a79e23dedae7b51ef5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac038680d998d7a79e23dedae7b51ef5c">&#9670;&nbsp;</a></span>rtr_get_mbr_from_tuple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_get_mbr_from_tuple </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>dtuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrtr__mbr.html">rtr_mbr</a> *&#160;</td>
          <td class="paramname"><em>mbr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the bounding box content from a MBR data record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dtuple</td><td>Data tuple </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mbr</td><td>Mbr to fill </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dtuple</td><td>in: data tuple </td></tr>
    <tr><td class="paramname">mbr</td><td>out: mbr to fill </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75f6b11b87cbf147b1f8ad970c51fab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75f6b11b87cbf147b1f8ad970c51fab3">&#9670;&nbsp;</a></span>rtr_info_update_btr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_info_update_btr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *&#160;</td>
          <td class="paramname"><em>rtr_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a btr_cur_t with rtr_info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">cursor</td><td>Tree cursor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rtr_info</td><td>Rtr_info to set to the cursor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab6a849b628b75b8037fe3ba10bdd1b05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6a849b628b75b8037fe3ba10bdd1b05">&#9670;&nbsp;</a></span>rtr_init_match()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtr_init_match </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#af735bf38450cc5fedaab5c778a33e20b">matched_rec_t</a> *&#160;</td>
          <td class="paramname"><em>matches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a shadow copy of the page block header to save the matched records. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matches</td><td>in/out: match to initialize </td></tr>
    <tr><td class="paramname">block</td><td>in: buffer block </td></tr>
    <tr><td class="paramname">page</td><td>in: buffer page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8bd52693deed27029c2d3ed5d70bade7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd52693deed27029c2d3ed5d70bade7">&#9670;&nbsp;</a></span>rtr_init_rtr_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_init_rtr_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *&#160;</td>
          <td class="paramname"><em>rtr_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>need_prdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>reinit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a R-Tree Search structure. </p>
<p>Update a btr_cur_t with rtr_info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtr_info</td><td>************* in: rtr_info to set to the cursor </td></tr>
    <tr><td class="paramname">need_prdt</td><td>in: Whether predicate lock is needed </td></tr>
    <tr><td class="paramname">cursor</td><td>in: tree search cursor </td></tr>
    <tr><td class="paramname">index</td><td>in: index structure </td></tr>
    <tr><td class="paramname">reinit</td><td>in: Whether this is a reinit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abeb8db9267a76acfbb5b29f4c80a41cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb8db9267a76acfbb5b29f4c80a41cd">&#9670;&nbsp;</a></span>rtr_leaf_push_match_rec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtr_leaf_push_match_rec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *&#160;</td>
          <td class="paramname"><em>rtr_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_comp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy the leaf level R-tree record, and push it to matched_rec in rtr_info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rec</td><td>in: record to copy </td></tr>
    <tr><td class="paramname">rtr_info</td><td>in/out: search stack </td></tr>
    <tr><td class="paramname">offsets</td><td>in: offsets </td></tr>
    <tr><td class="paramname">is_comp</td><td>in: is compact format </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a16dc8fc0d865c0acaaddedd1411c071e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16dc8fc0d865c0acaaddedd1411c071e">&#9670;&nbsp;</a></span>rtr_non_leaf_insert_stack_push()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtr_non_leaf_insert_stack_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#af3de39b8bc503ae1121963ccaaec5629">rtr_node_path_t</a> *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>child_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>mbr_inc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>push a nonleaf index node to the search path for insertion </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index descriptor </td></tr>
    <tr><td class="paramname">path</td><td>in/out: search path </td></tr>
    <tr><td class="paramname">level</td><td>in: index page level </td></tr>
    <tr><td class="paramname">child_no</td><td>in: child page no </td></tr>
    <tr><td class="paramname">block</td><td>in: block of the page </td></tr>
    <tr><td class="paramname">rec</td><td>in: positioned record </td></tr>
    <tr><td class="paramname">mbr_inc</td><td>in: MBR needs to be enlarged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1396fc105a6db53b1331947d97cb8039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1396fc105a6db53b1331947d97cb8039">&#9670;&nbsp;</a></span>rtr_page_get_father()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_page_get_father </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>sea_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aac51833ddc22a74a3376d159cf100bb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac51833ddc22a74a3376d159cf100bb0">&#9670;&nbsp;</a></span>rtr_page_get_father_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint* rtr_page_get_father_block </td>
          <td>(</td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>sea_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the father block to a page. </p>
<p>It is assumed that mtr holds an X or SX latch on the tree. </p><dl class="section return"><dt>Returns</dt><dd>rec_get_offsets() of the node pointer record </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offsets</td><td>in: work area for the return value </td></tr>
    <tr><td class="paramname">heap</td><td>in: memory heap to use </td></tr>
    <tr><td class="paramname">index</td><td>in: b-tree index </td></tr>
    <tr><td class="paramname">block</td><td>in: child page in the index </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
    <tr><td class="paramname">sea_cur</td><td>in: search cursor, contains information about parent nodes in search </td></tr>
    <tr><td class="paramname">cursor</td><td>out: cursor on node pointer record, its page x-latched </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af281e7bd0cef9f2c9620b6f26c5ecaa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af281e7bd0cef9f2c9620b6f26c5ecaa6">&#9670;&nbsp;</a></span>rtr_page_get_father_node_ptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ulint* rtr_page_get_father_node_ptr </td>
          <td>(</td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>sea_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the upper level node pointer to a R-Tree page. </p>
<p>It is assumed that mtr holds an SX-latch or X-latch on the tree. </p><dl class="section return"><dt>Returns</dt><dd>rec_get_offsets() of the node pointer record </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offsets</td><td>in: work area for the return value </td></tr>
    <tr><td class="paramname">heap</td><td>in: memory heap to use </td></tr>
    <tr><td class="paramname">sea_cur</td><td>in: search cursor </td></tr>
    <tr><td class="paramname">cursor</td><td>in: cursor pointing to user record, out: cursor on node pointer record, its page x-latched </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d5ba7556abe527201033ee4017254c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d5ba7556abe527201033ee4017254c6">&#9670;&nbsp;</a></span>rtr_pcur_getnext_from_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rtr_pcur_getnext_from_path </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>btr_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>target_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>index_locked</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the next matching record. </p>
<p>This function is used by search or record locating during index delete/update. </p><dl class="section return"><dt>Returns</dt><dd>true if there is suitable record found, otherwise false </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tuple</td><td>in: data tuple </td></tr>
    <tr><td class="paramname">mode</td><td>in: cursor search mode </td></tr>
    <tr><td class="paramname">btr_cur</td><td>in: persistent cursor; NOTE that the function may release the page latch </td></tr>
    <tr><td class="paramname">target_level</td><td>in: target level </td></tr>
    <tr><td class="paramname">latch_mode</td><td>in: latch_mode </td></tr>
    <tr><td class="paramname">index_locked</td><td>in: index tree locked </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17c098d043e61902d01571db12ebd080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17c098d043e61902d01571db12ebd080">&#9670;&nbsp;</a></span>rtr_pcur_move_to_next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rtr_pcur_move_to_next </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lock0types_8h.html#ab5c6ab6fca939782acb38f91e297d41c">select_mode</a>&#160;</td>
          <td class="paramname"><em>sel_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>cur_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the next matching record. </p>
<p>This function will first exhaust the copied record listed in the rtr_info-&gt;matches vector before moving to next page </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tuple</td><td>Data tuple; NOTE: n_fields_cmp in tuple must be set so that it cannot get compared to the node ptr page number field! </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>Cursor search mode </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sel_mode</td><td>Select mode: SELECT_ORDINARY, SELECT_SKIP_LOKCED, or SELECT_NO_WAIT </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cursor</td><td>Persistent cursor; NOTE that the function may release the page latch </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cur_level</td><td>Current level </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>Mini-transaction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is next qualified record found, otherwise(if exhausted) false </dd></dl>

</div>
</div>
<a id="a5556e9bb22bc7214d2f54eb8342ab111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5556e9bb22bc7214d2f54eb8342ab111">&#9670;&nbsp;</a></span>rtr_pcur_open_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_pcur_open_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes and opens a persistent cursor to an index tree. </p>
<p>It should be closed with btr_pcur_close. Mainly called by row_search_index_entry() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">level</td><td>in: level in the rtree </td></tr>
    <tr><td class="paramname">tuple</td><td>in: tuple on which search done </td></tr>
    <tr><td class="paramname">mode</td><td>in: PAGE_CUR_RTREE_LOCATE, ... </td></tr>
    <tr><td class="paramname">latch_mode</td><td>in: BTR_SEARCH_LEAF, ... </td></tr>
    <tr><td class="paramname">cursor</td><td>in: memory buffer for persistent cursor </td></tr>
    <tr><td class="paramname">file</td><td>in: file name </td></tr>
    <tr><td class="paramname">line</td><td>in: line where called </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c58bcaca0504bd12641e564aa09cf46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c58bcaca0504bd12641e564aa09cf46">&#9670;&nbsp;</a></span>rtr_rebuild_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtr_rebuild_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a3c34e436e3573c4d314f2c70c4d99326">rtr_info_t</a> *&#160;</td>
          <td class="paramname"><em>rtr_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>page_no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rebuilt the "path" to exclude the removing page no. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtr_info</td><td>in: RTree search info </td></tr>
    <tr><td class="paramname">page_no</td><td>in: need to free rtr_info itself </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a195de5c4396832cf23b77054e3d7553b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195de5c4396832cf23b77054e3d7553b">&#9670;&nbsp;</a></span>rtr_store_parent_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint rtr_store_parent_path </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>btr_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>latch_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store the parent path cursor. </p>
<dl class="section return"><dt>Returns</dt><dd>number of cursor stored </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>in: block of the page </td></tr>
    <tr><td class="paramname">btr_cur</td><td>in/out: persistent cursor </td></tr>
    <tr><td class="paramname">latch_mode</td><td>in: latch_mode </td></tr>
    <tr><td class="paramname">level</td><td>in: index level </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_c84ba9638bea6bde1e8c3fbd726ccb3a.html">gis</a></li><li class="navelem"><a class="el" href="gis0sea_8cc.html">gis0sea.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
