<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/gis/gis0rtree.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gis0rtree_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gis0rtree.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>InnoDB R-tree interfaces.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &quot;<a class="el" href="fsp0fsp_8h_source.html">fsp0fsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gis0rtree_8h_source.html">gis0rtree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0cur_8h_source.html">page0cur.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0page_8h_source.html">page0page.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0zip_8h_source.html">page0zip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0cur_8h_source.html">btr0cur.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0pcur_8h_source.html">btr0pcur.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0sea_8h_source.html">btr0sea.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gis0geo_8h_source.html">gis0geo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ibuf0ibuf_8h_source.html">ibuf0ibuf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock0lock_8h_source.html">lock0lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rem0cmp_8h_source.html">rem0cmp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0mon_8h_source.html">srv0mon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a525d62b1267eb733cd6f04ac4ae47264"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structrtr__split__node__t.html">rtr_split_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a525d62b1267eb733cd6f04ac4ae47264">rtr_page_split_initialize_nodes</a> (<a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, ulint **offsets, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, double **buf_pos)</td></tr>
<tr class="memdesc:a525d62b1267eb733cd6f04ac4ae47264"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial split nodes info for R-tree split.  <a href="#a525d62b1267eb733cd6f04ac4ae47264">More...</a><br /></td></tr>
<tr class="separator:a525d62b1267eb733cd6f04ac4ae47264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196accc206fd79cf0e327293a94dc137"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a196accc206fd79cf0e327293a94dc137">rtr_index_build_node_ptr</a> (const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *mbr, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, <a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a> page_no, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, ulint level)</td></tr>
<tr class="memdesc:a196accc206fd79cf0e327293a94dc137"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a Rtree node pointer out of a physical record and a page number.  <a href="#a196accc206fd79cf0e327293a94dc137">More...</a><br /></td></tr>
<tr class="separator:a196accc206fd79cf0e327293a94dc137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad83d81fc4baf17eca0b4f40031e278e7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#ad83d81fc4baf17eca0b4f40031e278e7">rtr_update_mbr_field_in_place</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, ulint *offsets, <a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *mbr, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:ad83d81fc4baf17eca0b4f40031e278e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">In-place update the mbr field of a spatial index row.  <a href="#ad83d81fc4baf17eca0b4f40031e278e7">More...</a><br /></td></tr>
<tr class="separator:ad83d81fc4baf17eca0b4f40031e278e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f773a86ad258b0623df934673f92f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#ae3f773a86ad258b0623df934673f92f6">rtr_update_mbr_field</a> (<a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, ulint *offsets, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor2, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *child_page, <a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *mbr, <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *new_rec, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:ae3f773a86ad258b0623df934673f92f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the mbr field of a spatial index row.  <a href="#ae3f773a86ad258b0623df934673f92f6">More...</a><br /></td></tr>
<tr class="separator:ae3f773a86ad258b0623df934673f92f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f433302f18fdf0d6393ca7ed03e1e98"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a0f433302f18fdf0d6393ca7ed03e1e98">rtr_adjust_upper_level</a> (<a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *sea_cur, uint32_t <a class="el" href="mi__test1_8cc.html#a6eec09a91807e20d7b3d6ef3da594067">flags</a>, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *new_block, <a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *mbr, <a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *new_mbr, ulint direction, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a0f433302f18fdf0d6393ca7ed03e1e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update parent page's MBR and Predicate lock information during a split.  <a href="#a0f433302f18fdf0d6393ca7ed03e1e98">More...</a><br /></td></tr>
<tr class="separator:a0f433302f18fdf0d6393ca7ed03e1e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15603105a83057923f36409a93be60ec"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a15603105a83057923f36409a93be60ec">rtr_split_page_move_rec_list</a> (<a class="el" href="structrtr__split__node__t.html">rtr_split_node_t</a> *node_array, int first_rec_group, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *new_block, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *first_rec, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a15603105a83057923f36409a93be60ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves record list to another page for rtree splitting.  <a href="#a15603105a83057923f36409a93be60ec">More...</a><br /></td></tr>
<tr class="separator:a15603105a83057923f36409a93be60ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935eb8a90339ac617c7da6b7ba6b4bce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a935eb8a90339ac617c7da6b7ba6b4bce">rtr_page_split_and_insert</a> (uint32_t <a class="el" href="mi__test1_8cc.html#a6eec09a91807e20d7b3d6ef3da594067">flags</a>, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, ulint **offsets, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> **heap, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a935eb8a90339ac617c7da6b7ba6b4bce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splits an R-tree index page to halves and inserts the tuple.  <a href="#a935eb8a90339ac617c7da6b7ba6b4bce">More...</a><br /></td></tr>
<tr class="separator:a935eb8a90339ac617c7da6b7ba6b4bce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a776509f2b8e698fd6607ccf04abfce1e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a776509f2b8e698fd6607ccf04abfce1e">rtr_ins_enlarge_mbr</a> (<a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *btr_cur, <a class="el" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a776509f2b8e698fd6607ccf04abfce1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Following the right link to find the proper block for insert.  <a href="#a776509f2b8e698fd6607ccf04abfce1e">More...</a><br /></td></tr>
<tr class="separator:a776509f2b8e698fd6607ccf04abfce1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e665de63841072c32079e1e93528dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a55e665de63841072c32079e1e93528dd">rtr_page_copy_rec_list_end_no_locks</a> (<a class="el" href="structbuf__block__t.html">buf_block_t</a> *new_block, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="gis0type_8h.html#a2d71af64b5717827d5581da7a7b4a180">rtr_rec_move_t</a> *rec_move, ulint max_move, ulint *num_moved, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a55e665de63841072c32079e1e93528dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy recs from a page to new_block of rtree.  <a href="#a55e665de63841072c32079e1e93528dd">More...</a><br /></td></tr>
<tr class="separator:a55e665de63841072c32079e1e93528dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc193704648d8e19f8e96826a979b9d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#afc193704648d8e19f8e96826a979b9d1">rtr_page_copy_rec_list_start_no_locks</a> (<a class="el" href="structbuf__block__t.html">buf_block_t</a> *new_block, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="gis0type_8h.html#a2d71af64b5717827d5581da7a7b4a180">rtr_rec_move_t</a> *rec_move, ulint max_move, ulint *num_moved, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:afc193704648d8e19f8e96826a979b9d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy recs till a specified rec from a page to new_block of rtree.  <a href="#afc193704648d8e19f8e96826a979b9d1">More...</a><br /></td></tr>
<tr class="separator:afc193704648d8e19f8e96826a979b9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1494839f13af2a8f3e01a3589418d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a5d1494839f13af2a8f3e01a3589418d9">rtr_merge_mbr_changed</a> (<a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor2, ulint *offsets, ulint *offsets2, <a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *new_mbr, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *merge_block, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>)</td></tr>
<tr class="memdesc:a5d1494839f13af2a8f3e01a3589418d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check two MBRs are identical or need to be merged.  <a href="#a5d1494839f13af2a8f3e01a3589418d9">More...</a><br /></td></tr>
<tr class="separator:a5d1494839f13af2a8f3e01a3589418d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62fe1ca5e7c340f996fc0c1b1e65702a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a62fe1ca5e7c340f996fc0c1b1e65702a">rtr_merge_and_update_mbr</a> (<a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor2, ulint *offsets, ulint *offsets2, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *child_page, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *merge_block, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a62fe1ca5e7c340f996fc0c1b1e65702a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merge 2 mbrs and update the the mbr that cursor is on.  <a href="#a62fe1ca5e7c340f996fc0c1b1e65702a">More...</a><br /></td></tr>
<tr class="separator:a62fe1ca5e7c340f996fc0c1b1e65702a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08492c604078a8624a3c4b0b5866577"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#ad08492c604078a8624a3c4b0b5866577">rtr_node_ptr_delete</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *sea_cur, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:ad08492c604078a8624a3c4b0b5866577"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes on the upper level the node pointer to a page.  <a href="#ad08492c604078a8624a3c4b0b5866577">More...</a><br /></td></tr>
<tr class="separator:ad08492c604078a8624a3c4b0b5866577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74390d57a260347c22f4bc8cc0a9d347"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a74390d57a260347c22f4bc8cc0a9d347">rtr_check_same_block</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *cursor, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *parentb, <a class="el" href="structbuf__block__t.html">buf_block_t</a> *childb, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap)</td></tr>
<tr class="memdesc:a74390d57a260347c22f4bc8cc0a9d347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a Rtree page is child of a parent page.  <a href="#a74390d57a260347c22f4bc8cc0a9d347">More...</a><br /></td></tr>
<tr class="separator:a74390d57a260347c22f4bc8cc0a9d347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60376d333aecc711ba9c33f368f091ee"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#a60376d333aecc711ba9c33f368f091ee">rtr_rec_cal_increase</a> (const <a class="el" href="structdtuple__t.html">dtuple_t</a> *dtuple, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, const ulint *offsets, double *area, const <a class="el" href="classdd_1_1Spatial__reference__system.html">dd::Spatial_reference_system</a> *srs)</td></tr>
<tr class="memdesc:a60376d333aecc711ba9c33f368f091ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the area increased for a new record.  <a href="#a60376d333aecc711ba9c33f368f091ee">More...</a><br /></td></tr>
<tr class="separator:a60376d333aecc711ba9c33f368f091ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1fa16a7234b991e653623644233537d"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gis0rtree_8cc.html#aa1fa16a7234b991e653623644233537d">rtr_estimate_n_rows_in_range</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *tuple, <a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a> mode)</td></tr>
<tr class="memdesc:aa1fa16a7234b991e653623644233537d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimates the number of rows in a given area.  <a href="#aa1fa16a7234b991e653623644233537d">More...</a><br /></td></tr>
<tr class="separator:aa1fa16a7234b991e653623644233537d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>InnoDB R-tree interfaces. </p>
<p>Created 2013/03/27 Allen Lai and Jimmy Yang </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a0f433302f18fdf0d6393ca7ed03e1e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f433302f18fdf0d6393ca7ed03e1e98">&#9670;&nbsp;</a></span>rtr_adjust_upper_level()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtr_adjust_upper_level </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>sea_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>new_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *&#160;</td>
          <td class="paramname"><em>mbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *&#160;</td>
          <td class="paramname"><em>new_mbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update parent page's MBR and Predicate lock information during a split. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sea_cur</td><td>in: search cursor </td></tr>
    <tr><td class="paramname">flags</td><td>in: undo logging and locking flags </td></tr>
    <tr><td class="paramname">block</td><td>in/out: page to be split </td></tr>
    <tr><td class="paramname">new_block</td><td>in/out: the new half page </td></tr>
    <tr><td class="paramname">mbr</td><td>in: MBR on the old page </td></tr>
    <tr><td class="paramname">new_mbr</td><td>in: MBR on the new page </td></tr>
    <tr><td class="paramname">direction</td><td>in: FSP_UP or FSP_DOWN </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a74390d57a260347c22f4bc8cc0a9d347"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74390d57a260347c22f4bc8cc0a9d347">&#9670;&nbsp;</a></span>rtr_check_same_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rtr_check_same_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>parentb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>childb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether a Rtree page is child of a parent page. </p>
<dl class="section return"><dt>Returns</dt><dd>true if there is child/parent relationship </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index tree </td></tr>
    <tr><td class="paramname">cursor</td><td>in/out: position at the parent entry pointing to the child if successful </td></tr>
    <tr><td class="paramname">parentb</td><td>in: parent page to check </td></tr>
    <tr><td class="paramname">childb</td><td>in: child Page </td></tr>
    <tr><td class="paramname">heap</td><td>in: memory heap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1fa16a7234b991e653623644233537d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1fa16a7234b991e653623644233537d">&#9670;&nbsp;</a></span>rtr_estimate_n_rows_in_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t rtr_estimate_n_rows_in_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#a09a7c28cbc96005a4ad8497a1a195dba">page_cur_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimates the number of rows in a given area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tuple</td><td>range tuple containing mbr, may also be empty tuple </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>search mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>estimated number of rows </dd></dl>

</div>
</div>
<a id="a196accc206fd79cf0e327293a94dc137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a196accc206fd79cf0e327293a94dc137">&#9670;&nbsp;</a></span>rtr_index_build_node_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdtuple__t.html">dtuple_t</a>* rtr_index_build_node_ptr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *&#160;</td>
          <td class="paramname"><em>mbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3a920291a017c14a72331c818adf2265">page_no_t</a>&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds a Rtree node pointer out of a physical record and a page number. </p>
<p>Note: For Rtree, we just keep the mbr and page no field in non-leaf level page. It's different with Btree, Btree still keeps PK fields so far. </p><dl class="section return"><dt>Returns</dt><dd>own: node pointer </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">mbr</td><td>in: mbr of lower page </td></tr>
    <tr><td class="paramname">rec</td><td>in: record for which to build node pointer </td></tr>
    <tr><td class="paramname">page_no</td><td>in: page number to put in node pointer </td></tr>
    <tr><td class="paramname">heap</td><td>in: memory heap where pointer created </td></tr>
    <tr><td class="paramname">level</td><td>in: level of rec in tree: 0 means leaf level </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a776509f2b8e698fd6607ccf04abfce1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a776509f2b8e698fd6607ccf04abfce1e">&#9670;&nbsp;</a></span>rtr_ins_enlarge_mbr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> rtr_ins_enlarge_mbr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>btr_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Following the right link to find the proper block for insert. </p>
<dl class="section return"><dt>Returns</dt><dd>the proper block. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">btr_cur</td><td>in: btr cursor </td></tr>
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62fe1ca5e7c340f996fc0c1b1e65702a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62fe1ca5e7c340f996fc0c1b1e65702a">&#9670;&nbsp;</a></span>rtr_merge_and_update_mbr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> rtr_merge_and_update_mbr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>child_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>merge_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Merge 2 mbrs and update the the mbr that cursor is on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">cursor</td><td>Cursor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cursor2</td><td>The other cursor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>Rec offsets </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets2</td><td>Rec offsets </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">child_page</td><td>The child page. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">merge_block</td><td>Page to merge </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Page be merged </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>Mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d1494839f13af2a8f3e01a3589418d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d1494839f13af2a8f3e01a3589418d9">&#9670;&nbsp;</a></span>rtr_merge_mbr_changed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rtr_merge_mbr_changed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *&#160;</td>
          <td class="paramname"><em>new_mbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>merge_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check two MBRs are identical or need to be merged. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cursor</td><td>Cursor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cursor2</td><td>The other cursor </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>Rec offsets </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets2</td><td>Rec offsets </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">new_mbr</td><td>Mbr to update </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">merge_block</td><td>Page to merge </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Page be merged </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad08492c604078a8624a3c4b0b5866577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08492c604078a8624a3c4b0b5866577">&#9670;&nbsp;</a></span>rtr_node_ptr_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_node_ptr_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>sea_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes on the upper level the node pointer to a page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sea_cur</td><td>Search cursor, contains information about parent nodes in search </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Page whose node pointer is deleted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>Mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a55e665de63841072c32079e1e93528dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e665de63841072c32079e1e93528dd">&#9670;&nbsp;</a></span>rtr_page_copy_rec_list_end_no_locks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_page_copy_rec_list_end_no_locks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>new_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a2d71af64b5717827d5581da7a7b4a180">rtr_rec_move_t</a> *&#160;</td>
          <td class="paramname"><em>rec_move</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>max_move</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>num_moved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy recs from a page to new_block of rtree. </p>
<p>Differs from page_copy_rec_list_end, because this function does not touch the lock table and max trx id on page or compress the page.</p>
<p>IMPORTANT: The caller will have to update IBUF_BITMAP_FREE if new_block is a compressed leaf page in a secondary index. This has to be done either within the same mini-transaction, or by invoking ibuf_reset_free_bits() before mtr_commit().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">new_block</td><td>Index page to copy to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Index page of rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Record on page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Record descriptor </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">heap</td><td>Heap memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec_move</td><td>Recording records moved </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_move</td><td>Num of rec to move </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">num_moved</td><td>Num of rec to move </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>Mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afc193704648d8e19f8e96826a979b9d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc193704648d8e19f8e96826a979b9d1">&#9670;&nbsp;</a></span>rtr_page_copy_rec_list_start_no_locks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rtr_page_copy_rec_list_start_no_locks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>new_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="gis0type_8h.html#a2d71af64b5717827d5581da7a7b4a180">rtr_rec_move_t</a> *&#160;</td>
          <td class="paramname"><em>rec_move</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>max_move</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>num_moved</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy recs till a specified rec from a page to new_block of rtree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">new_block</td><td>Index page to copy to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>Index page of rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Record on page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Record descriptor </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">heap</td><td>Heap memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec_move</td><td>Recording records moved </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_move</td><td>Num of rec to move </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">num_moved</td><td>Num of rec to move </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>Mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a935eb8a90339ac617c7da6b7ba6b4bce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935eb8a90339ac617c7da6b7ba6b4bce">&#9670;&nbsp;</a></span>rtr_page_split_and_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a>* rtr_page_split_and_insert </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint **&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> **&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Splits an R-tree index page to halves and inserts the tuple. </p>
<p>It is assumed that mtr holds an x-latch to the index tree. NOTE: the tree x-latch is released within this function! NOTE that the operation of this function must always succeed, we cannot reverse it: therefore enough free disk space (2 pages) must be guaranteed to be available before this function is called. </p><dl class="section return"><dt>Returns</dt><dd>inserted record </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flags</td><td>in: undo logging and locking flags </td></tr>
    <tr><td class="paramname">cursor</td><td>in/out: cursor at which to insert; when the function returns, the cursor is positioned on the predecessor of the inserted record </td></tr>
    <tr><td class="paramname">offsets</td><td>out: offsets on inserted record </td></tr>
    <tr><td class="paramname">heap</td><td>in/out: pointer to memory heap, or NULL </td></tr>
    <tr><td class="paramname">tuple</td><td>in: tuple to insert </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a525d62b1267eb733cd6f04ac4ae47264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a525d62b1267eb733cd6f04ac4ae47264">&#9670;&nbsp;</a></span>rtr_page_split_initialize_nodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structrtr__split__node__t.html">rtr_split_node_t</a>* rtr_page_split_initialize_nodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint **&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&#160;</td>
          <td class="paramname"><em>buf_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initial split nodes info for R-tree split. </p>
<dl class="section return"><dt>Returns</dt><dd>initialized split nodes array </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heap</td><td>in: pointer to memory heap, or NULL </td></tr>
    <tr><td class="paramname">cursor</td><td>in: cursor at which to insert; when the function returns, the cursor is positioned on the predecessor of the inserted record </td></tr>
    <tr><td class="paramname">offsets</td><td>in: offsets on inserted record </td></tr>
    <tr><td class="paramname">tuple</td><td>in: tuple to insert </td></tr>
    <tr><td class="paramname">buf_pos</td><td>in/out: current buffer position </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a60376d333aecc711ba9c33f368f091ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60376d333aecc711ba9c33f368f091ee">&#9670;&nbsp;</a></span>rtr_rec_cal_increase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double rtr_rec_cal_increase </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>dtuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Spatial__reference__system.html">dd::Spatial_reference_system</a> *&#160;</td>
          <td class="paramname"><em>srs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the area increased for a new record. </p>
<dl class="section return"><dt>Returns</dt><dd>area increased </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dtuple</td><td>in: data tuple to insert, which cause area increase </td></tr>
    <tr><td class="paramname">rec</td><td>in: physical record which differs from dtuple in some of the common fields, or which has an equal number or more fields than dtuple </td></tr>
    <tr><td class="paramname">offsets</td><td>in: array returned by rec_get_offsets() </td></tr>
    <tr><td class="paramname">area</td><td>out: increased area </td></tr>
    <tr><td class="paramname">srs</td><td>in: SRS of R-tree </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15603105a83057923f36409a93be60ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15603105a83057923f36409a93be60ec">&#9670;&nbsp;</a></span>rtr_split_page_move_rec_list()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ibool rtr_split_page_move_rec_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrtr__split__node__t.html">rtr_split_node_t</a> *&#160;</td>
          <td class="paramname"><em>node_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first_rec_group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>new_block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>first_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves record list to another page for rtree splitting. </p>
<p>IMPORTANT: The caller will have to update IBUF_BITMAP_FREE if new_block is a compressed leaf page in a secondary index. This has to be done either within the same mini-transaction, or by invoking ibuf_reset_free_bits() before mtr_commit().</p>
<dl class="section return"><dt>Returns</dt><dd>true on success; false on compression failure </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node_array</td><td>in: split node array. </td></tr>
    <tr><td class="paramname">first_rec_group</td><td>in: group number of the first rec. </td></tr>
    <tr><td class="paramname">new_block</td><td>in/out: index page where to move </td></tr>
    <tr><td class="paramname">block</td><td>in/out: page containing split_rec </td></tr>
    <tr><td class="paramname">first_rec</td><td>in: first record not to move </td></tr>
    <tr><td class="paramname">index</td><td>in: record descriptor </td></tr>
    <tr><td class="paramname">heap</td><td>in: pointer to memory heap, or NULL </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae3f773a86ad258b0623df934673f92f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3f773a86ad258b0623df934673f92f6">&#9670;&nbsp;</a></span>rtr_update_mbr_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> rtr_update_mbr_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td>
          <td class="paramname"><em>cursor2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>child_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *&#160;</td>
          <td class="paramname"><em>mbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>new_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the mbr field of a spatial index row. </p>
<dl class="section return"><dt>Returns</dt><dd>true if update is successful </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>in/out: cursor pointed to rec. </td></tr>
    <tr><td class="paramname">offsets</td><td>in/out: offsets on rec. </td></tr>
    <tr><td class="paramname">cursor2</td><td>in/out: cursor pointed to rec that should be deleted. this cursor is for btr_compress to delete the merged page's father rec. </td></tr>
    <tr><td class="paramname">child_page</td><td>in: child page. </td></tr>
    <tr><td class="paramname">mbr</td><td>in: the new mbr. </td></tr>
    <tr><td class="paramname">new_rec</td><td>in: rec to use </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad83d81fc4baf17eca0b4f40031e278e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad83d81fc4baf17eca0b4f40031e278e7">&#9670;&nbsp;</a></span>rtr_update_mbr_field_in_place()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rtr_update_mbr_field_in_place </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rtree__support_8h.html#a394b6a7002f102c6f7094c7ff6bb1dae">rtr_mbr_t</a> *&#160;</td>
          <td class="paramname"><em>mbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In-place update the mbr field of a spatial index row. </p>
<dl class="section return"><dt>Returns</dt><dd>true if update is successful </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in: spatial index. </td></tr>
    <tr><td class="paramname">rec</td><td>in/out: rec to be modified. </td></tr>
    <tr><td class="paramname">offsets</td><td>in/out: offsets on rec. </td></tr>
    <tr><td class="paramname">mbr</td><td>in: the new mbr. </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_c84ba9638bea6bde1e8c3fbd726ccb3a.html">gis</a></li><li class="navelem"><a class="el" href="gis0rtree_8cc.html">gis0rtree.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
