<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/sql_check_constraint.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sql__check__constraint_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sql_check_constraint.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="lex__string_8h_source.html">lex_string.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem__root__array_8h_source.html">sql/mem_root_array.h</a>&quot;</code><br />
</div>
<p><a href="sql__check__constraint_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSql__check__constraint__spec.html">Sql_check_constraint_spec</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class to represent the check constraint specifications obtained from the SQL statement parse.  <a href="classSql__check__constraint__spec.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSql__check__constraint__share.html">Sql_check_constraint_share</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class to represent check constraint in the TABLE_SHARE.  <a href="classSql__check__constraint__share.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSql__table__check__constraint.html">Sql_table_check_constraint</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class to represent check constraint in the TABLE instance.  <a href="classSql__table__check__constraint.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCheck__constraint__column__dependency__checker.html">Check_constraint_column_dependency_checker</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper class to check if column being dropped or removed in ALTER statement is in use by Check constraints.  <a href="classCheck__constraint__column__dependency__checker.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3aad91bb87c2f1c7231419090b7b9d02"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__check__constraint_8h.html#a3aad91bb87c2f1c7231419090b7b9d02">Sql_check_constraint_spec_list</a> = <a class="el" href="classMem__root__array.html">Mem_root_array</a>&lt; <a class="el" href="classSql__check__constraint__spec.html">Sql_check_constraint_spec</a> * &gt;</td></tr>
<tr class="memdesc:a3aad91bb87c2f1c7231419090b7b9d02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for the list of Sql_check_constraint_spec elements.  <a href="#a3aad91bb87c2f1c7231419090b7b9d02">More...</a><br /></td></tr>
<tr class="separator:a3aad91bb87c2f1c7231419090b7b9d02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6b896ab3ce4777fd76dea8f639c783"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__check__constraint_8h.html#a1d6b896ab3ce4777fd76dea8f639c783">Sql_check_constraint_share_list</a> = <a class="el" href="classMem__root__array.html">Mem_root_array</a>&lt; <a class="el" href="classSql__check__constraint__share.html">Sql_check_constraint_share</a> &gt;</td></tr>
<tr class="memdesc:a1d6b896ab3ce4777fd76dea8f639c783"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for the list of Sql_check_constraint_share elements.  <a href="#a1d6b896ab3ce4777fd76dea8f639c783">More...</a><br /></td></tr>
<tr class="separator:a1d6b896ab3ce4777fd76dea8f639c783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c65fb74d297e4bd346fefd33850cd7b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__check__constraint_8h.html#a7c65fb74d297e4bd346fefd33850cd7b">Sql_table_check_constraint_list</a> = <a class="el" href="classMem__root__array.html">Mem_root_array</a>&lt; <a class="el" href="classSql__table__check__constraint.html">Sql_table_check_constraint</a> &gt;</td></tr>
<tr class="memdesc:a7c65fb74d297e4bd346fefd33850cd7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for the list of Sql_table_check_constraint elements.  <a href="#a7c65fb74d297e4bd346fefd33850cd7b">More...</a><br /></td></tr>
<tr class="separator:a7c65fb74d297e4bd346fefd33850cd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a70e392986e36746ce75b6ea4d284821d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__check__constraint_8h.html#a70e392986e36746ce75b6ea4d284821d">is_slave_with_master_without_check_constraints_support</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a70e392986e36746ce75b6ea4d284821d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to check if server is a slave server and master server is on a version not supporting check constraints feature.  <a href="#a70e392986e36746ce75b6ea4d284821d">More...</a><br /></td></tr>
<tr class="separator:a70e392986e36746ce75b6ea4d284821d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8d96b9f3c1f81d146a9f92f493963e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sql__check__constraint_8h.html#a0c8d96b9f3c1f81d146a9f92f493963e">check_constraint_expr_refers_to_only_column</a> (<a class="el" href="classItem.html">Item</a> *check_expr, const char *column_name)</td></tr>
<tr class="memdesc:a0c8d96b9f3c1f81d146a9f92f493963e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if constraint expression refers to only "column_name" column of the table.  <a href="#a0c8d96b9f3c1f81d146a9f92f493963e">More...</a><br /></td></tr>
<tr class="separator:a0c8d96b9f3c1f81d146a9f92f493963e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a1d6b896ab3ce4777fd76dea8f639c783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6b896ab3ce4777fd76dea8f639c783">&#9670;&nbsp;</a></span>Sql_check_constraint_share_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="sql__check__constraint_8h.html#a1d6b896ab3ce4777fd76dea8f639c783">Sql_check_constraint_share_list</a> =  <a class="el" href="classMem__root__array.html">Mem_root_array</a>&lt;<a class="el" href="classSql__check__constraint__share.html">Sql_check_constraint_share</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for the list of Sql_check_constraint_share elements. </p>

</div>
</div>
<a id="a3aad91bb87c2f1c7231419090b7b9d02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aad91bb87c2f1c7231419090b7b9d02">&#9670;&nbsp;</a></span>Sql_check_constraint_spec_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="dd__table_8h.html#a3aad91bb87c2f1c7231419090b7b9d02">Sql_check_constraint_spec_list</a> =  <a class="el" href="classMem__root__array.html">Mem_root_array</a>&lt;<a class="el" href="classSql__check__constraint__spec.html">Sql_check_constraint_spec</a> *&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for the list of Sql_check_constraint_spec elements. </p>

</div>
</div>
<a id="a7c65fb74d297e4bd346fefd33850cd7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c65fb74d297e4bd346fefd33850cd7b">&#9670;&nbsp;</a></span>Sql_table_check_constraint_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="sql__check__constraint_8h.html#a7c65fb74d297e4bd346fefd33850cd7b">Sql_table_check_constraint_list</a> =  <a class="el" href="classMem__root__array.html">Mem_root_array</a>&lt;<a class="el" href="classSql__table__check__constraint.html">Sql_table_check_constraint</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type for the list of Sql_table_check_constraint elements. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0c8d96b9f3c1f81d146a9f92f493963e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c8d96b9f3c1f81d146a9f92f493963e">&#9670;&nbsp;</a></span>check_constraint_expr_refers_to_only_column()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_constraint_expr_refers_to_only_column </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classItem.html">Item</a> *&#160;</td>
          <td class="paramname"><em>check_expr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>column_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if constraint expression refers to only "column_name" column of the table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">check_expr</td><td>Check constraint expression. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">column_name</td><td>Column name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>If expression refers to only "column_name". </td></tr>
    <tr><td class="paramname">false</td><td>If expression refers to more than one column or if expression does not refers to "column_name". </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a70e392986e36746ce75b6ea4d284821d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70e392986e36746ce75b6ea4d284821d">&#9670;&nbsp;</a></span>is_slave_with_master_without_check_constraints_support()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_slave_with_master_without_check_constraints_support </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to check if server is a slave server and master server is on a version not supporting check constraints feature. </p>
<p>Check constraint support is introduced in server version 80016.</p>
<p>Method is used by methods prepare_check_constraints_for_create() and prepare_check_constraints_for_alter(). Check constraints are not prepared (and specification list is cleared) when this method returns to true. In older versions, check constraint syntax was supported but check constraint feature was not supported. So if master is on older version and slave gets event with check constraint syntax then on slave supporting check constraint, query is parsed but during prepare time the specifications are ignored for the statement(event).</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if server is a slave server and master server is on a version not supporting check constraints feature. </td></tr>
    <tr><td class="paramname">false</td><td>Otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="sql__check__constraint_8h.html">sql_check_constraint.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
