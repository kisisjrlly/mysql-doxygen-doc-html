<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/row/row0purge.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('row0purge_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">row0purge.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Purge obsolete records.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="row0purge_8h_source.html">row0purge.h</a>&quot;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &quot;<a class="el" href="current__thd_8h_source.html">current_thd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug__sync_8h_source.html">debug_sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysqld_8h_source.html">mysqld.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0dd_8h_source.html">dict0dd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsp0fsp_8h_source.html">fsp0fsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ha__innodb_8h_source.html">ha_innodb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2handler_8h_source.html">handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lob0lob_8h_source.html">lob0lob.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0log_8h_source.html">log0log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mach0data_8h_source.html">mach0data.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="que0que_8h_source.html">que0que.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0log_8h_source.html">row0log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0mysql_8h_source.html">row0mysql.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0row_8h_source.html">row0row.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0upd_8h_source.html">row0upd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0vers_8h_source.html">row0vers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__base_8h_source.html">sql_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0mon_8h_source.html">srv0mon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0start_8h_source.html">srv0start.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2table_8h_source.html">table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0purge_8h_source.html">trx0purge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0rec_8h_source.html">trx0rec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0roll_8h_source.html">trx0roll.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0rseg_8h_source.html">trx0rseg.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0undo_8h_source.html">trx0undo.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af7ba61183a0fd1901eee05bc9e2dd932"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#af7ba61183a0fd1901eee05bc9e2dd932">row_purge_upd_exist_or_extern</a>(thr,  node,  undo_rec)&#160;&#160;&#160;<a class="el" href="row0purge_8cc.html#aed013004ac08ea14e45fd56a8a7eadb0">row_purge_upd_exist_or_extern_func</a>(thr, node, undo_rec)</td></tr>
<tr class="separator:af7ba61183a0fd1901eee05bc9e2dd932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe79f2424bb27ae67f6b8a025b1e708"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#abbe79f2424bb27ae67f6b8a025b1e708">row_purge_record</a>(node,  undo_rec,  thr,  updated_extern,  thd)&#160;&#160;&#160;<a class="el" href="row0purge_8cc.html#a6ec0061c4e672bb745ca15c4aca98c70">row_purge_record_func</a>(node, undo_rec, thr, updated_extern, thd)</td></tr>
<tr class="separator:abbe79f2424bb27ae67f6b8a025b1e708"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a92ddb6e04a0dd489ac33915793e2afdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a92ddb6e04a0dd489ac33915793e2afdc">row_purge_node_create</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *parent, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap)</td></tr>
<tr class="memdesc:a92ddb6e04a0dd489ac33915793e2afdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a purge node to a query graph.  <a href="#a92ddb6e04a0dd489ac33915793e2afdc">More...</a><br /></td></tr>
<tr class="separator:a92ddb6e04a0dd489ac33915793e2afdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4c46f7688b4f4e9c0ea119aa2d5208"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a2c4c46f7688b4f4e9c0ea119aa2d5208">row_purge_reposition_pcur</a> (ulint mode, <a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a2c4c46f7688b4f4e9c0ea119aa2d5208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Repositions the pcur in the purge node on the clustered index record, if found.  <a href="#a2c4c46f7688b4f4e9c0ea119aa2d5208">More...</a><br /></td></tr>
<tr class="separator:a2c4c46f7688b4f4e9c0ea119aa2d5208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8ccfbb5cc906146f314529d02a7b4c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#acb8ccfbb5cc906146f314529d02a7b4c">row_purge_remove_clust_if_poss_low</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, ulint mode)</td></tr>
<tr class="memdesc:acb8ccfbb5cc906146f314529d02a7b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a delete marked clustered index record if possible.  <a href="#acb8ccfbb5cc906146f314529d02a7b4c">More...</a><br /></td></tr>
<tr class="separator:acb8ccfbb5cc906146f314529d02a7b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a331cffd82fe1d502abb796089bd6b502"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a331cffd82fe1d502abb796089bd6b502">row_purge_remove_clust_if_poss</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node)</td></tr>
<tr class="memdesc:a331cffd82fe1d502abb796089bd6b502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a clustered index record if it has not been modified after the delete marking.  <a href="#a331cffd82fe1d502abb796089bd6b502">More...</a><br /></td></tr>
<tr class="separator:a331cffd82fe1d502abb796089bd6b502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668b266158c467e6d7312818de321b5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a668b266158c467e6d7312818de321b5d">row_purge_poss_sec</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *<a class="el" href="completion__hash_8h.html#aea3abbd5a90d07f8abee93d6c28bce9a">entry</a>)</td></tr>
<tr class="memdesc:a668b266158c467e6d7312818de321b5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if it is possible to remove a secondary index entry.  <a href="#a668b266158c467e6d7312818de321b5d">More...</a><br /></td></tr>
<tr class="separator:a668b266158c467e6d7312818de321b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0d7eca0e59cd32a593fd473433f496"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#aac0d7eca0e59cd32a593fd473433f496">row_purge_remove_sec_if_poss_tree</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *<a class="el" href="completion__hash_8h.html#aea3abbd5a90d07f8abee93d6c28bce9a">entry</a>)</td></tr>
<tr class="separator:aac0d7eca0e59cd32a593fd473433f496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f3a3b5651a7057affc7bafda033c2d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#ad2f3a3b5651a7057affc7bafda033c2d">row_purge_remove_sec_if_poss_leaf</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *<a class="el" href="completion__hash_8h.html#aea3abbd5a90d07f8abee93d6c28bce9a">entry</a>)</td></tr>
<tr class="separator:ad2f3a3b5651a7057affc7bafda033c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d8d6daa0bc1416cd7de39c757431c3"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a37d8d6daa0bc1416cd7de39c757431c3">row_purge_remove_sec_if_poss</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *<a class="el" href="completion__hash_8h.html#aea3abbd5a90d07f8abee93d6c28bce9a">entry</a>)</td></tr>
<tr class="memdesc:a37d8d6daa0bc1416cd7de39c757431c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a secondary index entry if possible.  <a href="#a37d8d6daa0bc1416cd7de39c757431c3">More...</a><br /></td></tr>
<tr class="separator:a37d8d6daa0bc1416cd7de39c757431c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1a1e4e010e25939bc7c9896704b7d98"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#ab1a1e4e010e25939bc7c9896704b7d98">row_purge_skip_uncommitted_virtual_index</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *&amp;<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>)</td></tr>
<tr class="memdesc:ab1a1e4e010e25939bc7c9896704b7d98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skip uncommitted virtual indexes on newly added virtual column.  <a href="#ab1a1e4e010e25939bc7c9896704b7d98">More...</a><br /></td></tr>
<tr class="separator:ab1a1e4e010e25939bc7c9896704b7d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519e59bc32f097ba3fb31fbb3a11922a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a519e59bc32f097ba3fb31fbb3a11922a">row_purge_remove_multi_sec_if_poss</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> selected)</td></tr>
<tr class="memdesc:a519e59bc32f097ba3fb31fbb3a11922a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove multi-value index entries if possible.  <a href="#a519e59bc32f097ba3fb31fbb3a11922a">More...</a><br /></td></tr>
<tr class="separator:a519e59bc32f097ba3fb31fbb3a11922a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d1e23606ef061f877a4f7769b26633"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#af1d1e23606ef061f877a4f7769b26633">row_purge_del_mark</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node)</td></tr>
<tr class="memdesc:af1d1e23606ef061f877a4f7769b26633"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purges a delete marking of a record.  <a href="#af1d1e23606ef061f877a4f7769b26633">More...</a><br /></td></tr>
<tr class="separator:af1d1e23606ef061f877a4f7769b26633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed013004ac08ea14e45fd56a8a7eadb0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#aed013004ac08ea14e45fd56a8a7eadb0">row_purge_upd_exist_or_extern_func</a> (const <a class="el" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *undo_rec)</td></tr>
<tr class="memdesc:aed013004ac08ea14e45fd56a8a7eadb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purges an update of an existing record.  <a href="#aed013004ac08ea14e45fd56a8a7eadb0">More...</a><br /></td></tr>
<tr class="separator:aed013004ac08ea14e45fd56a8a7eadb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66601f35773c9e8987a2468f95b53fb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#aa66601f35773c9e8987a2468f95b53fb">row_purge_parse_undo_rec</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *undo_rec, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *updated_extern, <a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:aa66601f35773c9e8987a2468f95b53fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the row reference and other info in a modify undo log record.  <a href="#aa66601f35773c9e8987a2468f95b53fb">More...</a><br /></td></tr>
<tr class="separator:aa66601f35773c9e8987a2468f95b53fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ec0061c4e672bb745ca15c4aca98c70"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a6ec0061c4e672bb745ca15c4aca98c70">row_purge_record_func</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *undo_rec, const <a class="el" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> updated_extern, <a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a6ec0061c4e672bb745ca15c4aca98c70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Purges the parsed record.  <a href="#a6ec0061c4e672bb745ca15c4aca98c70">More...</a><br /></td></tr>
<tr class="separator:a6ec0061c4e672bb745ca15c4aca98c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d678e0b570698f44fd3c26685df8abf"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a4d678e0b570698f44fd3c26685df8abf">row_purge</a> (<a class="el" href="structpurge__node__t.html">purge_node_t</a> *node, <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *undo_rec, <a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:a4d678e0b570698f44fd3c26685df8abf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches an undo log record and does the purge for the recorded operation.  <a href="#a4d678e0b570698f44fd3c26685df8abf">More...</a><br /></td></tr>
<tr class="separator:a4d678e0b570698f44fd3c26685df8abf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72cd9efa779eb88a63a9f6b89d15518a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#a72cd9efa779eb88a63a9f6b89d15518a">row_purge_end</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:a72cd9efa779eb88a63a9f6b89d15518a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the purge query thread.  <a href="#a72cd9efa779eb88a63a9f6b89d15518a">More...</a><br /></td></tr>
<tr class="separator:a72cd9efa779eb88a63a9f6b89d15518a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa9db1db6b05c2eb20b4994e0b7018c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0purge_8cc.html#adaa9db1db6b05c2eb20b4994e0b7018c">row_purge_step</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *thr)</td></tr>
<tr class="memdesc:adaa9db1db6b05c2eb20b4994e0b7018c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the purge operation for a single undo log record.  <a href="#adaa9db1db6b05c2eb20b4994e0b7018c">More...</a><br /></td></tr>
<tr class="separator:adaa9db1db6b05c2eb20b4994e0b7018c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Purge obsolete records. </p>
<p>Created 3/14/1997 Heikki Tuuri </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="abbe79f2424bb27ae67f6b8a025b1e708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe79f2424bb27ae67f6b8a025b1e708">&#9670;&nbsp;</a></span>row_purge_record</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define row_purge_record</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">node, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">undo_rec, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">thr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">updated_extern, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">thd&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="row0purge_8cc.html#a6ec0061c4e672bb745ca15c4aca98c70">row_purge_record_func</a>(node, undo_rec, thr, updated_extern, thd)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af7ba61183a0fd1901eee05bc9e2dd932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ba61183a0fd1901eee05bc9e2dd932">&#9670;&nbsp;</a></span>row_purge_upd_exist_or_extern</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define row_purge_upd_exist_or_extern</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">thr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">node, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">undo_rec&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="row0purge_8cc.html#aed013004ac08ea14e45fd56a8a7eadb0">row_purge_upd_exist_or_extern_func</a>(thr, node, undo_rec)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4d678e0b570698f44fd3c26685df8abf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d678e0b570698f44fd3c26685df8abf">&#9670;&nbsp;</a></span>row_purge()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void row_purge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>undo_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fetches an undo log record and does the purge for the recorded operation. </p>
<p>If none left, or the current purge completed, returns the control to the parent node, which is always a query thread node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: row purge node </td></tr>
    <tr><td class="paramname">undo_rec</td><td>in: record to purge </td></tr>
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af1d1e23606ef061f877a4f7769b26633"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d1e23606ef061f877a4f7769b26633">&#9670;&nbsp;</a></span>row_purge_del_mark()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> row_purge_del_mark </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Purges a delete marking of a record. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the row was not found, or it was successfully removed </td></tr>
    <tr><td class="paramname">false</td><td>the purge needs to be suspended because of running out of file space </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in/out: row purge node </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a72cd9efa779eb88a63a9f6b89d15518a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72cd9efa779eb88a63a9f6b89d15518a">&#9670;&nbsp;</a></span>row_purge_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void row_purge_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the purge query thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thr</td><td>The query thread to execute </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a92ddb6e04a0dd489ac33915793e2afdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ddb6e04a0dd489ac33915793e2afdc">&#9670;&nbsp;</a></span>row_purge_node_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpurge__node__t.html">purge_node_t</a>* row_purge_node_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a purge node to a query graph. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">parent</td><td>parent node, i.e., a thr node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heap</td><td>memory heap where created </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>own: purge node </dd></dl>

</div>
</div>
<a id="aa66601f35773c9e8987a2468f95b53fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66601f35773c9e8987a2468f95b53fb">&#9670;&nbsp;</a></span>row_purge_parse_undo_rec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> row_purge_parse_undo_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>undo_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>updated_extern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses the row reference and other info in a modify undo log record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">node</td><td>row undo node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">undo_rec</td><td>undo record to purge </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">updated_extern</td><td>whether an externally stored field was updated </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thd</td><td>current thread </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thr</td><td>execution thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if purge operation required </dd></dl>

</div>
</div>
<a id="a668b266158c467e6d7312818de321b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a668b266158c467e6d7312818de321b5d">&#9670;&nbsp;</a></span>row_purge_poss_sec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> row_purge_poss_sec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines if it is possible to remove a secondary index entry. </p>
<p>Removal is possible if the secondary index entry does not refer to any not delete marked version of a clustered index record where DB_TRX_ID is newer than the purge view.</p>
<p>NOTE: This function should only be called by the purge thread, only while holding a latch on the leaf page of the secondary index entry (or keeping the buffer pool watch on the page). It is possible that this function first returns true and then false, if a user transaction inserts a record that the secondary index entry would refer to. However, in that case, the user transaction would also re-insert the secondary index entry after purge has removed it and released the leaf page latch. </p><dl class="section return"><dt>Returns</dt><dd>true if the secondary index record can be purged </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in/out: row purge node </td></tr>
    <tr><td class="paramname">index</td><td>in: secondary index </td></tr>
    <tr><td class="paramname">entry</td><td>in: secondary index entry </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6ec0061c4e672bb745ca15c4aca98c70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ec0061c4e672bb745ca15c4aca98c70">&#9670;&nbsp;</a></span>row_purge_record_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> row_purge_record_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>undo_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>updated_extern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Purges the parsed record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">node</td><td>row purge node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">undo_rec</td><td>undo record to purge </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thr</td><td>query thread </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">updated_extern</td><td>whether external columns were updated </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thd</td><td>current thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if purged, false if skipped </dd></dl>

</div>
</div>
<a id="a331cffd82fe1d502abb796089bd6b502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a331cffd82fe1d502abb796089bd6b502">&#9670;&nbsp;</a></span>row_purge_remove_clust_if_poss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> row_purge_remove_clust_if_poss </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a clustered index record if it has not been modified after the delete marking. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the row was not found, or it was successfully removed </td></tr>
    <tr><td class="paramname">false</td><td>the purge needs to be suspended because of running out of file space. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in/out: row purge node </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acb8ccfbb5cc906146f314529d02a7b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8ccfbb5cc906146f314529d02a7b4c">&#9670;&nbsp;</a></span>row_purge_remove_clust_if_poss_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> row_purge_remove_clust_if_poss_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a delete marked clustered index record if possible. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the row was not found, or it was successfully removed </td></tr>
    <tr><td class="paramname">false</td><td>if the row was modified after the delete marking </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in/out: row purge node </td></tr>
    <tr><td class="paramname">mode</td><td>in: BTR_MODIFY_LEAF or BTR_MODIFY_TREE </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a519e59bc32f097ba3fb31fbb3a11922a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519e59bc32f097ba3fb31fbb3a11922a">&#9670;&nbsp;</a></span>row_purge_remove_multi_sec_if_poss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void row_purge_remove_multi_sec_if_poss </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>selected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove multi-value index entries if possible. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">node</td><td>row purge node </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">heap</td><td>memory heap </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">selected</td><td>true if only selected multi-value data should be purged </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a37d8d6daa0bc1416cd7de39c757431c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37d8d6daa0bc1416cd7de39c757431c3">&#9670;&nbsp;</a></span>row_purge_remove_sec_if_poss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void row_purge_remove_sec_if_poss </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a secondary index entry if possible. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: row purge node </td></tr>
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">entry</td><td>in: index entry </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad2f3a3b5651a7057affc7bafda033c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f3a3b5651a7057affc7bafda033c2d">&#9670;&nbsp;</a></span>row_purge_remove_sec_if_poss_leaf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> row_purge_remove_sec_if_poss_leaf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: row purge node </td></tr>
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">entry</td><td>in: index entry </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac0d7eca0e59cd32a593fd473433f496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0d7eca0e59cd32a593fd473433f496">&#9670;&nbsp;</a></span>row_purge_remove_sec_if_poss_tree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ibool row_purge_remove_sec_if_poss_tree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: row purge node </td></tr>
    <tr><td class="paramname">index</td><td>in: index </td></tr>
    <tr><td class="paramname">entry</td><td>in: index entry </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c4c46f7688b4f4e9c0ea119aa2d5208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c4c46f7688b4f4e9c0ea119aa2d5208">&#9670;&nbsp;</a></span>row_purge_reposition_pcur()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ibool row_purge_reposition_pcur </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Repositions the pcur in the purge node on the clustered index record, if found. </p>
<p>If the record is not found, close pcur. </p><dl class="section return"><dt>Returns</dt><dd>true if the record was found </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>in: latching mode </td></tr>
    <tr><td class="paramname">node</td><td>in: row purge node </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab1a1e4e010e25939bc7c9896704b7d98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1a1e4e010e25939bc7c9896704b7d98">&#9670;&nbsp;</a></span>row_purge_skip_uncommitted_virtual_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void row_purge_skip_uncommitted_virtual_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&amp;&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Skip uncommitted virtual indexes on newly added virtual column. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">index</td><td>dict index object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adaa9db1db6b05c2eb20b4994e0b7018c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa9db1db6b05c2eb20b4994e0b7018c">&#9670;&nbsp;</a></span>row_purge_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a>* row_purge_step </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the purge operation for a single undo log record. </p>
<p>This is a high-level function used in an SQL execution graph. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thr</td><td>The query thread to execute </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>query thread to run next or nullptr </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aed013004ac08ea14e45fd56a8a7eadb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed013004ac08ea14e45fd56a8a7eadb0">&#9670;&nbsp;</a></span>row_purge_upd_exist_or_extern_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void row_purge_upd_exist_or_extern_func </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpurge__node__t.html">purge_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>undo_rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Purges an update of an existing record. </p>
<p>Also purges an update of a delete marked record if that record contained an externally stored field. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
    <tr><td class="paramname">node</td><td>in: row purge node </td></tr>
    <tr><td class="paramname">undo_rec</td><td>in: record to purge </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_4dd6d22ab21a818a66544a670705c483.html">row</a></li><li class="navelem"><a class="el" href="row0purge_8cc.html">row0purge.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
