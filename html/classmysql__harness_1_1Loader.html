<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: mysql_harness::Loader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classmysql__harness_1_1Loader.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmysql__harness_1_1Loader-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mysql_harness::Loader Class Reference<div class="ingroups"><a class="el" href="group__Loader.html">Plugin loader</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><h2>Introduction</h2>
 
 <a href="classmysql__harness_1_1Loader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="loader_8h_source.html">loader.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader_1_1PluginInfo.html">PluginInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds plugin's API call information.  <a href="classmysql__harness_1_1Loader_1_1PluginInfo.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2735dad2aaa9c8177322c940d9654a55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a2735dad2aaa9c8177322c940d9654a55">Loader</a> (const std::string &amp;program, <a class="el" href="classmysql__harness_1_1LoaderConfig.html">LoaderConfig</a> &amp;<a class="el" href="structconfig.html">config</a>)</td></tr>
<tr class="memdesc:a2735dad2aaa9c8177322c940d9654a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for Loader.  <a href="#a2735dad2aaa9c8177322c940d9654a55">More...</a><br /></td></tr>
<tr class="separator:a2735dad2aaa9c8177322c940d9654a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6221f8144b4d867af2527b3831ecfae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#aa6221f8144b4d867af2527b3831ecfae">Loader</a> (const <a class="el" href="classmysql__harness_1_1Loader.html">Loader</a> &amp;)=delete</td></tr>
<tr class="separator:aa6221f8144b4d867af2527b3831ecfae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2fbd47a43ee66ac5a9717868793d81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmysql__harness_1_1Loader.html">Loader</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a6f2fbd47a43ee66ac5a9717868793d81">operator=</a> (const <a class="el" href="classmysql__harness_1_1Loader.html">Loader</a> &amp;)=delete</td></tr>
<tr class="separator:a6f2fbd47a43ee66ac5a9717868793d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4fb445df336eae60cfcbaa79b29eae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a6d4fb445df336eae60cfcbaa79b29eae">~Loader</a> ()</td></tr>
<tr class="memdesc:a6d4fb445df336eae60cfcbaa79b29eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a6d4fb445df336eae60cfcbaa79b29eae">More...</a><br /></td></tr>
<tr class="separator:a6d4fb445df336eae60cfcbaa79b29eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcdd30c175eb6da7cbd3d35730f03e63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; <a class="el" href="classmysql__harness_1_1Config.html#a093534ced348c150e2173cd0d6d863f3">Config::SectionKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#adcdd30c175eb6da7cbd3d35730f03e63">available</a> () const</td></tr>
<tr class="memdesc:adcdd30c175eb6da7cbd3d35730f03e63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch available plugins.  <a href="#adcdd30c175eb6da7cbd3d35730f03e63">More...</a><br /></td></tr>
<tr class="separator:adcdd30c175eb6da7cbd3d35730f03e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e01b74b4721a899e1f9dcae180b48f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#ad5e01b74b4721a899e1f9dcae180b48f">start</a> ()</td></tr>
<tr class="memdesc:ad5e01b74b4721a899e1f9dcae180b48f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize and start all loaded plugins.  <a href="#ad5e01b74b4721a899e1f9dcae180b48f">More...</a><br /></td></tr>
<tr class="separator:ad5e01b74b4721a899e1f9dcae180b48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a59672da4b3f0aa35a561d707c3f6fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmysql__harness_1_1LoaderConfig.html">LoaderConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a5a59672da4b3f0aa35a561d707c3f6fd">get_config</a> ()</td></tr>
<tr class="memdesc:a5a59672da4b3f0aa35a561d707c3f6fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get reference to configuration object.  <a href="#a5a59672da4b3f0aa35a561d707c3f6fd">More...</a><br /></td></tr>
<tr class="separator:a5a59672da4b3f0aa35a561d707c3f6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:ae24f79b733cccb1e7d689ac4cba98581"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#ae24f79b733cccb1e7d689ac4cba98581">Status</a> { <a class="el" href="classmysql__harness_1_1Loader.html#ae24f79b733cccb1e7d689ac4cba98581aee9e011f5ff0df25569625b858eb866a">Status::UNVISITED</a>, 
<a class="el" href="classmysql__harness_1_1Loader.html#ae24f79b733cccb1e7d689ac4cba98581acff9d04a8a29792d319be9177afb8ba3">Status::ONGOING</a>, 
<a class="el" href="classmysql__harness_1_1Loader.html#ae24f79b733cccb1e7d689ac4cba98581aa6ec08e871b6a4151dc143082d826cd2">Status::VISITED</a>
 }</td></tr>
<tr class="separator:ae24f79b733cccb1e7d689ac4cba98581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029252270bc192dfd0e281aff8019710"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710">Stage</a> { <br />
&#160;&#160;<a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710ac9f88e098f6fe4e4e112eeb05ccb9671">Stage::Unset</a>, 
<a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710a16bfbf9c462762cf1cba4134ec53c504">Stage::Loading</a>, 
<a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710a32b169f72b293ef80d35435e9894f8e2">Stage::Initializing</a>, 
<a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710ac2efe4bbd13e6cb0db293e72884273c0">Stage::Starting</a>, 
<br />
&#160;&#160;<a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710a5bda814c4aedb126839228f1a3d92f09">Stage::Running</a>, 
<a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710a7b7ecb39b9e110c2a31409a1672bad23">Stage::Stopping</a>, 
<a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710ac72992ab2deae072d7a546fa116254b4">Stage::Deinitializing</a>, 
<a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710a62168dff2fc801c4ff6ee24619bc314c">Stage::Unloading</a>
<br />
 }<tr class="memdesc:a029252270bc192dfd0e281aff8019710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags progress of Loader.  <a href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a029252270bc192dfd0e281aff8019710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0b7ce622fd277de7cd64379a9747f1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#aac0b7ce622fd277de7cd64379a9747f1">PluginMap</a> = std::map&lt; std::string, <a class="el" href="classmysql__harness_1_1Loader_1_1PluginInfo.html">PluginInfo</a> &gt;</td></tr>
<tr class="separator:aac0b7ce622fd277de7cd64379a9747f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a52e347f7cbb88a2d204d106c6ff66622"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="auth__ldap__sasl__client_8cc.html#aff5fa8994f76c8e02311da27cd20230c">Plugin</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a52e347f7cbb88a2d204d106c6ff66622">load_from</a> (const std::string &amp;<a class="el" href="sql__plugin__ref_8h.html#ad537e9b2cb95a53fbefddb577b32f92d">plugin_name</a>, const std::string &amp;library_name)</td></tr>
<tr class="memdesc:a52e347f7cbb88a2d204d106c6ff66622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the named plugin from a specific library.  <a href="#a52e347f7cbb88a2d204d106c6ff66622">More...</a><br /></td></tr>
<tr class="separator:a52e347f7cbb88a2d204d106c6ff66622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a678857cc9964f44609b855162123f55a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="auth__ldap__sasl__client_8cc.html#aff5fa8994f76c8e02311da27cd20230c">Plugin</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a678857cc9964f44609b855162123f55a">load</a> (const std::string &amp;<a class="el" href="sql__plugin__ref_8h.html#ad537e9b2cb95a53fbefddb577b32f92d">plugin_name</a>)</td></tr>
<tr class="separator:a678857cc9964f44609b855162123f55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb8ab3eaec6ef67685f6215e5bc3ca4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="auth__ldap__sasl__client_8cc.html#aff5fa8994f76c8e02311da27cd20230c">Plugin</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#aadb8ab3eaec6ef67685f6215e5bc3ca4">load</a> (const std::string &amp;<a class="el" href="sql__plugin__ref_8h.html#ad537e9b2cb95a53fbefddb577b32f92d">plugin_name</a>, const std::string &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="memdesc:aadb8ab3eaec6ef67685f6215e5bc3ca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the named plugin and all dependent plugins.  <a href="#aadb8ab3eaec6ef67685f6215e5bc3ca4">More...</a><br /></td></tr>
<tr class="separator:aadb8ab3eaec6ef67685f6215e5bc3ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a341ec80b2588c9cc9ed216c27c7521"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a6a341ec80b2588c9cc9ed216c27c7521">load_all</a> ()</td></tr>
<tr class="separator:a6a341ec80b2588c9cc9ed216c27c7521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bbbcd57b6f717135b30c9cd8cb2c1ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a2bbbcd57b6f717135b30c9cd8cb2c1ca">setup_info</a> ()</td></tr>
<tr class="separator:a2bbbcd57b6f717135b30c9cd8cb2c1ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d08da3f8daa9ca88319117bc3e85a5b"><td class="memItemLeft" align="right" valign="top">std::exception_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a8d08da3f8daa9ca88319117bc3e85a5b">run</a> ()</td></tr>
<tr class="separator:a8d08da3f8daa9ca88319117bc3e85a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4043c33c18daf6fa10a66b64df88db8d"><td class="memItemLeft" align="right" valign="top">std::exception_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a4043c33c18daf6fa10a66b64df88db8d">init_all</a> ()</td></tr>
<tr class="separator:a4043c33c18daf6fa10a66b64df88db8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f9574307a8914395dd7a4ef858c3ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a97f9574307a8914395dd7a4ef858c3ba">start_all</a> ()</td></tr>
<tr class="separator:a97f9574307a8914395dd7a4ef858c3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab88b62da1f505968054e2578dfc276"><td class="memItemLeft" align="right" valign="top">std::exception_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a9ab88b62da1f505968054e2578dfc276">main_loop</a> ()</td></tr>
<tr class="memdesc:a9ab88b62da1f505968054e2578dfc276"><td class="mdescLeft">&#160;</td><td class="mdescRight">wait for shutdown signal or plugins exit.  <a href="#a9ab88b62da1f505968054e2578dfc276">More...</a><br /></td></tr>
<tr class="separator:a9ab88b62da1f505968054e2578dfc276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3012cc1bf89c0a9cb4ba2690e780a5e"><td class="memItemLeft" align="right" valign="top">std::exception_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#af3012cc1bf89c0a9cb4ba2690e780a5e">stop_and_wait_all</a> ()</td></tr>
<tr class="separator:af3012cc1bf89c0a9cb4ba2690e780a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15aa3bc212643499e6e369cc51c07e76"><td class="memItemLeft" align="right" valign="top">std::exception_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a15aa3bc212643499e6e369cc51c07e76">stop_all</a> ()</td></tr>
<tr class="separator:a15aa3bc212643499e6e369cc51c07e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea60ad02c79fe69d0e1cf400edc2c4f3"><td class="memItemLeft" align="right" valign="top">std::exception_ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#aea60ad02c79fe69d0e1cf400edc2c4f3">deinit_all</a> ()</td></tr>
<tr class="separator:aea60ad02c79fe69d0e1cf400edc2c4f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41ced90b11d1e4b4f092412d714a4406"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a41ced90b11d1e4b4f092412d714a4406">unload_all</a> ()</td></tr>
<tr class="separator:a41ced90b11d1e4b4f092412d714a4406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48fc24b55ba48af66f02981e934ff0a4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a48fc24b55ba48af66f02981e934ff0a4">external_plugins_to_load_count</a> ()</td></tr>
<tr class="separator:a48fc24b55ba48af66f02981e934ff0a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75868d991e85c62bbb933b76bcd5fd5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a75868d991e85c62bbb933b76bcd5fd5c">topsort</a> ()</td></tr>
<tr class="memdesc:a75868d991e85c62bbb933b76bcd5fd5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Topological sort of all plugins and their dependencies.  <a href="#a75868d991e85c62bbb933b76bcd5fd5c">More...</a><br /></td></tr>
<tr class="separator:a75868d991e85c62bbb933b76bcd5fd5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa18b6b494ec8c8427380f1b55409cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#acaa18b6b494ec8c8427380f1b55409cc">visit</a> (const std::string &amp;<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, std::map&lt; std::string, <a class="el" href="classmysql__harness_1_1Loader.html#ae24f79b733cccb1e7d689ac4cba98581">Status</a> &gt; *seen, <a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; std::string &gt; *order)</td></tr>
<tr class="separator:acaa18b6b494ec8c8427380f1b55409cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a830459de0dbf61374022756f9c7f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#ae7a830459de0dbf61374022756f9c7f8">spawn_signal_handler_thread</a> ()</td></tr>
<tr class="separator:ae7a830459de0dbf61374022756f9c7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a533b1e19100ba3fd912f4531590abe3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmysql__harness_1_1LoaderConfig.html">LoaderConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a533b1e19100ba3fd912f4531590abe3b">config_</a></td></tr>
<tr class="memdesc:a533b1e19100ba3fd912f4531590abe3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration sections for all plugins.  <a href="#a533b1e19100ba3fd912f4531590abe3b">More...</a><br /></td></tr>
<tr class="separator:a533b1e19100ba3fd912f4531590abe3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec06fad60905a7bcd84006b91c3922b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmysql__harness_1_1Loader.html#aac0b7ce622fd277de7cd64379a9747f1">PluginMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#aec06fad60905a7bcd84006b91c3922b4">plugins_</a></td></tr>
<tr class="memdesc:aec06fad60905a7bcd84006b91c3922b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of all successfully-loaded plugins (without key name).  <a href="#aec06fad60905a7bcd84006b91c3922b4">More...</a><br /></td></tr>
<tr class="separator:aec06fad60905a7bcd84006b91c3922b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea77b74c2c7ce13ce36a9b54f05474d3"><td class="memItemLeft" align="right" valign="top">std::map&lt; const <a class="el" href="classmysql__harness_1_1ConfigSection.html">ConfigSection</a> *, std::shared_ptr&lt; <a class="el" href="classmysql__harness_1_1PluginFuncEnv.html">PluginFuncEnv</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#aea77b74c2c7ce13ce36a9b54f05474d3">plugin_start_env_</a></td></tr>
<tr class="memdesc:aea77b74c2c7ce13ce36a9b54f05474d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of all {plugin instance -&gt; plugin start() PluginFuncEnv} objects.  <a href="#aea77b74c2c7ce13ce36a9b54f05474d3">More...</a><br /></td></tr>
<tr class="separator:aea77b74c2c7ce13ce36a9b54f05474d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b9562573a017b6112f68cd99c10592"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmysql__harness_1_1PluginThreads.html">PluginThreads</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#ae7b9562573a017b6112f68cd99c10592">plugin_threads_</a></td></tr>
<tr class="memdesc:ae7b9562573a017b6112f68cd99c10592"><td class="mdescLeft">&#160;</td><td class="mdescRight">active plugin threads.  <a href="#ae7b9562573a017b6112f68cd99c10592">More...</a><br /></td></tr>
<tr class="separator:ae7b9562573a017b6112f68cd99c10592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0015d0387efdb913c86211e5f42f2325"><td class="memItemLeft" align="right" valign="top"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a0015d0387efdb913c86211e5f42f2325">order_</a></td></tr>
<tr class="memdesc:a0015d0387efdb913c86211e5f42f2325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization order.  <a href="#a0015d0387efdb913c86211e5f42f2325">More...</a><br /></td></tr>
<tr class="separator:a0015d0387efdb913c86211e5f42f2325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152fc42b2af5e786bc82dd6d8bc02de1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a152fc42b2af5e786bc82dd6d8bc02de1">logging_folder_</a></td></tr>
<tr class="separator:a152fc42b2af5e786bc82dd6d8bc02de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d3d5f16f43ce62bfc70c8863f4414d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#ac7d3d5f16f43ce62bfc70c8863f4414d">plugin_folder_</a></td></tr>
<tr class="separator:ac7d3d5f16f43ce62bfc70c8863f4414d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6261821a51ffa4ebe22c6acdc16a4d"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#aee6261821a51ffa4ebe22c6acdc16a4d">runtime_folder_</a></td></tr>
<tr class="separator:aee6261821a51ffa4ebe22c6acdc16a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95911270e2fbe472e8ead735df800f63"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a95911270e2fbe472e8ead735df800f63">config_folder_</a></td></tr>
<tr class="separator:a95911270e2fbe472e8ead735df800f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a763ce7904960b07bee98782607985f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a4a763ce7904960b07bee98782607985f">data_folder_</a></td></tr>
<tr class="separator:a4a763ce7904960b07bee98782607985f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc5cc53a159176074d054067626cee3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#aacc5cc53a159176074d054067626cee3">program_</a></td></tr>
<tr class="separator:aacc5cc53a159176074d054067626cee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcf7b5ee7e1805bfe432a4da4cc9b3d"><td class="memItemLeft" align="right" valign="top">AppInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#acfcf7b5ee7e1805bfe432a4da4cc9b3d">appinfo_</a></td></tr>
<tr class="separator:acfcf7b5ee7e1805bfe432a4da4cc9b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740647a47e2c1340b9eac88853f594f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memcached_8c.html#a4acff8232e4aec9cd5c6dc200ac55ef3">std::mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a740647a47e2c1340b9eac88853f594f3">signal_thread_ready_m_</a></td></tr>
<tr class="separator:a740647a47e2c1340b9eac88853f594f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e2efb094db9cba61a45af710bc25be"><td class="memItemLeft" align="right" valign="top">std::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a95e2efb094db9cba61a45af710bc25be">signal_thread_ready_cond_</a></td></tr>
<tr class="separator:a95e2efb094db9cba61a45af710bc25be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af304bca01d068a34d2dab6762fd0434c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#af304bca01d068a34d2dab6762fd0434c">signal_thread_ready_</a> {<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>}</td></tr>
<tr class="separator:af304bca01d068a34d2dab6762fd0434c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5176045d037a11a4cdd23bc728c2be3a"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmysql__harness_1_1Loader.html#a5176045d037a11a4cdd23bc728c2be3a">signal_thread_</a></td></tr>
<tr class="separator:a5176045d037a11a4cdd23bc728c2be3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h2>Introduction</h2>
<p>The loader class is responsible for managing the life-cycle of plugins in the harness. Each plugin goes through seven steps in the life-cycle, of which steps #2, #3, #5 and #6 are optional:</p>
<ol type="1">
<li>Loading</li>
<li>Initialization</li>
<li>Starting</li>
<li>Running</li>
<li>Stopping</li>
<li>Deinitialization</li>
<li>Unloading</li>
</ol>
<h2>Overview of Life-cycle Steps</h2>
<h3>1. Loading</h3>
<p>When <em>loading</em>, the plugin is loaded using the dynamic library support available on the operating system. Symbols are evaluated lazily (for example, the <code>RTLD_LAZY</code> flag is used for <code>dlopen</code>) to allow plugins to be loaded in any order. The symbols that are exported by the plugin are made available to all other plugins loaded (flag <code>RTLD_GLOBAL</code> to <code>dlopen</code>).</p>
<p>As part of the loading procedure, the <em>plugin structure</em> (see Plugin class) is fetched from the module and used for the four optional steps below.</p>
<h3>2. Initialization</h3>
<p>After all the plugins are successfully loaded, each plugin is given a chance to perform initialization. This step is only executed if the plugin structure defines an <code>init</code> function. Note that it is guaranteed that the init function of a plugin is called <em>after</em> the <code>init</code> function of all plugins it requires have been called. The list of these dependencies is specified via <code>requires</code> field of the <code>Plugin</code> struct.</p>
<dl class="section note"><dt>Note</dt><dd>if some plugin <code>init()</code> function fails, any plugin <code>init()</code> functions schedulled to run after will not run, and harness will proceed straight to deinitialization step, bypassing calling <code>start()</code> and <code>stop()</code> functions.</dd></dl>
<h3>3. Starting</h3>
<p>After all plugins have been successfully initialized, a thread is created for each plugin that has a non-NULL <code>start</code> field in the plugin structure. The threads are started in an arbitrary order, so you have to be careful about not assuming that, for example, other plugins required by the plugin have started their thread. If the plugin does not define a <code>start</code> function, no thread is created. There is a "running" flag associated with each such thread; this flag is set when the thread starts but before the <code>start</code> function is called. If necessary, the plugin can spawn more threads using standard C++11 thread calls, however, these threads should not call harness API functions.</p>
<h3>4. Running</h3>
<p>After starting all plugins (that needed to be started), the harness will enter the <em>running step</em>. This is the "normal" phase, where the application spends most of its lifetime (application and plugins service requests or do whatever it is they do). Harness will remain in this step until one of two things happen:</p>
<ol type="1">
<li>shutdown signal is received by the harness</li>
<li>one of the plugins exits with error</li>
</ol>
<p>When one of these two events occurrs, harness progresses to the next step.</p>
<h3>5. Stopping</h3>
<p>In this step, harness "tells" plugins running <code>start()</code> to exit this function by clearing the "running" flag. It also invokes <code>stop()</code> function for all plugins that provided it. It then waits for all running plugin threads to exit.</p>
<dl class="section note"><dt>Note</dt><dd>under certain circumstances, <code>stop()</code> may overlap execution with <code>start()</code>, or even be called before <code>start()</code>.</dd></dl>
<h3>6. Deinitialization</h3>
<p>After all threads have stopped, regardless of whether they stopped with an error or not, the plugins are deinitialized in reverse order of initialization by calling the function in the <code>deinit</code> field of the <code>Plugin</code> structure. Regardless of whether the <code>deinit()</code> functions return an error or not, all plugins schedulled for deinitialisation will be deinitialized.</p>
<dl class="section note"><dt>Note</dt><dd>for any <code>init()</code> functions that failed, <code>deinit()</code> functions will not run. </dd>
<dd>
plugins may have a <code>deinit()</code> function despite not having a corresponding <code>init()</code>. In such cases, the missing <code>init()</code> is treated as if it existed and ran successfully.</dd></dl>
<h3>7. Unloading</h3>
<p>After a plugin has deinitialized, it can be unloaded. It is guaranteed that no module is unloaded before it has been deinitialized.</p>
<dl class="section note"><dt>Note</dt><dd>This step is currently unimplemented - meaning, it does nothing. The plugins will remain loaded in memory until the process shuts down. This makes no practical difference on application behavior at present, but might be needed if Harness gained ability to reload plugins in the future.</dd></dl>
<h2>Behavior Diagrams</h2>
<p>Previous section described quickly each step of the life-cycle process. In this section, two flow charts are presented which show the operation of all seven steps. First shows a high-level overview, and the second shows all 7 life-cycle steps in more detail. Discussion of details follows in the following sections.</p>
<p>Some points to keep in mind while viewing the diagrams:</p>
<ul>
<li>diagrams describe code behavior rather than implementation. So for example:<ul>
<li>pseudocode does not directly correspond 1:1 to real code. However, it behaves exactly like the real code.</li>
</ul>
</li>
<li>seven life-cycle functions shown are actual functions (<code>Loader's</code> methods, to be more precise)<ul>
<li>load_all(), init_all(), start_all(), main_loop(), stop_all(), deinit_all() are implemented functions (first 6 steps of life-cycle)</li>
<li>unload_all() is the 7th step of life-cycle, but it's currently unimplemented</li>
</ul>
</li>
<li>when plugin functions exit with error, they do so by calling set_error() before exiting</li>
<li>some things are not shown to keep the diagram simple:<ul>
<li>first error returned by any of the 7 life-cycle functions is saved and passed at the end of life-cycle flow to the calling code</li>
</ul>
</li>
</ul>
<h3>Overview</h3>
<pre class="fragment">\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
\                                                                              \
\   START                                                                      \
\     |                                                                        \
\     |                                                                        \
\     |                                                                        \
\     V                                                                        \
\   [load_all()]                                                               \
\     |                                                                        \
\     V                                                                        \
\   &lt;LOAD_OK?&gt;                                                                 \
\     |   |                                                                    \
\ +---N   Y                                                                    \
\ |       |                                                                    \
\ |       v                                                                    \
\ | [init_all()]                                                               \
\ |   |                                                                        \
\ |   v                                                                        \
\ | &lt;INIT_OK?&gt;                                         (  each plugin runs  )  \
\ |   |   |                                            (in a separate thread)  \
\ |   N   Y                                                                    \
\ |   |   |                                             [plugin[1]-&gt;start()]   \
\ |   |   v             start plugin threads            [plugin[2]-&gt;start()]   \
\ |   | [start_all()] - - - - - - - - - - - - - - - - -&gt;[    ..      ..    ]   \
\ |   |   |                                             [    ..      ..    ]   \
\ |   |   |  + - - - - - - - - - - - - - - - - - - - - -[plugin[n]-&gt;start()]   \
\ |   |   |            notification when each                     ^            \
\ |   |   |  |           thread terminates                                     \
\ |   |   |                                                       |            \
\ |   |   |  |                                                     stop plugin \
\ |   |   |                                                       |  threads   \
\ |   |   |  |                                                                 \
\ |   |   |                                                       |            \
\ |   |   v  v                                                                 \
\ |   | [main_loop()]= call ==&gt;[stop_all()] - - - - - - - - - - - +            \
\ |   |   |                                                                    \
\ |   |   |        \                                                           \
\ |   *&lt;--+         \                                                          \
\ |   |              \__ waits for all plugin                                  \
\ |   v                  threads to terminate                                  \
\ | [deinit_all()]                                                             \
\ |   |                                                                        \
\ |   v                                                                        \
\ +--&gt;*                                                                        \
\     |                                                                        \
\     v                                                                        \
\   [unload_all()]                                                             \
\     |                                                                        \
\     |         \                                                              \
\     |          \                                                             \
\     v           \__ currently not implemented                                \
\    END                                                                       \
\                                                                              \
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</pre><h3>Detailed View</h3>
<pre class="fragment">            START
              |
              |
              v
\\\\ load_all() \\\\\\\\\\\\\\\\\\\\\\
\                                    \
\  LOAD_OK = true                    \
\  foreach plugin:                   \
\    load plugin                     \
\    if (exit_status != ok):         \
\      LOAD_OK = false               \
\      break loop                    \
\                                    \
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
              |
              |
              v
            &lt;LOAD_OK?&gt;
              |   |
              Y   N----&gt; unload_all() (see further down)
              |
              |
\\\\\\\\\\\\\\|\\\ init_all() \\\\\\\\\\\\\\\\\
\             |                               \
\             v                               \
\           [INIT_OK = true, i = 1]           \
\             |                               \
\             v                               \
\     +----&gt;&lt;plugin[i] exists?&gt;               \
\     |       |   |                           \
\   [i++]     Y   N---------------------+     \
\     ^       |                         |     \
\     |       |                         |     \
\     |       v                         |     \
\     |     &lt;plugin[i] has init()?&gt;     |     \
\     |       |   |                     |     \
\     |       N   Y---+                 |     \
\     |       |       |                 |     \
\     |       |       |                 |     \
\     |       |       v                 |     \
\     |       |     [plugin[i]-&gt;init()] |     \
\     |       |       |                 |     \
\     |       |       |                 |     \
\     |       |       |                 |     \
\     |       |       |                 |     \
\     |       |       v                 |     \
\     |       |     &lt;exit ok?&gt;          |     \
\     |       v       |   |             |     \
\     +-------*&lt;------Y   N             |     \
\                         |             |     \
\                         |             |     \
\                         v             |     \
\                   [INIT_OK = false]   |     \
\                     |                 |     \
\                     v                 |     \
\                     *&lt;----------------+     \
\                     |                       \
\                     v                       \
\                   [LAST_PLUGIN = i-1]       \
\                     |                       \
\\\\\\\\\\\\\\\\\\\\\\|\\\\\\\\\\\\\\\\\\\\\\\\
                      |
                      |
                      v
                    &lt;INIT_OK?&gt;
                      |   |
                      Y   N----&gt; deinit_all() (see further down)
                      |
                      |
                      v
\\\\ start_all() \\\\\\\\\\\\\\\\\\\\\\\\\
\                                        \
\   for i = 1 to LAST_PLUGIN:            \
\     if plugin[i] has start():          \  start start() in new thread
\       new thread(plugin[i]-&gt;start()) - - - - - - - - - - - - - - - - +
\                                        \
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\                             |
                      |
                      |                                                |
    +-----------------+
    |                                                                  |
\\\\|\\\ main_loop() \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ \\\\\\\\
    |                                                                  |       \
    v                                                                          \
+--&gt;*                                                                  |       \
|   |                                                                          \
|   v                                                                  |       \
| &lt;any plugin threads running?&gt;                                                \
|   |   |                                                              |       \
|   N   Y---+                                                                  \
|   |       |                                                          |       \
|   |     &lt;shutdown signal received &amp;&amp; stop_all() not called yet?&gt;             \
|   |       |   |                                                      |       \
|   |       N   Y                                                              \
|   |       |    == call ==&gt;[stop_all()]- - - - - - - - - - - - - +    |       \
|   |       |   |                     tell (each) start() to exit              \
|   |       *&lt;--+                                                 |    |       \
|   |       |                                                                  \
|   |       |                                                     v    v       \
|   |       |                                             [plugin[1]-&gt;start()] \
|   |       v                 (one) plugin thread exits   [plugin[2]-&gt;start()] \
|   |     [wait for (any)]&lt;- - - - - - - - - - - - - - - -[    ..      ..    ] \
|   |     [ thread exit  ]                                [    ..      ..    ] \
|   |       |                                             [plugin[n]-&gt;start()] \
|   |       |                                                     ^            \
|   |       |                                                                  \
|   |       v                                                     |            \
|   |     &lt;thread exit ok?&gt;                                                    \
|   |       |   |                                                 |            \
|   |       Y   N---+                                                          \
|   |       |       |                                             |            \
|   |       |       v                                                          \
|   |       |     &lt;stop_all() called already?&gt;                    |            \
|   |       v       |   |                                                      \
|   |       *&lt;------Y   N                                    tell (each)       \
|   |       |            = call ==+                        start() to exit     \
|   |       |           |         |                               |            \
|   |       v           |         |                                            \
+---|-------*&lt;----------+         *==&gt;[stop_all()]- - - - - - - - +            \
    |                             |                                            \
    |                             |        |                                   \
    v                             |        |                                   \
  &lt;stop_all() called already?&gt;    |        |                                   \
    |   |                         |        |                                   \
    Y   N                         |        |                                   \
    |    == call =================+        |                                   \
    |   |                                  |                                   \
    *---+                                  |                                   \
    |                                      |                                   \
\\\\|\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\|\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
    |                                      |
    |                                      |
    v                                      |
    *&lt;---- init_all() (if !INIT_OK)        |
    |                                      |
    |                                      |
    v                                      |
\\\\ deinit_all() \\\\\\\\\\\\\\\\\\\\     |
\                                    \     |
\  for i = LAST_PLUGIN to 1:         \     |
\    if plugin[i] has deinit():      \     |
\      plugin[i]-&gt;deinit()           \     |
\      if (exit_status != ok):       \     |
\        # ignore error              \     |
\                                    \     |
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\     |
    |                                      |
    |                                      |
    v                                      |
    *&lt;---- load_all() (if !LOAD_OK)        |
    |                                      |
    v                                      |
\\\\ unload_all() \\\\\\\\\\\\\\\\\\\\     |
\                                    \     |
\  no-op (currently unimplemented)   \     |
\                                    \     |
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\     |
    |                                      |
    |                                      |
    v                                      /
   END                                    /
                                         /
                                        /
                                       /                  (  each plugin runs  )
                                      /                   (in a separate thread)
\\\\ stop_all() \\\\\\\\\\\\\\\\\\\\\\  run_flag == false
\                                    \    tells start()    [plugin[1]-&gt;start()]
\  for i = 1 to LAST_PLUGIN:         \      to exit        [plugin[2]-&gt;start()]
\    run_flag[i] = false - - - - - - - - - - - - - - - - -&gt;[    ..      ..    ]
\    if plugin[i] has stop():        \                     [    ..      ..    ]
\      plugin[i]-&gt;stop()             \                     [    ..      ..    ]
\      if (exit_status != ok):       \                     [plugin[n]-&gt;start()]
\        # ignore error              \
\                                    \
\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</pre><h2>Discussion</h2>
<h3>Persistence (definition)</h3>
<p>Before continuing, we need to define the word "persist", used later on. When we say "persist", we'll mean the opposite of "exit". So when we say a function or a thread persists, it means that it's not returning/exiting, but instead is running some forever-loop or is blocked on something, etc. What it's doing exactly doesn't matter, what matters, is that it hasn't terminated but "lives on" (in case of a function, to "persist" means the same as to "block", but for threads that might sound confusing, this is why we need a new word). So when we call start() in a new thread, it will either run and keep running (thread will persist), or it will run briefly and return (thread will exit). In short, "to persist" means the opposite of "to finish running and exit".</p>
<h3>Plugin API functions</h3>
<p>Each plugin can define none, any or all of the following 4 callbacks. They're function pointers, that can be null if not implemented. They're typically called in the order as listed below (under certain circumstances, stop() may overlap execution with start(), or even be called before start()).</p>
<ul>
<li>init() &ndash; called inside of main thread</li>
<li>start() &ndash; main thread creates a new thread, then calls this</li>
<li>stop() &ndash; called inside of main thread</li>
<li>deinit() &ndash; called inside of main thread</li>
</ul>
<h3>Starting and Stopping: Start()</h3>
<p>It is typical to implement start function in such a way that it will "persist" (i.e. it will run some forever-loop processing requests rather than exit briefly after being called). In such case, Harness must have a way to terminate it during shutdown operation.</p>
<p>For this purpose, Harness exposes a boolean "running" flag to each plugin, which serves as means to communicate the need to shutdown; it is read by <code>is_running()</code> function. This function should be routinely polled by plugin's <code>start()</code> function to determine if it should shut down, and once it returns false, plugin <code>start()</code> should terminate as soon as possible. Failure to terminate will block Harness from progressing further in its shutdown procedure, resulting in application "hanging" during shutdown. Typically, <code>start()</code> would be implemented more-or-less like so: </p><pre class="fragment">void start()
{
</pre><p> run-once code </p><pre class="fragment">  while (is_running())
  {
</pre><p> forever-loop code }</p>
<p>clean-up code }</p>
<p>There is also an alternative blocking function available, <code>wait_for_stop()</code>, should that be better suited for the particular plugin design. Instead of quickly returning a boolean flag, it will block (with an optional timeout) until Harness flags to shut down this plugin. It is an efficient functional equivalent of: </p><pre class="fragment">while (is_running())
{
</pre><p> sleep a little or break on timeout }</p>
<p>When entering shutdown phase, Harness will notify all plugins to shut down via mechanisms described above. It is also permitted for plugins to exit on their own, whether due to error or intended behavior, without consulting this "running" flag. Polling the "running" flag is only needed when <code>start()</code> "persists" and does not normally exit until told to do so.</p>
<p>Also, in some designs, <code>start()</code> function might find it convenient to be able to set the "running" flag to false, in order to trigger its own shutdown in another piece of code. For such cases, <code>clear_running()</code> function is provided, which will do exactly that.</p>
<p>IMPORTANT! Please note that all 3 functions described above (<code>is_running()</code>, <code>wait_for_stop()</code> and <code>clear_running()</code>) can only be called from a thread running <code>start()</code> function. If <code>start()</code> spawns more theads, these functions CANNOT be called from them. These functions also cannot be called from the other three plugin functions (<code>init()</code>, <code>stop()</code> and <code>deinit()</code>).</p>
<h3>Starting and Stopping: Stop()</h3>
<p>During shutdown, or after plugin <code>start()</code> function exits (whichever comes first), plugin's <code>stop()</code> function will be called, if defined.</p>
<p>IMPORTANT: <code>start()</code> function runs in a different thread than <code>stop()</code> function. By the time <code>stop()</code> runs, depending on the circumstances, <code>start()</code> thread may or may not exist.</p>
<p>IMPORTANT: <code>stop()</code> will always be called during shutdown, regardless of whether start() exited with error, exited successfully or is still running. <code>stop()</code> must be able to deal with all 3 scenarios. The rationale for this design decision is given Error Handling section.</p>
<h3>Persistence in Plugin Functions</h3>
<p>While start() may persist, the other three functions (init(), stop() and deinit()) must obviously not persist, since they run in the main thread. Any blocking behavior exhibited in these functions (caused by a bug or otherwise) will cause the entire application to hang, as will start() that does not poll and/or honor is_running() flag.</p>
<h3>Returning Success/Failure from Plugin Function</h3>
<p>Harness expects all four plugin functions (<code>init(),</code>start()<code>,</code>stop()<code>and </code>deinit()`) to notify it in case of an error. This is done via function: </p><pre class="fragment">set_error(PluginFuncEnv* env, ErrorType error, const char* format, ...);
</pre><p>Calling this function flags that the function has failed, and passes the error type and string back to Harness. The converse is also true: not calling this function prior to exiting the function implies success. This distinction is important, because Harness may take certain actions based on the status returned by each function.</p>
<p>IMPORTANT! Throwing exceptions from these functions is not supported. If your plugin uses exceptions internally, that is fine, but please ensure they are handled before reaching the Harness-Plugin boundary.</p>
<h3>Threading Concerns</h3>
<p>For each plugin (independent of other plugins): Of the 4 plugin functions, <code>init()</code> runs first. It is guaranteed that it will exit before <code>start()</code> and <code>stop()</code> are called. <code>start()</code> and <code>stop()</code> can be called in parallel to each other, in any order, with their lifetimes possibly overlapping. They are guaranteed to both have exited before <code>deinit()</code> is called.</p>
<p>If any of the 4 plugin functions spawn any additional threads, Harness makes no provisions for interacting with them in any way: calling Harness functions from them is not supported in particular; also such threads should exit before their parent function finishes running.</p>
<h3>Error Handling</h3>
<p>NOTE: WL#9558 HLD version of this section additionally discusses design, rationale for the approach chosen, etc; look there if interested.</p>
<p>When plugin functions enounter an error, they are expected to signal it via set_error(). What happens next, depends on the case, but in all four cases the error will be logged automatically by the harness. Also, the first error passed from any plugin will be saved until the end of life-cycle processing, then passed down to the code calling the harness. This will allow the application code to deal with it accordingly (probably do some of its own cleaning and shut down, but that's up to the application). In general, the first error from init() or start() will cause the harness to initiate shut down procedure, while the errors from stop() and deinit() will be ignored completely (except of course for being logged and possibly saved for passing on at the end). Actions taken for each plugin function are as follows:</p>
<h4>init() fails:</h4>
<ul>
<li>skip init() for remaining plugins</li>
<li>don't run any start() and stop() (proceed directly to deinitialisation)</li>
<li>run deinit() only for plugins initialiased so far (excluding the failing one), in reverse order of initialisation, and exit</li>
<li>when init() is not provided (is null), it counts as if it ran, if it would have run before the failing plugin (according to topological order)</li>
</ul>
<h4>start() fails:</h4>
<ul>
<li>proceed to stop all plugins, then deinit() all in reverse order of initialisation and exit. Please note that ALL plugins will be flagged to stop and have their stop() function called (not just the ones that succeeded in starting - plugin's stop() must be able to deal with such a situation)</li>
</ul>
<h4>stop() or deinit() fails:</h4>
<ul>
<li>log error and ignore, proceed as if it didn't happen </li>
</ul>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aac0b7ce622fd277de7cd64379a9747f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0b7ce622fd277de7cd64379a9747f1">&#9670;&nbsp;</a></span>PluginMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classmysql__harness_1_1Loader.html#aac0b7ce622fd277de7cd64379a9747f1">mysql_harness::Loader::PluginMap</a> =  std::map&lt;std::string, <a class="el" href="classmysql__harness_1_1Loader_1_1PluginInfo.html">PluginInfo</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a029252270bc192dfd0e281aff8019710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029252270bc192dfd0e281aff8019710">&#9670;&nbsp;</a></span>Stage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmysql__harness_1_1Loader.html#a029252270bc192dfd0e281aff8019710">mysql_harness::Loader::Stage</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flags progress of Loader. </p>
<p>The progress always proceeds from top to bottom order in this list. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a029252270bc192dfd0e281aff8019710ac9f88e098f6fe4e4e112eeb05ccb9671"></a>Unset&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a029252270bc192dfd0e281aff8019710a16bfbf9c462762cf1cba4134ec53c504"></a>Loading&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a029252270bc192dfd0e281aff8019710a32b169f72b293ef80d35435e9894f8e2"></a>Initializing&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a029252270bc192dfd0e281aff8019710ac2efe4bbd13e6cb0db293e72884273c0"></a>Starting&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a029252270bc192dfd0e281aff8019710a5bda814c4aedb126839228f1a3d92f09"></a>Running&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a029252270bc192dfd0e281aff8019710a7b7ecb39b9e110c2a31409a1672bad23"></a>Stopping&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a029252270bc192dfd0e281aff8019710ac72992ab2deae072d7a546fa116254b4"></a>Deinitializing&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a029252270bc192dfd0e281aff8019710a62168dff2fc801c4ff6ee24619bc314c"></a>Unloading&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="ae24f79b733cccb1e7d689ac4cba98581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae24f79b733cccb1e7d689ac4cba98581">&#9670;&nbsp;</a></span>Status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmysql__harness_1_1Loader.html#ae24f79b733cccb1e7d689ac4cba98581">mysql_harness::Loader::Status</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae24f79b733cccb1e7d689ac4cba98581aee9e011f5ff0df25569625b858eb866a"></a>UNVISITED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae24f79b733cccb1e7d689ac4cba98581acff9d04a8a29792d319be9177afb8ba3"></a>ONGOING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae24f79b733cccb1e7d689ac4cba98581aa6ec08e871b6a4151dc143082d826cd2"></a>VISITED&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2735dad2aaa9c8177322c940d9654a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2735dad2aaa9c8177322c940d9654a55">&#9670;&nbsp;</a></span>Loader() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysql_harness::Loader::Loader </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>program</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classmysql__harness_1_1LoaderConfig.html">LoaderConfig</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for Loader. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">program</td><td>Name of our program </td></tr>
    <tr><td class="paramname">config</td><td>Router configuration </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa6221f8144b4d867af2527b3831ecfae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6221f8144b4d867af2527b3831ecfae">&#9670;&nbsp;</a></span>Loader() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mysql_harness::Loader::Loader </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmysql__harness_1_1Loader.html">Loader</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d4fb445df336eae60cfcbaa79b29eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d4fb445df336eae60cfcbaa79b29eae">&#9670;&nbsp;</a></span>~Loader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mysql_harness::Loader::~Loader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>The destructor will call dlclose() on all unclosed shared libraries. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adcdd30c175eb6da7cbd3d35730f03e63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcdd30c175eb6da7cbd3d35730f03e63">&#9670;&nbsp;</a></span>available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; <a class="el" href="classmysql__harness_1_1Config.html#a093534ced348c150e2173cd0d6d863f3">Config::SectionKey</a> &gt; mysql_harness::Loader::available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch available plugins. </p>
<dl class="section return"><dt>Returns</dt><dd>List of names of available plugins. </dd></dl>

</div>
</div>
<a id="aea60ad02c79fe69d0e1cf400edc2c4f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea60ad02c79fe69d0e1cf400edc2c4f3">&#9670;&nbsp;</a></span>deinit_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::exception_ptr mysql_harness::Loader::deinit_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a48fc24b55ba48af66f02981e934ff0a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48fc24b55ba48af66f02981e934ff0a4">&#9670;&nbsp;</a></span>external_plugins_to_load_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t mysql_harness::Loader::external_plugins_to_load_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a59672da4b3f0aa35a561d707c3f6fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a59672da4b3f0aa35a561d707c3f6fd">&#9670;&nbsp;</a></span>get_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmysql__harness_1_1LoaderConfig.html">LoaderConfig</a>&amp; mysql_harness::Loader::get_config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get reference to configuration object. </p>
<dl class="section note"><dt>Note</dt><dd>In production code we initialize Loader with LoaderConfig reference maintained by DIM, so this method will return this object. </dd></dl>

</div>
</div>
<a id="a4043c33c18daf6fa10a66b64df88db8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4043c33c18daf6fa10a66b64df88db8d">&#9670;&nbsp;</a></span>init_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::exception_ptr mysql_harness::Loader::init_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a678857cc9964f44609b855162123f55a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a678857cc9964f44609b855162123f55a">&#9670;&nbsp;</a></span>load() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="auth__ldap__sasl__client_8cc.html#aff5fa8994f76c8e02311da27cd20230c">Plugin</a> * mysql_harness::Loader::load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>plugin_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aadb8ab3eaec6ef67685f6215e5bc3ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadb8ab3eaec6ef67685f6215e5bc3ca4">&#9670;&nbsp;</a></span>load() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="auth__ldap__sasl__client_8cc.html#aff5fa8994f76c8e02311da27cd20230c">Plugin</a> * mysql_harness::Loader::load </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>plugin_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the named plugin and all dependent plugins. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin_name</td><td>Name of the plugin to be loaded. </td></tr>
    <tr><td class="paramname">key</td><td>Key of the plugin to be loaded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">bad_plugin</td><td>(std::runtime_error) on load error </td></tr>
    <tr><td class="paramname">bad_section</td><td>(std::runtime_error) when section 'plugin_name' is not present in configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd>After the execution of this procedure, the plugin and all plugins required by that plugin will be loaded.This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </dd></dl>

</div>
</div>
<a id="a6a341ec80b2588c9cc9ed216c27c7521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a341ec80b2588c9cc9ed216c27c7521">&#9670;&nbsp;</a></span>load_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_harness::Loader::load_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a52e347f7cbb88a2d204d106c6ff66622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52e347f7cbb88a2d204d106c6ff66622">&#9670;&nbsp;</a></span>load_from()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="auth__ldap__sasl__client_8cc.html#aff5fa8994f76c8e02311da27cd20230c">Plugin</a> * mysql_harness::Loader::load_from </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>plugin_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>library_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the named plugin from a specific library. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin_name</td><td>Name of the plugin to be loaded.</td></tr>
    <tr><td class="paramname">library_name</td><td>Name of the library the plugin should be loaded from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">bad_plugin</td><td>(std::runtime_error) on load error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9ab88b62da1f505968054e2578dfc276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ab88b62da1f505968054e2578dfc276">&#9670;&nbsp;</a></span>main_loop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::exception_ptr mysql_harness::Loader::main_loop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>wait for shutdown signal or plugins exit. </p>
<p>blocks until one of the following happens:</p>
<ul>
<li>shutdown signal is received</li>
<li>one plugin return an exception</li>
<li>all plugins finished</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>first exception returned by any of the plugins start() or stop() functions </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">nullptr</td><td>if no exception was returned </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f2fbd47a43ee66ac5a9717868793d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f2fbd47a43ee66ac5a9717868793d81">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmysql__harness_1_1Loader.html">Loader</a>&amp; mysql_harness::Loader::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmysql__harness_1_1Loader.html">Loader</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8d08da3f8daa9ca88319117bc3e85a5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d08da3f8daa9ca88319117bc3e85a5b">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::exception_ptr mysql_harness::Loader::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2bbbcd57b6f717135b30c9cd8cb2c1ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bbbcd57b6f717135b30c9cd8cb2c1ca">&#9670;&nbsp;</a></span>setup_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_harness::Loader::setup_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae7a830459de0dbf61374022756f9c7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7a830459de0dbf61374022756f9c7f8">&#9670;&nbsp;</a></span>spawn_signal_handler_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_harness::Loader::spawn_signal_handler_thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad5e01b74b4721a899e1f9dcae180b48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5e01b74b4721a899e1f9dcae180b48f">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_harness::Loader::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize and start all loaded plugins. </p>
<p>All registered plugins will be initialized in proper order and started (if they have a <code>start</code> callback).</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">first</td><td>exception that was triggered by an error returned from any plugin function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97f9574307a8914395dd7a4ef858c3ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f9574307a8914395dd7a4ef858c3ba">&#9670;&nbsp;</a></span>start_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_harness::Loader::start_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a15aa3bc212643499e6e369cc51c07e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15aa3bc212643499e6e369cc51c07e76">&#9670;&nbsp;</a></span>stop_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::exception_ptr mysql_harness::Loader::stop_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af3012cc1bf89c0a9cb4ba2690e780a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3012cc1bf89c0a9cb4ba2690e780a5e">&#9670;&nbsp;</a></span>stop_and_wait_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::exception_ptr mysql_harness::Loader::stop_and_wait_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a75868d991e85c62bbb933b76bcd5fd5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75868d991e85c62bbb933b76bcd5fd5c">&#9670;&nbsp;</a></span>topsort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mysql_harness::Loader::topsort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Topological sort of all plugins and their dependencies. </p>
<p>Will create a list of plugins in topological order from "top" to "bottom". </p>

</div>
</div>
<a id="a41ced90b11d1e4b4f092412d714a4406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41ced90b11d1e4b4f092412d714a4406">&#9670;&nbsp;</a></span>unload_all()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mysql_harness::Loader::unload_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acaa18b6b494ec8c8427380f1b55409cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaa18b6b494ec8c8427380f1b55409cc">&#9670;&nbsp;</a></span>visit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mysql_harness::Loader::visit </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; std::string, <a class="el" href="classmysql__harness_1_1Loader.html#ae24f79b733cccb1e7d689ac4cba98581">Status</a> &gt; *&#160;</td>
          <td class="paramname"><em>seen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; std::string &gt; *&#160;</td>
          <td class="paramname"><em>order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="acfcf7b5ee7e1805bfe432a4da4cc9b3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfcf7b5ee7e1805bfe432a4da4cc9b3d">&#9670;&nbsp;</a></span>appinfo_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AppInfo mysql_harness::Loader::appinfo_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a533b1e19100ba3fd912f4531590abe3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a533b1e19100ba3fd912f4531590abe3b">&#9670;&nbsp;</a></span>config_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmysql__harness_1_1LoaderConfig.html">LoaderConfig</a>&amp; mysql_harness::Loader::config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configuration sections for all plugins. </p>

</div>
</div>
<a id="a95911270e2fbe472e8ead735df800f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95911270e2fbe472e8ead735df800f63">&#9670;&nbsp;</a></span>config_folder_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mysql_harness::Loader::config_folder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4a763ce7904960b07bee98782607985f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a763ce7904960b07bee98782607985f">&#9670;&nbsp;</a></span>data_folder_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mysql_harness::Loader::data_folder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a152fc42b2af5e786bc82dd6d8bc02de1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152fc42b2af5e786bc82dd6d8bc02de1">&#9670;&nbsp;</a></span>logging_folder_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mysql_harness::Loader::logging_folder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0015d0387efdb913c86211e5f42f2325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0015d0387efdb913c86211e5f42f2325">&#9670;&nbsp;</a></span>order_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt;std::string&gt; mysql_harness::Loader::order_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialization order. </p>

</div>
</div>
<a id="ac7d3d5f16f43ce62bfc70c8863f4414d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7d3d5f16f43ce62bfc70c8863f4414d">&#9670;&nbsp;</a></span>plugin_folder_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mysql_harness::Loader::plugin_folder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aea77b74c2c7ce13ce36a9b54f05474d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea77b74c2c7ce13ce36a9b54f05474d3">&#9670;&nbsp;</a></span>plugin_start_env_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;const <a class="el" href="classmysql__harness_1_1ConfigSection.html">ConfigSection</a> *, std::shared_ptr&lt;<a class="el" href="classmysql__harness_1_1PluginFuncEnv.html">PluginFuncEnv</a>&gt; &gt; mysql_harness::Loader::plugin_start_env_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of all {plugin instance -&gt; plugin start() PluginFuncEnv} objects. </p>
<p>Initially these objects are created in Loader::start_all() and then kept around until the end of Loader::stop_all(). At the time of writing, PluginFuncEnv objects for remaining plugin functions (init(), stop() and deinit()) are not required to live beyond their respective functions calls, and are therefore created on stack (automatic variables) as needed during those calls. </p>

</div>
</div>
<a id="ae7b9562573a017b6112f68cd99c10592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7b9562573a017b6112f68cd99c10592">&#9670;&nbsp;</a></span>plugin_threads_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmysql__harness_1_1PluginThreads.html">PluginThreads</a> mysql_harness::Loader::plugin_threads_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>active plugin threads. </p>

</div>
</div>
<a id="aec06fad60905a7bcd84006b91c3922b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec06fad60905a7bcd84006b91c3922b4">&#9670;&nbsp;</a></span>plugins_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmysql__harness_1_1Loader.html#aac0b7ce622fd277de7cd64379a9747f1">PluginMap</a> mysql_harness::Loader::plugins_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of all successfully-loaded plugins (without key name). </p>

</div>
</div>
<a id="aacc5cc53a159176074d054067626cee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacc5cc53a159176074d054067626cee3">&#9670;&nbsp;</a></span>program_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mysql_harness::Loader::program_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aee6261821a51ffa4ebe22c6acdc16a4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee6261821a51ffa4ebe22c6acdc16a4d">&#9670;&nbsp;</a></span>runtime_folder_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mysql_harness::Loader::runtime_folder_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5176045d037a11a4cdd23bc728c2be3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5176045d037a11a4cdd23bc728c2be3a">&#9670;&nbsp;</a></span>signal_thread_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread mysql_harness::Loader::signal_thread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af304bca01d068a34d2dab6762fd0434c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af304bca01d068a34d2dab6762fd0434c">&#9670;&nbsp;</a></span>signal_thread_ready_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> mysql_harness::Loader::signal_thread_ready_ {<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a95e2efb094db9cba61a45af710bc25be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e2efb094db9cba61a45af710bc25be">&#9670;&nbsp;</a></span>signal_thread_ready_cond_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::condition_variable mysql_harness::Loader::signal_thread_ready_cond_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a740647a47e2c1340b9eac88853f594f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740647a47e2c1340b9eac88853f594f3">&#9670;&nbsp;</a></span>signal_thread_ready_m_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memcached_8c.html#a4acff8232e4aec9cd5c6dc200ac55ef3">std::mutex</a> mysql_harness::Loader::signal_thread_ready_m_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>router/src/harness/include/mysql/harness/<a class="el" href="loader_8h_source.html">loader.h</a></li>
<li>router/src/harness/src/<a class="el" href="loader_8cc.html">loader.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemysql__harness.html">mysql_harness</a></li><li class="navelem"><a class="el" href="classmysql__harness_1_1Loader.html">Loader</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
