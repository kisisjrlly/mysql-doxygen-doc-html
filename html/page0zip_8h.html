<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/page0zip.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('page0zip_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">page0zip.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Compressed page interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;zlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="buf0buf_8h_source.html">buf0buf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0checksum_8h_source.html">buf0checksum.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0types_8h_source.html">buf0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mach0data_8h_source.html">mach0data.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem0mem_8h_source.html">mem0mem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtr0types_8h_source.html">mtr0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="zipdecompress_8h_source.html">page/zipdecompress.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0types_8h_source.html">page0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0srv_8h_source.html">srv0srv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br />
<code>#include &quot;univ.i&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0crc32_8h_source.html">ut0crc32.h</a>&quot;</code><br />
<code>#include &quot;page0zip.ic&quot;</code><br />
</div>
<p><a href="page0zip_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a84baa186e3925a5c3ac0ff54e339e40c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a84baa186e3925a5c3ac0ff54e339e40c">DEFAULT_COMPRESSION_LEVEL</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a84baa186e3925a5c3ac0ff54e339e40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e81afb0356dcf4cfb3cd623d2e7a8f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a3e81afb0356dcf4cfb3cd623d2e7a8f9">PAGE_ZIP_START</a>&#160;&#160;&#160;<a class="el" href="page0types_8h.html#a03c018eb48506a634afbc01cfd92726c">PAGE_NEW_SUPREMUM_END</a></td></tr>
<tr class="memdesc:a3e81afb0356dcf4cfb3cd623d2e7a8f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start offset of the area that will be compressed.  <a href="#a3e81afb0356dcf4cfb3cd623d2e7a8f9">More...</a><br /></td></tr>
<tr class="separator:a3e81afb0356dcf4cfb3cd623d2e7a8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2277d80e2aabdb4f6d59ed4270bc493"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#ae2277d80e2aabdb4f6d59ed4270bc493">PAGE_ZIP_DIR_SLOT_SIZE</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ae2277d80e2aabdb4f6d59ed4270bc493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of an compressed page directory entry.  <a href="#ae2277d80e2aabdb4f6d59ed4270bc493">More...</a><br /></td></tr>
<tr class="separator:ae2277d80e2aabdb4f6d59ed4270bc493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05875b91b26c0903eedd0e80ce3cc6fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a05875b91b26c0903eedd0e80ce3cc6fd">PAGE_ZIP_CLUST_LEAF_SLOT_SIZE</a>&#160;&#160;&#160;(<a class="el" href="page0zip_8h.html#ae2277d80e2aabdb4f6d59ed4270bc493">PAGE_ZIP_DIR_SLOT_SIZE</a> + <a class="el" href="data0type_8h.html#a8d4d9bfca8105d986f6c30c2fa3f7b70">DATA_TRX_ID_LEN</a> + <a class="el" href="data0type_8h.html#a34c55f8f6ebb91af16d5e370d1bf0f3e">DATA_ROLL_PTR_LEN</a>)</td></tr>
<tr class="memdesc:a05875b91b26c0903eedd0e80ce3cc6fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predefine the sum of DIR_SLOT, TRX_ID &amp; ROLL_PTR.  <a href="#a05875b91b26c0903eedd0e80ce3cc6fd">More...</a><br /></td></tr>
<tr class="separator:a05875b91b26c0903eedd0e80ce3cc6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a34e1f3da305c949248497c2d891185"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a8a34e1f3da305c949248497c2d891185">PAGE_ZIP_DIR_SLOT_MASK</a>&#160;&#160;&#160;0x3fff</td></tr>
<tr class="memdesc:a8a34e1f3da305c949248497c2d891185"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask of record offsets.  <a href="#a8a34e1f3da305c949248497c2d891185">More...</a><br /></td></tr>
<tr class="separator:a8a34e1f3da305c949248497c2d891185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7de17ff361f01dcd08604c3aeeae1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a9c7de17ff361f01dcd08604c3aeeae1f">PAGE_ZIP_DIR_SLOT_OWNED</a>&#160;&#160;&#160;0x4000</td></tr>
<tr class="memdesc:a9c7de17ff361f01dcd08604c3aeeae1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">'owned' flag  <a href="#a9c7de17ff361f01dcd08604c3aeeae1f">More...</a><br /></td></tr>
<tr class="separator:a9c7de17ff361f01dcd08604c3aeeae1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0531011f3847834a337df7cd6f8451ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a0531011f3847834a337df7cd6f8451ab">PAGE_ZIP_DIR_SLOT_DEL</a>&#160;&#160;&#160;0x8000</td></tr>
<tr class="memdesc:a0531011f3847834a337df7cd6f8451ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">'deleted' flag  <a href="#a0531011f3847834a337df7cd6f8451ab">More...</a><br /></td></tr>
<tr class="separator:a0531011f3847834a337df7cd6f8451ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5554c287c711e6665e9cc3ec6974009e"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a5554c287c711e6665e9cc3ec6974009e">page_zip_set_size</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, ulint size)</td></tr>
<tr class="memdesc:a5554c287c711e6665e9cc3ec6974009e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the size of a compressed page in bytes.  <a href="#a5554c287c711e6665e9cc3ec6974009e">More...</a><br /></td></tr>
<tr class="separator:a5554c287c711e6665e9cc3ec6974009e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9ff0c0eb8bdf6e13a0c0a0ab1d10b07"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#af9ff0c0eb8bdf6e13a0c0a0ab1d10b07">page_zip_rec_needs_ext</a> (ulint rec_size, ulint comp, ulint n_fields, const <a class="el" href="classpage__size__t.html">page_size_t</a> &amp;page_size)</td></tr>
<tr class="memdesc:af9ff0c0eb8bdf6e13a0c0a0ab1d10b07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if a record is so big that it needs to be stored externally.  <a href="#af9ff0c0eb8bdf6e13a0c0a0ab1d10b07">More...</a><br /></td></tr>
<tr class="separator:af9ff0c0eb8bdf6e13a0c0a0ab1d10b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9309c4facb2f158164c3298dd8ede083"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a9309c4facb2f158164c3298dd8ede083">page_zip_empty_size</a> (ulint n_fields, ulint zip_size)</td></tr>
<tr class="memdesc:a9309c4facb2f158164c3298dd8ede083"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the guaranteed free space on an empty page.  <a href="#a9309c4facb2f158164c3298dd8ede083">More...</a><br /></td></tr>
<tr class="separator:a9309c4facb2f158164c3298dd8ede083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0ce0146de6b874e1c8e97f3214d13a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#aac0ce0146de6b874e1c8e97f3214d13a">page_zip_is_too_big</a> (const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const <a class="el" href="structdtuple__t.html">dtuple_t</a> *<a class="el" href="completion__hash_8h.html#aea3abbd5a90d07f8abee93d6c28bce9a">entry</a>)</td></tr>
<tr class="memdesc:aac0ce0146de6b874e1c8e97f3214d13a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a tuple is too big for compressed table.  <a href="#aac0ce0146de6b874e1c8e97f3214d13a">More...</a><br /></td></tr>
<tr class="separator:aac0ce0146de6b874e1c8e97f3214d13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bcf56f32f044c8e900c69b11c4fe33"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a50bcf56f32f044c8e900c69b11c4fe33">page_zip_des_init</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a50bcf56f32f044c8e900c69b11c4fe33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a compressed page descriptor.  <a href="#a50bcf56f32f044c8e900c69b11c4fe33">More...</a><br /></td></tr>
<tr class="separator:a50bcf56f32f044c8e900c69b11c4fe33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46df2bb7c1149c4812165697d344fab8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a46df2bb7c1149c4812165697d344fab8">page_zip_set_alloc</a> (void *stream, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap)</td></tr>
<tr class="memdesc:a46df2bb7c1149c4812165697d344fab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the zlib allocator to use the given memory heap.  <a href="#a46df2bb7c1149c4812165697d344fab8">More...</a><br /></td></tr>
<tr class="separator:a46df2bb7c1149c4812165697d344fab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57d226ffb3d508fe195a876feb72c61"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#ac57d226ffb3d508fe195a876feb72c61">page_zip_compress</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, ulint level, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:ac57d226ffb3d508fe195a876feb72c61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress a page.  <a href="#ac57d226ffb3d508fe195a876feb72c61">More...</a><br /></td></tr>
<tr class="separator:ac57d226ffb3d508fe195a876feb72c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84960401a9acd1d93597a01f4ff046bd"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a84960401a9acd1d93597a01f4ff046bd">page_zip_fields_encode</a> (ulint <a class="el" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, ulint trx_id_pos, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *buf)</td></tr>
<tr class="memdesc:a84960401a9acd1d93597a01f4ff046bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the index information for the compressed page.  <a href="#a84960401a9acd1d93597a01f4ff046bd">More...</a><br /></td></tr>
<tr class="separator:a84960401a9acd1d93597a01f4ff046bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9589a0d4f77b6976d0ea6793e712f7"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#aff9589a0d4f77b6976d0ea6793e712f7">page_zip_decompress</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, ibool <a class="el" href="xcom__transport_8cc.html#a2ca19ac59047f1b932b7737dac46b7b8">all</a>)</td></tr>
<tr class="memdesc:aff9589a0d4f77b6976d0ea6793e712f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decompress a page.  <a href="#aff9589a0d4f77b6976d0ea6793e712f7">More...</a><br /></td></tr>
<tr class="separator:aff9589a0d4f77b6976d0ea6793e712f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accbf476a366427db3c99138d496a05af"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE lint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#accbf476a366427db3c99138d496a05af">page_zip_max_ins_size</a> (const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, ibool is_clust)</td></tr>
<tr class="memdesc:accbf476a366427db3c99138d496a05af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine how big record can be inserted without recompressing the page.  <a href="#accbf476a366427db3c99138d496a05af">More...</a><br /></td></tr>
<tr class="separator:accbf476a366427db3c99138d496a05af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68b45eaf545e0d2229267b0644fccd63"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a68b45eaf545e0d2229267b0644fccd63">page_zip_available</a> (const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_clust, ulint length, ulint create)</td></tr>
<tr class="memdesc:a68b45eaf545e0d2229267b0644fccd63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if enough space is available in the modification log.  <a href="#a68b45eaf545e0d2229267b0644fccd63">More...</a><br /></td></tr>
<tr class="separator:a68b45eaf545e0d2229267b0644fccd63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc58047f6ef724a9ea2bfaadf95babb"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a7fc58047f6ef724a9ea2bfaadf95babb">page_zip_write_header</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *str, ulint length, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a7fc58047f6ef724a9ea2bfaadf95babb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the uncompressed header portion of a page.  <a href="#a7fc58047f6ef724a9ea2bfaadf95babb">More...</a><br /></td></tr>
<tr class="separator:a7fc58047f6ef724a9ea2bfaadf95babb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd56029c47910da062e02459c2808bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#afdd56029c47910da062e02459c2808bb">page_zip_write_rec</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const ulint *offsets, ulint create)</td></tr>
<tr class="memdesc:afdd56029c47910da062e02459c2808bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an entire record on the compressed page.  <a href="#afdd56029c47910da062e02459c2808bb">More...</a><br /></td></tr>
<tr class="separator:afdd56029c47910da062e02459c2808bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95985f5b6ffb9e8398235f203cab59ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a95985f5b6ffb9e8398235f203cab59ef">page_zip_parse_write_blob_ptr</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a95985f5b6ffb9e8398235f203cab59ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of writing a BLOB pointer of a record.  <a href="#a95985f5b6ffb9e8398235f203cab59ef">More...</a><br /></td></tr>
<tr class="separator:a95985f5b6ffb9e8398235f203cab59ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48404683423cb65c4270a2ec293ee6e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a48404683423cb65c4270a2ec293ee6e5">page_zip_write_blob_ptr</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const ulint *offsets, ulint <a class="el" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a48404683423cb65c4270a2ec293ee6e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a BLOB pointer of a record on the leaf page of a clustered index.  <a href="#a48404683423cb65c4270a2ec293ee6e5">More...</a><br /></td></tr>
<tr class="separator:a48404683423cb65c4270a2ec293ee6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a495bed46ce6693b76767cadcb54e8262"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a495bed46ce6693b76767cadcb54e8262">page_zip_parse_write_node_ptr</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a495bed46ce6693b76767cadcb54e8262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of writing the node pointer of a record.  <a href="#a495bed46ce6693b76767cadcb54e8262">More...</a><br /></td></tr>
<tr class="separator:a495bed46ce6693b76767cadcb54e8262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad0066cc8c62f823f938eb3dc4e920b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a8ad0066cc8c62f823f938eb3dc4e920b">page_zip_write_node_ptr</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, ulint size, ulint ptr, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a8ad0066cc8c62f823f938eb3dc4e920b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the node pointer of a record on a non-leaf compressed page.  <a href="#a8ad0066cc8c62f823f938eb3dc4e920b">More...</a><br /></td></tr>
<tr class="separator:a8ad0066cc8c62f823f938eb3dc4e920b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31557e6cbb54295e371a3c4058273d20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a31557e6cbb54295e371a3c4058273d20">page_zip_write_trx_id_and_roll_ptr</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const ulint *offsets, ulint trx_id_col, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id, <a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> roll_ptr)</td></tr>
<tr class="memdesc:a31557e6cbb54295e371a3c4058273d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the trx_id and roll_ptr of a record on a B-tree leaf node page.  <a href="#a31557e6cbb54295e371a3c4058273d20">More...</a><br /></td></tr>
<tr class="separator:a31557e6cbb54295e371a3c4058273d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99124a810c91d67bc291512be3508ece"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a99124a810c91d67bc291512be3508ece">page_zip_rec_set_deleted</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, ulint <a class="el" href="hp__test2_8cc.html#a49fd07a69e183ac48c658336ad8bbb27">flag</a>)</td></tr>
<tr class="memdesc:a99124a810c91d67bc291512be3508ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the "deleted" flag of a record on a compressed page.  <a href="#a99124a810c91d67bc291512be3508ece">More...</a><br /></td></tr>
<tr class="separator:a99124a810c91d67bc291512be3508ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac1cf704492fb8ad23e167b36b880d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a0ac1cf704492fb8ad23e167b36b880d8">page_zip_rec_set_owned</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, ulint <a class="el" href="hp__test2_8cc.html#a49fd07a69e183ac48c658336ad8bbb27">flag</a>)</td></tr>
<tr class="memdesc:a0ac1cf704492fb8ad23e167b36b880d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the "owned" flag of a record on a compressed page.  <a href="#a0ac1cf704492fb8ad23e167b36b880d8">More...</a><br /></td></tr>
<tr class="separator:a0ac1cf704492fb8ad23e167b36b880d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6193c59b0b845661a6119f991690da3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#af6193c59b0b845661a6119f991690da3">page_zip_dir_insert</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *prev_rec, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *free_rec, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec)</td></tr>
<tr class="memdesc:af6193c59b0b845661a6119f991690da3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a record to the dense page directory.  <a href="#af6193c59b0b845661a6119f991690da3">More...</a><br /></td></tr>
<tr class="separator:af6193c59b0b845661a6119f991690da3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d6b26aad6173acf9d541e796f16c351"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a1d6b26aad6173acf9d541e796f16c351">page_zip_dir_delete</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *rec, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, const ulint *offsets, const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="el" href="lexyy_8cc.html#ab2d959f7fd0a704078b7e2d78a4d116d">free</a>)</td></tr>
<tr class="memdesc:a1d6b26aad6173acf9d541e796f16c351"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift the dense page directory and the array of BLOB pointers when a record is deleted.  <a href="#a1d6b26aad6173acf9d541e796f16c351">More...</a><br /></td></tr>
<tr class="separator:a1d6b26aad6173acf9d541e796f16c351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11c1e70e86f29b0eb1a340d97f9d9ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#ab11c1e70e86f29b0eb1a340d97f9d9ab">page_zip_dir_add_slot</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_clustered)</td></tr>
<tr class="memdesc:ab11c1e70e86f29b0eb1a340d97f9d9ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a slot to the dense page directory.  <a href="#ab11c1e70e86f29b0eb1a340d97f9d9ab">More...</a><br /></td></tr>
<tr class="separator:ab11c1e70e86f29b0eb1a340d97f9d9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5b83ce7e507fd509f424c4fac08b1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a8b5b83ce7e507fd509f424c4fac08b1f">page_zip_parse_write_header</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a8b5b83ce7e507fd509f424c4fac08b1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of writing to the header of a page.  <a href="#a8b5b83ce7e507fd509f424c4fac08b1f">More...</a><br /></td></tr>
<tr class="separator:a8b5b83ce7e507fd509f424c4fac08b1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f66871aaaaecfb3ad28752e50d84f46"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a5f66871aaaaecfb3ad28752e50d84f46">page_zip_reorganize</a> (<a class="el" href="structbuf__block__t.html">buf_block_t</a> *block, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a5f66871aaaaecfb3ad28752e50d84f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reorganize and compress a page.  <a href="#a5f66871aaaaecfb3ad28752e50d84f46">More...</a><br /></td></tr>
<tr class="separator:a5f66871aaaaecfb3ad28752e50d84f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e204099bc0ede1e6ca7d8dc1874fa18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a9e204099bc0ede1e6ca7d8dc1874fa18">page_zip_copy_recs</a> (<a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *src_zip, const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *src, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a9e204099bc0ede1e6ca7d8dc1874fa18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the records of a page byte for byte.  <a href="#a9e204099bc0ede1e6ca7d8dc1874fa18">More...</a><br /></td></tr>
<tr class="separator:a9e204099bc0ede1e6ca7d8dc1874fa18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a189cc0dd20d83efa4e521e2d85e656ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a189cc0dd20d83efa4e521e2d85e656ce">page_zip_parse_compress</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip)</td></tr>
<tr class="memdesc:a189cc0dd20d83efa4e521e2d85e656ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of compressing an index page.  <a href="#a189cc0dd20d83efa4e521e2d85e656ce">More...</a><br /></td></tr>
<tr class="separator:a189cc0dd20d83efa4e521e2d85e656ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686029810f5a5fe62ba1b58b52963243"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a686029810f5a5fe62ba1b58b52963243">page_zip_compress_write_log_no_data</a> (ulint level, const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:a686029810f5a5fe62ba1b58b52963243"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a log record of compressing an index page without the data on the page.  <a href="#a686029810f5a5fe62ba1b58b52963243">More...</a><br /></td></tr>
<tr class="separator:a686029810f5a5fe62ba1b58b52963243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a999ac66c8f0b7f46341e338d3d2d76a4"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a999ac66c8f0b7f46341e338d3d2d76a4">page_zip_parse_compress_no_data</a> (<a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ptr, <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="ctype-mb_8cc.html#adf406aa6822ceac22d62ef63cc2879c0">page</a>, <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *page_zip, <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>)</td></tr>
<tr class="memdesc:a999ac66c8f0b7f46341e338d3d2d76a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a log record of compressing an index page without the data.  <a href="#a999ac66c8f0b7f46341e338d3d2d76a4">More...</a><br /></td></tr>
<tr class="separator:a999ac66c8f0b7f46341e338d3d2d76a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d06dcb50c224ac071327a283d7c95ac"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#a6d06dcb50c224ac071327a283d7c95ac">page_zip_reset_stat_per_index</a> ()</td></tr>
<tr class="memdesc:a6d06dcb50c224ac071327a283d7c95ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the counters used for filling INFORMATION_SCHEMA.innodb_cmp_per_index.  <a href="#a6d06dcb50c224ac071327a283d7c95ac">More...</a><br /></td></tr>
<tr class="separator:a6d06dcb50c224ac071327a283d7c95ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aeea66c6883a243a29d44f8945ad9dabc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#aeea66c6883a243a29d44f8945ad9dabc">page_zip_level</a></td></tr>
<tr class="separator:aeea66c6883a243a29d44f8945ad9dabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8ad4905c0fb7b2bafc809881da51935"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="page0zip_8h.html#af8ad4905c0fb7b2bafc809881da51935">page_zip_log_pages</a></td></tr>
<tr class="separator:af8ad4905c0fb7b2bafc809881da51935"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Compressed page interface. </p>
<p>Created June 2005 by Marko Makela </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a84baa186e3925a5c3ac0ff54e339e40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84baa186e3925a5c3ac0ff54e339e40c">&#9670;&nbsp;</a></span>DEFAULT_COMPRESSION_LEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_COMPRESSION_LEVEL&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a05875b91b26c0903eedd0e80ce3cc6fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05875b91b26c0903eedd0e80ce3cc6fd">&#9670;&nbsp;</a></span>PAGE_ZIP_CLUST_LEAF_SLOT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ZIP_CLUST_LEAF_SLOT_SIZE&#160;&#160;&#160;(<a class="el" href="page0zip_8h.html#ae2277d80e2aabdb4f6d59ed4270bc493">PAGE_ZIP_DIR_SLOT_SIZE</a> + <a class="el" href="data0type_8h.html#a8d4d9bfca8105d986f6c30c2fa3f7b70">DATA_TRX_ID_LEN</a> + <a class="el" href="data0type_8h.html#a34c55f8f6ebb91af16d5e370d1bf0f3e">DATA_ROLL_PTR_LEN</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predefine the sum of DIR_SLOT, TRX_ID &amp; ROLL_PTR. </p>

</div>
</div>
<a id="a0531011f3847834a337df7cd6f8451ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0531011f3847834a337df7cd6f8451ab">&#9670;&nbsp;</a></span>PAGE_ZIP_DIR_SLOT_DEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ZIP_DIR_SLOT_DEL&#160;&#160;&#160;0x8000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>'deleted' flag </p>

</div>
</div>
<a id="a8a34e1f3da305c949248497c2d891185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a34e1f3da305c949248497c2d891185">&#9670;&nbsp;</a></span>PAGE_ZIP_DIR_SLOT_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ZIP_DIR_SLOT_MASK&#160;&#160;&#160;0x3fff</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mask of record offsets. </p>

</div>
</div>
<a id="a9c7de17ff361f01dcd08604c3aeeae1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c7de17ff361f01dcd08604c3aeeae1f">&#9670;&nbsp;</a></span>PAGE_ZIP_DIR_SLOT_OWNED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ZIP_DIR_SLOT_OWNED&#160;&#160;&#160;0x4000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>'owned' flag </p>

</div>
</div>
<a id="ae2277d80e2aabdb4f6d59ed4270bc493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2277d80e2aabdb4f6d59ed4270bc493">&#9670;&nbsp;</a></span>PAGE_ZIP_DIR_SLOT_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ZIP_DIR_SLOT_SIZE&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of an compressed page directory entry. </p>

</div>
</div>
<a id="a3e81afb0356dcf4cfb3cd623d2e7a8f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e81afb0356dcf4cfb3cd623d2e7a8f9">&#9670;&nbsp;</a></span>PAGE_ZIP_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_ZIP_START&#160;&#160;&#160;<a class="el" href="page0types_8h.html#a03c018eb48506a634afbc01cfd92726c">PAGE_NEW_SUPREMUM_END</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start offset of the area that will be compressed. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a68b45eaf545e0d2229267b0644fccd63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68b45eaf545e0d2229267b0644fccd63">&#9670;&nbsp;</a></span>page_zip_available()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ibool page_zip_available </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_clust</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if enough space is available in the modification log. </p>
<dl class="section return"><dt>Returns</dt><dd>true if page_zip_write_rec() will succeed </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: compressed page </td></tr>
    <tr><td class="paramname">is_clust</td><td>in: TRUE if clustered index </td></tr>
    <tr><td class="paramname">length</td><td>in: combined size of the record </td></tr>
    <tr><td class="paramname">create</td><td>in: nonzero=add the record to the heap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac57d226ffb3d508fe195a876feb72c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac57d226ffb3d508fe195a876feb72c61">&#9670;&nbsp;</a></span>page_zip_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool page_zip_compress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compress a page. </p>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure; page_zip will be left intact on failure. in/out: mini-transaction, or NULL</dd>
<dd>
true on success, false on failure; page_zip will be left intact on failure. </dd></dl>
<p>&lt; index field information</p>
<p>&lt; compressed payload of the page</p>
<p>&lt; dense page directory, sorted by address </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: size; out: data, n_blobs, m_start, m_end, m_nonempty </td></tr>
    <tr><td class="paramname">page</td><td>in: uncompressed page </td></tr>
    <tr><td class="paramname">index</td><td>in: index tree </td></tr>
    <tr><td class="paramname">level</td><td>in: commpression level </td></tr>
    <tr><td class="paramname">mtr</td><td>in/out: mini-transaction, or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a686029810f5a5fe62ba1b58b52963243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686029810f5a5fe62ba1b58b52963243">&#9670;&nbsp;</a></span>page_zip_compress_write_log_no_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void page_zip_compress_write_log_no_data </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a log record of compressing an index page without the data on the page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>compression level </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">page</td><td>page that is compressed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e204099bc0ede1e6ca7d8dc1874fa18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e204099bc0ede1e6ca7d8dc1874fa18">&#9670;&nbsp;</a></span>page_zip_copy_recs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_copy_recs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>src_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the records of a page byte for byte. </p>
<p>Do not copy the page header or trailer, except those B-tree header fields that are directly related to the storage of records. Also copy PAGE_MAX_TRX_ID. NOTE: The caller must update the lock table and the adaptive hash index. in: mini-transaction</p>
<p>Do not copy the page header or trailer, except those B-tree header fields that are directly related to the storage of records. Also copy PAGE_MAX_TRX_ID. NOTE: The caller must update the lock table and the adaptive hash index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>out: copy of src_zip (n_blobs, m_start, m_end, m_nonempty, data[0..size-1]) </td></tr>
    <tr><td class="paramname">page</td><td>out: copy of src </td></tr>
    <tr><td class="paramname">src_zip</td><td>in: compressed page </td></tr>
    <tr><td class="paramname">src</td><td>in: page </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the B-tree </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff9589a0d4f77b6976d0ea6793e712f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff9589a0d4f77b6976d0ea6793e712f7">&#9670;&nbsp;</a></span>page_zip_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool page_zip_decompress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>all</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decompress a page. </p>
<p>This function should tolerate errors on the compressed page. Instead of letting assertions fail, it will return FALSE if an inconsistency is detected. </p><dl class="section return"><dt>Returns</dt><dd>true on success, false on failure in: TRUE=decompress the whole page; FALSE=verify but do not copy some page header fields that should not change after page creation</dd></dl>
<p>This function should tolerate errors on the compressed page. Instead of letting assertions fail, it will return FALSE if an inconsistency is detected. </p><dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: data, ssize; out: m_start, m_end, m_nonempty, n_blobs </td></tr>
    <tr><td class="paramname">page</td><td>out: uncompressed page, may be trashed </td></tr>
    <tr><td class="paramname">all</td><td>in: TRUE=decompress the whole page; FALSE=verify but do not copy some page header fields that should not change after page creation </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a50bcf56f32f044c8e900c69b11c4fe33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50bcf56f32f044c8e900c69b11c4fe33">&#9670;&nbsp;</a></span>page_zip_des_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void page_zip_des_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a compressed page descriptor. </p>
<p>in/out: compressed page descriptor </p>

</div>
</div>
<a id="ab11c1e70e86f29b0eb1a340d97f9d9ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab11c1e70e86f29b0eb1a340d97f9d9ab">&#9670;&nbsp;</a></span>page_zip_dir_add_slot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_dir_add_slot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>is_clustered</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a slot to the dense page directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">is_clustered</td><td>Nonzero for clustered index, zero for others </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1d6b26aad6173acf9d541e796f16c351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d6b26aad6173acf9d541e796f16c351">&#9670;&nbsp;</a></span>page_zip_dir_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_dir_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift the dense page directory and the array of BLOB pointers when a record is deleted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>deleted record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>index of rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>rec_get_offsets(rec) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free</td><td>previous start of the free list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af6193c59b0b845661a6119f991690da3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6193c59b0b845661a6119f991690da3">&#9670;&nbsp;</a></span>page_zip_dir_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_dir_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>prev_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>free_rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert a record to the dense page directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prev_rec</td><td>Record after which to insert </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free_rec</td><td>Record from which rec was allocated, or null </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Record to insert </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9309c4facb2f158164c3298dd8ede083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9309c4facb2f158164c3298dd8ede083">&#9670;&nbsp;</a></span>page_zip_empty_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint page_zip_empty_size </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the guaranteed free space on an empty page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n_fields</td><td>number of columns in the index </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">zip_size</td><td>compressed page size in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>minimum payload size on the page</dd>
<dd>
minimum payload size on the page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_fields</td><td>in: number of columns in the index </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a84960401a9acd1d93597a01f4ff046bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84960401a9acd1d93597a01f4ff046bd">&#9670;&nbsp;</a></span>page_zip_fields_encode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint page_zip_fields_encode </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>trx_id_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the index information for the compressed page. </p>
<dl class="section return"><dt>Returns</dt><dd>used size of buf out: buffer of (n + 1) * 2 bytes</dd>
<dd>
used size of buf </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>in: number of fields to compress </td></tr>
    <tr><td class="paramname">index</td><td>in: index comprising at least n fields </td></tr>
    <tr><td class="paramname">trx_id_pos</td><td>in: position of the trx_id column in the index, or ULINT_UNDEFINED if this is a non-leaf page </td></tr>
    <tr><td class="paramname">buf</td><td>out: buffer of (n + 1) * 2 bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac0ce0146de6b874e1c8e97f3214d13a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac0ce0146de6b874e1c8e97f3214d13a">&#9670;&nbsp;</a></span>page_zip_is_too_big()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> page_zip_is_too_big </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether a tuple is too big for compressed table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>dict index object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entry</td><td>entry for the index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it's too big, otherwise false </dd></dl>

</div>
</div>
<a id="accbf476a366427db3c99138d496a05af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accbf476a366427db3c99138d496a05af">&#9670;&nbsp;</a></span>page_zip_max_ins_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE lint page_zip_max_ins_size </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>is_clust</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine how big record can be inserted without recompressing the page. </p>
<dl class="section return"><dt>Returns</dt><dd>a positive number indicating the maximum size of a record whose insertion is guaranteed to succeed, or zero or negative </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in: compressed page </td></tr>
    <tr><td class="paramname">is_clust</td><td>in: TRUE if clustered index </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a189cc0dd20d83efa4e521e2d85e656ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189cc0dd20d83efa4e521e2d85e656ce">&#9670;&nbsp;</a></span>page_zip_parse_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_compress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of compressing an index page. </p>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL out: compressed page</dd>
<dd>
end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>out: uncompressed page </td></tr>
    <tr><td class="paramname">page_zip</td><td>out: compressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a999ac66c8f0b7f46341e338d3d2d76a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a999ac66c8f0b7f46341e338d3d2d76a4">&#9670;&nbsp;</a></span>page_zip_parse_compress_no_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_compress_no_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of compressing an index page without the data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end_ptr</td><td>buffer end </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">page</td><td>uncompressed page </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">page_zip</td><td>compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>

</div>
</div>
<a id="a95985f5b6ffb9e8398235f203cab59ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95985f5b6ffb9e8398235f203cab59ef">&#9670;&nbsp;</a></span>page_zip_parse_write_blob_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_write_blob_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of writing a BLOB pointer of a record. </p>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL in/out: compressed page</dd>
<dd>
end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: redo log buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: redo log buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in/out: uncompressed page </td></tr>
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b5b83ce7e507fd509f424c4fac08b1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b5b83ce7e507fd509f424c4fac08b1f">&#9670;&nbsp;</a></span>page_zip_parse_write_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_write_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of writing to the header of a page. </p>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL in/out: compressed page</dd>
<dd>
end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: redo log buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: redo log buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in/out: uncompressed page </td></tr>
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a495bed46ce6693b76767cadcb54e8262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a495bed46ce6693b76767cadcb54e8262">&#9670;&nbsp;</a></span>page_zip_parse_write_node_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a>* page_zip_parse_write_node_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses a log record of writing the node pointer of a record. </p>
<dl class="section return"><dt>Returns</dt><dd>end of log record or NULL in/out: compressed page</dd>
<dd>
end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: redo log buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: redo log buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in/out: uncompressed page </td></tr>
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af9ff0c0eb8bdf6e13a0c0a0ab1d10b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9ff0c0eb8bdf6e13a0c0a0ab1d10b07">&#9670;&nbsp;</a></span>page_zip_rec_needs_ext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ibool page_zip_rec_needs_ext </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>rec_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classpage__size__t.html">page_size_t</a> &amp;&#160;</td>
          <td class="paramname"><em>page_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if a record is so big that it needs to be stored externally. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rec_size</td><td>length of the record in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">comp</td><td>nonzero=compact format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_fields</td><td>number of fields in the record; ignored if tablespace is not compressed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">page_size</td><td>page size </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if the entire record can be stored locally on the page </dd></dl>

</div>
</div>
<a id="a99124a810c91d67bc291512be3508ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99124a810c91d67bc291512be3508ece">&#9670;&nbsp;</a></span>page_zip_rec_set_deleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_rec_set_deleted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the "deleted" flag of a record on a compressed page. </p>
<p>The flag must already have been written on the uncompressed page. in: the deleted flag (nonzero=TRUE)</p>
<p>The flag must already have been written on the uncompressed page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
    <tr><td class="paramname">rec</td><td>in: record on the uncompressed page </td></tr>
    <tr><td class="paramname">flag</td><td>in: the deleted flag (nonzero=TRUE) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ac1cf704492fb8ad23e167b36b880d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac1cf704492fb8ad23e167b36b880d8">&#9670;&nbsp;</a></span>page_zip_rec_set_owned()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_rec_set_owned </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the "owned" flag of a record on a compressed page. </p>
<p>The n_owned field must already have been written on the uncompressed page. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rec</td><td>Record on the uncompressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flag</td><td>The owned flag (nonzero=true) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f66871aaaaecfb3ad28752e50d84f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f66871aaaaecfb3ad28752e50d84f46">&#9670;&nbsp;</a></span>page_zip_reorganize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool page_zip_reorganize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reorganize and compress a page. </p>
<p>This is a low-level operation for compressed pages, to be used when page_zip_compress() fails. On success, a redo log entry MLOG_ZIP_PAGE_COMPRESS will be written. The function btr_page_reorganize() should be preferred whenever possible. IMPORTANT: if page_zip_reorganize() is invoked on a leaf page of a non-clustered index, the caller must update the insert buffer free bits in the same mini-transaction in such a way that the modification will be redo-logged. </p><dl class="section return"><dt>Returns</dt><dd>true on success, false on failure; page_zip will be left intact on failure, but page will be overwritten. in: mini-transaction</dd></dl>
<p>This is a low-level operation for compressed pages, to be used when page_zip_compress() fails. On success, a redo log entry MLOG_ZIP_PAGE_COMPRESS will be written. The function btr_page_reorganize() should be preferred whenever possible. IMPORTANT: if page_zip_reorganize() is invoked on a leaf page of a non-clustered index, the caller must update the insert buffer free bits in the same mini-transaction in such a way that the modification will be redo-logged. </p><dl class="section return"><dt>Returns</dt><dd>true on success, false on failure; page_zip will be left intact on failure, but page will be overwritten. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>in/out: page with compressed page; on the compressed page, in: size; out: data, n_blobs, m_start, m_end, m_nonempty </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the B-tree node </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6d06dcb50c224ac071327a283d7c95ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d06dcb50c224ac071327a283d7c95ac">&#9670;&nbsp;</a></span>page_zip_reset_stat_per_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void page_zip_reset_stat_per_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the counters used for filling INFORMATION_SCHEMA.innodb_cmp_per_index. </p>

</div>
</div>
<a id="a46df2bb7c1149c4812165697d344fab8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46df2bb7c1149c4812165697d344fab8">&#9670;&nbsp;</a></span>page_zip_set_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_set_alloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the zlib allocator to use the given memory heap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">stream</td><td>zlib stream </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heap</td><td>Memory heap to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5554c287c711e6665e9cc3ec6974009e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5554c287c711e6665e9cc3ec6974009e">&#9670;&nbsp;</a></span>page_zip_set_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void page_zip_set_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the size of a compressed page in bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48404683423cb65c4270a2ec293ee6e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48404683423cb65c4270a2ec293ee6e5">&#9670;&nbsp;</a></span>page_zip_write_blob_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_blob_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a BLOB pointer of a record on the leaf page of a clustered index. </p>
<p>The information must already have been updated on the uncompressed page. in: mini-transaction handle, or NULL if no logging is needed</p>
<p>The information must already have been updated on the uncompressed page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
    <tr><td class="paramname">rec</td><td>in/out: record whose data is being written </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the page </td></tr>
    <tr><td class="paramname">offsets</td><td>in: rec_get_offsets(rec, index) </td></tr>
    <tr><td class="paramname">n</td><td>in: column index </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mini-transaction handle, or NULL if no logging is needed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7fc58047f6ef724a9ea2bfaadf95babb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc58047f6ef724a9ea2bfaadf95babb">&#9670;&nbsp;</a></span>page_zip_write_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void page_zip_write_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to the uncompressed header portion of a page. </p>
<p>The data must already have been written to the uncompressed page. However, the data portion of the uncompressed page may differ from the compressed page when a record is being inserted in page_cur_insert_rec_low(). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>Address on the uncompressed page </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Length of the data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>Mini-transaction, or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ad0066cc8c62f823f938eb3dc4e920b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad0066cc8c62f823f938eb3dc4e920b">&#9670;&nbsp;</a></span>page_zip_write_node_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_node_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the node pointer of a record on a non-leaf compressed page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rec</td><td>Record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Data size of rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>Node pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mtr</td><td>Mini-transaction, or null </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afdd56029c47910da062e02459c2808bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd56029c47910da062e02459c2808bb">&#9670;&nbsp;</a></span>page_zip_write_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write an entire record on the compressed page. </p>
<p>The data must already have been written to the uncompressed page. in: nonzero=insert, zero=update</p>
<p>The data must already have been written to the uncompressed page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">page_zip</td><td>in/out: compressed page </td></tr>
    <tr><td class="paramname">rec</td><td>in: record being written </td></tr>
    <tr><td class="paramname">index</td><td>in: the index the record belongs to </td></tr>
    <tr><td class="paramname">offsets</td><td>in: rec_get_offsets(rec, index) </td></tr>
    <tr><td class="paramname">create</td><td>in: nonzero=insert, zero=update </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a31557e6cbb54295e371a3c4058273d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31557e6cbb54295e371a3c4058273d20">&#9670;&nbsp;</a></span>page_zip_write_trx_id_and_roll_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_zip_write_trx_id_and_roll_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__zip__des__t.html">page_zip_des_t</a> *&#160;</td>
          <td class="paramname"><em>page_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>offsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>trx_id_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a>&#160;</td>
          <td class="paramname"><em>roll_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the trx_id and roll_ptr of a record on a B-tree leaf node page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">page_zip</td><td>Compressed page </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rec</td><td>Record </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offsets</td><td>Rec_get_offsets(rec, index) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trx_id_col</td><td>Column number of trx_id in rec </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trx_id</td><td>Transaction identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">roll_ptr</td><td>Roll_ptr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aeea66c6883a243a29d44f8945ad9dabc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeea66c6883a243a29d44f8945ad9dabc">&#9670;&nbsp;</a></span>page_zip_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> page_zip_level</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af8ad4905c0fb7b2bafc809881da51935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8ad4905c0fb7b2bafc809881da51935">&#9670;&nbsp;</a></span>page_zip_log_pages</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> page_zip_log_pages</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="page0zip_8h.html">page0zip.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
