<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/json_dom.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('json__dom_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">json_dom.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="json__dom_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef JSON_DOM_INCLUDED</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define JSON_DOM_INCLUDED</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/* Copyright (c) 2015, 2020, Oracle and/or its affiliates.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">   This program is free software; you can redistribute it and/or modify</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   it under the terms of the GNU General Public License, version 2.0,</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   as published by the Free Software Foundation.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   This program is also distributed with certain software (including</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">   but not limited to OpenSSL) that is licensed under separate terms,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">   as designated in a particular file or component or in included license</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   documentation.  The authors of MySQL hereby grant you an additional</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">   permission to link the program and your derivative works with the</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">   separately licensed software that they have included with MySQL.</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">   This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">   GNU General Public License, version 2.0, for more details.</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">   You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">   along with this program; if not, write to the Free Software</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">   Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301  USA */</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span>  <span class="comment">// unique_ptr</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;new&gt;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span>  <span class="comment">// is_base_of</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="field__types_8h.html">field_types.h</a>&quot;</span>  <span class="comment">// enum_field_types</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__compiler_8h.html">my_compiler.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__dbug_8h.html">my_dbug.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__inttypes_8h.html">my_inttypes.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__time_8h.html">my_time.h</a>&quot;</span>  <span class="comment">// my_time_flags_t</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mysql__lex__string_8h.html">mysql/mysql_lex_string.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mysql__time_8h.html">mysql_time.h</a>&quot;</span>            <span class="comment">// MYSQL_TIME</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="prealloced__array_8h.html">prealloced_array.h</a>&quot;</span>      <span class="comment">// Prealloced_array</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="json__binary_8h.html">sql/json_binary.h</a>&quot;</span>       <span class="comment">// json_binary::Value</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="malloc__allocator_8h.html">sql/malloc_allocator.h</a>&quot;</span>  <span class="comment">// Malloc_allocator</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__decimal_8h.html">sql/my_decimal.h</a>&quot;</span>        <span class="comment">// my_decimal</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">class </span><a class="code" href="classField__json.html">Field_json</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__array.html">Json_array</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__container.html">Json_container</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__dom.html">Json_dom</a>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__object.html">Json_object</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__path.html">Json_path</a>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__seekable__path.html">Json_seekable_path</a>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">class </span><a class="code" href="classJson__wrapper.html">Json_wrapper</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">class </span><a class="code" href="classString.html">String</a>;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="json__dom_8h.html#aefa120cafa24b63931d11ff48620e2d3">   57</a></span>&#160;<span class="keyword">class </span><a class="code" href="classTHD.html">THD</a>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">typedef</span> <a class="code" href="classPrealloced__array.html">Prealloced_array&lt;Json_wrapper, 16&gt;</a> <a class="code" href="json__dom_8h.html#aefa120cafa24b63931d11ff48620e2d3">Json_wrapper_vector</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="json__dom_8h.html#a15dead9cb1bfe2e737468f0fad9e2b70">   60</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="classPrealloced__array.html">Prealloced_array&lt;Json_dom *, 16&gt;</a> <a class="code" href="json__dom_8h.html#a15dead9cb1bfe2e737468f0fad9e2b70">Json_dom_vector</a>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="json__dom_8h.html#a147dea78e59c078eb12c6e0c168bca16">   62</a></span>&#160;<span class="keyword">using</span> <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> = std::unique_ptr&lt;Json_dom&gt;;</div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="json__dom_8h.html#ad375bc4253c6e8155a0d1dfc2f747ed9">   63</a></span>&#160;<span class="keyword">using</span> <a class="code" href="json__dom_8h.html#ad375bc4253c6e8155a0d1dfc2f747ed9">Json_array_ptr</a> = std::unique_ptr&lt;Json_array&gt;;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="json__dom_8h.html#a6c0262e3bee930f5241cd24f9a110107">   64</a></span>&#160;<span class="keyword">using</span> <a class="code" href="json__dom_8h.html#a6c0262e3bee930f5241cd24f9a110107">Json_object_ptr</a> = std::unique_ptr&lt;Json_object&gt;;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">  @file sql/json_dom.h</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">  JSON DOM.</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">  When a JSON value is retrieved from a column, a prior it exists in</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">  a binary form, cf. Json_binary::Value class.</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">  However, when we need to manipulate the JSON values we mostly convert them</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">  from binary form to a structured in-memory from called DOM (from domain</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">  object model) which uses a recursive tree representation of the JSON value</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">  corresponding closely to a parse tree. This form is more suitable for</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">  manipulation.</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">  The JSON type is mostly represented internally as a Json_wrapper which hides</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">  if the representation is a binary or DOM one. This makes is possible to avoid</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">  building a DOM unless we really need one.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">  The file defines two sets of classes: a) The Json_dom hierarchy and</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">  b) Json_wrapper and its companion classes Json_wrapper_object_iterator and</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">  Json_object_wrapper. For both sets, arrays are traversed using an operator[].</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">  Json values in MySQL comprises the stand set of JSON values plus a</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">  MySQL specific set. A Json _number_ type is subdivided into _int_,</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">  _uint_, _double_ and _decimal_.</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">  MySQL also adds four built-in date/time values: _date_, _time_,</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">  _datetime_ and _timestamp_.  An additional _opaque_ value can</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">  store any other MySQL type.</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">  The enumeration is common to Json_dom and Json_wrapper.</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">  The enumeration is also used by Json_wrapper::compare() to</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">  determine the ordering when comparing values of different types,</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">  so the order in which the values are defined in the enumeration,</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">  is significant. The expected order is null &lt; number &lt; string &lt;</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">  object &lt; array &lt; boolean &lt; date &lt; time &lt; datetime/timestamp &lt;</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">  opaque.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">  106</a></span>&#160;<span class="keyword">enum class</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea57e2a3611096f93a821ed05ab02bc1e2">J_NULL</a>,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea5bdac9b1d92d5e8d00aaf5d8f7338bd7">J_DECIMAL</a>,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea572b41069915554ebaecda054fcd890f">J_INT</a>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea59b76ed641f7dd55655bcc4155c3b26b">J_UINT</a>,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea74f24282328a2510a66f814c565501f1">J_DOUBLE</a>,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5eac3cc70a1f5523d7757a475bc42139bac">J_STRING</a>,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5eacbb291da30e8fa519740793b455d70d1">J_OBJECT</a>,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea83017e6b9eb5e73f72705af954dd5cec">J_ARRAY</a>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea5fce6f76374ada4ab5ad19d5cacdee04">J_BOOLEAN</a>,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea140d041fc34bd4881d3632f34a98302b">J_DATE</a>,</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea8c37d13468c914c1450ae0c78edc51a2">J_TIME</a>,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea09ce974be61594597546ea4b25366704">J_DATETIME</a>,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5eaaa37b17ed0ff700332d65442172f6fcb">J_TIMESTAMP</a>,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea1afb6665b0568b0f813c4a371037225c">J_OPAQUE</a>,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea7ff27249529e0844f7dfa35edad21142">J_ERROR</a></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;};</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">  Allocate a new Json_dom object and return a std::unique_ptr which points to</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">  it.</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">  @param args  the arguments to pass to the constructor</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">  @tparam T     the type of Json_dom to create</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">  @tparam Args  the type of the arguments to pass to the constructor</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">  @return a pointer to the allocated object</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="json__dom_8h.html#a8b0e9da659aa520d0ab5038194835309">  136</a></span>&#160;<span class="keyword">inline</span> std::unique_ptr&lt;T&gt; <a class="code" href="json__dom_8h.html#a8b0e9da659aa520d0ab5038194835309">create_dom_ptr</a>(Args &amp;&amp;... args) {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span> std::unique_ptr&lt;T&gt;(<span class="keyword">new</span> (std::nothrow) T(std::forward&lt;Args&gt;(args)...));</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">  JSON DOM abstract base class.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">  MySQL representation of in-memory JSON objects used by the JSON type</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">  Supports access, deep cloning, and updates. See also Json_wrapper and</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">  json_binary::Value.</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">  Uses heap for space allocation for now. FIXME.</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">  Class hierarchy:</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">  &lt;code&gt;&lt;pre&gt;</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">      Json_dom (abstract)</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">       Json_scalar (abstract)</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">         Json_string</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">         Json_number (abstract)</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">           Json_decimal</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">           Json_int</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">           Json_uint</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">           Json_double</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">         Json_boolean</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">         Json_null</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">         Json_datetime</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">         Json_opaque</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">       Json_container (abstract)</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">         Json_object</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">         Json_array</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">  &lt;/pre&gt;&lt;/code&gt;</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">  At the outset, object and array add/insert/append operations takes</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">  a clone unless specified in the method, e.g. add_alias hands the</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">  responsibility for the passed in object over to the object.</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classJson__dom.html">  170</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__dom.html">Json_dom</a> {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// so that these classes can call set_parent()</span></div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classJson__dom.html#a0feb651c567e45a0ede655b270d8994d">  172</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classJson__object.html">Json_object</a>;</div><div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classJson__dom.html#a9b459c477ccb4cd61d44fed9f0d682fd">  173</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classJson__array.html">Json_array</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">    Set the parent dom to which this dom is attached.</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">    @param[in] parent the parent we&#39;re being attached to</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classJson__dom.html#ab7d92f1dabc03ad86dd0b61febbd52c6">  181</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classJson__dom.html#ab7d92f1dabc03ad86dd0b61febbd52c6">set_parent</a>(<a class="code" href="classJson__container.html">Json_container</a> *<a class="code" href="classJson__dom.html#a8273dc843eab7c37770eff98f8cd334e">parent</a>) { <a class="code" href="classJson__dom.html#ac28d1fdc83d7152214c52aa9a601ae8d">m_parent</a> = <a class="code" href="classJson__dom.html#a8273dc843eab7c37770eff98f8cd334e">parent</a>; }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classJson__dom.html#afe19982d530766902729e262d69f973a">  184</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classJson__dom.html#afe19982d530766902729e262d69f973a">~Json_dom</a>() {}</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    Allocate space on the heap for a Json_dom object.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">    @return pointer to the allocated memory, or NULL if memory could</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    not be allocated (in which case my_error() will have been called</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">    with the appropriate error message)</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordtype">void</span> *<span class="keyword">operator</span> <span class="keyword">new</span>(<span class="keywordtype">size_t</span> <a class="code" href="classJson__array.html#aa6ddabea5c2cd9e38920f32abf2e6e26">size</a>, <span class="keyword">const</span> std::nothrow_t &amp;) noexcept;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    Deallocate the space used by a Json_dom object.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <span class="keyword">delete</span>(<span class="keywordtype">void</span> *ptr) noexcept;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">    Nothrow delete.</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordtype">void</span> <span class="keyword">operator</span> <span class="keyword">delete</span>(<span class="keywordtype">void</span> *ptr, <span class="keyword">const</span> std::nothrow_t &amp;) noexcept;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">    Get the parent dom to which this dom is attached.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">    @return the parent dom.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classJson__dom.html#a8273dc843eab7c37770eff98f8cd334e">  210</a></span>&#160;  <a class="code" href="classJson__container.html">Json_container</a> *<a class="code" href="classJson__dom.html#a8273dc843eab7c37770eff98f8cd334e">parent</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classJson__dom.html#ac28d1fdc83d7152214c52aa9a601ae8d">m_parent</a>; }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">    @return the type corresponding to the actual Json_dom subclass</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__array.html#af7e119ced9111539d9b2828025c40192">json_type</a>() <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">    @return true if the object is a subclass of Json_scalar</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classJson__dom.html#a0288197126a1427a5f88fa8b94d6de3d">  220</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classJson__dom.html#a0288197126a1427a5f88fa8b94d6de3d">is_scalar</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">    @return true of the object is a subclass of Json_number</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classJson__dom.html#ab94257c625c7d77556fd3bf58c961187">  225</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classJson__dom.html#ab94257c625c7d77556fd3bf58c961187">is_number</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">    Compute the depth of a document. This is the value which would be</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">    returned by the JSON_DEPTH() system function.</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    - for scalar values, empty array and empty object: 1</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">    - for non-empty array: 1+ max(depth of array elements)</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">    - for non-empty objects: 1+ max(depth of object values)</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">    For example:</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">    &quot;abc&quot;, [] and {} have depth 1.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">    [&quot;abc&quot;, [3]] and {&quot;a&quot;: &quot;abc&quot;, &quot;b&quot;: [3]} have depth 3.</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">    @return the depth of the document</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> <a class="code" href="classJson__array.html#acfd834cead081a969b66ce6c6d60bd39">depth</a>() <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">    Make a deep clone. The ownership of the returned object is</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">    henceforth with the caller.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">    @return a cloned Json_dom object.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="window_8cc.html#ab18bcb21ff8541fc5fef0f12ddc372aa">clone</a>() <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    Parse Json text to DOM (using rapidjson). The text must be valid JSON.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">    The results when supplying an invalid document is undefined.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">    The ownership of the returned object is henceforth with the caller.</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">    If the parsing fails because of a syntax error, the errmsg and</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">    offset arguments will be given values that point to a detailed</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">    error message and where the syntax error was located. The caller</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">    will have to generate an error message with my_error() in this</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">    case.</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">    If the parsing fails because of some other error (such as out of</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">    memory), errmsg will point to a location that holds the value</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">    NULL. In this case, parse() will already have called my_error(),</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">    and the caller doesn&#39;t need to generate an error message.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">    @param[in]  text   the JSON text</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">    @param[in]  length the length of the text</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">    @param[out] errmsg any syntax error message (will be ignored if it is NULL)</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">    @param[out] offset the position in the parsed string a syntax error was</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">                       found (will be ignored if it is NULL)</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">    @result the built DOM if JSON text was parseable, else NULL</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keyword">static</span> <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="namespaceservices.html#a9f5e46919df0177a921a2a48a52d9c9d">parse</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">size_t</span> <a class="code" href="namespacegis.html#a1e3bf735dbe640151561b282f0f4dba5">length</a>,</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">char</span> **errmsg, <span class="keywordtype">size_t</span> *offset);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">    Construct a DOM object based on a binary JSON value. The ownership</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">    of the returned object is henceforth with the caller.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">    @param thd  current session</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">    @param v    the binary value to parse</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">    @return a DOM representation of the binary value, or NULL on error</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keyword">static</span> <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="namespaceservices.html#a9f5e46919df0177a921a2a48a52d9c9d">parse</a>(<span class="keyword">const</span> <a class="code" href="classTHD.html">THD</a> *thd, <span class="keyword">const</span> <a class="code" href="classjson__binary_1_1Value.html">json_binary::Value</a> &amp;v);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">    Get the path location of this dom, measured from the outermost</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">    document it nests inside.</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classJson__path.html">Json_path</a> <a class="code" href="classJson__dom.html#a9de13701bd441f8eee2a778cf400a936">get_location</a>();</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">    Finds all of the json sub-documents which match the path expression.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">    Adds a vector element for each match.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">    See the header comment for Json_wrapper.seek() for a discussion</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">    of complexities involving path expression with more than one</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    ellipsis (**) token.</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">    @param[in]  path  the (possibly wildcarded) address of the sub-documents</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    @param[in]  legs  the number of legs to use from @a path</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">    @param[out] hits  one element per match</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">    @param[in]  auto_wrap</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">                      if true, match a tailing [0] to scalar at that position.</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">    @param[in]  only_need_one True if we can stop after finding one match</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">    @return false on success, true on error</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__dom.html#a1ae7f78989b2e00f927f602d893a62b8">seek</a>(<span class="keyword">const</span> <a class="code" href="classJson__seekable__path.html">Json_seekable_path</a> &amp;<a class="code" href="mysqldump_8cc.html#a38dcf0baefa35c1961c23cf3e06002b5">path</a>, <span class="keywordtype">size_t</span> legs, <a class="code" href="classPrealloced__array.html">Json_dom_vector</a> *hits,</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordtype">bool</span> auto_wrap, <span class="keywordtype">bool</span> only_need_one);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">  /** Parent pointer */</span></div><div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classJson__dom.html#ac28d1fdc83d7152214c52aa9a601ae8d">  317</a></span>&#160;  <a class="code" href="classJson__container.html">Json_container</a> *<a class="code" href="classJson__dom.html#ac28d1fdc83d7152214c52aa9a601ae8d">m_parent</a>{<span class="keyword">nullptr</span>};</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;};</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">  Abstract base class of all JSON container types (Json_object and Json_array).</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="classJson__container.html">  323</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__container.html">Json_container</a> : <span class="keyword">public</span> <a class="code" href="classJson__dom.html">Json_dom</a> {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">    Replace oldv contained inside this container array or object) with newv. If</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">    this container does not contain oldv, calling the method is a no-op.</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">    @param[in] oldv the value to be replaced</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">    @param[in] newv the new value to put in the container</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> replace_dom_in_container(<span class="keyword">const</span> <a class="code" href="classJson__dom.html">Json_dom</a> *oldv,</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                                        <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> newv) = 0;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="preprocessor">#endif  // ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;};</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">  A comparator that is used for ordering keys in a Json_object. It</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">  orders the keys on length, and lexicographically if the keys have</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">  the same length. The ordering is ascending. This ordering was chosen</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">  for speed of look-up. See usage in Json_object_map.</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="structJson__key__comparator.html">  344</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structJson__key__comparator.html">Json_key_comparator</a> {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> std::string &amp;<a class="code" href="hp__test2_8cc.html#a39586bf0934bc10a56cedbf340aded85">key1</a>, <span class="keyword">const</span> std::string &amp;<a class="code" href="mi__test2_8cc.html#af8cb0fe63d8fb11a50d3dc772d004576">key2</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> <a class="code" href="structMYSQL__LEX__CSTRING.html">MYSQL_LEX_CSTRING</a> &amp;key1, <span class="keyword">const</span> std::string &amp;key2) <span class="keyword">const</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keywordtype">bool</span> operator()(<span class="keyword">const</span> std::string &amp;key1, <span class="keyword">const</span> <a class="code" href="structMYSQL__LEX__CSTRING.html">MYSQL_LEX_CSTRING</a> &amp;key2) <span class="keyword">const</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="comment">// is_transparent must be defined in order to make std::map::find() accept</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">// keys that are of a different type than the key_type of the map. In</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// particular, this is needed to make it possible to call find() with</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="comment">// MYSQL_LEX_CSTRING arguments and not only std::string arguments. It only has</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="comment">// to be defined, it doesn&#39;t matter which type it is set to.</span></div><div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="structJson__key__comparator.html#ae0b5f09a2baf34e9aab531e4a115e7c8">  353</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structJson__key__comparator.html#ae0b5f09a2baf34e9aab531e4a115e7c8">is_transparent</a> = void;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;};</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">  A type used to hold JSON object elements in a map, see the</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">  Json_object class.</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="keyword">using</span> <a class="code" href="json__dom_8h.html#a4258a614e152907cda12dcbc155659f6">Json_object_map</a> =</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    std::map&lt;std::string, <a class="code" href="json__dom_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a>, <a class="code" href="structJson__key__comparator.html">Json_key_comparator</a>,</div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="json__dom_8h.html#a4258a614e152907cda12dcbc155659f6">  362</a></span>&#160;             <a class="code" href="classMalloc__allocator.html">Malloc_allocator&lt;std::pair&lt;const std::string, Json_dom_ptr&gt;</a>&gt;&gt;;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">  Represents a JSON container value of type &quot;object&quot; (ECMA), type</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">  J_OBJECT here.</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00368"></a><span class="lineno"><a class="line" href="classJson__object.html">  368</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__object.html">Json_object</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__container.html">Json_container</a> {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">    Map to hold the object elements.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classJson__object.html#a13f9ed7f934e933286b88e07de7db68a">  373</a></span>&#160;  <a class="code" href="json__dom_8h.html#a4258a614e152907cda12dcbc155659f6">Json_object_map</a> <a class="code" href="classJson__object.html#a13f9ed7f934e933286b88e07de7db68a">m_map</a>;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="classJson__object.html">Json_object</a>();</div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="classJson__object.html#a3d00c30a7e7033d06a49c75de663520a">  377</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__object.html#a3d00c30a7e7033d06a49c75de663520a">json_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5eacbb291da30e8fa519740793b455d70d1">enum_json_type::J_OBJECT</a>; }</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">    Insert a clone of the value into the object. If the key already</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">    exists in the object, the existing value is replaced (&quot;last value</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">    wins&quot;).</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment">    @param[in]  key    the JSON element key of to be added</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">    @param[in]  value  a JSON value: the element key&#39;s value</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="comment">    @retval true on failure</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="classJson__object.html#a9383baf9e13ae8a8d51a95fbca9bc1f3">  389</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__object.html#a9383baf9e13ae8a8d51a95fbca9bc1f3">add_clone</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="suite__stubs_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <span class="keyword">const</span> <a class="code" href="classJson__dom.html">Json_dom</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) {</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">return</span> value == <span class="keyword">nullptr</span> || add_alias(key, value-&gt;<a class="code" href="classJson__dom.html#afcc34378b93e3d0275a6fc54d5120577">clone</a>());</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  }</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">    Insert the value into the object. If the key already exists in the</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">    object, the existing value is replaced (&quot;last value wins&quot;).</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="comment">    Ownership of the value is effectively transferred to the</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment">    object and the value will be deallocated by the object so only add</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">    values that can be deallocated safely (no stack variables please!)</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">    New code should prefer #add_alias(const std::string&amp;, Json_dom_ptr)</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">    to this function, because that makes the transfer of ownership</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">    more explicit. This function might be removed in the future.</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">    @param[in]  key    the JSON key of to be added</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">    @param[in]  value  a JSON value: the key&#39;s value</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">    @retval true on failure</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="classJson__object.html#aefbdc06876ad7e0b8a7a925df1bfb1ee">  410</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__object.html#aefbdc06876ad7e0b8a7a925df1bfb1ee">add_alias</a>(<span class="keyword">const</span> std::string &amp;<a class="code" href="suite__stubs_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="classJson__dom.html">Json_dom</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">return</span> add_alias(key, <a class="code" href="json__dom_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a>(value));</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  }</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">    Insert the value into the object. If the key already exists in the</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;<span class="comment">    object, the existing value is replaced (&quot;last value wins&quot;).</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="comment">    The ownership of the value is transferred to the object.</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">    @param[in] key    the key of the value to be added</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">    @param[in] value  the value to add</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">    @return false on success, true on failure</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="keywordtype">bool</span> add_alias(<span class="keyword">const</span> std::string &amp;<a class="code" href="suite__stubs_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>, <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="comment">    Transfer all of the key/value pairs in the other object into this</span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">    object. The other object is deleted. If this object and the other</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment">    object share a key, then the two values of the key are merged.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">    @param [in] other    a pointer to the object which will be consumed</span></div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">    @retval true on failure</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordtype">bool</span> consume(<a class="code" href="json__dom_8h.html#a6c0262e3bee930f5241cd24f9a110107">Json_object_ptr</a> other);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">    Return the value at key. The value is not cloned, so make</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">    one if you need it. Do not delete the returned value, please!</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">    If the key is not present, return a null pointer.</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment">    @param[in]  key the key of the element whose value we want</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">    @return the value associated with the key, or NULL if the key is not found</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classJson__dom.html">Json_dom</a> *<span class="keyword">get</span>(<span class="keyword">const</span> std::string &amp;<a class="code" href="suite__stubs_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classJson__dom.html">Json_dom</a> *<span class="keyword">get</span>(<span class="keyword">const</span> <a class="code" href="structMYSQL__LEX__CSTRING.html">MYSQL_LEX_CSTRING</a> &amp;<a class="code" href="suite__stubs_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">    Remove the child element addressed by key. The removed child is deleted.</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">    @param key the key of the element to remove</span></div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="comment">    @retval true if an element was removed</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<span class="comment">    @retval false if there was no element with that key</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordtype">bool</span> <span class="keyword">remove</span>(<span class="keyword">const</span> std::string &amp;<a class="code" href="suite__stubs_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>);</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">    @return The number of elements in the JSON object.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordtype">size_t</span> cardinality() <span class="keyword">const</span>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <a class="code" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> depth() <span class="keyword">const override</span>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="window_8cc.html#ab18bcb21ff8541fc5fef0f12ddc372aa">clone</a>() <span class="keyword">const override</span>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordtype">void</span> replace_dom_in_container(<span class="keyword">const</span> <a class="code" href="classJson__dom.html">Json_dom</a> *oldv,</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> newv) <span class="keyword">override</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">    Remove all elements in the object.</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00476"></a><span class="lineno"><a class="line" href="classJson__object.html#adb32a3a28d5bb946ab618872808aca3b">  476</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classJson__object.html#adb32a3a28d5bb946ab618872808aca3b">clear</a>() { m_map.clear(); }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">    Constant iterator over the elements in the JSON object. Each</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">    element is represented as a std::pair where first is a std::string</span></div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">    that represents the key name, and second is a pointer to a</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">    Json_dom that represents the value.</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="classJson__object.html#a318e93bc476422e10673ec7471062eca">  484</a></span>&#160;  <span class="keyword">typedef</span> Json_object_map::const_iterator <a class="code" href="classJson__object.html#a318e93bc476422e10673ec7471062eca">const_iterator</a>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">  /// Returns a const_iterator that refers to the first element.</span></div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classJson__object.html#aec4d73cdcb80930dbc984ab1b426b0da">  487</a></span>&#160;<span class="comment"></span>  const_iterator <a class="code" href="classJson__object.html#aec4d73cdcb80930dbc984ab1b426b0da">begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_map.begin(); }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">  /// Returns a const_iterator that refers past the last element.</span></div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="classJson__object.html#a76d5b92262bd7f9239962a73df6c261a">  490</a></span>&#160;<span class="comment"></span>  const_iterator <a class="code" href="classJson__object.html#a76d5b92262bd7f9239962a73df6c261a">end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_map.end(); }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">    Implementation of the MergePatch function specified in RFC 7396:</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">        define MergePatch(Target, Patch):</span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment">          if Patch is an Object:</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">            if Target is not an Object:</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">              Target = {} # Ignore the contents and set it to an empty Object</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">            for each Key/Value pair in Patch:</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment">              if Value is null:</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">                if Key exists in Target:</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">                  remove the Key/Value pair from Target</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">              else:</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">                Target[Key] = MergePatch(Target[Key], Value)</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment">            return Target</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">          else:</span></div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="comment">            return Patch</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="comment">    @param patch  the object that describes the patch</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">    @retval true on memory allocation error</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <span class="keywordtype">bool</span> merge_patch(<a class="code" href="json__dom_8h.html#a6c0262e3bee930f5241cd24f9a110107">Json_object_ptr</a> patch);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;};</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">  Represents a JSON array container, i.e. type J_ARRAY here.</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="classJson__array.html">  519</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__array.html">Json_array</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__container.html">Json_container</a> {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">  /// Holds the array values.</span></div><div class="line"><a name="l00522"></a><span class="lineno"><a class="line" href="classJson__array.html#abb78dd45d9abff662e473fcec6f47b4f">  522</a></span>&#160;<span class="comment"></span>  std::vector&lt;Json_dom_ptr, Malloc_allocator&lt;Json_dom_ptr&gt;&gt; <a class="code" href="classJson__array.html#abb78dd45d9abff662e473fcec6f47b4f">m_v</a>;</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="classJson__array.html">Json_array</a>();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="classJson__array.html#af7e119ced9111539d9b2828025c40192">  527</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__array.html#af7e119ced9111539d9b2828025c40192">json_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea83017e6b9eb5e73f72705af954dd5cec">enum_json_type::J_ARRAY</a>; }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="comment">    Append a clone of the value to the end of the array.</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">    @param[in] value a JSON value to be appended</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">    @retval true on failure</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="classJson__array.html#ae1240558ff2fa4cb2bae81d8dd332725">  535</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__array.html#ae1240558ff2fa4cb2bae81d8dd332725">append_clone</a>(<span class="keyword">const</span> <a class="code" href="classJson__dom.html">Json_dom</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">return</span> insert_clone(size(), value);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">    Append the value to the end of the array.</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;<span class="comment">    Ownership of the value is effectively transferred to the array and</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">    the value will be deallocated by the array so only append values</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="comment">    that can be deallocated safely (no stack variables please!)</span></div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment">    New code should prefer #append_alias(Json_dom_ptr) to this</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">    function, because that makes the transfer of ownership more</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">    explicit. This function might be removed in the future.</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">    @param[in]  value a JSON value to be appended</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">    @retval true on failure</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00554"></a><span class="lineno"><a class="line" href="classJson__array.html#abd10bd299c6268b5195e79ed5536be1f">  554</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__array.html#abd10bd299c6268b5195e79ed5536be1f">append_alias</a>(<a class="code" href="classJson__dom.html">Json_dom</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) {</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keywordflow">return</span> append_alias(<a class="code" href="json__dom_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a>(value));</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;<span class="comment">    Append the value to the end of the array and take over the</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">    ownership of the value.</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">    @param value  the JSON value to be appended</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;<span class="comment">    @return false on success, true on failure</span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="classJson__array.html#a505b3d53d413d4cc37a84cda79418a94">  565</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__array.html#a505b3d53d413d4cc37a84cda79418a94">append_alias</a>(<a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> insert_alias(size(), std::move(value));</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  }</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">    Moves all of the elements in the other array to the end of</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">    this array. The other array is deleted.</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">    @param [in] other     a pointer to the array which will be consumed</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">    @retval true on failure</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordtype">bool</span> consume(<a class="code" href="json__dom_8h.html#ad375bc4253c6e8155a0d1dfc2f747ed9">Json_array_ptr</a> other);</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">    Insert a clone of the value at position index of the array. If beyond the</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">    end, insert at the end.</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">    @param[in]  index the position at which to insert</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">    @param[in]  value a JSON value to be inserted</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">    @retval true on failure</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00588"></a><span class="lineno"><a class="line" href="classJson__array.html#acb33be78e43dd7b8c608dcbcb3a50e0e">  588</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__array.html#acb33be78e43dd7b8c608dcbcb3a50e0e">insert_clone</a>(<span class="keywordtype">size_t</span> <a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <span class="keyword">const</span> <a class="code" href="classJson__dom.html">Json_dom</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>) {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> value == <span class="keyword">nullptr</span> || insert_alias(index, value-&gt;<a class="code" href="classJson__dom.html#afcc34378b93e3d0275a6fc54d5120577">clone</a>());</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">    Insert the value at position index of the array.</span></div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">    If beyond the end, insert at the end.</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">    Ownership of the value is effectively transferred to the array and</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">    the value will be deallocated by the array so only append values</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">    that can be deallocated safely (no stack variables please!)</span></div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">    @param[in]  index the position at which to insert</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">    @param[in]  value a JSON value to be inserted</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">    @retval true on failure</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordtype">bool</span> insert_alias(<span class="keywordtype">size_t</span> <a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>, <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">    Remove the value at this index. A no-op if index is larger than</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">    size. Deletes the value.</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">    @param[in]  index  the index of the value to remove</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">    @return true if a value was removed, false otherwise.</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordtype">bool</span> <span class="keyword">remove</span>(<span class="keywordtype">size_t</span> <a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment">    The cardinality of the array (number of values).</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">    @return the size</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="classJson__array.html#aa6ddabea5c2cd9e38920f32abf2e6e26">  619</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classJson__array.html#aa6ddabea5c2cd9e38920f32abf2e6e26">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_v.size(); }</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  <a class="code" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> depth() <span class="keyword">const override</span>;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="window_8cc.html#ab18bcb21ff8541fc5fef0f12ddc372aa">clone</a>() <span class="keyword">const override</span>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment">    Get the value at position index. The value has not been cloned so</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">    it is the responsibility of the user to make a copy if needed.  Do</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">    not try to deallocate the returned value - it is owned by the array</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">    and will be deallocated by it in time.  It is admissible to modify</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">    its contents (in place; without a clone being taken) if it is a</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">    compound.</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">    @param[in] index  the array index</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">    @return the value at index</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="classJson__array.html#ad8a78c1f2194b6b57c3bc8e529838aea">  638</a></span>&#160;  <a class="code" href="classJson__dom.html">Json_dom</a> *<a class="code" href="classJson__array.html#ad8a78c1f2194b6b57c3bc8e529838aea">operator[]</a>(<span class="keywordtype">size_t</span> index)<span class="keyword"> const </span>{</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(m_v[index]-&gt;parent() == <span class="keyword">this</span>);</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">return</span> m_v[<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>].get();</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  }</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">    Remove the values in the array.</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="classJson__array.html#a870a69226047a6d65e114b3d32efc454">  646</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classJson__array.html#a870a69226047a6d65e114b3d32efc454">clear</a>() { m_v.clear(); }</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">  /// Constant iterator over the elements in the JSON array.</span></div><div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="classJson__array.html#a43b814d8e6266360881bd18223eb4102">  649</a></span>&#160;<span class="comment"></span>  <span class="keyword">using</span> <a class="code" href="classJson__array.html#a43b814d8e6266360881bd18223eb4102">const_iterator</a> = decltype(m_v)::<a class="code" href="classJson__array.html#a43b814d8e6266360881bd18223eb4102">const_iterator</a>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">  /// Returns a const_iterator that refers to the first element.</span></div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="classJson__array.html#adcc65fb032eccb72bfa55090305a1625">  652</a></span>&#160;<span class="comment"></span>  <a class="code" href="classJson__array.html#a43b814d8e6266360881bd18223eb4102">const_iterator</a> <a class="code" href="classJson__array.html#adcc65fb032eccb72bfa55090305a1625">begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_v.begin(); }</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">  /// Returns a const_iterator that refers past the last element.</span></div><div class="line"><a name="l00655"></a><span class="lineno"><a class="line" href="classJson__array.html#a3d170db9d2518c319874cf4d81d4c5a4">  655</a></span>&#160;<span class="comment"></span>  <a class="code" href="classJson__array.html#a43b814d8e6266360881bd18223eb4102">const_iterator</a> <a class="code" href="classJson__array.html#a3d170db9d2518c319874cf4d81d4c5a4">end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_v.end(); }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordtype">void</span> replace_dom_in_container(<span class="keyword">const</span> <a class="code" href="classJson__dom.html">Json_dom</a> *oldv,</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                                <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> newv) <span class="keyword">override</span>;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">  /// Sort the array</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> sort(<span class="keyword">const</span> <a class="code" href="structCHARSET__INFO.html">CHARSET_INFO</a> *cs = <span class="keyword">nullptr</span>);<span class="comment"></span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">    Check if the given value appears in the array</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">    @param val  value to look for</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">    @returns</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">      true  value is found</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">      false otherwise</span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordtype">bool</span> binary_search(<a class="code" href="classJson__dom.html">Json_dom</a> *val);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">    Sort array and remove duplicate elements.</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">    Used by multi-value index implementation.</span></div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <span class="keywordtype">void</span> remove_duplicates(<span class="keyword">const</span> <a class="code" href="structCHARSET__INFO.html">CHARSET_INFO</a> *cs);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="classJson__array.html#ac44f02357711a46f1da7d735f6446e73">  681</a></span>&#160;  <span class="keyword">friend</span> <a class="code" href="classJson__array.html#ac44f02357711a46f1da7d735f6446e73">Json_dom</a>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;};</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">  Abstract base class for all Json scalars.</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="classJson__scalar.html">  687</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__scalar.html">Json_scalar</a> : <span class="keyword">public</span> <a class="code" href="classJson__dom.html">Json_dom</a> {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="classJson__scalar.html#a04607784245cf28892bc6e7814f2b70b">  690</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> <a class="code" href="classJson__scalar.html#a04607784245cf28892bc6e7814f2b70b">depth</a>() const <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> { <span class="keywordflow">return</span> 1; }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="classJson__scalar.html#a6745e69dec7640ada0399b7e8eccdb74">  693</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__scalar.html#a6745e69dec7640ada0399b7e8eccdb74">is_scalar</a>() const <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;};</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="comment">  Represents a JSON string value (ECMA), of type J_STRING here.</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="classJson__string.html">  699</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__string.html">Json_string</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__scalar.html">Json_scalar</a> {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="classJson__string.html#a0b1224ec2674ab2cd9ee50551f2b1f9c">  701</a></span>&#160;  std::string <a class="code" href="classJson__string.html#a0b1224ec2674ab2cd9ee50551f2b1f9c">m_str</a>;  <span class="comment">//!&lt; holds the string</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment"></span> <span class="keyword">public</span>:</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">    Construct a Json_string object.</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">    @param args any arguments accepted by std::string&#39;s constructors</span></div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="classJson__string.html#a56e8383f6f379c63311ddb6b571ef0ac">  708</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__string.html#a56e8383f6f379c63311ddb6b571ef0ac">Json_string</a>(Args &amp;&amp;... args)</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      : <a class="code" href="classJson__scalar.html">Json_scalar</a>(), m_str(<a class="code" href="namespacestd.html">std</a>::forward&lt;Args&gt;(args)...) {}</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="classJson__string.html#a9afe4b8b96bbec962670cb6b237d1a22">  711</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__string.html#a9afe4b8b96bbec962670cb6b237d1a22">json_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5eac3cc70a1f5523d7757a475bc42139bac">enum_json_type::J_STRING</a>; }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="classJson__string.html#ab947a23c8b4da958125a322e6bdf3006">  713</a></span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="classJson__string.html#ab947a23c8b4da958125a322e6bdf3006">clone</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordflow">return</span> create_dom_ptr&lt;Json_string&gt;(m_str);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">    Get the reference to the value of the JSON string.</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">    @return the string reference</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="classJson__string.html#a81118776d98491e24ea6606c1228b460">  721</a></span>&#160;  <span class="keyword">const</span> std::string &amp;<a class="code" href="classJson__string.html#a81118776d98491e24ea6606c1228b460">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_str; }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">    Get the number of characters in the string.</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">    @return the number of characters</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00727"></a><span class="lineno"><a class="line" href="classJson__string.html#af7a86637f23c483fd591d26387c205a2">  727</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classJson__string.html#af7a86637f23c483fd591d26387c205a2">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_str.size(); }</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;};</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">  Abstract base class of all JSON number (ECMA) types (subclasses</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">  represent MySQL extensions).</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00734"></a><span class="lineno"><a class="line" href="classJson__number.html">  734</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__number.html">Json_number</a> : <span class="keyword">public</span> <a class="code" href="classJson__scalar.html">Json_scalar</a> {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00736"></a><span class="lineno"><a class="line" href="classJson__number.html#a45d4c4a5960f0689101a2ac9cac6c2b8">  736</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__number.html#a45d4c4a5960f0689101a2ac9cac6c2b8">is_number</a>() const <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;};</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">  Represents a MySQL decimal number, type J_DECIMAL.</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00742"></a><span class="lineno"><a class="line" href="classJson__decimal.html">  742</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__decimal.html">Json_decimal</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__number.html">Json_number</a> {</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="classJson__decimal.html#a1ef2eabba36ef2bbcb0af47e2237a129">  744</a></span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> <a class="code" href="classJson__decimal.html#a1ef2eabba36ef2bbcb0af47e2237a129">m_dec</a>;  <span class="comment">//!&lt; holds the decimal number</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="classJson__decimal.html#a6e857732dc22dde57ddaeaae01e5dcf2">  747</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_BINARY_SIZE = <a class="code" href="my__decimal_8h.html#a30e96810fd377a77fe883a8f85f10ae7">DECIMAL_MAX_FIELD_SIZE</a> + 2;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__decimal.html">Json_decimal</a>(<span class="keyword">const</span> <a class="code" href="classmy__decimal.html">my_decimal</a> &amp;value);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">    Get the number of bytes needed to store this decimal in a Json_opaque.</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">    @return the number of bytes.</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordtype">int</span> binary_size() <span class="keyword">const</span>;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">    Get the binary representation of the wrapped my_decimal, so that this</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">    value can be stored inside of a Json_opaque.</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">    @param dest the destination buffer to which the binary representation</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment">                is written</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">    @return false on success, true on error</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordtype">bool</span> get_binary(<span class="keywordtype">char</span> *dest) <span class="keyword">const</span>;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="classJson__decimal.html#a35be52971f166685ed0cbafd6f7d8309">  767</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__decimal.html#a35be52971f166685ed0cbafd6f7d8309">json_type</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea5bdac9b1d92d5e8d00aaf5d8f7338bd7">enum_json_type::J_DECIMAL</a>;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  }</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">    Get a pointer to the MySQL decimal held by this object. Ownership</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;<span class="comment">    is _not_ transferred.</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">    @return the decimal</span></div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00776"></a><span class="lineno"><a class="line" href="classJson__decimal.html#ab5a0c36eb896377174cb30939b8802e4">  776</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="classJson__decimal.html#ab5a0c36eb896377174cb30939b8802e4">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;m_dec; }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="classJson__decimal.html#aa06b42eb172276de2b8e43b36b95c8ba">  778</a></span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="classJson__decimal.html#aa06b42eb172276de2b8e43b36b95c8ba">clone</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <span class="keywordflow">return</span> create_dom_ptr&lt;Json_decimal&gt;(m_dec);</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  }</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">    Convert a binary value produced by get_binary() back to a my_decimal.</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">    @details</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">      This and two next functions help storage engine to deal with</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">      decimal value in a serialized JSON document. This funciton converts</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">      serialized value to my_decimal. The later two functions extract the</span></div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;<span class="comment">      decimal value from serialized JSON, so SE can index it in multi-valued</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">      index.</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">    @param[in]   bin  decimal value in binary format</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;<span class="comment">    @param[in]   len  length of the binary value</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">    @param[out]  dec  my_decimal object to store the value to</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="comment">    @return  false on success, true on failure</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">bool</span> convert_from_binary(<span class="keyword">const</span> <span class="keywordtype">char</span> *bin, <span class="keywordtype">size_t</span> len, <a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="namespaceCounter.html#a797c2d7934585e10e3e7b548520c3a95">dec</a>);<span class="comment"></span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">    Returns stored DECIMAL binary</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="comment">    @param  bin   serialized Json_decimal object</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">    @returns</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">      pointer to the binary decimal value</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">    @see #convert_from_binary</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="classJson__decimal.html#a8ec3fcf96f95406079b2d2936fbea88f">  808</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classJson__decimal.html#a8ec3fcf96f95406079b2d2936fbea88f">get_encoded_binary</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *bin) {</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// Skip stored precision and scale</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">return</span> bin + 2;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  }<span class="comment"></span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">    Returns length of stored DECIMAL binary</span></div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">    @param  length  length of serialized Json_decimal object</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">    @returns</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">      length of the binary decimal value</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="comment">    @see #convert_from_binary</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="classJson__decimal.html#ae78d78ac4babcaea3bdccfed8ecc950e">  822</a></span>&#160;  <span class="keyword">static</span> <span class="keywordtype">size_t</span> <a class="code" href="classJson__decimal.html#ae78d78ac4babcaea3bdccfed8ecc950e">get_encoded_binary_len</a>(<span class="keywordtype">size_t</span> <a class="code" href="namespacegis.html#a1e3bf735dbe640151561b282f0f4dba5">length</a>) {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="comment">// Skip stored precision and scale</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="keywordflow">return</span> length - 2;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;};</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">  Represents a MySQL double JSON scalar (an extension of the ECMA</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">  number value), type J_DOUBLE.</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="classJson__double.html">  832</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__double.html">Json_double</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__number.html">Json_number</a> {</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="classJson__double.html#a81da1e10d6f59d5ce83af7b751b82604">  834</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classJson__double.html#a81da1e10d6f59d5ce83af7b751b82604">m_f</a>;  <span class="comment">//!&lt; holds the double value</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;<span class="comment"></span> <span class="keyword">public</span>:</div><div class="line"><a name="l00836"></a><span class="lineno"><a class="line" href="classJson__double.html#adae8144cec21af68129edab3f70b976e">  836</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__double.html#adae8144cec21af68129edab3f70b976e">Json_double</a>(<span class="keywordtype">double</span> value) : <a class="code" href="classJson__number.html">Json_number</a>(), m_f(value) {}</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno"><a class="line" href="classJson__double.html#a93857c8ef95f4035e8cf9a2b3a1d06a3">  838</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__double.html#a93857c8ef95f4035e8cf9a2b3a1d06a3">json_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea74f24282328a2510a66f814c565501f1">enum_json_type::J_DOUBLE</a>; }</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="classJson__double.html#a8a525d531397474a8855e0f952006d50">  840</a></span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="classJson__double.html#a8a525d531397474a8855e0f952006d50">clone</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">return</span> create_dom_ptr&lt;Json_double&gt;(m_f);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  }</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">    Return the double value held by this object.</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">    @return the value</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00848"></a><span class="lineno"><a class="line" href="classJson__double.html#ab9919eeb72c3604f67a1a88804eb5734">  848</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classJson__double.html#ab9919eeb72c3604f67a1a88804eb5734">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_f; }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;};</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment">  Represents a MySQL integer (64 bits signed) JSON scalar (an extension</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">  of the ECMA number value), type J_INT.</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00855"></a><span class="lineno"><a class="line" href="classJson__int.html">  855</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__int.html">Json_int</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__number.html">Json_number</a> {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="classJson__int.html#a7945d02849d5625bb70739f74a144c77">  857</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classJson__int.html#a7945d02849d5625bb70739f74a144c77">m_i</a>;  <span class="comment">//!&lt; holds the value</span></div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment"></span> <span class="keyword">public</span>:</div><div class="line"><a name="l00859"></a><span class="lineno"><a class="line" href="classJson__int.html#a3bff2d56d397006c19bffbfab2a0354c">  859</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__int.html#a3bff2d56d397006c19bffbfab2a0354c">Json_int</a>(<a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> value) : <a class="code" href="classJson__number.html">Json_number</a>(), m_i(value) {}</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="classJson__int.html#a0125a1513df6ea21ca605bee8d7076d3">  861</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__int.html#a0125a1513df6ea21ca605bee8d7076d3">json_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea572b41069915554ebaecda054fcd890f">enum_json_type::J_INT</a>; }</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">    Return the signed int held by this object.</span></div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">    @return the value</span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00867"></a><span class="lineno"><a class="line" href="classJson__int.html#af5e8bf4dc1c2ba6846262e607333dbee">  867</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classJson__int.html#af5e8bf4dc1c2ba6846262e607333dbee">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_i; }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">    @return true if the number can be held by a 16 bit signed integer</span></div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="classJson__int.html#a1a25d3b6bce0585b2c249d3b83fb6b85">  872</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__int.html#a1a25d3b6bce0585b2c249d3b83fb6b85">is_16bit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="my__inttypes_8h.html#aca2a00bdda27914ffb3662fc2213625c">INT_MIN16</a> &lt;= m_i &amp;&amp; m_i &lt;= <a class="code" href="my__inttypes_8h.html#a974850ec5feaaa401b548c5c83c6fad7">INT_MAX16</a>; }</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment">    @return true if the number can be held by a 32 bit signed integer</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="classJson__int.html#aecb590d2898e44fcbc9c331028739abf">  877</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__int.html#aecb590d2898e44fcbc9c331028739abf">is_32bit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="my__inttypes_8h.html#a9b7fa4de515c67ff46257470d79490d8">INT_MIN32</a> &lt;= m_i &amp;&amp; m_i &lt;= <a class="code" href="my__inttypes_8h.html#ab65fadcd8a8ed6dd7cec3fb95116e466">INT_MAX32</a>; }</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;</div><div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="classJson__int.html#a7177a4356d15ab29ba70337875f79ed7">  879</a></span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="classJson__int.html#a7177a4356d15ab29ba70337875f79ed7">clone</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> create_dom_ptr&lt;Json_int&gt;(m_i); }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;};</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">  Represents a MySQL integer (64 bits unsigned) JSON scalar (an extension</span></div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">  of the ECMA number value), type J_UINT.</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="classJson__uint.html">  887</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__uint.html">Json_uint</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__number.html">Json_number</a> {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00889"></a><span class="lineno"><a class="line" href="classJson__uint.html#a7d4ffdaf3acf3412cb187bbc5efaf4fa">  889</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classJson__uint.html#a7d4ffdaf3acf3412cb187bbc5efaf4fa">m_i</a>;  <span class="comment">//!&lt; holds the value</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment"></span> <span class="keyword">public</span>:</div><div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="classJson__uint.html#a2e7b72a1884eb41de225f3849a4728da">  891</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__uint.html#a2e7b72a1884eb41de225f3849a4728da">Json_uint</a>(<a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> value) : <a class="code" href="classJson__number.html">Json_number</a>(), m_i(value) {}</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno"><a class="line" href="classJson__uint.html#a10637fef1d37043d6d34aaf85f5954b5">  893</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__uint.html#a10637fef1d37043d6d34aaf85f5954b5">json_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea59b76ed641f7dd55655bcc4155c3b26b">enum_json_type::J_UINT</a>; }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">    Return the unsigned int held by this object.</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">    @return the value</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="classJson__uint.html#a50765d292cd254e77518ab42c4a3e2c4">  899</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="classJson__uint.html#a50765d292cd254e77518ab42c4a3e2c4">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_i; }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">    @return true if the number can be held by a 16 bit unsigned</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">    integer.</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00905"></a><span class="lineno"><a class="line" href="classJson__uint.html#a800710255a621f78f3bae3f066e8a1ec">  905</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__uint.html#a800710255a621f78f3bae3f066e8a1ec">is_16bit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_i &lt;= <a class="code" href="my__inttypes_8h.html#a140279d75711eb69cc3eed56dd7d4965">UINT_MAX16</a>; }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">    @return true if the number can be held by a 32 bit unsigned</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">    integer.</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00911"></a><span class="lineno"><a class="line" href="classJson__uint.html#af1bc8090273ccd300a0dd0bd37f11c0e">  911</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__uint.html#af1bc8090273ccd300a0dd0bd37f11c0e">is_32bit</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_i &lt;= <a class="code" href="my__inttypes_8h.html#aec369a26737b652bae0085c102074de5">UINT_MAX32</a>; }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="classJson__uint.html#a45a78fe423f1b281f81fc59c2f5b6518">  913</a></span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="classJson__uint.html#a45a78fe423f1b281f81fc59c2f5b6518">clone</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> create_dom_ptr&lt;Json_uint&gt;(m_i); }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;};</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">  Represents a JSON null type (ECMA), type J_NULL here.</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00919"></a><span class="lineno"><a class="line" href="classJson__null.html">  919</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__null.html">Json_null</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__scalar.html">Json_scalar</a> {</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00921"></a><span class="lineno"><a class="line" href="classJson__null.html#ae77ba057477c0f1dda1a9e2b43338fd1">  921</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__null.html#ae77ba057477c0f1dda1a9e2b43338fd1">json_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea57e2a3611096f93a821ed05ab02bc1e2">enum_json_type::J_NULL</a>; }</div><div class="line"><a name="l00922"></a><span class="lineno"><a class="line" href="classJson__null.html#a5dce9efb93a4c2da1cb98cbddfe3300c">  922</a></span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="classJson__null.html#a5dce9efb93a4c2da1cb98cbddfe3300c">clone</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> create_dom_ptr&lt;Json_null&gt;(); }</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;};</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">  Represents a MySQL date/time value (DATE, TIME, DATETIME or</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">  TIMESTAMP) - an extension to the ECMA set of JSON scalar types, types</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">  J_DATE, J_TIME, J_DATETIME and J_TIMESTAMP respectively. The method</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">  field_type identifies which of the four it is.</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l00931"></a><span class="lineno"><a class="line" href="classJson__datetime.html">  931</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__datetime.html">Json_datetime</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__scalar.html">Json_scalar</a> {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00933"></a><span class="lineno"><a class="line" href="classJson__datetime.html#a1e2e82b89fd81aca723ba8fce5f0d6db">  933</a></span>&#160;  <a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> <a class="code" href="classJson__datetime.html#a1e2e82b89fd81aca723ba8fce5f0d6db">m_t</a>;                 <span class="comment">//!&lt; holds the date/time value</span></div><div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="classJson__datetime.html#a17e13fb87ef1fbf9cb7e13b8e6ee5b83">  934</a></span>&#160;<span class="comment"></span>  <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> <a class="code" href="classJson__datetime.html#a17e13fb87ef1fbf9cb7e13b8e6ee5b83">m_field_type</a>;  <span class="comment">//!&lt; identifies which type of date/time</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160; <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment">    Constructs a object to hold a MySQL date/time value.</span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">    @param[in] t   the time/value</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">    @param[in] ft  the field type: must be one of MYSQL_TYPE_TIME,</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;<span class="comment">                   MYSQL_TYPE_DATE, MYSQL_TYPE_DATETIME or</span></div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;<span class="comment">                   MYSQL_TYPE_TIMESTAMP.</span></div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00945"></a><span class="lineno"><a class="line" href="classJson__datetime.html#a647530c4996bfbdd8c26aef226eaebe8">  945</a></span>&#160;  <a class="code" href="classJson__datetime.html#a647530c4996bfbdd8c26aef226eaebe8">Json_datetime</a>(<span class="keyword">const</span> <a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> &amp;t, <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> ft)</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      : <a class="code" href="classJson__scalar.html">Json_scalar</a>(), m_t(t), m_field_type(ft) {}</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> json_type() <span class="keyword">const override</span>;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="window_8cc.html#ab18bcb21ff8541fc5fef0f12ddc372aa">clone</a>() <span class="keyword">const override</span>;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">    Return a pointer the date/time value. Ownership is _not_ transferred.</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">    To identify which time time the value represents, use @c field_type.</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">    @return the pointer</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00957"></a><span class="lineno"><a class="line" href="classJson__datetime.html#a8d94ebe1237f57e7ffd2bb82621f8f5a">  957</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *<a class="code" href="classJson__datetime.html#a8d94ebe1237f57e7ffd2bb82621f8f5a">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;m_t; }</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<span class="comment">    Return what kind of date/time value this object holds.</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;<span class="comment">    @return One of MYSQL_TYPE_TIME, MYSQL_TYPE_DATE, MYSQL_TYPE_DATETIME</span></div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="comment">            or MYSQL_TYPE_TIMESTAMP.</span></div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00964"></a><span class="lineno"><a class="line" href="classJson__datetime.html#a31c8a7a17013d92434f033dbb787df70">  964</a></span>&#160;  <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> <a class="code" href="classJson__datetime.html#a31c8a7a17013d92434f033dbb787df70">field_type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_field_type; }</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">    Convert the datetime to the packed format used when storing</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment">    datetime values.</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">    @param dest the destination buffer to write the packed datetime to</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">    (must at least have size PACKED_SIZE)</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  <span class="keywordtype">void</span> to_packed(<span class="keywordtype">char</span> *dest) <span class="keyword">const</span>;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment">    Convert a packed datetime back to a MYSQL_TIME.</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;<span class="comment">    @param from the buffer to read from (must have at least PACKED_SIZE bytes)</span></div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;<span class="comment">    @param ft   the field type of the value</span></div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment">    @param to   the MYSQL_TIME to write the value to</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> from_packed(<span class="keyword">const</span> <span class="keywordtype">char</span> *from, <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> ft,</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                          <a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *to);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">    Convert a packed datetime to key string for indexing by SE</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="comment">    @param from the buffer to read from</span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="comment">    @param ft   the field type of the value</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="comment">    @param to   the destination buffer</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="comment">    @param dec  value&#39;s decimals</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> from_packed_to_key(<span class="keyword">const</span> <span class="keywordtype">char</span> *from, <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> ft,</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                 <a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *to, <a class="code" href="my__inttypes_8h.html#a33a5e996e7a90acefb8b1c0bea47e365">uint8</a> <a class="code" href="namespaceCounter.html#a797c2d7934585e10e3e7b548520c3a95">dec</a>);</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">  /** Datetimes are packed in eight bytes. */</span></div><div class="line"><a name="l00996"></a><span class="lineno"><a class="line" href="classJson__datetime.html#ac18eb9fb33e2a1cf151a7a6a748e4212">  996</a></span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> PACKED_SIZE = 8;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;};</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">  Represents a MySQL value opaquely, i.e. the Json DOM can not</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">  serialize or deserialize these values.  This should be used to store</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="comment">  values that don&#39;t map to the other Json_scalar classes.  Using the</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;<span class="comment">  &quot;to_string&quot; method on such values (via Json_wrapper) will yield a base</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;<span class="comment">  64 encoded string tagged with the MySQL type with this syntax:</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="comment">  &quot;base64:typeXX:&lt;base 64 encoded value&gt;&quot;</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01008"></a><span class="lineno"><a class="line" href="classJson__opaque.html"> 1008</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__opaque.html">Json_opaque</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__scalar.html">Json_scalar</a> {</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01010"></a><span class="lineno"><a class="line" href="classJson__opaque.html#afec18c0d33c6475a19c8d1225245f446"> 1010</a></span>&#160;  <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> <a class="code" href="classJson__opaque.html#afec18c0d33c6475a19c8d1225245f446">m_mytype</a>;</div><div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="classJson__opaque.html#a9d5d2450b5e6edbadf1393457b597b19"> 1011</a></span>&#160;  std::string <a class="code" href="classJson__opaque.html#a9d5d2450b5e6edbadf1393457b597b19">m_val</a>;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160; <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;<span class="comment">    An opaque MySQL value.</span></div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;<span class="comment">    @param[in] mytype  the MySQL type of the value</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="comment">    @param[in] args    arguments to construct the binary value to be stored</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="comment">                       in the DOM (anything accepted by the std::string</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="comment">                       constructors)</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="comment">    @see #enum_field_types</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="comment">    @see Class documentation</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="classJson__opaque.html#af0d9ea5c276187f1882689f134f82629"> 1025</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__opaque.html#af0d9ea5c276187f1882689f134f82629">Json_opaque</a>(<a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> mytype, Args &amp;&amp;... args)</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;      : <a class="code" href="classJson__scalar.html">Json_scalar</a>(), m_mytype(mytype), m_val(<a class="code" href="namespacestd.html">std</a>::forward&lt;Args&gt;(args)...) {}</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div><div class="line"><a name="l01028"></a><span class="lineno"><a class="line" href="classJson__opaque.html#a6ff77df92bae635d6738262715505ed3"> 1028</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__opaque.html#a6ff77df92bae635d6738262715505ed3">json_type</a>()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea1afb6665b0568b0f813c4a371037225c">enum_json_type::J_OPAQUE</a>; }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="comment">    @return a pointer to the opaque value. Use #size() to get its size.</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01033"></a><span class="lineno"><a class="line" href="classJson__opaque.html#a88b1367f0b9ae23450f478c08dd2bc36"> 1033</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classJson__opaque.html#a88b1367f0b9ae23450f478c08dd2bc36">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_val.data(); }</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;<span class="comment">    @return the MySQL type of the value</span></div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01038"></a><span class="lineno"><a class="line" href="classJson__opaque.html#a26750dc18ad9eb5333e82a0b25815f29"> 1038</a></span>&#160;  <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> <a class="code" href="classJson__opaque.html#a26750dc18ad9eb5333e82a0b25815f29">type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_mytype; }<span class="comment"></span></div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;<span class="comment">    @return the size in bytes of the value</span></div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01042"></a><span class="lineno"><a class="line" href="classJson__opaque.html#a2fbbcd3d9081289cc0c591630e219ae1"> 1042</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classJson__opaque.html#a2fbbcd3d9081289cc0c591630e219ae1">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_val.size(); }</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="window_8cc.html#ab18bcb21ff8541fc5fef0f12ddc372aa">clone</a>() <span class="keyword">const override</span>;</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;};</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="comment">  Represents a JSON true or false value, type J_BOOLEAN here.</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01050"></a><span class="lineno"><a class="line" href="classJson__boolean.html"> 1050</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__boolean.html">Json_boolean</a> <a class="code" href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a> : <span class="keyword">public</span> <a class="code" href="classJson__scalar.html">Json_scalar</a> {</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01052"></a><span class="lineno"><a class="line" href="classJson__boolean.html#ab982c5385ad80ab9e313c45c14027939"> 1052</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__boolean.html#ab982c5385ad80ab9e313c45c14027939">m_v</a>;  <span class="comment">//!&lt; false or true: represents the eponymous JSON literal</span></div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;<span class="comment"></span> <span class="keyword">public</span>:</div><div class="line"><a name="l01054"></a><span class="lineno"><a class="line" href="classJson__boolean.html#a324075331c7fae57aadcae93b941c432"> 1054</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__boolean.html#a324075331c7fae57aadcae93b941c432">Json_boolean</a>(<span class="keywordtype">bool</span> value) : <a class="code" href="classJson__scalar.html">Json_scalar</a>(), m_v(value) {}</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div><div class="line"><a name="l01056"></a><span class="lineno"><a class="line" href="classJson__boolean.html#a293f752118ae79549d8c6a83e3702746"> 1056</a></span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="classJson__boolean.html#a293f752118ae79549d8c6a83e3702746">json_type</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea5fce6f76374ada4ab5ad19d5cacdee04">enum_json_type::J_BOOLEAN</a>;</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="comment">    @return false for JSON false, true for JSON true</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="classJson__boolean.html#a166bd3e20239ed1506982a1f072fbc37"> 1063</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__boolean.html#a166bd3e20239ed1506982a1f072fbc37">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_v; }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="classJson__boolean.html#a440bfd34d558dfe68bef0fdb02d766d2"> 1065</a></span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="classJson__boolean.html#a440bfd34d558dfe68bef0fdb02d766d2">clone</a>()<span class="keyword"> const override </span>{</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;    <span class="keywordflow">return</span> create_dom_ptr&lt;Json_boolean&gt;(m_v);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;};</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">  Perform quoting on a JSON string to make an external representation</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">  of it. It wraps double quotes (text quotes) around the string (cptr)</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">  and also performs escaping according to the following table:</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">  &lt;pre&gt;</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">  @verbatim</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;<span class="comment">  Common name     C-style  Original unescaped     Transformed to</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;<span class="comment">                  escape   UTF-8 bytes            escape sequence</span></div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;<span class="comment">                  notation                        in UTF-8 bytes</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="comment">  ---------------------------------------------------------------</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="comment">  quote           \&quot;       %x22                    %x5C %x22</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="comment">  backslash       \\       %x5C                    %x5C %x5C</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;<span class="comment">  backspace       \b       %x08                    %x5C %x62</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;<span class="comment">  formfeed        \f       %x0C                    %x5C %x66</span></div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;<span class="comment">  linefeed        \n       %x0A                    %x5C %x6E</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="comment">  carriage-return \r       %x0D                    %x5C %x72</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="comment">  tab             \t       %x09                    %x5C %x74</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="comment">  unicode         \uXXXX  A hex number in the      %x5C %x75</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;<span class="comment">                          range of 00-1F,          followed by</span></div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;<span class="comment">                          except for the ones      4 hex digits</span></div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;<span class="comment">                          handled above (backspace,</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="comment">                          formfeed, linefeed,</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment">                          carriage-return,</span></div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">                          and tab).</span></div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">  ---------------------------------------------------------------</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">  @endverbatim</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="comment">  &lt;/pre&gt;</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="comment">  @param[in] cptr pointer to string data</span></div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;<span class="comment">  @param[in] length the length of the string</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;<span class="comment">  @param[in,out] buf the destination buffer</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="comment">  @retval true on error</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="json__dom_8h.html#ad5150927a04c19e60622eb3365975c18">double_quote</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *cptr, <span class="keywordtype">size_t</span> <a class="code" href="namespacegis.html#a1e3bf735dbe640151561b282f0f4dba5">length</a>, <a class="code" href="classString.html">String</a> *<a class="code" href="namespacebuf.html">buf</a>);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment"> Merge two doms. The right dom is either subsumed into the left dom</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="comment"> or the contents of the right dom are transferred to the left dom</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="comment"> and the right dom is deleted. After calling this function, the</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="comment"> caller should not reference the right dom again. It has been</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment"> deleted.</span></div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment"> Returns NULL if there is a memory allocation failure. In this case</span></div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment"> both doms are deleted.</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment"> scalars - If any of the documents that are being merged is a scalar,</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment"> each scalar document is autowrapped as a single value array before merging.</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="comment"> arrays - When merging a left array with a right array,</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;<span class="comment"> then the result is the left array concatenated</span></div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;<span class="comment"> with the right array. For instance, [ 1, 2 ] merged with [ 3, 4 ]</span></div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;<span class="comment"> is [ 1, 2, 3, 4 ].</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;<span class="comment"> array and object - When merging an array with an object,</span></div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;<span class="comment"> the object is autowrapped as an array and then the rule above</span></div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;<span class="comment"> is applied. So [ 1, 2 ] merged with { &quot;a&quot; : true }</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;<span class="comment"> is [ 1, 2, { &quot;a&quot;: true } ].</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;<span class="comment"> objects - When merging two objects, the two objects are concatenated</span></div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;<span class="comment"> into a single, larger object. So { &quot;a&quot; : &quot;foo&quot; } merged with { &quot;b&quot; : 5 }</span></div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;<span class="comment"> is { &quot;a&quot; : &quot;foo&quot;, &quot;b&quot; : 5 }.</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;<span class="comment"> duplicates - When two objects are merged and they share a key,</span></div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="comment"> the values associated with the shared key are merged.</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment"> @param [in,out] left  The recipient dom.</span></div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment"> @param [in,out] right  The dom to be consumed</span></div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;<span class="comment"> @return A composite dom which subsumes the left and right doms, or NULL</span></div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;<span class="comment"> if a failure happened while merging</span></div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;<a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> <a class="code" href="json__dom_8h.html#afb908f226400d33b4c4f85a663afe838">merge_doms</a>(<a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> left, <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> right);</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;<span class="comment">  How Json_wrapper would handle coercion error</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;</div><div class="line"><a name="l01147"></a><span class="lineno"><a class="line" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68"> 1147</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68">enum_coercion_error</a> {</div><div class="line"><a name="l01148"></a><span class="lineno"><a class="line" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c"> 1148</a></span>&#160;  <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c">CE_WARNING</a>,  <span class="comment">// Throw a warning, default</span></div><div class="line"><a name="l01149"></a><span class="lineno"><a class="line" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68ac43f3435337c3ca192d0a97f50bc56b1"> 1149</a></span>&#160;  <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68ac43f3435337c3ca192d0a97f50bc56b1">CE_ERROR</a>,    <span class="comment">// Throw an error</span></div><div class="line"><a name="l01150"></a><span class="lineno"><a class="line" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68acfd4c01bdb9cf1c4eb83484741ff573c"> 1150</a></span>&#160;  <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68acfd4c01bdb9cf1c4eb83484741ff573c">CE_IGNORE</a>    <span class="comment">// Let the caller handle the error</span></div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;};</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;<span class="comment">  Abstraction for accessing JSON values irrespective of whether they</span></div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;<span class="comment">  are (started out as) binary JSON values or JSON DOM values. The</span></div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;<span class="comment">  purpose of this is to allow uniform access for callers. It allows us</span></div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">  to access binary JSON values without necessarily building a DOM (and</span></div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment">  thus having to read the entire value unless necessary, e.g. for</span></div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">  accessing only a single array slot or object field).</span></div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;<span class="comment">  Instances of this class are usually created on the stack. In some</span></div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;<span class="comment">  cases instances are cached in an Item and reused, in which case they</span></div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;<span class="comment">  are allocated from query-duration memory (by allocating them on a</span></div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;<span class="comment">  MEM_ROOT).</span></div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01166"></a><span class="lineno"><a class="line" href="classJson__wrapper.html"> 1166</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__wrapper.html">Json_wrapper</a> {</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="comment">/*</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;<span class="comment">    A Json_wrapper wraps either a Json_dom or a json_binary::Value,</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;<span class="comment">    never both at the same time.</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="keyword">union </span>{<span class="comment"></span></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;<span class="comment">    /// The DOM representation, only used if m_is_dom is true.</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;<span class="comment"></span>    <span class="keyword">struct </span>{</div><div class="line"><a name="l01175"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a61517896b3cc64d8e66dc90659dc13c5"> 1175</a></span>&#160;      <a class="code" href="classJson__dom.html">Json_dom</a> *<a class="code" href="classJson__wrapper.html#a61517896b3cc64d8e66dc90659dc13c5">m_dom_value</a>;<span class="comment"></span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment">      /// If true, don&#39;t deallocate m_dom_value in destructor.</span></div><div class="line"><a name="l01177"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a6ce7944825e4f31aea8c86fcd1d5b5fe"> 1177</a></span>&#160;<span class="comment"></span>      <span class="keywordtype">bool</span> <a class="code" href="classJson__wrapper.html#a6ce7944825e4f31aea8c86fcd1d5b5fe">m_dom_alias</a>;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    };<span class="comment"></span></div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;<span class="comment">    /// The binary representation, only used if m_is_dom is false.</span></div><div class="line"><a name="l01180"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#affcc6bbb7f2b84f7b60275b10e5a1d83"> 1180</a></span>&#160;<span class="comment"></span>    <a class="code" href="classjson__binary_1_1Value.html">json_binary::Value</a> <a class="code" href="classJson__wrapper.html#affcc6bbb7f2b84f7b60275b10e5a1d83">m_value</a>;</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  };</div><div class="line"><a name="l01182"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a68fe7091a139ae6a37046296da400d5f"> 1182</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__wrapper.html#a68fe7091a139ae6a37046296da400d5f">m_is_dom</a>;  <span class="comment">//!&lt; Wraps a DOM iff true</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment"></span> <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;<span class="comment">    Get the wrapped datetime value in the packed format.</span></div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="comment">    @param[in,out] buffer a char buffer with space for at least</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="comment">    Json_datetime::PACKED_SIZE characters</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;<span class="comment">    @return a char buffer that contains the packed representation of the</span></div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;<span class="comment">    datetime (may or may not be the same as buffer)</span></div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *get_datetime_packed(<span class="keywordtype">char</span> *<a class="code" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;<span class="comment">    Create an empty wrapper. Cf #empty().</span></div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01197"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a8b257a35677b04c082c2b44399c03e47"> 1197</a></span>&#160;  <a class="code" href="classJson__wrapper.html#a8b257a35677b04c082c2b44399c03e47">Json_wrapper</a>() : m_dom_value(<a class="code" href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>), m_is_dom(<a class="code" href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>) {</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="comment">// Workaround for Solaris Studio, initialize in CTOR body.</span></div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    m_dom_alias = <span class="keyword">true</span>;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  }</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;<span class="comment">    Wrap the supplied DOM value (no copy taken). The wrapper takes</span></div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;<span class="comment">    ownership, unless alias is true or @c set_alias is called after</span></div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;<span class="comment">    construction.</span></div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;<span class="comment">    In the latter case the lifetime of the DOM is determined by</span></div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;<span class="comment">    the owner of the DOM, so clients need to ensure that that</span></div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;<span class="comment">    lifetime is sufficient, lest dead storage is attempted accessed.</span></div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;<span class="comment">    @param[in,out] dom_value  the DOM value</span></div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;<span class="comment">    @param         alias      Whether the wrapper is an alias to DOM</span></div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__wrapper.html">Json_wrapper</a>(<a class="code" href="classJson__dom.html">Json_dom</a> *dom_value, <span class="keywordtype">bool</span> alias = <span class="keyword">false</span>);</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="comment">    Wrap the supplied DOM value. The wrapper takes over the ownership.</span></div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01218"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#adbbe097532644c6e95882552751a3916"> 1218</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__wrapper.html#adbbe097532644c6e95882552751a3916">Json_wrapper</a>(<a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> dom_value)</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      : <a class="code" href="classJson__wrapper.html">Json_wrapper</a>(dom_value.release()) {}</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;<span class="comment">    Only meaningful iff the wrapper encapsulates a DOM. Marks the</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;<span class="comment">    wrapper as not owning the DOM object, i.e. it will not be</span></div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;<span class="comment">    deallocated in the wrapper&#39;s destructor. Useful if one wants a wrapper</span></div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;<span class="comment">    around a DOM owned by someone else.</span></div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01227"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a33b604fd1a81e1adaddabb197b7a4baf"> 1227</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classJson__wrapper.html#a33b604fd1a81e1adaddabb197b7a4baf">set_alias</a>() { m_dom_alias = <span class="keyword">true</span>; }</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;<span class="comment">    Wrap a binary value. Does not copy the underlying buffer, so</span></div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;<span class="comment">    lifetime is limited the that of the supplied value.</span></div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="comment">    @param[in] value  the binary value</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__wrapper.html">Json_wrapper</a>(<span class="keyword">const</span> <a class="code" href="classjson__binary_1_1Value.html">json_binary::Value</a> &amp;value);</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;<span class="comment">    Copy constructor. Does a deep copy of any owned DOM. If a DOM</span></div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="comment">    os not owned (aliased), the copy will also be aliased.</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="classJson__wrapper.html">Json_wrapper</a>(<span class="keyword">const</span> <a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;old);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment">    Move constructor. Take over the ownership of the other wrapper&#39;s</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">    DOM, unless it&#39;s aliased. If the other wrapper is aliased, this</span></div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">    wrapper becomes an alias too. Any already owned DOM will be</span></div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment">    deallocated.</span></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="comment">    @param old the wrapper whose contents to take over</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <a class="code" href="classJson__wrapper.html">Json_wrapper</a>(<a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;&amp;old) noexcept;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment">    Assignment operator. Does a deep copy of any owned DOM. If a DOM</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">    os not owned (aliased), the copy will also be aliased. Any owned</span></div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">    DOM in the left side will be deallocated.</span></div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;operator=(<span class="keyword">const</span> <a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;old);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment">    Move-assignment operator. Take over the ownership of the other</span></div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">    wrapper&#39;s DOM, unless it&#39;s aliased. If the other wrapper is</span></div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment">    aliased, this wrapper becomes an alias too. Any already owned DOM</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment">    will be deallocated.</span></div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">    @param old the wrapper whose contents to take over</span></div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;operator=(<a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;&amp;old) noexcept;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  ~<a class="code" href="classJson__wrapper.html">Json_wrapper</a>();</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="comment">    A Wrapper is defined to be empty if it is passed a NULL value with the</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;<span class="comment">    constructor for JSON dom, or if the default constructor is used.</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;<span class="comment">    @return true if the wrapper is empty.</span></div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01278"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#ad8cd446ff3805d95f97a5f5c5e8ca47f"> 1278</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__wrapper.html#ad8cd446ff3805d95f97a5f5c5e8ca47f">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_is_dom &amp;&amp; !m_dom_value; }</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="comment">    Does this wrapper contain a DOM?</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;<span class="comment">    @retval true   if the wrapper contains a DOM representation</span></div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;<span class="comment">    @retval false  if the wrapper contains a binary representation</span></div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01286"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#af0809a53a69c5fa011e4079e4b5c62cc"> 1286</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__wrapper.html#af0809a53a69c5fa011e4079e4b5c62cc">is_dom</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_is_dom; }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;<span class="comment">    Get the wrapped contents in DOM form. The DOM is (still) owned by the</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;<span class="comment">    wrapper. If this wrapper originally held a value, it is now converted</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;<span class="comment">    to hold (and eventually release) the DOM version.</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">    @param thd current session (can be nullptr if is_dom() returns true)</span></div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">    @return pointer to a DOM object, or NULL if the DOM could not be allocated</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <a class="code" href="classJson__dom.html">Json_dom</a> *to_dom(<span class="keyword">const</span> <a class="code" href="classTHD.html">THD</a> *thd);</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">    Gets a pointer to the wrapped Json_dom object, if this wrapper holds a DOM.</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">    If is_dom() returns false, the result of calling this function is undefined.</span></div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01302"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a6534ca9e0390a6d0da591a416e5e2813"> 1302</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classJson__dom.html">Json_dom</a> *<a class="code" href="classJson__wrapper.html#a6534ca9e0390a6d0da591a416e5e2813">get_dom</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(m_is_dom);</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">return</span> m_dom_value;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  }</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;<span class="comment">    Gets the wrapped json_binary::Value object, if this wrapper holds a binary</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;<span class="comment">    JSON value. If is_dom() returns true, the result of calling this function is</span></div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;<span class="comment">    undefined.</span></div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01312"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a72bd5e35048538498f23ed9eb1b88f70"> 1312</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classjson__binary_1_1Value.html">json_binary::Value</a> &amp;<a class="code" href="classJson__wrapper.html#a72bd5e35048538498f23ed9eb1b88f70">get_binary_value</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <a class="code" href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a>(!m_is_dom);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">return</span> m_value;</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  }</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="comment">    Get the wrapped contents in DOM form. Same as to_dom(), except it returns</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;<span class="comment">    a clone of the original DOM instead of the actual, internal DOM tree.</span></div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;<span class="comment">    @param thd current session</span></div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;<span class="comment">    @return pointer to a DOM object, or NULL if the DOM could not be allocated</span></div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  <a class="code" href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a> clone_dom(<span class="keyword">const</span> <a class="code" href="classTHD.html">THD</a> *thd) <span class="keyword">const</span>;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="comment">    Get the wrapped contents in binary value form.</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;<span class="comment">    @param[in]     thd  current session</span></div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;<span class="comment">    @param[in,out] str  a string that will be filled with the binary value</span></div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;<span class="comment">    @retval true  on error</span></div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordtype">bool</span> to_binary(<span class="keyword">const</span> <a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="classString.html">String</a> *str) <span class="keyword">const</span>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;<span class="comment">    Check if the wrapped JSON document is a binary value (a</span></div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;<span class="comment">    json_binary::Value), and if that binary is pointing to data stored in the</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;<span class="comment">    given string.</span></div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;<span class="comment">    This function can be used to check if overwriting the data in the string</span></div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;<span class="comment">    might overwrite and corrupt the document contained in this wrapper.</span></div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;<span class="comment">    @param str    a string which contains JSON binary data</span></div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;<span class="comment">    @retval true  if the string contains data that the wrapped document</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="comment">                  points to from its json_binary::Value representation</span></div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;<span class="comment">    @retval false otherwise</span></div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01351"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#ac0dd16bea7dde904eee06fdc248dc231"> 1351</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classJson__wrapper.html#ac0dd16bea7dde904eee06fdc248dc231">is_binary_backed_by</a>(<span class="keyword">const</span> <a class="code" href="classString.html">String</a> *str)<span class="keyword"> const </span>{</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="keywordflow">return</span> !m_is_dom &amp;&amp; m_value.is_backed_by(str);</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;<span class="comment">    Format the JSON value to an external JSON string in buffer in</span></div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;<span class="comment">    the format of ISO/IEC 10646.</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;<span class="comment">    @param[in,out] buffer      the formatted string is appended, so make sure</span></div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">                               the length is set correctly before calling</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">    @param[in]     json_quoted if the JSON value is a string and json_quoted</span></div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">                               is false, don&#39;t perform quoting on the string.</span></div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="comment">                               This is only used by JSON_UNQUOTE.</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;<span class="comment">    @param[in]     func_name   The name of the function that called to_string().</span></div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;<span class="comment">    @return false formatting went well, else true</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="lex__string_8h.html#ac2f80edfdd9a37cb5b9f6ee50e1b429d">to_string</a>(<a class="code" href="classString.html">String</a> *<a class="code" href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a>, <span class="keywordtype">bool</span> json_quoted, <span class="keyword">const</span> <span class="keywordtype">char</span> *func_name) <span class="keyword">const</span>;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;<span class="comment">    Print this JSON document to the debug trace.</span></div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;<span class="comment">    @param[in] message If given, the JSON document is prefixed with</span></div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;<span class="comment">    this message.</span></div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keywordtype">void</span> dbug_print(<span class="keyword">const</span> <span class="keywordtype">char</span> *message MY_ATTRIBUTE((unused)) = <span class="stringliteral">&quot;&quot;</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment">    Format the JSON value to an external JSON string in buffer in the format of</span></div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">    ISO/IEC 10646. Add newlines and indentation for readability.</span></div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;<span class="comment">    @param[in,out] buffer     the buffer that receives the formatted string</span></div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;<span class="comment">                              (the string is appended, so make sure the length</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;<span class="comment">                              is set correctly before calling)</span></div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;<span class="comment">    @param[in]     func_name  the name of the calling function</span></div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;<span class="comment">    @retval true on error</span></div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;  <span class="keywordtype">bool</span> to_pretty_string(<a class="code" href="classString.html">String</a> *buffer, <span class="keyword">const</span> <span class="keywordtype">char</span> *func_name) <span class="keyword">const</span>;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="comment">// Accessors</span></div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment">    Return the type of the wrapped JSON value</span></div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;<span class="comment">    @return the type, or Json_dom::J_ERROR if the wrapper does not contain</span></div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;<span class="comment">    a JSON value</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <a class="code" href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a> <a class="code" href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">type</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;<span class="comment">    Return the MYSQL type of the opaque value, see #type(). Valid for</span></div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;<span class="comment">    J_OPAQUE.  Calling this method if the type is not J_OPAQUE will give</span></div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;<span class="comment">    undefined results.</span></div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;<span class="comment">    @return the type</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <a class="code" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> field_type() <span class="keyword">const</span>;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment">    If this wrapper holds a JSON array, get an array value by indexing</span></div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">    into the array. Valid for J_ARRAY.  Calling this method if the type is</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment">    not J_ARRAY will give undefined results.</span></div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;<span class="comment">    @return the array value</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <a class="code" href="classJson__wrapper.html">Json_wrapper</a> operator[](<span class="keywordtype">size_t</span> index) <span class="keyword">const</span>;</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;<span class="comment">    If this wrapper holds a JSON object, get the value corresponding</span></div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;<span class="comment">    to the member key. Valid for J_OBJECT.  Calling this method if the type is</span></div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;<span class="comment">    not J_OBJECT will give undefined results.</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;<span class="comment">    @param[in]     key name for identifying member</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;<span class="comment">    @return The member value. If there is no member with the specified</span></div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;<span class="comment">    name, a value with type Json_dom::J_ERROR is returned.</span></div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  <a class="code" href="classJson__wrapper.html">Json_wrapper</a> <a class="code" href="udf__example_8cc.html#a3d8f6e1fc9ecc1a4ec98503492eb47a7">lookup</a>(<span class="keyword">const</span> <a class="code" href="structMYSQL__LEX__CSTRING.html">MYSQL_LEX_CSTRING</a> &amp;<a class="code" href="suite__stubs_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;<span class="comment">    Get a pointer to the data of a JSON string or JSON opaque value.</span></div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;<span class="comment">    The data is still owner by the wrapper. The data may not be null</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;<span class="comment">    terminated, so use in conjunction with @c get_data_length.</span></div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;<span class="comment">    Valid for J_STRING and J_OPAQUE.  Calling this method if the type is</span></div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;<span class="comment">    not one of those will give undefined results.</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;<span class="comment">    @return the pointer</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *get_data() <span class="keyword">const</span>;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="comment">    Get the length to the data of a JSON string or JSON opaque value.</span></div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="comment">    Valid for J_STRING and J_OPAQUE.  Calling this method if the type is</span></div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="comment">    not one of those will give undefined results.</span></div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="comment">    @return the length</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="keywordtype">size_t</span> get_data_length() <span class="keyword">const</span>;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;<span class="comment">    Get the MySQL representation of a JSON decimal value.</span></div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;<span class="comment">    Valid for J_DECIMAL.  Calling this method if the type is</span></div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;<span class="comment">    not J_DECIMAL will give undefined results.</span></div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;<span class="comment">    @param[out] d  the decimal value</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;<span class="comment">    @return false on success, true on failure (which would indicate an</span></div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;<span class="comment">    internal error)</span></div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  <span class="keywordtype">bool</span> get_decimal_data(<a class="code" href="classmy__decimal.html">my_decimal</a> *d) <span class="keyword">const</span>;</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;<span class="comment">    Get the value of a JSON double number.</span></div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;<span class="comment">    Valid for J_DOUBLE.  Calling this method if the type is</span></div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;<span class="comment">    not J_DOUBLE will give undefined results.</span></div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="comment">    @return the value</span></div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keywordtype">double</span> get_double() <span class="keyword">const</span>;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;<span class="comment">    Get the value of a JSON signed integer number.</span></div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;<span class="comment">    Valid for J_INT.  Calling this method if the type is</span></div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;<span class="comment">    not J_INT will give undefined results.</span></div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;<span class="comment">    @return the value</span></div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> get_int() <span class="keyword">const</span>;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;<span class="comment">    Get the value of a JSON unsigned integer number.</span></div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;<span class="comment">    Valid for J_UINT.  Calling this method if the type is</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="comment">    not J_UINT will give undefined results.</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;<span class="comment">    @return the value</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> get_uint() <span class="keyword">const</span>;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;<span class="comment">    Get the value of a JSON date/time value.  Valid for J_TIME,</span></div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;<span class="comment">    J_DATETIME, J_DATE and J_TIMESTAMP.  Calling this method if the type</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;<span class="comment">    is not one of those will give undefined results.</span></div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;<span class="comment">    @param[out] t  the date/time value</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;  <span class="keywordtype">void</span> get_datetime(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *t) <span class="keyword">const</span>;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;<span class="comment">    Get a boolean value (a JSON true or false literal).</span></div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">    Valid for J_BOOLEAN.  Calling this method if the type is</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;<span class="comment">    not J_BOOLEAN will give undefined results.</span></div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;<span class="comment">    @return the value</span></div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="keywordtype">bool</span> get_boolean() <span class="keyword">const</span>;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;<span class="comment">    Finds all of the json sub-documents which match the path expression.</span></div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;<span class="comment">    Puts the matches on an evolving vector of results.</span></div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;<span class="comment">    This is a bit inefficient for binary wrappers because you can&#39;t</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;<span class="comment">    build up a binary array incrementally from its cells. Instead, you</span></div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;<span class="comment">    have to turn each cell into a dom and then add the doms to a</span></div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;<span class="comment">    dom array.</span></div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;<span class="comment">    Calling this if #empty() returns true is an error.</span></div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;<span class="comment">    Special care must be taken when the path expression contains more than one</span></div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;<span class="comment">    ellipsis (**) token. That is because multiple paths with ellipses may</span></div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;<span class="comment">    identify the same value. Consider the following document:</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;<span class="comment">        { &quot;a&quot;: { &quot;x&quot; : { &quot;b&quot;: { &quot;y&quot;: { &quot;b&quot;: { &quot;z&quot;: { &quot;c&quot;: 100 } } } } } } }</span></div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;<span class="comment">    The innermost value (the number 100) has the following unique,</span></div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;<span class="comment">    non-wildcarded address:</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;<span class="comment">        $.a.x.b.y.b.z.c</span></div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;<span class="comment">    That location is reached by both of the following paths which include</span></div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;<span class="comment">    the ellipsis token:</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;<span class="comment">        $.a.x.b**.c</span></div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;<span class="comment">        $.a.x.b.y.b**.c</span></div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;<span class="comment">    And those addresses both satisfy the following path expression which has</span></div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;<span class="comment">    two ellipses:</span></div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;<span class="comment">        $.a**.b**.c</span></div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment">    In this case, we only want to return one instance of $.a.x.b.y.b.z.c</span></div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;<span class="comment">    Similarly, special care must be taken if an auto-wrapping array</span></div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;<span class="comment">    path leg follows an ellipsis. Consider the following document:</span></div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;<span class="comment">        { &quot;a&quot;: { &quot;b&quot; : [ 1, 2, 3 ] } }</span></div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;<span class="comment">    The first element of the array (the number 1) can be reached with</span></div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">    either of these two non-wildcarded addresses, due to array auto-wrapping:</span></div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;<span class="comment">        $.a.b[0]</span></div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;<span class="comment">        $.a.b[0][0]</span></div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;<span class="comment">    Both of those addresses match the following path expression, which</span></div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;<span class="comment">    has an ellipsis followed by an auto-wrapping path leg:</span></div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;<span class="comment">        $**[0]</span></div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;<span class="comment">    @param[in] path   the (possibly wildcarded) address of the sub-documents</span></div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;<span class="comment">    @param[in] legs   the number of legs to use from @a path</span></div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="comment">    @param[out] hits  the result of the search</span></div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;<span class="comment">    @param[in] auto_wrap true of we match a final scalar with search for [0]</span></div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;<span class="comment">    @param[in]  only_need_one True if we can stop after finding one match</span></div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;<span class="comment">    @retval false on success</span></div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;<span class="comment">    @retval true on error</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordtype">bool</span> seek(<span class="keyword">const</span> <a class="code" href="classJson__seekable__path.html">Json_seekable_path</a> &amp;<a class="code" href="mysqldump_8cc.html#a38dcf0baefa35c1961c23cf3e06002b5">path</a>, <span class="keywordtype">size_t</span> legs,</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            <a class="code" href="classPrealloced__array.html">Json_wrapper_vector</a> *hits, <span class="keywordtype">bool</span> auto_wrap, <span class="keywordtype">bool</span> only_need_one);</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;<span class="comment">    Compute the length of a document. This is the value which would be</span></div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;<span class="comment">    returned by the JSON_LENGTH() system function. So, this returns</span></div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;<span class="comment">    - for scalar values: 1</span></div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;<span class="comment">    - for objects: the number of members</span></div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;<span class="comment">    - for arrays: the number of cells</span></div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;<span class="comment">    @returns 1, the number of members, or the number of cells</span></div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="namespacegis.html#a1e3bf735dbe640151561b282f0f4dba5">length</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;<span class="comment">    Compare this JSON value to another JSON value.</span></div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;<span class="comment">    @param[in] other the other JSON value</span></div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;<span class="comment">    @param[in] cs    if given, this charset will be used in comparison of</span></div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<span class="comment">                     string values</span></div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;<span class="comment">    @retval -1 if this JSON value is less than the other JSON value</span></div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;<span class="comment">    @retval 0 if the two JSON values are equal</span></div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;<span class="comment">    @retval 1 if this JSON value is greater than the other JSON value</span></div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="rpl__utility_8cc.html#aca075917775355d2faedb1478f5fcaba">compare</a>(<span class="keyword">const</span> <a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;other,</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;              <span class="keyword">const</span> <a class="code" href="structCHARSET__INFO.html">CHARSET_INFO</a> *cs = <span class="keyword">nullptr</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;<span class="comment">    Extract an int (signed or unsigned) from the JSON if possible</span></div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;<span class="comment">    coercing if need be.</span></div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;<span class="comment">    @param[in]  msgnam to use in error message if conversion failed</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;<span class="comment">    @param[in]  cr_error Whether to raise an error or warning on</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;<span class="comment">                         data truncation</span></div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;<span class="comment">    @param[out] err    true &lt;=&gt; error occur during coercion</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">    @param[out] unsigned_flag Whether the value read from JSON data is</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">                              unsigned</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment">    @returns json value coerced to int</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> coerce_int(<span class="keyword">const</span> <span class="keywordtype">char</span> *msgnam, <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68">enum_coercion_error</a> cr_error,</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;                      <span class="keywordtype">bool</span> *<a class="code" href="namespacejson__binary.html#a091356787f1fe6633bc180fc2009c606">err</a>, <span class="keywordtype">bool</span> *unsigned_flag) <span class="keyword">const</span>;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;<span class="comment">  /// Shorthand for coerce_int(msgnam, CE_WARNING, nullptr, nullptr).</span></div><div class="line"><a name="l01610"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a8de6527e9d8d5f6ae904ed9ef8d0dbd7"> 1610</a></span>&#160;<span class="comment"></span>  <a class="code" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="code" href="classJson__wrapper.html#a8de6527e9d8d5f6ae904ed9ef8d0dbd7">coerce_int</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msgnam)<span class="keyword"> const </span>{</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">return</span> coerce_int(msgnam, <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c">CE_WARNING</a>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  }</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">    Extract a real from the JSON if possible, coercing if need be.</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">    @param[in]  msgnam to use in error message if conversion failed</span></div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment">    @param[in]  cr_error Whether to raise an error or warning on</span></div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;<span class="comment">                         data truncation</span></div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;<span class="comment">    @param[out] err    true &lt;=&gt; error occur during coercion</span></div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;<span class="comment">    @returns json value coerced to real</span></div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="keywordtype">double</span> coerce_real(<span class="keyword">const</span> <span class="keywordtype">char</span> *msgnam, <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68">enum_coercion_error</a> cr_error,</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;                     <span class="keywordtype">bool</span> *err) <span class="keyword">const</span>;</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="comment">  /// Shorthand for coerce_real(msgnam, CE_WARNING, nullptr).</span></div><div class="line"><a name="l01627"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a94564934ca950554208677eb238edf63"> 1627</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">double</span> <a class="code" href="classJson__wrapper.html#a94564934ca950554208677eb238edf63">coerce_real</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *msgnam)<span class="keyword"> const </span>{</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">return</span> coerce_real(msgnam, <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c">CE_WARNING</a>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  }</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;<span class="comment">    Extract a decimal from the JSON if possible, coercing if need be.</span></div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;<span class="comment">    @param[in,out] decimal_value a value buffer</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;<span class="comment">    @param[in]  msgnam to use in error message if conversion failed</span></div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;<span class="comment">    @param[in]  cr_error Whether to raise an error or warning on</span></div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">                         data truncation</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;<span class="comment">    @param[out] err    true &lt;=&gt; error occur during coercion</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;<span class="comment">    @returns json value coerced to decimal</span></div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <a class="code" href="classmy__decimal.html">my_decimal</a> *coerce_decimal(<a class="code" href="classmy__decimal.html">my_decimal</a> *decimal_value, <span class="keyword">const</span> <span class="keywordtype">char</span> *msgnam,</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                             <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68">enum_coercion_error</a> cr_error, <span class="keywordtype">bool</span> *err) <span class="keyword">const</span>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;<span class="comment">  /// Shorthand for coerce_decimal(decimal_value, msgnam, CE_WARNING, nullptr).</span></div><div class="line"><a name="l01645"></a><span class="lineno"><a class="line" href="classJson__wrapper.html#a2af249d5562002ea740cb6a4e0f2144c"> 1645</a></span>&#160;<span class="comment"></span>  <a class="code" href="classmy__decimal.html">my_decimal</a> *<a class="code" href="classJson__wrapper.html#a2af249d5562002ea740cb6a4e0f2144c">coerce_decimal</a>(<a class="code" href="classmy__decimal.html">my_decimal</a> *decimal_value, <span class="keyword">const</span> <span class="keywordtype">char</span> *msgnam) {</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="keywordflow">return</span> coerce_decimal(decimal_value, msgnam, <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c">CE_WARNING</a>, <span class="keyword">nullptr</span>);</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;  }</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;<span class="comment">    Extract a date from the JSON if possible, coercing if need be.</span></div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;<span class="comment">    @param[in,out] ltime a value buffer</span></div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;<span class="comment">    @param msgnam to use in error message if conversion failed</span></div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;<span class="comment">    @param[in]  cr_error Whether to raise an error or warning on</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;<span class="comment">                         data truncation</span></div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;<span class="comment">    @param[in] date_flags_arg Flags to use for string -&gt; date conversion</span></div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;<span class="comment">    @returns json value coerced to date</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;<span class="comment">   */</span></div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordtype">bool</span> coerce_date(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <span class="keyword">const</span> <span class="keywordtype">char</span> *msgnam,</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;                   <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68">enum_coercion_error</a> cr_error = <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c">CE_WARNING</a>,</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;                   <a class="code" href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a> date_flags_arg = 0) <span class="keyword">const</span>;</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;<span class="comment">    Extract a time value from the JSON if possible, coercing if need be.</span></div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;<span class="comment">    @param[in,out] ltime a value buffer</span></div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;<span class="comment">    @param msgnam  to use in error message if conversion failed</span></div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;<span class="comment">    @param[in]  cr_error Whether to raise an error or warning on</span></div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;<span class="comment">                         data truncation</span></div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;<span class="comment">    @returns json value coerced to time</span></div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordtype">bool</span> coerce_time(<a class="code" href="structMYSQL__TIME.html">MYSQL_TIME</a> *ltime, <span class="keyword">const</span> <span class="keywordtype">char</span> *msgnam,</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                   <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68">enum_coercion_error</a> cr_error = <a class="code" href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c">CE_WARNING</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">    Make a sort key that can be used by filesort to order JSON values.</span></div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">    @param[out] to      a buffer to which the sort key is written</span></div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment">    @param[in]  length  the length of the sort key</span></div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;<span class="comment">    @details Key storage format is following:</span></div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;<span class="comment">    @verbatim</span></div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;<span class="comment">      |&lt;json type&gt;&lt;   sort key    &gt;|</span></div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;<span class="comment">       1 byte    / variable length /</span></div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;<span class="comment">    @endverbatim</span></div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="comment">    JSON is assumed to be non-sql-null and valid (checked by caller).</span></div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment">    Key length contains full length - the len prefix itself, json type and the</span></div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;<span class="comment">    sort key.</span></div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;<span class="comment">    All numeric types are stored as a number, without distinction to</span></div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;<span class="comment">    double/decimal/int/etc. See @c make_json_numeric_sort_key().</span></div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;<span class="comment">    Same is done to DATETIME and TIMESTAMP types.</span></div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;<span class="comment">    For string and opaque types only the prefix that fits into the output buffer</span></div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;<span class="comment">    is stored.</span></div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;<span class="comment">    For JSON objects and arrays only their length (number of elements) is</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;<span class="comment">    stored, this is a limitation of current implementation.</span></div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  <span class="keywordtype">size_t</span> make_sort_key(<a class="code" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *to, <span class="keywordtype">size_t</span> length) <span class="keyword">const</span>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;<span class="comment">    Make a hash key that can be used by sql_executor.cc/unique_hash</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;<span class="comment">    in order to support SELECT DISTINCT</span></div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;<span class="comment">    @param[in]  hash_val  An initial hash value.</span></div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="sha2__password_8cc.html#a05109bdb24847d5deb6d04107a79df5c">make_hash_key</a>(<a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> hash_val) <span class="keyword">const</span>;</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;<span class="comment">    Calculate the amount of unused space inside a JSON binary value.</span></div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;<span class="comment">    @param[out] space  the amount of unused space, or zero if this is a DOM</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;<span class="comment">    @return false on success</span></div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;<span class="comment">    @return true if the JSON binary value was invalid</span></div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <span class="keywordtype">bool</span> get_free_space(<span class="keywordtype">size_t</span> *space) <span class="keyword">const</span>;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;<span class="comment">    Attempt a binary partial update by replacing the value at @a path with @a</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;<span class="comment">    new_value. On successful completion, the updated document will be available</span></div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;<span class="comment">    in @a result, and this Json_wrapper will point to @a result instead of the</span></div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;<span class="comment">    original binary representation. The modifications that have been applied,</span></div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;<span class="comment">    will also be collected as binary diffs, which can be retrieved via</span></div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;<span class="comment">    TABLE::get_binary_diffs().</span></div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;<span class="comment">    @param field           the column being updated</span></div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;<span class="comment">    @param path            the path of the value to update</span></div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;<span class="comment">    @param new_value       the new value</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment">    @param replace         true if we use JSON_REPLACE semantics</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">    @param[in,out] result  buffer that holds the updated JSON document (is</span></div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment">                           empty if no partial update has been performed on</span></div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">                           this Json_wrapper so far, or contains the binary</span></div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment">                           representation of the document in this wrapper</span></div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;<span class="comment">                           otherwise)</span></div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="comment">    @param[out] partially_updated gets set to true if partial update was</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;<span class="comment">                                  successful, also if it was a no-op</span></div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;<span class="comment">    @param[out] replaced_path     gets set to true if the path was replaced,</span></div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;<span class="comment">                                  will be false if this update is a no-op</span></div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;<span class="comment">    @retval false     if the update was successful, or if it was determined</span></div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;<span class="comment">                      that a full update was needed</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;<span class="comment">    @retval true      if an error occurred</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <span class="keywordtype">bool</span> attempt_binary_update(<span class="keyword">const</span> <a class="code" href="classField__json.html">Field_json</a> *field,</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classJson__seekable__path.html">Json_seekable_path</a> &amp;path,</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                             <a class="code" href="classJson__wrapper.html">Json_wrapper</a> *new_value, <span class="keywordtype">bool</span> <a class="code" href="mysqlimport_8cc.html#a8dee86d04ccae709059c8c923826ac9c">replace</a>,</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                             <a class="code" href="classString.html">String</a> *<a class="code" href="structresult.html">result</a>, <span class="keywordtype">bool</span> *partially_updated,</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                             <span class="keywordtype">bool</span> *replaced_path);</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;<span class="comment">    Remove a path from a binary JSON document. On successful completion, the</span></div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;<span class="comment">    updated document will be available in @a result, and this Json_wrapper will</span></div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;<span class="comment">    point to @a result instead of the original binary representation. The</span></div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;<span class="comment">    modifications that have been applied, will also be collected as binary</span></div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;<span class="comment">    diffs, which can be retrieved via TABLE::get_binary_diffs().</span></div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;<span class="comment">    @param field   the column being updated</span></div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;<span class="comment">    @param path    the path to remove from the document</span></div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;<span class="comment">    @param[in,out] result  buffer that holds the updated JSON document (is</span></div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;<span class="comment">                           empty if no partial update has been performed on</span></div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;<span class="comment">                           this Json_wrapper so far, or contains the binary</span></div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;<span class="comment">                           representation of the document in this wrapper</span></div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;<span class="comment">                           otherwise)</span></div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;<span class="comment">    @param[out] found_path gets set to true if the path is found in the</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;<span class="comment">                           document, false otherwise</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="comment">    @retval false   if the value was successfully updated</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;<span class="comment">    @retval true    if an error occurred</span></div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordtype">bool</span> binary_remove(<span class="keyword">const</span> <a class="code" href="classField__json.html">Field_json</a> *field, <span class="keyword">const</span> <a class="code" href="classJson__seekable__path.html">Json_seekable_path</a> &amp;path,</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;                     <a class="code" href="classString.html">String</a> *result, <span class="keywordtype">bool</span> *found_path);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;<span class="preprocessor">#ifdef MYSQL_SERVER</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="comment">    Sort contents. Applicable to JSON arrays only.</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="keywordtype">void</span> sort(<span class="keyword">const</span> <a class="code" href="structCHARSET__INFO.html">CHARSET_INFO</a> *cs = <span class="keyword">nullptr</span>);<span class="comment"></span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;<span class="comment">    Remove duplicate values. Applicable to JSON arrays only, array will be</span></div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;<span class="comment">    sorted.</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="keywordtype">void</span> remove_duplicates(<span class="keyword">const</span> <a class="code" href="structCHARSET__INFO.html">CHARSET_INFO</a> *cs = <span class="keyword">nullptr</span>);</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;};</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;<span class="comment">  Class that iterates over all members of a JSON object that is wrapped in a</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;<span class="comment">  Json_wrapper instance.</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01789"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html"> 1789</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a> {</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="comment">// Type aliases required by ForwardIterator.</span></div><div class="line"><a name="l01792"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a3e0378eff722c073f4abff758e0612ec"> 1792</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classJson__wrapper__object__iterator.html#a3e0378eff722c073f4abff758e0612ec">value_type</a> = std::pair&lt;MYSQL_LEX_CSTRING, Json_wrapper&gt;;</div><div class="line"><a name="l01793"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a61978c2d9ed72abf0b2308d56cfebd16"> 1793</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classJson__wrapper__object__iterator.html#a61978c2d9ed72abf0b2308d56cfebd16">reference</a> = <span class="keyword">const</span> <a class="code" href="classJson__wrapper__object__iterator.html#a3e0378eff722c073f4abff758e0612ec">value_type</a> &amp;;</div><div class="line"><a name="l01794"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a163f905b6f38e87a6312cfa616213f87"> 1794</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classJson__wrapper__object__iterator.html#a163f905b6f38e87a6312cfa616213f87">pointer</a> = <span class="keyword">const</span> <a class="code" href="classJson__wrapper__object__iterator.html#a3e0378eff722c073f4abff758e0612ec">value_type</a> *;</div><div class="line"><a name="l01795"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#acff3c1a599ef6ca8dad570309aa60f5f"> 1795</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classJson__wrapper__object__iterator.html#acff3c1a599ef6ca8dad570309aa60f5f">difference_type</a> = ptrdiff_t;</div><div class="line"><a name="l01796"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a49f13338470a0585a99db0e334e8a226"> 1796</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classJson__wrapper__object__iterator.html#a49f13338470a0585a99db0e334e8a226">iterator_category</a> = std::forward_iterator_tag;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;<span class="comment">    Creates an iterator that iterates over all members of the given</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;<span class="comment">    Json_wrapper, if it wraps a JSON object. If the wrapper does not wrap a JSON</span></div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;<span class="comment">    object, the result is undefined.</span></div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;<span class="comment">    @param wrapper the Json_wrapper to iterate over</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;<span class="comment">    @param begin   true to construct an iterator that points to the first member</span></div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;<span class="comment">                   of the object, false to construct a past-the-end iterator</span></div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a>(<span class="keyword">const</span> <a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;wrapper, <span class="keywordtype">bool</span> begin);</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="comment">  /// Forward iterators must be default constructible.</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;<span class="comment"></span>  <a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;<span class="comment">  /// Advances the iterator to the next element.</span></div><div class="line"><a name="l01813"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#ae2dfddd1a8c8f729d0cd5aced38fbf8c"> 1813</a></span>&#160;<span class="comment"></span>  <a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a> &amp;<a class="code" href="classJson__wrapper__object__iterator.html#ae2dfddd1a8c8f729d0cd5aced38fbf8c">operator++</a>() {</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;    <span class="keywordflow">if</span> (is_dom())</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      ++m_iter;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      ++m_current_element_index;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    m_current_member_initialized = <span class="keyword">false</span>;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  }</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;<span class="comment">    Advances the iterator to the next element and returns an iterator that</span></div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="comment">    points to the current element (post-increment operator).</span></div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01826"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a4e4d4ae80c9f25bbb5be483c4c02db78"> 1826</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a> <a class="code" href="classJson__wrapper__object__iterator.html#a4e4d4ae80c9f25bbb5be483c4c02db78">operator++</a>(<span class="keywordtype">int</span>) {</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a> <a class="code" href="namespaceCounter.html#a6129f96f99b4dc9358a7efaa40f84c30">copy</a> = *<span class="keyword">this</span>;</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    ++(*this);</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceCounter.html#a6129f96f99b4dc9358a7efaa40f84c30">copy</a>;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  }</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;<span class="comment">  /// Checks two iterators for equality.</span></div><div class="line"><a name="l01833"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a05372735f4f8eace7923261f235a9d60"> 1833</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classJson__wrapper__object__iterator.html#a05372735f4f8eace7923261f235a9d60">operator==</a>(<span class="keyword">const</span> <a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a> &amp;other)<span class="keyword"> const </span>{</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">return</span> is_dom() ? m_iter == other.<a class="code" href="classJson__wrapper__object__iterator.html#ab589c31316fe0d8d14f4024a1a29ca20">m_iter</a></div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                    : m_current_element_index == other.<a class="code" href="classJson__wrapper__object__iterator.html#a36936853301e7c88135ef7c5216ce7f3">m_current_element_index</a>;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  }</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;<span class="comment">  /// Checks two iterators for inequality.</span></div><div class="line"><a name="l01839"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a6599747f257b8a50526d4e5c873c2e09"> 1839</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classJson__wrapper__object__iterator.html#a6599747f257b8a50526d4e5c873c2e09">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a> &amp;other)<span class="keyword"> const </span>{</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == other);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  }</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;</div><div class="line"><a name="l01843"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#abe66446144818a53a842f3645e46120f"> 1843</a></span>&#160;  <a class="code" href="classJson__wrapper__object__iterator.html#a163f905b6f38e87a6312cfa616213f87">pointer</a> <a class="code" href="classJson__wrapper__object__iterator.html#abe66446144818a53a842f3645e46120f">operator-&gt;</a>() {</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;    <span class="keywordflow">if</span> (!m_current_member_initialized) initialize_current_member();</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;    <span class="keywordflow">return</span> &amp;m_current_member;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  }</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div><div class="line"><a name="l01848"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#aff23dab2df0901a4774678441c0695be"> 1848</a></span>&#160;  <a class="code" href="classJson__wrapper__object__iterator.html#a61978c2d9ed72abf0b2308d56cfebd16">reference</a> <a class="code" href="classJson__wrapper__object__iterator.html#aff23dab2df0901a4774678441c0695be">operator*</a>() { <span class="keywordflow">return</span> *this-&gt;operator-&gt;(); }</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;<span class="comment">  /// Pair holding the key and value of the member pointed to by the iterator.</span></div><div class="line"><a name="l01852"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#ae87632dd610d2424c3d6cb610e8ce794"> 1852</a></span>&#160;<span class="comment"></span>  <a class="code" href="classJson__wrapper__object__iterator.html#a3e0378eff722c073f4abff758e0612ec">value_type</a> <a class="code" href="classJson__wrapper__object__iterator.html#ae87632dd610d2424c3d6cb610e8ce794">m_current_member</a>;<span class="comment"></span></div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;<span class="comment">  /// True if #m_current_member is initialized.</span></div><div class="line"><a name="l01854"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a63643f7a3f54b9347e40c20d9797f998"> 1854</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> m_current_member_initialized{<span class="keyword">false</span>};<span class="comment"></span></div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;<span class="comment">  /// The binary JSON object being iterated over, or nullptr for DOMs.</span></div><div class="line"><a name="l01856"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a1483707072e1e9adebc381ac50f0c2b6"> 1856</a></span>&#160;<span class="comment"></span>  <span class="keyword">const</span> <a class="code" href="classjson__binary_1_1Value.html">json_binary::Value</a> *<a class="code" href="classJson__wrapper__object__iterator.html#a1483707072e1e9adebc381ac50f0c2b6">m_binary_value</a>;<span class="comment"></span></div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;<span class="comment">  /// The index of the current member in the binary JSON object.</span></div><div class="line"><a name="l01858"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a36936853301e7c88135ef7c5216ce7f3"> 1858</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">size_t</span> <a class="code" href="classJson__wrapper__object__iterator.html#a36936853301e7c88135ef7c5216ce7f3">m_current_element_index</a>;<span class="comment"></span></div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;<span class="comment">  /// Iterator pointing to the current member in the JSON DOM object.</span></div><div class="line"><a name="l01860"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#ab589c31316fe0d8d14f4024a1a29ca20"> 1860</a></span>&#160;<span class="comment"></span>  <a class="code" href="classJson__object.html#a318e93bc476422e10673ec7471062eca">Json_object::const_iterator</a> <a class="code" href="classJson__wrapper__object__iterator.html#ab589c31316fe0d8d14f4024a1a29ca20">m_iter</a>;<span class="comment"></span></div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;<span class="comment">  /// Returns true if iterating over a DOM.</span></div><div class="line"><a name="l01862"></a><span class="lineno"><a class="line" href="classJson__wrapper__object__iterator.html#a5818414e33e5b93e48b8d90021da308b"> 1862</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="classJson__wrapper__object__iterator.html#a5818414e33e5b93e48b8d90021da308b">is_dom</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_binary_value == <span class="keyword">nullptr</span>; }<span class="comment"></span></div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;<span class="comment">  /// Fill #m_current_member with the key and value of the current member.</span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> initialize_current_member();</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;};</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="comment">  A wrapper over a JSON object which provides an interface that can be iterated</span></div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;<span class="comment">  over with a for-each loop.</span></div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01871"></a><span class="lineno"><a class="line" href="classJson__object__wrapper.html"> 1871</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__object__wrapper.html">Json_object_wrapper</a> {</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l01873"></a><span class="lineno"><a class="line" href="classJson__object__wrapper.html#a6b18a6352b37016fc45ff33da7e09134"> 1873</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classJson__wrapper__object__iterator.html">const_iterator</a> = <a class="code" href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a>;</div><div class="line"><a name="l01874"></a><span class="lineno"><a class="line" href="classJson__object__wrapper.html#a8b070620397fcc9a4abe2efc5f730372"> 1874</a></span>&#160;  <span class="keyword">explicit</span> <a class="code" href="classJson__object__wrapper.html#a8b070620397fcc9a4abe2efc5f730372">Json_object_wrapper</a>(<span class="keyword">const</span> <a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;wrapper)</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      : m_wrapper(wrapper) {}</div><div class="line"><a name="l01876"></a><span class="lineno"><a class="line" href="classJson__object__wrapper.html#ab95df636f2015e657fcf73df3379e663"> 1876</a></span>&#160;  <a class="code" href="classJson__wrapper__object__iterator.html">const_iterator</a> <a class="code" href="classJson__object__wrapper.html#ab95df636f2015e657fcf73df3379e663">cbegin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classJson__wrapper__object__iterator.html">const_iterator</a>(m_wrapper, <span class="keyword">true</span>); }</div><div class="line"><a name="l01877"></a><span class="lineno"><a class="line" href="classJson__object__wrapper.html#ac958f5d9a6187f6618e339dd17d8a488"> 1877</a></span>&#160;  <a class="code" href="classJson__wrapper__object__iterator.html">const_iterator</a> <a class="code" href="classJson__object__wrapper.html#ac958f5d9a6187f6618e339dd17d8a488">cend</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classJson__wrapper__object__iterator.html">const_iterator</a>(m_wrapper, <span class="keyword">false</span>); }</div><div class="line"><a name="l01878"></a><span class="lineno"><a class="line" href="classJson__object__wrapper.html#a8cdec99da0696890848425899dfb931e"> 1878</a></span>&#160;  <a class="code" href="classJson__wrapper__object__iterator.html">const_iterator</a> <a class="code" href="classJson__object__wrapper.html#a8cdec99da0696890848425899dfb931e">begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> cbegin(); }</div><div class="line"><a name="l01879"></a><span class="lineno"><a class="line" href="classJson__object__wrapper.html#a6e8e2946f0b063595e6ca0bd45017c49"> 1879</a></span>&#160;  <a class="code" href="classJson__wrapper__object__iterator.html">const_iterator</a> <a class="code" href="classJson__object__wrapper.html#a6e8e2946f0b063595e6ca0bd45017c49">end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> cend(); }</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l01882"></a><span class="lineno"><a class="line" href="classJson__object__wrapper.html#aeaa29f6f57e18d7cf472fa3bb323772c"> 1882</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classJson__wrapper.html">Json_wrapper</a> &amp;<a class="code" href="classJson__object__wrapper.html#aeaa29f6f57e18d7cf472fa3bb323772c">m_wrapper</a>;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;};</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;<span class="comment">  Check if a string contains valid JSON text, without generating a</span></div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;<span class="comment">  Json_dom representation of the document.</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;<span class="comment">  @param[in] text    pointer to the beginning of the string</span></div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;<span class="comment">  @param[in] length  the length of the string</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;<span class="comment">  @return true if the string is valid JSON text, false otherwise</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="json__dom_8h.html#a4e1321856fbcd3a52b6a7b5b0c621392">is_valid_json_syntax</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *text, <span class="keywordtype">size_t</span> length);</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;<span class="comment">  A class that is capable of holding objects of any sub-type of</span></div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;<span class="comment">  Json_scalar. Used for pre-allocating space in query-duration memory</span></div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;<span class="comment">  for JSON scalars that are to be returned by get_json_atom_wrapper().</span></div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;<span class="comment">  This class should be replaced by std::variant when moving to C++17.</span></div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l01902"></a><span class="lineno"><a class="line" href="classJson__scalar__holder.html"> 1902</a></span>&#160;<span class="keyword">class </span><a class="code" href="classJson__scalar__holder.html">Json_scalar_holder</a> {<span class="comment"></span></div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;<span class="comment">  /// Union of all concrete subclasses of Json_scalar.</span></div><div class="line"><a name="l01904"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html"> 1904</a></span>&#160;<span class="comment"></span>  <span class="keyword">union </span><a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html">Any_json_scalar</a> {</div><div class="line"><a name="l01905"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#aeed9a3d21080db04fef96acf949e1240"> 1905</a></span>&#160;    <a class="code" href="classJson__string.html">Json_string</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#aeed9a3d21080db04fef96acf949e1240">m_string</a>;</div><div class="line"><a name="l01906"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a52d52a7caf7e7015f5fb2dbfba2e9c1e"> 1906</a></span>&#160;    <a class="code" href="classJson__decimal.html">Json_decimal</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a52d52a7caf7e7015f5fb2dbfba2e9c1e">m_decimal</a>;</div><div class="line"><a name="l01907"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#ac1652eb7b903a18503ed09aa75e672f2"> 1907</a></span>&#160;    <a class="code" href="classJson__int.html">Json_int</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#ac1652eb7b903a18503ed09aa75e672f2">m_int</a>;</div><div class="line"><a name="l01908"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#aee382147b6e52370718bcbf3e39e2ed9"> 1908</a></span>&#160;    <a class="code" href="classJson__uint.html">Json_uint</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#aee382147b6e52370718bcbf3e39e2ed9">m_uint</a>;</div><div class="line"><a name="l01909"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a8dc5e1335da0bff59f381c207ef919b2"> 1909</a></span>&#160;    <a class="code" href="classJson__double.html">Json_double</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a8dc5e1335da0bff59f381c207ef919b2">m_double</a>;</div><div class="line"><a name="l01910"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a42384734069c7d5c1bd9c32357ae9073"> 1910</a></span>&#160;    <a class="code" href="classJson__boolean.html">Json_boolean</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a42384734069c7d5c1bd9c32357ae9073">m_boolean</a>;</div><div class="line"><a name="l01911"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a15ed47e8036dea01d7de1c2970f867cc"> 1911</a></span>&#160;    <a class="code" href="classJson__null.html">Json_null</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a15ed47e8036dea01d7de1c2970f867cc">m_null</a>;</div><div class="line"><a name="l01912"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a660d5184a290412093fa1dabf7b34d7e"> 1912</a></span>&#160;    <a class="code" href="classJson__datetime.html">Json_datetime</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a660d5184a290412093fa1dabf7b34d7e">m_datetime</a>;</div><div class="line"><a name="l01913"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a941e04622cfaa9ed1b7b51729bf14a34"> 1913</a></span>&#160;    <a class="code" href="classJson__opaque.html">Json_opaque</a> <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a941e04622cfaa9ed1b7b51729bf14a34">m_opaque</a>;<span class="comment"></span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="comment">    /// Constructor which initializes the union to hold a Json_null value.</span></div><div class="line"><a name="l01915"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#ace025211e8aa462f9bad99dae05cf5e8"> 1915</a></span>&#160;<span class="comment"></span>    <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#ace025211e8aa462f9bad99dae05cf5e8">Any_json_scalar</a>() : m_null() {}<span class="comment"></span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="comment">    /// Destructor which delegates to Json_scalar&#39;s virtual destructor.</span></div><div class="line"><a name="l01917"></a><span class="lineno"><a class="line" href="unionJson__scalar__holder_1_1Any__json__scalar.html#aac3317f09d648e79ef688b0221b427ad"> 1917</a></span>&#160;<span class="comment"></span>    <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#aac3317f09d648e79ef688b0221b427ad">~Any_json_scalar</a>() {</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;      <span class="comment">// All members have the same address, and all members are sub-types of</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <span class="comment">// Json_scalar, so we can take the address of an arbitrary member and</span></div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;      <span class="comment">// convert it to Json_scalar.</span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      <a class="code" href="classJson__scalar.html">Json_scalar</a> *scalar = &amp;m_null;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      scalar-&gt;~Json_scalar();</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    }</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  };</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment">  /// The buffer in which the Json_scalar value is stored.</span></div><div class="line"><a name="l01927"></a><span class="lineno"><a class="line" href="classJson__scalar__holder.html#aa13e12c476c2b658076f79ccc2f6d837"> 1927</a></span>&#160;<span class="comment"></span>  <a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html">Any_json_scalar</a> <a class="code" href="classJson__scalar__holder.html#aa13e12c476c2b658076f79ccc2f6d837">m_buffer</a>;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment">  /// Pointer to the held scalar, or nullptr if no value is held.</span></div><div class="line"><a name="l01930"></a><span class="lineno"><a class="line" href="classJson__scalar__holder.html#a3116121798665ac2166916d4b5dde5ec"> 1930</a></span>&#160;<span class="comment"></span>  <a class="code" href="classJson__scalar.html">Json_scalar</a> *m_scalar_ptr{<span class="keyword">nullptr</span>};</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160; <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="comment">  /// Get a pointer to the held object, or nullptr if there is none.</span></div><div class="line"><a name="l01934"></a><span class="lineno"><a class="line" href="classJson__scalar__holder.html#a06a8f91dbbb5404afe2faa07989dfa6b"> 1934</a></span>&#160;<span class="comment"></span>  <a class="code" href="classJson__scalar.html">Json_scalar</a> *<span class="keyword">get</span>() { <span class="keywordflow">return</span> m_scalar_ptr; }</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment">  /**</span></div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="comment">    Construct a new Json_scalar value in this Json_scalar_holder.</span></div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="comment">    If a value is already held, the old value is destroyed and replaced.</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="comment">    @tparam T which type of Json_scalar to create</span></div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="comment">    @param args the arguments to T&#39;s constructor</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="comment">  */</span></div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span>... Args&gt;</div><div class="line"><a name="l01943"></a><span class="lineno"><a class="line" href="classJson__scalar__holder.html#afddfd83ae79685d54373345bddd66dc3"> 1943</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classJson__scalar__holder.html#afddfd83ae79685d54373345bddd66dc3">emplace</a>(Args &amp;&amp;... args) {</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    static_assert(<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">std::is_base_of&lt;Json_scalar, T&gt;::value</a>, <span class="stringliteral">&quot;Not a Json_scalar&quot;</span>);</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;    static_assert(<span class="keyword">sizeof</span>(T) &lt;= <span class="keyword">sizeof</span>(m_buffer), <span class="stringliteral">&quot;Buffer is too small&quot;</span>);</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    m_scalar_ptr = &amp;m_buffer.<a class="code" href="unionJson__scalar__holder_1_1Any__json__scalar.html#a15ed47e8036dea01d7de1c2970f867cc">m_null</a>;</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    m_scalar_ptr-&gt;~Json_scalar();</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    ::new (m_scalar_ptr) T(std::forward&lt;Args&gt;(args)...);</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  }</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;};</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* JSON_DOM_INCLUDED */</span><span class="preprocessor"></span></div><div class="ttc" id="mysqlimport_8cc_html_a8dee86d04ccae709059c8c923826ac9c"><div class="ttname"><a href="mysqlimport_8cc.html#a8dee86d04ccae709059c8c923826ac9c">replace</a></div><div class="ttdeci">static bool replace</div><div class="ttdef"><b>Definition:</b> mysqlimport.cc:65</div></div>
<div class="ttc" id="classJson__wrapper_html"><div class="ttname"><a href="classJson__wrapper.html">Json_wrapper</a></div><div class="ttdoc">Abstraction for accessing JSON values irrespective of whether they are (started out as) binary JSON v...</div><div class="ttdef"><b>Definition:</b> json_dom.h:1166</div></div>
<div class="ttc" id="classJson__boolean_html"><div class="ttname"><a href="classJson__boolean.html">Json_boolean</a></div><div class="ttdoc">Represents a JSON true or false value, type J_BOOLEAN here. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1050</div></div>
<div class="ttc" id="classJson__int_html_a1a25d3b6bce0585b2c249d3b83fb6b85"><div class="ttname"><a href="classJson__int.html#a1a25d3b6bce0585b2c249d3b83fb6b85">Json_int::is_16bit</a></div><div class="ttdeci">bool is_16bit() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:872</div></div>
<div class="ttc" id="hp__test2_8cc_html_a39586bf0934bc10a56cedbf340aded85"><div class="ttname"><a href="hp__test2_8cc.html#a39586bf0934bc10a56cedbf340aded85">key1</a></div><div class="ttdeci">static uint16 key1[1001]</div><div class="ttdef"><b>Definition:</b> hp_test2.cc:46</div></div>
<div class="ttc" id="classJson__decimal_html_ae78d78ac4babcaea3bdccfed8ecc950e"><div class="ttname"><a href="classJson__decimal.html#ae78d78ac4babcaea3bdccfed8ecc950e">Json_decimal::get_encoded_binary_len</a></div><div class="ttdeci">static size_t get_encoded_binary_len(size_t length)</div><div class="ttdoc">Returns length of stored DECIMAL binary. </div><div class="ttdef"><b>Definition:</b> json_dom.h:822</div></div>
<div class="ttc" id="structresult_html"><div class="ttname"><a href="structresult.html">result</a></div><div class="ttdef"><b>Definition:</b> result.h:29</div></div>
<div class="ttc" id="my__inttypes_8h_html_a22152088aba12c47e916b7f0ffee0f51"><div class="ttname"><a href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a></div><div class="ttdeci">unsigned long long int ulonglong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:55</div></div>
<div class="ttc" id="classJson__double_html"><div class="ttname"><a href="classJson__double.html">Json_double</a></div><div class="ttdoc">Represents a MySQL double JSON scalar (an extension of the ECMA number value), type J_DOUBLE...</div><div class="ttdef"><b>Definition:</b> json_dom.h:832</div></div>
<div class="ttc" id="field__types_8h_html"><div class="ttname"><a href="field__types_8h.html">field_types.h</a></div><div class="ttdoc">This file contains the field type. </div></div>
<div class="ttc" id="classJson__array_html_a870a69226047a6d65e114b3d32efc454"><div class="ttname"><a href="classJson__array.html#a870a69226047a6d65e114b3d32efc454">Json_array::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Remove the values in the array. </div><div class="ttdef"><b>Definition:</b> json_dom.h:646</div></div>
<div class="ttc" id="my__inttypes_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:51</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a61978c2d9ed72abf0b2308d56cfebd16"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a61978c2d9ed72abf0b2308d56cfebd16">Json_wrapper_object_iterator::reference</a></div><div class="ttdeci">const value_type &amp; reference</div><div class="ttdef"><b>Definition:</b> json_dom.h:1793</div></div>
<div class="ttc" id="classJson__dom_html_a1ae7f78989b2e00f927f602d893a62b8"><div class="ttname"><a href="classJson__dom.html#a1ae7f78989b2e00f927f602d893a62b8">Json_dom::seek</a></div><div class="ttdeci">bool seek(const Json_seekable_path &amp;path, size_t legs, Json_dom_vector *hits, bool auto_wrap, bool only_need_one)</div><div class="ttdoc">Finds all of the json sub-documents which match the path expression. </div><div class="ttdef"><b>Definition:</b> json_dom.cc:1991</div></div>
<div class="ttc" id="classJson__opaque_html_a9d5d2450b5e6edbadf1393457b597b19"><div class="ttname"><a href="classJson__opaque.html#a9d5d2450b5e6edbadf1393457b597b19">Json_opaque::m_val</a></div><div class="ttdeci">std::string m_val</div><div class="ttdef"><b>Definition:</b> json_dom.h:1011</div></div>
<div class="ttc" id="classJson__int_html_a7177a4356d15ab29ba70337875f79ed7"><div class="ttname"><a href="classJson__int.html#a7177a4356d15ab29ba70337875f79ed7">Json_int::clone</a></div><div class="ttdeci">Json_dom_ptr clone() const override</div><div class="ttdoc">Make a deep clone. </div><div class="ttdef"><b>Definition:</b> json_dom.h:879</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea59b76ed641f7dd55655bcc4155c3b26b"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea59b76ed641f7dd55655bcc4155c3b26b">enum_json_type::J_UINT</a></div></div>
<div class="ttc" id="classJson__boolean_html_ab982c5385ad80ab9e313c45c14027939"><div class="ttname"><a href="classJson__boolean.html#ab982c5385ad80ab9e313c45c14027939">Json_boolean::m_v</a></div><div class="ttdeci">bool m_v</div><div class="ttdoc">false or true: represents the eponymous JSON literal </div><div class="ttdef"><b>Definition:</b> json_dom.h:1052</div></div>
<div class="ttc" id="classJson__decimal_html_a1ef2eabba36ef2bbcb0af47e2237a129"><div class="ttname"><a href="classJson__decimal.html#a1ef2eabba36ef2bbcb0af47e2237a129">Json_decimal::m_dec</a></div><div class="ttdeci">my_decimal m_dec</div><div class="ttdoc">holds the decimal number </div><div class="ttdef"><b>Definition:</b> json_dom.h:744</div></div>
<div class="ttc" id="classJson__string_html"><div class="ttname"><a href="classJson__string.html">Json_string</a></div><div class="ttdoc">Represents a JSON string value (ECMA), of type J_STRING here. </div><div class="ttdef"><b>Definition:</b> json_dom.h:699</div></div>
<div class="ttc" id="classJson__dom_html_ac28d1fdc83d7152214c52aa9a601ae8d"><div class="ttname"><a href="classJson__dom.html#ac28d1fdc83d7152214c52aa9a601ae8d">Json_dom::m_parent</a></div><div class="ttdeci">Json_container * m_parent</div><div class="ttdoc">Parent pointer. </div><div class="ttdef"><b>Definition:</b> json_dom.h:317</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_acff3c1a599ef6ca8dad570309aa60f5f"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#acff3c1a599ef6ca8dad570309aa60f5f">Json_wrapper_object_iterator::difference_type</a></div><div class="ttdeci">ptrdiff_t difference_type</div><div class="ttdef"><b>Definition:</b> json_dom.h:1795</div></div>
<div class="ttc" id="classJson__datetime_html_a647530c4996bfbdd8c26aef226eaebe8"><div class="ttname"><a href="classJson__datetime.html#a647530c4996bfbdd8c26aef226eaebe8">Json_datetime::Json_datetime</a></div><div class="ttdeci">Json_datetime(const MYSQL_TIME &amp;t, enum_field_types ft)</div><div class="ttdoc">Constructs a object to hold a MySQL date/time value. </div><div class="ttdef"><b>Definition:</b> json_dom.h:945</div></div>
<div class="ttc" id="classJson__object_html_a318e93bc476422e10673ec7471062eca"><div class="ttname"><a href="classJson__object.html#a318e93bc476422e10673ec7471062eca">Json_object::const_iterator</a></div><div class="ttdeci">Json_object_map::const_iterator const_iterator</div><div class="ttdoc">Constant iterator over the elements in the JSON object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:484</div></div>
<div class="ttc" id="classJson__container_html"><div class="ttname"><a href="classJson__container.html">Json_container</a></div><div class="ttdoc">Abstract base class of all JSON container types (Json_object and Json_array). </div><div class="ttdef"><b>Definition:</b> json_dom.h:323</div></div>
<div class="ttc" id="classJson__object__wrapper_html_a8b070620397fcc9a4abe2efc5f730372"><div class="ttname"><a href="classJson__object__wrapper.html#a8b070620397fcc9a4abe2efc5f730372">Json_object_wrapper::Json_object_wrapper</a></div><div class="ttdeci">Json_object_wrapper(const Json_wrapper &amp;wrapper)</div><div class="ttdef"><b>Definition:</b> json_dom.h:1874</div></div>
<div class="ttc" id="json__dom_8h_html_a15dead9cb1bfe2e737468f0fad9e2b70"><div class="ttname"><a href="json__dom_8h.html#a15dead9cb1bfe2e737468f0fad9e2b70">Json_dom_vector</a></div><div class="ttdeci">Prealloced_array&lt; Json_dom *, 16 &gt; Json_dom_vector</div><div class="ttdef"><b>Definition:</b> json_dom.h:60</div></div>
<div class="ttc" id="classJson__datetime_html_a17e13fb87ef1fbf9cb7e13b8e6ee5b83"><div class="ttname"><a href="classJson__datetime.html#a17e13fb87ef1fbf9cb7e13b8e6ee5b83">Json_datetime::m_field_type</a></div><div class="ttdeci">enum_field_types m_field_type</div><div class="ttdoc">identifies which type of date/time </div><div class="ttdef"><b>Definition:</b> json_dom.h:934</div></div>
<div class="ttc" id="classJson__decimal_html_a35be52971f166685ed0cbafd6f7d8309"><div class="ttname"><a href="classJson__decimal.html#a35be52971f166685ed0cbafd6f7d8309">Json_decimal::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:767</div></div>
<div class="ttc" id="test__sql__9__sessions_8cc_html_ac242a6dca06b33213957c913bd72414c"><div class="ttname"><a href="test__sql__9__sessions_8cc.html#ac242a6dca06b33213957c913bd72414c">buffer</a></div><div class="ttdeci">char buffer[STRING_BUFFER]</div><div class="ttdef"><b>Definition:</b> test_sql_9_sessions.cc:57</div></div>
<div class="ttc" id="mi__test2_8cc_html_af8cb0fe63d8fb11a50d3dc772d004576"><div class="ttname"><a href="mi__test2_8cc.html#af8cb0fe63d8fb11a50d3dc772d004576">key2</a></div><div class="ttdeci">static uchar key2[100]</div><div class="ttdef"><b>Definition:</b> mi_test2.cc:58</div></div>
<div class="ttc" id="classJson__object__wrapper_html_a6e8e2946f0b063595e6ca0bd45017c49"><div class="ttname"><a href="classJson__object__wrapper.html#a6e8e2946f0b063595e6ca0bd45017c49">Json_object_wrapper::end</a></div><div class="ttdeci">const_iterator end() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:1879</div></div>
<div class="ttc" id="json__dom_8h_html_a8b0e9da659aa520d0ab5038194835309"><div class="ttname"><a href="json__dom_8h.html#a8b0e9da659aa520d0ab5038194835309">create_dom_ptr</a></div><div class="ttdeci">std::unique_ptr&lt; T &gt; create_dom_ptr(Args &amp;&amp;... args)</div><div class="ttdoc">Allocate a new Json_dom object and return a std::unique_ptr which points to it. </div><div class="ttdef"><b>Definition:</b> json_dom.h:136</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea7ff27249529e0844f7dfa35edad21142"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea7ff27249529e0844f7dfa35edad21142">enum_json_type::J_ERROR</a></div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_a660d5184a290412093fa1dabf7b34d7e"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#a660d5184a290412093fa1dabf7b34d7e">Json_scalar_holder::Any_json_scalar::m_datetime</a></div><div class="ttdeci">Json_datetime m_datetime</div><div class="ttdef"><b>Definition:</b> json_dom.h:1912</div></div>
<div class="ttc" id="my__inttypes_8h_html"><div class="ttname"><a href="my__inttypes_8h.html">my_inttypes.h</a></div><div class="ttdoc">Some integer typedefs for easier portability. </div></div>
<div class="ttc" id="classJson__boolean_html_a166bd3e20239ed1506982a1f072fbc37"><div class="ttname"><a href="classJson__boolean.html#a166bd3e20239ed1506982a1f072fbc37">Json_boolean::value</a></div><div class="ttdeci">bool value() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:1063</div></div>
<div class="ttc" id="classJson__array_html_ae1240558ff2fa4cb2bae81d8dd332725"><div class="ttname"><a href="classJson__array.html#ae1240558ff2fa4cb2bae81d8dd332725">Json_array::append_clone</a></div><div class="ttdeci">bool append_clone(const Json_dom *value)</div><div class="ttdoc">Append a clone of the value to the end of the array. </div><div class="ttdef"><b>Definition:</b> json_dom.h:535</div></div>
<div class="ttc" id="classJson__int_html_a3bff2d56d397006c19bffbfab2a0354c"><div class="ttname"><a href="classJson__int.html#a3bff2d56d397006c19bffbfab2a0354c">Json_int::Json_int</a></div><div class="ttdeci">Json_int(longlong value)</div><div class="ttdef"><b>Definition:</b> json_dom.h:859</div></div>
<div class="ttc" id="malloc__allocator_8h_html"><div class="ttname"><a href="malloc__allocator_8h.html">malloc_allocator.h</a></div></div>
<div class="ttc" id="classJson__decimal_html_a8ec3fcf96f95406079b2d2936fbea88f"><div class="ttname"><a href="classJson__decimal.html#a8ec3fcf96f95406079b2d2936fbea88f">Json_decimal::get_encoded_binary</a></div><div class="ttdeci">static const char * get_encoded_binary(const char *bin)</div><div class="ttdoc">Returns stored DECIMAL binary. </div><div class="ttdef"><b>Definition:</b> json_dom.h:808</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5eaaa37b17ed0ff700332d65442172f6fcb"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5eaaa37b17ed0ff700332d65442172f6fcb">enum_json_type::J_TIMESTAMP</a></div></div>
<div class="ttc" id="classJson__scalar__holder_html"><div class="ttname"><a href="classJson__scalar__holder.html">Json_scalar_holder</a></div><div class="ttdoc">A class that is capable of holding objects of any sub-type of Json_scalar. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1902</div></div>
<div class="ttc" id="classjson__binary_1_1Value_html"><div class="ttname"><a href="classjson__binary_1_1Value.html">json_binary::Value</a></div><div class="ttdoc">Class used for reading JSON values that are stored in the binary format. </div><div class="ttdef"><b>Definition:</b> json_binary.h:181</div></div>
<div class="ttc" id="json__dom_8h_html_ad375bc4253c6e8155a0d1dfc2f747ed9"><div class="ttname"><a href="json__dom_8h.html#ad375bc4253c6e8155a0d1dfc2f747ed9">Json_array_ptr</a></div><div class="ttdeci">std::unique_ptr&lt; Json_array &gt; Json_array_ptr</div><div class="ttdef"><b>Definition:</b> json_dom.h:63</div></div>
<div class="ttc" id="classJson__null_html"><div class="ttname"><a href="classJson__null.html">Json_null</a></div><div class="ttdoc">Represents a JSON null type (ECMA), type J_NULL here. </div><div class="ttdef"><b>Definition:</b> json_dom.h:919</div></div>
<div class="ttc" id="classJson__uint_html_a2e7b72a1884eb41de225f3849a4728da"><div class="ttname"><a href="classJson__uint.html#a2e7b72a1884eb41de225f3849a4728da">Json_uint::Json_uint</a></div><div class="ttdeci">Json_uint(ulonglong value)</div><div class="ttdef"><b>Definition:</b> json_dom.h:891</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a05372735f4f8eace7923261f235a9d60"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a05372735f4f8eace7923261f235a9d60">Json_wrapper_object_iterator::operator==</a></div><div class="ttdeci">bool operator==(const Json_wrapper_object_iterator &amp;other) const</div><div class="ttdoc">Checks two iterators for equality. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1833</div></div>
<div class="ttc" id="classJson__scalar_html_a6745e69dec7640ada0399b7e8eccdb74"><div class="ttname"><a href="classJson__scalar.html#a6745e69dec7640ada0399b7e8eccdb74">Json_scalar::is_scalar</a></div><div class="ttdeci">bool is_scalar() const final</div><div class="ttdef"><b>Definition:</b> json_dom.h:693</div></div>
<div class="ttc" id="namespaceCounter_html_a797c2d7934585e10e3e7b548520c3a95"><div class="ttname"><a href="namespaceCounter.html#a797c2d7934585e10e3e7b548520c3a95">Counter::dec</a></div><div class="ttdeci">Type dec(Shards&lt; COUNT &gt; &amp;shards, size_t id)</div><div class="ttdoc">Decrement the counter of a shard by 1. </div><div class="ttdef"><b>Definition:</b> ut0counter.h:301</div></div>
<div class="ttc" id="item__json__func_8h_html_a147dea78e59c078eb12c6e0c168bca16"><div class="ttname"><a href="item__json__func_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a></div><div class="ttdeci">std::unique_ptr&lt; Json_dom &gt; Json_dom_ptr</div><div class="ttdef"><b>Definition:</b> item_json_func.h:1250</div></div>
<div class="ttc" id="classJson__object__wrapper_html_a8cdec99da0696890848425899dfb931e"><div class="ttname"><a href="classJson__object__wrapper.html#a8cdec99da0696890848425899dfb931e">Json_object_wrapper::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:1878</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea5fce6f76374ada4ab5ad19d5cacdee04"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea5fce6f76374ada4ab5ad19d5cacdee04">enum_json_type::J_BOOLEAN</a></div></div>
<div class="ttc" id="classJson__number_html_a45d4c4a5960f0689101a2ac9cac6c2b8"><div class="ttname"><a href="classJson__number.html#a45d4c4a5960f0689101a2ac9cac6c2b8">Json_number::is_number</a></div><div class="ttdeci">bool is_number() const final</div><div class="ttdef"><b>Definition:</b> json_dom.h:736</div></div>
<div class="ttc" id="structMYSQL__LEX__CSTRING_html"><div class="ttname"><a href="structMYSQL__LEX__CSTRING.html">MYSQL_LEX_CSTRING</a></div><div class="ttdef"><b>Definition:</b> mysql_lex_string.h:39</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_ac1652eb7b903a18503ed09aa75e672f2"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#ac1652eb7b903a18503ed09aa75e672f2">Json_scalar_holder::Any_json_scalar::m_int</a></div><div class="ttdeci">Json_int m_int</div><div class="ttdef"><b>Definition:</b> json_dom.h:1907</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_ae87632dd610d2424c3d6cb610e8ce794"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#ae87632dd610d2424c3d6cb610e8ce794">Json_wrapper_object_iterator::m_current_member</a></div><div class="ttdeci">value_type m_current_member</div><div class="ttdoc">Pair holding the key and value of the member pointed to by the iterator. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1852</div></div>
<div class="ttc" id="classJson__object_html_adb32a3a28d5bb946ab618872808aca3b"><div class="ttname"><a href="classJson__object.html#adb32a3a28d5bb946ab618872808aca3b">Json_object::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Remove all elements in the object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:476</div></div>
<div class="ttc" id="classJson__uint_html_a50765d292cd254e77518ab42c4a3e2c4"><div class="ttname"><a href="classJson__uint.html#a50765d292cd254e77518ab42c4a3e2c4">Json_uint::value</a></div><div class="ttdeci">ulonglong value() const</div><div class="ttdoc">Return the unsigned int held by this object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:899</div></div>
<div class="ttc" id="classJson__string_html_a0b1224ec2674ab2cd9ee50551f2b1f9c"><div class="ttname"><a href="classJson__string.html#a0b1224ec2674ab2cd9ee50551f2b1f9c">Json_string::m_str</a></div><div class="ttdeci">std::string m_str</div><div class="ttdoc">holds the string </div><div class="ttdef"><b>Definition:</b> json_dom.h:701</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea5bdac9b1d92d5e8d00aaf5d8f7338bd7"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea5bdac9b1d92d5e8d00aaf5d8f7338bd7">enum_json_type::J_DECIMAL</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> varlen_sort.h:182</div></div>
<div class="ttc" id="classJson__object_html_a9383baf9e13ae8a8d51a95fbca9bc1f3"><div class="ttname"><a href="classJson__object.html#a9383baf9e13ae8a8d51a95fbca9bc1f3">Json_object::add_clone</a></div><div class="ttdeci">bool add_clone(const std::string &amp;key, const Json_dom *value)</div><div class="ttdoc">Insert a clone of the value into the object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:389</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a4e4d4ae80c9f25bbb5be483c4c02db78"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a4e4d4ae80c9f25bbb5be483c4c02db78">Json_wrapper_object_iterator::operator++</a></div><div class="ttdeci">const Json_wrapper_object_iterator operator++(int)</div><div class="ttdoc">Advances the iterator to the next element and returns an iterator that points to the current element ...</div><div class="ttdef"><b>Definition:</b> json_dom.h:1826</div></div>
<div class="ttc" id="classJson__object__wrapper_html_ab95df636f2015e657fcf73df3379e663"><div class="ttname"><a href="classJson__object__wrapper.html#ab95df636f2015e657fcf73df3379e663">Json_object_wrapper::cbegin</a></div><div class="ttdeci">const_iterator cbegin() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:1876</div></div>
<div class="ttc" id="json__dom_8h_html_afb908f226400d33b4c4f85a663afe838"><div class="ttname"><a href="json__dom_8h.html#afb908f226400d33b4c4f85a663afe838">merge_doms</a></div><div class="ttdeci">Json_dom_ptr merge_doms(Json_dom_ptr left, Json_dom_ptr right)</div><div class="ttdoc">Merge two doms. </div><div class="ttdef"><b>Definition:</b> json_dom.cc:102</div></div>
<div class="ttc" id="classJson__string_html_af7a86637f23c483fd591d26387c205a2"><div class="ttname"><a href="classJson__string.html#af7a86637f23c483fd591d26387c205a2">Json_string::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">Get the number of characters in the string. </div><div class="ttdef"><b>Definition:</b> json_dom.h:727</div></div>
<div class="ttc" id="classJson__int_html_a0125a1513df6ea21ca605bee8d7076d3"><div class="ttname"><a href="classJson__int.html#a0125a1513df6ea21ca605bee8d7076d3">Json_int::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:861</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a1483707072e1e9adebc381ac50f0c2b6"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a1483707072e1e9adebc381ac50f0c2b6">Json_wrapper_object_iterator::m_binary_value</a></div><div class="ttdeci">const json_binary::Value * m_binary_value</div><div class="ttdoc">The binary JSON object being iterated over, or nullptr for DOMs. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1856</div></div>
<div class="ttc" id="classJson__int_html"><div class="ttname"><a href="classJson__int.html">Json_int</a></div><div class="ttdoc">Represents a MySQL integer (64 bits signed) JSON scalar (an extension of the ECMA number value)...</div><div class="ttdef"><b>Definition:</b> json_dom.h:855</div></div>
<div class="ttc" id="namespacebuf_html"><div class="ttname"><a href="namespacebuf.html">buf</a></div><div class="ttdef"><b>Definition:</b> buf0block_hint.cc:29</div></div>
<div class="ttc" id="mysql__lex__string_8h_html"><div class="ttname"><a href="mysql__lex__string_8h.html">mysql_lex_string.h</a></div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_ab589c31316fe0d8d14f4024a1a29ca20"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#ab589c31316fe0d8d14f4024a1a29ca20">Json_wrapper_object_iterator::m_iter</a></div><div class="ttdeci">Json_object::const_iterator m_iter</div><div class="ttdoc">Iterator pointing to the current member in the JSON DOM object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1860</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html"><div class="ttname"><a href="classJson__wrapper__object__iterator.html">Json_wrapper_object_iterator</a></div><div class="ttdoc">Class that iterates over all members of a JSON object that is wrapped in a Json_wrapper instance...</div><div class="ttdef"><b>Definition:</b> json_dom.h:1789</div></div>
<div class="ttc" id="classJson__array_html_abb78dd45d9abff662e473fcec6f47b4f"><div class="ttname"><a href="classJson__array.html#abb78dd45d9abff662e473fcec6f47b4f">Json_array::m_v</a></div><div class="ttdeci">std::vector&lt; Json_dom_ptr, Malloc_allocator&lt; Json_dom_ptr &gt; &gt; m_v</div><div class="ttdoc">Holds the array values. </div><div class="ttdef"><b>Definition:</b> json_dom.h:522</div></div>
<div class="ttc" id="classJson__array_html_a3d170db9d2518c319874cf4d81d4c5a4"><div class="ttname"><a href="classJson__array.html#a3d170db9d2518c319874cf4d81d4c5a4">Json_array::end</a></div><div class="ttdeci">const_iterator end() const</div><div class="ttdoc">Returns a const_iterator that refers past the last element. </div><div class="ttdef"><b>Definition:</b> json_dom.h:655</div></div>
<div class="ttc" id="classJson__wrapper_html_ac0dd16bea7dde904eee06fdc248dc231"><div class="ttname"><a href="classJson__wrapper.html#ac0dd16bea7dde904eee06fdc248dc231">Json_wrapper::is_binary_backed_by</a></div><div class="ttdeci">bool is_binary_backed_by(const String *str) const</div><div class="ttdoc">Check if the wrapped JSON document is a binary value (a json_binary::Value), and if that binary is po...</div><div class="ttdef"><b>Definition:</b> json_dom.h:1351</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a5818414e33e5b93e48b8d90021da308b"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a5818414e33e5b93e48b8d90021da308b">Json_wrapper_object_iterator::is_dom</a></div><div class="ttdeci">bool is_dom() const</div><div class="ttdoc">Returns true if iterating over a DOM. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1862</div></div>
<div class="ttc" id="classString_html"><div class="ttname"><a href="classString.html">String</a></div><div class="ttdoc">Using this class is fraught with peril, and you need to be very careful when doing so...</div><div class="ttdef"><b>Definition:</b> sql_string.h:164</div></div>
<div class="ttc" id="classJson__wrapper_html_a72bd5e35048538498f23ed9eb1b88f70"><div class="ttname"><a href="classJson__wrapper.html#a72bd5e35048538498f23ed9eb1b88f70">Json_wrapper::get_binary_value</a></div><div class="ttdeci">const json_binary::Value &amp; get_binary_value() const</div><div class="ttdoc">Gets the wrapped json_binary::Value object, if this wrapper holds a binary JSON value. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1312</div></div>
<div class="ttc" id="json__dom_8h_html_a4258a614e152907cda12dcbc155659f6"><div class="ttname"><a href="json__dom_8h.html#a4258a614e152907cda12dcbc155659f6">Json_object_map</a></div><div class="ttdeci">std::map&lt; std::string, Json_dom_ptr, Json_key_comparator, Malloc_allocator&lt; std::pair&lt; const std::string, Json_dom_ptr &gt; &gt;&gt; Json_object_map</div><div class="ttdoc">A type used to hold JSON object elements in a map, see the Json_object class. </div><div class="ttdef"><b>Definition:</b> json_dom.h:362</div></div>
<div class="ttc" id="json__binary_8h_html"><div class="ttname"><a href="json__binary_8h.html">json_binary.h</a></div><div class="ttdoc">This file specifies the interface for serializing JSON values into binary representation, and for reading values back from the binary representation. </div></div>
<div class="ttc" id="classJson__decimal_html_aa06b42eb172276de2b8e43b36b95c8ba"><div class="ttname"><a href="classJson__decimal.html#aa06b42eb172276de2b8e43b36b95c8ba">Json_decimal::clone</a></div><div class="ttdeci">Json_dom_ptr clone() const override</div><div class="ttdoc">Make a deep clone. </div><div class="ttdef"><b>Definition:</b> json_dom.h:778</div></div>
<div class="ttc" id="classJson__dom_html_afcc34378b93e3d0275a6fc54d5120577"><div class="ttname"><a href="classJson__dom.html#afcc34378b93e3d0275a6fc54d5120577">Json_dom::clone</a></div><div class="ttdeci">virtual Json_dom_ptr clone() const =0</div><div class="ttdoc">Make a deep clone. </div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5eac3cc70a1f5523d7757a475bc42139bac"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5eac3cc70a1f5523d7757a475bc42139bac">enum_json_type::J_STRING</a></div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_aac3317f09d648e79ef688b0221b427ad"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#aac3317f09d648e79ef688b0221b427ad">Json_scalar_holder::Any_json_scalar::~Any_json_scalar</a></div><div class="ttdeci">~Any_json_scalar()</div><div class="ttdoc">Destructor which delegates to Json_scalar&amp;#39;s virtual destructor. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1917</div></div>
<div class="ttc" id="my__inttypes_8h_html_aec369a26737b652bae0085c102074de5"><div class="ttname"><a href="my__inttypes_8h.html#aec369a26737b652bae0085c102074de5">UINT_MAX32</a></div><div class="ttdeci">#define UINT_MAX32</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:78</div></div>
<div class="ttc" id="window_8cc_html_ab18bcb21ff8541fc5fef0f12ddc372aa"><div class="ttname"><a href="window_8cc.html#ab18bcb21ff8541fc5fef0f12ddc372aa">clone</a></div><div class="ttdeci">static ORDER * clone(THD *thd, ORDER *order)</div><div class="ttdoc">Shallow clone the list of ORDER objects using mem_root and return the cloned list. </div><div class="ttdef"><b>Definition:</b> window.cc:80</div></div>
<div class="ttc" id="classJson__object_html_a76d5b92262bd7f9239962a73df6c261a"><div class="ttname"><a href="classJson__object.html#a76d5b92262bd7f9239962a73df6c261a">Json_object::end</a></div><div class="ttdeci">const_iterator end() const</div><div class="ttdoc">Returns a const_iterator that refers past the last element. </div><div class="ttdef"><b>Definition:</b> json_dom.h:490</div></div>
<div class="ttc" id="json__dom_8h_html_ad96dda2d9a539d7b8da1ab0681ad6a68ac43f3435337c3ca192d0a97f50bc56b1"><div class="ttname"><a href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68ac43f3435337c3ca192d0a97f50bc56b1">CE_ERROR</a></div><div class="ttdef"><b>Definition:</b> json_dom.h:1149</div></div>
<div class="ttc" id="classJson__array_html_adcc65fb032eccb72bfa55090305a1625"><div class="ttname"><a href="classJson__array.html#adcc65fb032eccb72bfa55090305a1625">Json_array::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdoc">Returns a const_iterator that refers to the first element. </div><div class="ttdef"><b>Definition:</b> json_dom.h:652</div></div>
<div class="ttc" id="classJson__double_html_a8a525d531397474a8855e0f952006d50"><div class="ttname"><a href="classJson__double.html#a8a525d531397474a8855e0f952006d50">Json_double::clone</a></div><div class="ttdeci">Json_dom_ptr clone() const override</div><div class="ttdoc">Make a deep clone. </div><div class="ttdef"><b>Definition:</b> json_dom.h:840</div></div>
<div class="ttc" id="classJson__opaque_html_af0d9ea5c276187f1882689f134f82629"><div class="ttname"><a href="classJson__opaque.html#af0d9ea5c276187f1882689f134f82629">Json_opaque::Json_opaque</a></div><div class="ttdeci">Json_opaque(enum_field_types mytype, Args &amp;&amp;... args)</div><div class="ttdoc">An opaque MySQL value. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1025</div></div>
<div class="ttc" id="classJson__array_html_acfd834cead081a969b66ce6c6d60bd39"><div class="ttname"><a href="classJson__array.html#acfd834cead081a969b66ce6c6d60bd39">Json_array::depth</a></div><div class="ttdeci">uint32 depth() const override</div><div class="ttdoc">Compute the depth of a document. </div><div class="ttdef"><b>Definition:</b> json_dom.cc:1088</div></div>
<div class="ttc" id="json__dom_8h_html_ad5150927a04c19e60622eb3365975c18"><div class="ttname"><a href="json__dom_8h.html#ad5150927a04c19e60622eb3365975c18">double_quote</a></div><div class="ttdeci">bool double_quote(const char *cptr, size_t length, String *buf)</div><div class="ttdoc">Perform quoting on a JSON string to make an external representation of it. </div><div class="ttdef"><b>Definition:</b> json_dom.cc:1227</div></div>
<div class="ttc" id="classJson__dom_html_a9de13701bd441f8eee2a778cf400a936"><div class="ttname"><a href="classJson__dom.html#a9de13701bd441f8eee2a778cf400a936">Json_dom::get_location</a></div><div class="ttdeci">Json_path get_location()</div><div class="ttdoc">Get the path location of this dom, measured from the outermost document it nests inside. </div><div class="ttdef"><b>Definition:</b> json_dom.cc:1964</div></div>
<div class="ttc" id="classJson__array_html"><div class="ttname"><a href="classJson__array.html">Json_array</a></div><div class="ttdoc">Represents a JSON array container, i.e. </div><div class="ttdef"><b>Definition:</b> json_dom.h:519</div></div>
<div class="ttc" id="classJson__scalar_html_a04607784245cf28892bc6e7814f2b70b"><div class="ttname"><a href="classJson__scalar.html#a04607784245cf28892bc6e7814f2b70b">Json_scalar::depth</a></div><div class="ttdeci">uint32 depth() const final</div><div class="ttdoc">Compute the depth of a document. </div><div class="ttdef"><b>Definition:</b> json_dom.h:690</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a49f13338470a0585a99db0e334e8a226"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a49f13338470a0585a99db0e334e8a226">Json_wrapper_object_iterator::iterator_category</a></div><div class="ttdeci">std::forward_iterator_tag iterator_category</div><div class="ttdef"><b>Definition:</b> json_dom.h:1796</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea8c37d13468c914c1450ae0c78edc51a2"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea8c37d13468c914c1450ae0c78edc51a2">enum_json_type::J_TIME</a></div></div>
<div class="ttc" id="classJson__uint_html_a45a78fe423f1b281f81fc59c2f5b6518"><div class="ttname"><a href="classJson__uint.html#a45a78fe423f1b281f81fc59c2f5b6518">Json_uint::clone</a></div><div class="ttdeci">Json_dom_ptr clone() const override</div><div class="ttdoc">Make a deep clone. </div><div class="ttdef"><b>Definition:</b> json_dom.h:913</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_a52d52a7caf7e7015f5fb2dbfba2e9c1e"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#a52d52a7caf7e7015f5fb2dbfba2e9c1e">Json_scalar_holder::Any_json_scalar::m_decimal</a></div><div class="ttdeci">Json_decimal m_decimal</div><div class="ttdef"><b>Definition:</b> json_dom.h:1906</div></div>
<div class="ttc" id="classJson__wrapper_html_a68fe7091a139ae6a37046296da400d5f"><div class="ttname"><a href="classJson__wrapper.html#a68fe7091a139ae6a37046296da400d5f">Json_wrapper::m_is_dom</a></div><div class="ttdeci">bool m_is_dom</div><div class="ttdoc">Wraps a DOM iff true. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1182</div></div>
<div class="ttc" id="classPrealloced__array_html"><div class="ttname"><a href="classPrealloced__array.html">Prealloced_array&lt; Json_wrapper, 16 &gt;</a></div></div>
<div class="ttc" id="my__dbug_8h_html_af5d75f213550ec27715b65d9bdfa45ec"><div class="ttname"><a href="my__dbug_8h.html#af5d75f213550ec27715b65d9bdfa45ec">DBUG_ASSERT</a></div><div class="ttdeci">#define DBUG_ASSERT(A)</div><div class="ttdef"><b>Definition:</b> my_dbug.h:199</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_ace025211e8aa462f9bad99dae05cf5e8"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#ace025211e8aa462f9bad99dae05cf5e8">Json_scalar_holder::Any_json_scalar::Any_json_scalar</a></div><div class="ttdeci">Any_json_scalar()</div><div class="ttdoc">Constructor which initializes the union to hold a Json_null value. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1915</div></div>
<div class="ttc" id="classJson__datetime_html_a31c8a7a17013d92434f033dbb787df70"><div class="ttname"><a href="classJson__datetime.html#a31c8a7a17013d92434f033dbb787df70">Json_datetime::field_type</a></div><div class="ttdeci">enum_field_types field_type() const</div><div class="ttdoc">Return what kind of date/time value this object holds. </div><div class="ttdef"><b>Definition:</b> json_dom.h:964</div></div>
<div class="ttc" id="namespaceservices_html_a9f5e46919df0177a921a2a48a52d9c9d"><div class="ttname"><a href="namespaceservices.html#a9f5e46919df0177a921a2a48a52d9c9d">services::parse</a></div><div class="ttdeci">bool parse(MYSQL_THD thd, const string &amp;query, bool is_prepared, Condition_handler *handler)</div><div class="ttdef"><b>Definition:</b> services.cc:81</div></div>
<div class="ttc" id="classJson__array_html_ad8a78c1f2194b6b57c3bc8e529838aea"><div class="ttname"><a href="classJson__array.html#ad8a78c1f2194b6b57c3bc8e529838aea">Json_array::operator[]</a></div><div class="ttdeci">Json_dom * operator[](size_t index) const</div><div class="ttdoc">Get the value at position index. </div><div class="ttdef"><b>Definition:</b> json_dom.h:638</div></div>
<div class="ttc" id="my__inttypes_8h_html_aca2a00bdda27914ffb3662fc2213625c"><div class="ttname"><a href="my__inttypes_8h.html#aca2a00bdda27914ffb3662fc2213625c">INT_MIN16</a></div><div class="ttdeci">#define INT_MIN16</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:82</div></div>
<div class="ttc" id="mysql_8cc_html_adfa69ae672499b1037123a1f17c5552b"><div class="ttname"><a href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a></div><div class="ttdeci">char * index(const char *, int c)</div><div class="ttdef"><b>Definition:</b> mysql.cc:2928</div></div>
<div class="ttc" id="classJson__array_html_acb33be78e43dd7b8c608dcbcb3a50e0e"><div class="ttname"><a href="classJson__array.html#acb33be78e43dd7b8c608dcbcb3a50e0e">Json_array::insert_clone</a></div><div class="ttdeci">bool insert_clone(size_t index, const Json_dom *value)</div><div class="ttdoc">Insert a clone of the value at position index of the array. </div><div class="ttdef"><b>Definition:</b> json_dom.h:588</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea57e2a3611096f93a821ed05ab02bc1e2"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea57e2a3611096f93a821ed05ab02bc1e2">enum_json_type::J_NULL</a></div></div>
<div class="ttc" id="my__inttypes_8h_html_a9b7fa4de515c67ff46257470d79490d8"><div class="ttname"><a href="my__inttypes_8h.html#a9b7fa4de515c67ff46257470d79490d8">INT_MIN32</a></div><div class="ttdeci">#define INT_MIN32</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:76</div></div>
<div class="ttc" id="classJson__scalar_html"><div class="ttname"><a href="classJson__scalar.html">Json_scalar</a></div><div class="ttdoc">Abstract base class for all Json scalars. </div><div class="ttdef"><b>Definition:</b> json_dom.h:687</div></div>
<div class="ttc" id="classJson__int_html_af5e8bf4dc1c2ba6846262e607333dbee"><div class="ttname"><a href="classJson__int.html#af5e8bf4dc1c2ba6846262e607333dbee">Json_int::value</a></div><div class="ttdeci">longlong value() const</div><div class="ttdoc">Return the signed int held by this object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:867</div></div>
<div class="ttc" id="json__dom_8h_html_ad96dda2d9a539d7b8da1ab0681ad6a68"><div class="ttname"><a href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68">enum_coercion_error</a></div><div class="ttdeci">enum_coercion_error</div><div class="ttdoc">How Json_wrapper would handle coercion error. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1147</div></div>
<div class="ttc" id="classJson__array_html_ac44f02357711a46f1da7d735f6446e73"><div class="ttname"><a href="classJson__array.html#ac44f02357711a46f1da7d735f6446e73">Json_array::Json_dom</a></div><div class="ttdeci">friend Json_dom</div><div class="ttdef"><b>Definition:</b> json_dom.h:681</div></div>
<div class="ttc" id="prealloced__array_8h_html"><div class="ttname"><a href="prealloced__array_8h.html">prealloced_array.h</a></div></div>
<div class="ttc" id="structJson__key__comparator_html"><div class="ttname"><a href="structJson__key__comparator.html">Json_key_comparator</a></div><div class="ttdoc">A comparator that is used for ordering keys in a Json_object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:344</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a163f905b6f38e87a6312cfa616213f87"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a163f905b6f38e87a6312cfa616213f87">Json_wrapper_object_iterator::pointer</a></div><div class="ttdeci">const value_type * pointer</div><div class="ttdef"><b>Definition:</b> json_dom.h:1794</div></div>
<div class="ttc" id="classJson__wrapper_html_ad8cd446ff3805d95f97a5f5c5e8ca47f"><div class="ttname"><a href="classJson__wrapper.html#ad8cd446ff3805d95f97a5f5c5e8ca47f">Json_wrapper::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">A Wrapper is defined to be empty if it is passed a NULL value with the constructor for JSON dom...</div><div class="ttdef"><b>Definition:</b> json_dom.h:1278</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_aeed9a3d21080db04fef96acf949e1240"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#aeed9a3d21080db04fef96acf949e1240">Json_scalar_holder::Any_json_scalar::m_string</a></div><div class="ttdeci">Json_string m_string</div><div class="ttdef"><b>Definition:</b> json_dom.h:1905</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5eacbb291da30e8fa519740793b455d70d1"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5eacbb291da30e8fa519740793b455d70d1">enum_json_type::J_OBJECT</a></div></div>
<div class="ttc" id="classJson__wrapper_html_a6534ca9e0390a6d0da591a416e5e2813"><div class="ttname"><a href="classJson__wrapper.html#a6534ca9e0390a6d0da591a416e5e2813">Json_wrapper::get_dom</a></div><div class="ttdeci">const Json_dom * get_dom() const</div><div class="ttdoc">Gets a pointer to the wrapped Json_dom object, if this wrapper holds a DOM. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1302</div></div>
<div class="ttc" id="classmy__decimal_html"><div class="ttname"><a href="classmy__decimal.html">my_decimal</a></div><div class="ttdoc">my_decimal class limits &amp;#39;decimal_t&amp;#39; type to what we need in MySQL. </div><div class="ttdef"><b>Definition:</b> my_decimal.h:91</div></div>
<div class="ttc" id="classJson__scalar__holder_html_aa13e12c476c2b658076f79ccc2f6d837"><div class="ttname"><a href="classJson__scalar__holder.html#aa13e12c476c2b658076f79ccc2f6d837">Json_scalar_holder::m_buffer</a></div><div class="ttdeci">Any_json_scalar m_buffer</div><div class="ttdoc">The buffer in which the Json_scalar value is stored. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1927</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea74f24282328a2510a66f814c565501f1"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea74f24282328a2510a66f814c565501f1">enum_json_type::J_DOUBLE</a></div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea572b41069915554ebaecda054fcd890f"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea572b41069915554ebaecda054fcd890f">enum_json_type::J_INT</a></div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea09ce974be61594597546ea4b25366704"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea09ce974be61594597546ea4b25366704">enum_json_type::J_DATETIME</a></div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5e"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5e">enum_json_type</a></div><div class="ttdeci">enum_json_type</div><div class="ttdoc">Json values in MySQL comprises the stand set of JSON values plus a MySQL specific set...</div><div class="ttdef"><b>Definition:</b> json_dom.h:106</div></div>
<div class="ttc" id="json__dom_8h_html_ad96dda2d9a539d7b8da1ab0681ad6a68acfd4c01bdb9cf1c4eb83484741ff573c"><div class="ttname"><a href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68acfd4c01bdb9cf1c4eb83484741ff573c">CE_IGNORE</a></div><div class="ttdef"><b>Definition:</b> json_dom.h:1150</div></div>
<div class="ttc" id="classJson__string_html_a56e8383f6f379c63311ddb6b571ef0ac"><div class="ttname"><a href="classJson__string.html#a56e8383f6f379c63311ddb6b571ef0ac">Json_string::Json_string</a></div><div class="ttdeci">Json_string(Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> json_dom.h:708</div></div>
<div class="ttc" id="my__compiler_8h_html"><div class="ttname"><a href="my__compiler_8h.html">my_compiler.h</a></div><div class="ttdoc">Header for compiler-dependent features. </div></div>
<div class="ttc" id="classJson__string_html_a81118776d98491e24ea6606c1228b460"><div class="ttname"><a href="classJson__string.html#a81118776d98491e24ea6606c1228b460">Json_string::value</a></div><div class="ttdeci">const std::string &amp; value() const</div><div class="ttdoc">Get the reference to the value of the JSON string. </div><div class="ttdef"><b>Definition:</b> json_dom.h:721</div></div>
<div class="ttc" id="classJson__wrapper_html_adbbe097532644c6e95882552751a3916"><div class="ttname"><a href="classJson__wrapper.html#adbbe097532644c6e95882552751a3916">Json_wrapper::Json_wrapper</a></div><div class="ttdeci">Json_wrapper(Json_dom_ptr dom_value)</div><div class="ttdoc">Wrap the supplied DOM value. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1218</div></div>
<div class="ttc" id="mysqldump_8cc_html_a38dcf0baefa35c1961c23cf3e06002b5"><div class="ttname"><a href="mysqldump_8cc.html#a38dcf0baefa35c1961c23cf3e06002b5">path</a></div><div class="ttdeci">static char * path</div><div class="ttdef"><b>Definition:</b> mysqldump.cc:131</div></div>
<div class="ttc" id="classJson__wrapper_html_a2af249d5562002ea740cb6a4e0f2144c"><div class="ttname"><a href="classJson__wrapper.html#a2af249d5562002ea740cb6a4e0f2144c">Json_wrapper::coerce_decimal</a></div><div class="ttdeci">my_decimal * coerce_decimal(my_decimal *decimal_value, const char *msgnam)</div><div class="ttdoc">Shorthand for coerce_decimal(decimal_value, msgnam, CE_WARNING, nullptr). </div><div class="ttdef"><b>Definition:</b> json_dom.h:1645</div></div>
<div class="ttc" id="classJson__array_html_a505b3d53d413d4cc37a84cda79418a94"><div class="ttname"><a href="classJson__array.html#a505b3d53d413d4cc37a84cda79418a94">Json_array::append_alias</a></div><div class="ttdeci">bool append_alias(Json_dom_ptr value)</div><div class="ttdoc">Append the value to the end of the array and take over the ownership of the value. </div><div class="ttdef"><b>Definition:</b> json_dom.h:565</div></div>
<div class="ttc" id="field__types_8h_html_a69e798807026a0f7e12b1d6c72374854"><div class="ttname"><a href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a></div><div class="ttdeci">enum_field_types</div><div class="ttdoc">Column types for MySQL. </div><div class="ttdef"><b>Definition:</b> field_types.h:52</div></div>
<div class="ttc" id="classJson__wrapper_html_a33b604fd1a81e1adaddabb197b7a4baf"><div class="ttname"><a href="classJson__wrapper.html#a33b604fd1a81e1adaddabb197b7a4baf">Json_wrapper::set_alias</a></div><div class="ttdeci">void set_alias()</div><div class="ttdoc">Only meaningful iff the wrapper encapsulates a DOM. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1227</div></div>
<div class="ttc" id="classJson__null_html_ae77ba057477c0f1dda1a9e2b43338fd1"><div class="ttname"><a href="classJson__null.html#ae77ba057477c0f1dda1a9e2b43338fd1">Json_null::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:921</div></div>
<div class="ttc" id="udf__example_8cc_html_a3d8f6e1fc9ecc1a4ec98503492eb47a7"><div class="ttname"><a href="udf__example_8cc.html#a3d8f6e1fc9ecc1a4ec98503492eb47a7">lookup</a></div><div class="ttdeci">char * lookup(UDF_INIT *, UDF_ARGS *args, char *result, unsigned long *res_length, unsigned char *null_value, unsigned char *)</div><div class="ttdef"><b>Definition:</b> udf_example.cc:612</div></div>
<div class="ttc" id="hash_8c_html_ab4646d77540701d2eb2c877effbe5739"><div class="ttname"><a href="hash_8c.html#ab4646d77540701d2eb2c877effbe5739">final</a></div><div class="ttdeci">#define final(a, b, c)</div><div class="ttdef"><b>Definition:</b> hash.c:109</div></div>
<div class="ttc" id="json__dom_8h_html_aefa120cafa24b63931d11ff48620e2d3"><div class="ttname"><a href="json__dom_8h.html#aefa120cafa24b63931d11ff48620e2d3">Json_wrapper_vector</a></div><div class="ttdeci">Prealloced_array&lt; Json_wrapper, 16 &gt; Json_wrapper_vector</div><div class="ttdef"><b>Definition:</b> json_dom.h:57</div></div>
<div class="ttc" id="classJson__wrapper_html_a8de6527e9d8d5f6ae904ed9ef8d0dbd7"><div class="ttname"><a href="classJson__wrapper.html#a8de6527e9d8d5f6ae904ed9ef8d0dbd7">Json_wrapper::coerce_int</a></div><div class="ttdeci">longlong coerce_int(const char *msgnam) const</div><div class="ttdoc">Shorthand for coerce_int(msgnam, CE_WARNING, nullptr, nullptr). </div><div class="ttdef"><b>Definition:</b> json_dom.h:1610</div></div>
<div class="ttc" id="classJson__datetime_html"><div class="ttname"><a href="classJson__datetime.html">Json_datetime</a></div><div class="ttdoc">Represents a MySQL date/time value (DATE, TIME, DATETIME or TIMESTAMP) - an extension to the ECMA set...</div><div class="ttdef"><b>Definition:</b> json_dom.h:931</div></div>
<div class="ttc" id="config__static_8h_html_a41f9c5fb8b08eb5dc3edce4dcb37fee7"><div class="ttname"><a href="config__static_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></div><div class="ttdeci">#define true</div><div class="ttdef"><b>Definition:</b> config_static.h:44</div></div>
<div class="ttc" id="classJson__dom_html_a8273dc843eab7c37770eff98f8cd334e"><div class="ttname"><a href="classJson__dom.html#a8273dc843eab7c37770eff98f8cd334e">Json_dom::parent</a></div><div class="ttdeci">Json_container * parent() const</div><div class="ttdoc">Get the parent dom to which this dom is attached. </div><div class="ttdef"><b>Definition:</b> json_dom.h:210</div></div>
<div class="ttc" id="classJson__datetime_html_a1e2e82b89fd81aca723ba8fce5f0d6db"><div class="ttname"><a href="classJson__datetime.html#a1e2e82b89fd81aca723ba8fce5f0d6db">Json_datetime::m_t</a></div><div class="ttdeci">MYSQL_TIME m_t</div><div class="ttdoc">holds the date/time value </div><div class="ttdef"><b>Definition:</b> json_dom.h:933</div></div>
<div class="ttc" id="my__inttypes_8h_html_a9c0acdcb1b083d30069a62cee1ece644"><div class="ttname"><a href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a></div><div class="ttdeci">long long int longlong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:54</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_aee382147b6e52370718bcbf3e39e2ed9"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#aee382147b6e52370718bcbf3e39e2ed9">Json_scalar_holder::Any_json_scalar::m_uint</a></div><div class="ttdeci">Json_uint m_uint</div><div class="ttdef"><b>Definition:</b> json_dom.h:1908</div></div>
<div class="ttc" id="my__inttypes_8h_html_ab65fadcd8a8ed6dd7cec3fb95116e466"><div class="ttname"><a href="my__inttypes_8h.html#ab65fadcd8a8ed6dd7cec3fb95116e466">INT_MAX32</a></div><div class="ttdeci">#define INT_MAX32</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:77</div></div>
<div class="ttc" id="my__inttypes_8h_html_acbd4acd0d29e2d6c43104827f77d9cd2"><div class="ttname"><a href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a></div><div class="ttdeci">uint32_t uint32</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:66</div></div>
<div class="ttc" id="namespacejson__binary_html_a091356787f1fe6633bc180fc2009c606"><div class="ttname"><a href="namespacejson__binary.html#a091356787f1fe6633bc180fc2009c606">json_binary::err</a></div><div class="ttdeci">static Value err()</div><div class="ttdoc">Create a Value object that represents an error condition. </div><div class="ttdef"><b>Definition:</b> json_binary.cc:908</div></div>
<div class="ttc" id="classJson__double_html_a93857c8ef95f4035e8cf9a2b3a1d06a3"><div class="ttname"><a href="classJson__double.html#a93857c8ef95f4035e8cf9a2b3a1d06a3">Json_double::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:838</div></div>
<div class="ttc" id="classJson__dom_html_afe19982d530766902729e262d69f973a"><div class="ttname"><a href="classJson__dom.html#afe19982d530766902729e262d69f973a">Json_dom::~Json_dom</a></div><div class="ttdeci">virtual ~Json_dom()</div><div class="ttdef"><b>Definition:</b> json_dom.h:184</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_a8dc5e1335da0bff59f381c207ef919b2"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#a8dc5e1335da0bff59f381c207ef919b2">Json_scalar_holder::Any_json_scalar::m_double</a></div><div class="ttdeci">Json_double m_double</div><div class="ttdef"><b>Definition:</b> json_dom.h:1909</div></div>
<div class="ttc" id="namespacebinary__log_1_1transaction_1_1compression_html_a22a3b5d8096f4c73ced74c0b668df0be"><div class="ttname"><a href="namespacebinary__log_1_1transaction_1_1compression.html#a22a3b5d8096f4c73ced74c0b668df0be">binary_log::transaction::compression::type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> base.h:36</div></div>
<div class="ttc" id="my__decimal_8h_html"><div class="ttname"><a href="my__decimal_8h.html">my_decimal.h</a></div><div class="ttdoc">It is interface module to fixed precision decimals library. </div></div>
<div class="ttc" id="my__inttypes_8h_html_a974850ec5feaaa401b548c5c83c6fad7"><div class="ttname"><a href="my__inttypes_8h.html#a974850ec5feaaa401b548c5c83c6fad7">INT_MAX16</a></div><div class="ttdeci">#define INT_MAX16</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:83</div></div>
<div class="ttc" id="structJson__key__comparator_html_ae0b5f09a2baf34e9aab531e4a115e7c8"><div class="ttname"><a href="structJson__key__comparator.html#ae0b5f09a2baf34e9aab531e4a115e7c8">Json_key_comparator::is_transparent</a></div><div class="ttdeci">void is_transparent</div><div class="ttdef"><b>Definition:</b> json_dom.h:353</div></div>
<div class="ttc" id="structCHARSET__INFO_html"><div class="ttname"><a href="structCHARSET__INFO.html">CHARSET_INFO</a></div><div class="ttdef"><b>Definition:</b> m_ctype.h:359</div></div>
<div class="ttc" id="my__inttypes_8h_html_a33a5e996e7a90acefb8b1c0bea47e365"><div class="ttname"><a href="my__inttypes_8h.html#a33a5e996e7a90acefb8b1c0bea47e365">uint8</a></div><div class="ttdeci">uint8_t uint8</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:62</div></div>
<div class="ttc" id="classJson__object__wrapper_html_aeaa29f6f57e18d7cf472fa3bb323772c"><div class="ttname"><a href="classJson__object__wrapper.html#aeaa29f6f57e18d7cf472fa3bb323772c">Json_object_wrapper::m_wrapper</a></div><div class="ttdeci">const Json_wrapper &amp; m_wrapper</div><div class="ttdef"><b>Definition:</b> json_dom.h:1882</div></div>
<div class="ttc" id="sha2__password_8cc_html_a05109bdb24847d5deb6d04107a79df5c"><div class="ttname"><a href="sha2__password_8cc.html#a05109bdb24847d5deb6d04107a79df5c">make_hash_key</a></div><div class="ttdeci">static void make_hash_key(const char *username, const char *hostname, std::string &amp;key)</div><div class="ttdoc">Make hash key. </div><div class="ttdef"><b>Definition:</b> sha2_password.cc:769</div></div>
<div class="ttc" id="classJson__wrapper_html_a8b257a35677b04c082c2b44399c03e47"><div class="ttname"><a href="classJson__wrapper.html#a8b257a35677b04c082c2b44399c03e47">Json_wrapper::Json_wrapper</a></div><div class="ttdeci">Json_wrapper()</div><div class="ttdoc">Create an empty wrapper. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1197</div></div>
<div class="ttc" id="classJson__object_html_aefbdc06876ad7e0b8a7a925df1bfb1ee"><div class="ttname"><a href="classJson__object.html#aefbdc06876ad7e0b8a7a925df1bfb1ee">Json_object::add_alias</a></div><div class="ttdeci">bool add_alias(const std::string &amp;key, Json_dom *value)</div><div class="ttdoc">Insert the value into the object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:410</div></div>
<div class="ttc" id="classJson__array_html_af7e119ced9111539d9b2828025c40192"><div class="ttname"><a href="classJson__array.html#af7e119ced9111539d9b2828025c40192">Json_array::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:527</div></div>
<div class="ttc" id="my__decimal_8h_html_a30e96810fd377a77fe883a8f85f10ae7"><div class="ttname"><a href="my__decimal_8h.html#a30e96810fd377a77fe883a8f85f10ae7">DECIMAL_MAX_FIELD_SIZE</a></div><div class="ttdeci">static constexpr int DECIMAL_MAX_FIELD_SIZE</div><div class="ttdoc">maximum size of packet length. </div><div class="ttdef"><b>Definition:</b> my_decimal.h:77</div></div>
<div class="ttc" id="classJson__double_html_ab9919eeb72c3604f67a1a88804eb5734"><div class="ttname"><a href="classJson__double.html#ab9919eeb72c3604f67a1a88804eb5734">Json_double::value</a></div><div class="ttdeci">double value() const</div><div class="ttdoc">Return the double value held by this object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:848</div></div>
<div class="ttc" id="classJson__array_html_a43b814d8e6266360881bd18223eb4102"><div class="ttname"><a href="classJson__array.html#a43b814d8e6266360881bd18223eb4102">Json_array::const_iterator</a></div><div class="ttdeci">decltype(m_v)::const_iterator const_iterator</div><div class="ttdoc">Constant iterator over the elements in the JSON array. </div><div class="ttdef"><b>Definition:</b> json_dom.h:649</div></div>
<div class="ttc" id="suite__stubs_8c_html_acd3d88da3c0e0313c3645ff34f62f542"><div class="ttname"><a href="suite__stubs_8c.html#acd3d88da3c0e0313c3645ff34f62f542">key</a></div><div class="ttdeci">static const char * key</div><div class="ttdef"><b>Definition:</b> suite_stubs.c:14</div></div>
<div class="ttc" id="classJson__dom_html_ab7d92f1dabc03ad86dd0b61febbd52c6"><div class="ttname"><a href="classJson__dom.html#ab7d92f1dabc03ad86dd0b61febbd52c6">Json_dom::set_parent</a></div><div class="ttdeci">void set_parent(Json_container *parent)</div><div class="ttdoc">Set the parent dom to which this dom is attached. </div><div class="ttdef"><b>Definition:</b> json_dom.h:181</div></div>
<div class="ttc" id="classJson__uint_html_a7d4ffdaf3acf3412cb187bbc5efaf4fa"><div class="ttname"><a href="classJson__uint.html#a7d4ffdaf3acf3412cb187bbc5efaf4fa">Json_uint::m_i</a></div><div class="ttdeci">ulonglong m_i</div><div class="ttdoc">holds the value </div><div class="ttdef"><b>Definition:</b> json_dom.h:889</div></div>
<div class="ttc" id="my__time_8h_html_ad446f6444047fbdc28582bb3ec0fe821"><div class="ttname"><a href="my__time_8h.html#ad446f6444047fbdc28582bb3ec0fe821">my_time_flags_t</a></div><div class="ttdeci">unsigned int my_time_flags_t</div><div class="ttdoc">Flags to str_to_datetime and number_to_datetime. </div><div class="ttdef"><b>Definition:</b> my_time.h:82</div></div>
<div class="ttc" id="classJson__int_html_aecb590d2898e44fcbc9c331028739abf"><div class="ttname"><a href="classJson__int.html#aecb590d2898e44fcbc9c331028739abf">Json_int::is_32bit</a></div><div class="ttdeci">bool is_32bit() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:877</div></div>
<div class="ttc" id="classJson__seekable__path_html"><div class="ttname"><a href="classJson__seekable__path.html">Json_seekable_path</a></div><div class="ttdoc">A path expression which can be used to seek to a position inside a JSON value. </div><div class="ttdef"><b>Definition:</b> json_path.h:296</div></div>
<div class="ttc" id="classJson__opaque_html_afec18c0d33c6475a19c8d1225245f446"><div class="ttname"><a href="classJson__opaque.html#afec18c0d33c6475a19c8d1225245f446">Json_opaque::m_mytype</a></div><div class="ttdeci">enum_field_types m_mytype</div><div class="ttdef"><b>Definition:</b> json_dom.h:1010</div></div>
<div class="ttc" id="classJson__wrapper_html_a94564934ca950554208677eb238edf63"><div class="ttname"><a href="classJson__wrapper.html#a94564934ca950554208677eb238edf63">Json_wrapper::coerce_real</a></div><div class="ttdeci">double coerce_real(const char *msgnam) const</div><div class="ttdoc">Shorthand for coerce_real(msgnam, CE_WARNING, nullptr). </div><div class="ttdef"><b>Definition:</b> json_dom.h:1627</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_a941e04622cfaa9ed1b7b51729bf14a34"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#a941e04622cfaa9ed1b7b51729bf14a34">Json_scalar_holder::Any_json_scalar::m_opaque</a></div><div class="ttdeci">Json_opaque m_opaque</div><div class="ttdef"><b>Definition:</b> json_dom.h:1913</div></div>
<div class="ttc" id="classJson__wrapper_html_af0809a53a69c5fa011e4079e4b5c62cc"><div class="ttname"><a href="classJson__wrapper.html#af0809a53a69c5fa011e4079e4b5c62cc">Json_wrapper::is_dom</a></div><div class="ttdeci">bool is_dom() const</div><div class="ttdoc">Does this wrapper contain a DOM? </div><div class="ttdef"><b>Definition:</b> json_dom.h:1286</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_aff23dab2df0901a4774678441c0695be"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#aff23dab2df0901a4774678441c0695be">Json_wrapper_object_iterator::operator*</a></div><div class="ttdeci">reference operator*()</div><div class="ttdef"><b>Definition:</b> json_dom.h:1848</div></div>
<div class="ttc" id="structMYSQL__TIME_html"><div class="ttname"><a href="structMYSQL__TIME.html">MYSQL_TIME</a></div><div class="ttdef"><b>Definition:</b> mysql_time.h:81</div></div>
<div class="ttc" id="classJson__array_html_aa6ddabea5c2cd9e38920f32abf2e6e26"><div class="ttname"><a href="classJson__array.html#aa6ddabea5c2cd9e38920f32abf2e6e26">Json_array::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdoc">The cardinality of the array (number of values). </div><div class="ttdef"><b>Definition:</b> json_dom.h:619</div></div>
<div class="ttc" id="classJson__dom_html_ab94257c625c7d77556fd3bf58c961187"><div class="ttname"><a href="classJson__dom.html#ab94257c625c7d77556fd3bf58c961187">Json_dom::is_number</a></div><div class="ttdeci">virtual bool is_number() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:225</div></div>
<div class="ttc" id="classJson__decimal_html_ab5a0c36eb896377174cb30939b8802e4"><div class="ttname"><a href="classJson__decimal.html#ab5a0c36eb896377174cb30939b8802e4">Json_decimal::value</a></div><div class="ttdeci">const my_decimal * value() const</div><div class="ttdoc">Get a pointer to the MySQL decimal held by this object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:776</div></div>
<div class="ttc" id="classJson__boolean_html_a293f752118ae79549d8c6a83e3702746"><div class="ttname"><a href="classJson__boolean.html#a293f752118ae79549d8c6a83e3702746">Json_boolean::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:1056</div></div>
<div class="ttc" id="my__dbug_8h_html"><div class="ttname"><a href="my__dbug_8h.html">my_dbug.h</a></div></div>
<div class="ttc" id="classJson__array_html_abd10bd299c6268b5195e79ed5536be1f"><div class="ttname"><a href="classJson__array.html#abd10bd299c6268b5195e79ed5536be1f">Json_array::append_alias</a></div><div class="ttdeci">bool append_alias(Json_dom *value)</div><div class="ttdoc">Append the value to the end of the array. </div><div class="ttdef"><b>Definition:</b> json_dom.h:554</div></div>
<div class="ttc" id="classJson__string_html_a9afe4b8b96bbec962670cb6b237d1a22"><div class="ttname"><a href="classJson__string.html#a9afe4b8b96bbec962670cb6b237d1a22">Json_string::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:711</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_ae2dfddd1a8c8f729d0cd5aced38fbf8c"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#ae2dfddd1a8c8f729d0cd5aced38fbf8c">Json_wrapper_object_iterator::operator++</a></div><div class="ttdeci">Json_wrapper_object_iterator &amp; operator++()</div><div class="ttdoc">Advances the iterator to the next element. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1813</div></div>
<div class="ttc" id="json__dom_8h_html_ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c"><div class="ttname"><a href="json__dom_8h.html#ad96dda2d9a539d7b8da1ab0681ad6a68a48c7564e0593bf0a69df0eba9854e87c">CE_WARNING</a></div><div class="ttdef"><b>Definition:</b> json_dom.h:1148</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a3e0378eff722c073f4abff758e0612ec"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a3e0378eff722c073f4abff758e0612ec">Json_wrapper_object_iterator::value_type</a></div><div class="ttdeci">std::pair&lt; MYSQL_LEX_CSTRING, Json_wrapper &gt; value_type</div><div class="ttdef"><b>Definition:</b> json_dom.h:1792</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_a42384734069c7d5c1bd9c32357ae9073"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#a42384734069c7d5c1bd9c32357ae9073">Json_scalar_holder::Any_json_scalar::m_boolean</a></div><div class="ttdeci">Json_boolean m_boolean</div><div class="ttdef"><b>Definition:</b> json_dom.h:1910</div></div>
<div class="ttc" id="classJson__dom_html_a0288197126a1427a5f88fa8b94d6de3d"><div class="ttname"><a href="classJson__dom.html#a0288197126a1427a5f88fa8b94d6de3d">Json_dom::is_scalar</a></div><div class="ttdeci">virtual bool is_scalar() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:220</div></div>
<div class="ttc" id="classJson__object_html"><div class="ttname"><a href="classJson__object.html">Json_object</a></div><div class="ttdoc">Represents a JSON container value of type &quot;object&quot; (ECMA), type J_OBJECT here. </div><div class="ttdef"><b>Definition:</b> json_dom.h:368</div></div>
<div class="ttc" id="classJson__wrapper_html_a61517896b3cc64d8e66dc90659dc13c5"><div class="ttname"><a href="classJson__wrapper.html#a61517896b3cc64d8e66dc90659dc13c5">Json_wrapper::m_dom_value</a></div><div class="ttdeci">Json_dom * m_dom_value</div><div class="ttdef"><b>Definition:</b> json_dom.h:1175</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea83017e6b9eb5e73f72705af954dd5cec"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea83017e6b9eb5e73f72705af954dd5cec">enum_json_type::J_ARRAY</a></div></div>
<div class="ttc" id="classJson__object_html_a13f9ed7f934e933286b88e07de7db68a"><div class="ttname"><a href="classJson__object.html#a13f9ed7f934e933286b88e07de7db68a">Json_object::m_map</a></div><div class="ttdeci">Json_object_map m_map</div><div class="ttdoc">Map to hold the object elements. </div><div class="ttdef"><b>Definition:</b> json_dom.h:373</div></div>
<div class="ttc" id="classJson__object_html_aec4d73cdcb80930dbc984ab1b426b0da"><div class="ttname"><a href="classJson__object.html#aec4d73cdcb80930dbc984ab1b426b0da">Json_object::begin</a></div><div class="ttdeci">const_iterator begin() const</div><div class="ttdoc">Returns a const_iterator that refers to the first element. </div><div class="ttdef"><b>Definition:</b> json_dom.h:487</div></div>
<div class="ttc" id="mysql__time_8h_html"><div class="ttname"><a href="mysql__time_8h.html">mysql_time.h</a></div><div class="ttdoc">Time declarations shared between the server and client API: you should not add anything to this heade...</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html">Json_scalar_holder::Any_json_scalar</a></div><div class="ttdoc">Union of all concrete subclasses of Json_scalar. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1904</div></div>
<div class="ttc" id="classField__json_html"><div class="ttname"><a href="classField__json.html">Field_json</a></div><div class="ttdoc">A field that stores a JSON value. </div><div class="ttdef"><b>Definition:</b> field.h:4048</div></div>
<div class="ttc" id="classJson__object__wrapper_html_ac958f5d9a6187f6618e339dd17d8a488"><div class="ttname"><a href="classJson__object__wrapper.html#ac958f5d9a6187f6618e339dd17d8a488">Json_object_wrapper::cend</a></div><div class="ttdeci">const_iterator cend() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:1877</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a36936853301e7c88135ef7c5216ce7f3"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a36936853301e7c88135ef7c5216ce7f3">Json_wrapper_object_iterator::m_current_element_index</a></div><div class="ttdeci">size_t m_current_element_index</div><div class="ttdoc">The index of the current member in the binary JSON object. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1858</div></div>
<div class="ttc" id="unionJson__scalar__holder_1_1Any__json__scalar_html_a15ed47e8036dea01d7de1c2970f867cc"><div class="ttname"><a href="unionJson__scalar__holder_1_1Any__json__scalar.html#a15ed47e8036dea01d7de1c2970f867cc">Json_scalar_holder::Any_json_scalar::m_null</a></div><div class="ttdeci">Json_null m_null</div><div class="ttdef"><b>Definition:</b> json_dom.h:1911</div></div>
<div class="ttc" id="classJson__uint_html_a800710255a621f78f3bae3f066e8a1ec"><div class="ttname"><a href="classJson__uint.html#a800710255a621f78f3bae3f066e8a1ec">Json_uint::is_16bit</a></div><div class="ttdeci">bool is_16bit() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:905</div></div>
<div class="ttc" id="classJson__object_html_a3d00c30a7e7033d06a49c75de663520a"><div class="ttname"><a href="classJson__object.html#a3d00c30a7e7033d06a49c75de663520a">Json_object::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:377</div></div>
<div class="ttc" id="classJson__opaque_html_a26750dc18ad9eb5333e82a0b25815f29"><div class="ttname"><a href="classJson__opaque.html#a26750dc18ad9eb5333e82a0b25815f29">Json_opaque::type</a></div><div class="ttdeci">enum_field_types type() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:1038</div></div>
<div class="ttc" id="classJson__uint_html_af1bc8090273ccd300a0dd0bd37f11c0e"><div class="ttname"><a href="classJson__uint.html#af1bc8090273ccd300a0dd0bd37f11c0e">Json_uint::is_32bit</a></div><div class="ttdeci">bool is_32bit() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:911</div></div>
<div class="ttc" id="classJson__scalar__holder_html_afddfd83ae79685d54373345bddd66dc3"><div class="ttname"><a href="classJson__scalar__holder.html#afddfd83ae79685d54373345bddd66dc3">Json_scalar_holder::emplace</a></div><div class="ttdeci">void emplace(Args &amp;&amp;... args)</div><div class="ttdoc">Construct a new Json_scalar value in this Json_scalar_holder. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1943</div></div>
<div class="ttc" id="persisted__variable_8cc_html_a211d620ef86d6a09b1d29b51b6e44f06"><div class="ttname"><a href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a></div><div class="ttdeci">const string value(&quot;\alue\)</div></div>
<div class="ttc" id="classJson__decimal_html"><div class="ttname"><a href="classJson__decimal.html">Json_decimal</a></div><div class="ttdoc">Represents a MySQL decimal number, type J_DECIMAL. </div><div class="ttdef"><b>Definition:</b> json_dom.h:742</div></div>
<div class="ttc" id="classJson__wrapper_html_a6ce7944825e4f31aea8c86fcd1d5b5fe"><div class="ttname"><a href="classJson__wrapper.html#a6ce7944825e4f31aea8c86fcd1d5b5fe">Json_wrapper::m_dom_alias</a></div><div class="ttdeci">bool m_dom_alias</div><div class="ttdoc">If true, don&amp;#39;t deallocate m_dom_value in destructor. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1177</div></div>
<div class="ttc" id="my__time_8h_html"><div class="ttname"><a href="my__time_8h.html">my_time.h</a></div><div class="ttdoc">Interface for low level time utilities. </div></div>
<div class="ttc" id="classJson__string_html_ab947a23c8b4da958125a322e6bdf3006"><div class="ttname"><a href="classJson__string.html#ab947a23c8b4da958125a322e6bdf3006">Json_string::clone</a></div><div class="ttdeci">Json_dom_ptr clone() const override</div><div class="ttdoc">Make a deep clone. </div><div class="ttdef"><b>Definition:</b> json_dom.h:713</div></div>
<div class="ttc" id="classJson__datetime_html_a8d94ebe1237f57e7ffd2bb82621f8f5a"><div class="ttname"><a href="classJson__datetime.html#a8d94ebe1237f57e7ffd2bb82621f8f5a">Json_datetime::value</a></div><div class="ttdeci">const MYSQL_TIME * value() const</div><div class="ttdoc">Return a pointer the date/time value. </div><div class="ttdef"><b>Definition:</b> json_dom.h:957</div></div>
<div class="ttc" id="classJson__object__wrapper_html"><div class="ttname"><a href="classJson__object__wrapper.html">Json_object_wrapper</a></div><div class="ttdoc">A wrapper over a JSON object which provides an interface that can be iterated over with a for-each lo...</div><div class="ttdef"><b>Definition:</b> json_dom.h:1871</div></div>
<div class="ttc" id="classMalloc__allocator_html"><div class="ttname"><a href="classMalloc__allocator.html">Malloc_allocator</a></div><div class="ttdoc">Malloc_allocator is a C++ STL memory allocator based on my_malloc/my_free. </div><div class="ttdef"><b>Definition:</b> malloc_allocator.h:62</div></div>
<div class="ttc" id="json__dom_8h_html_a4e1321856fbcd3a52b6a7b5b0c621392"><div class="ttname"><a href="json__dom_8h.html#a4e1321856fbcd3a52b6a7b5b0c621392">is_valid_json_syntax</a></div><div class="ttdeci">bool is_valid_json_syntax(const char *text, size_t length)</div><div class="ttdoc">Check if a string contains valid JSON text, without generating a Json_dom representation of the docum...</div></div>
<div class="ttc" id="classJson__dom_html"><div class="ttname"><a href="classJson__dom.html">Json_dom</a></div><div class="ttdoc">JSON DOM abstract base class. </div><div class="ttdef"><b>Definition:</b> json_dom.h:170</div></div>
<div class="ttc" id="lex__string_8h_html_ac2f80edfdd9a37cb5b9f6ee50e1b429d"><div class="ttname"><a href="lex__string_8h.html#ac2f80edfdd9a37cb5b9f6ee50e1b429d">to_string</a></div><div class="ttdeci">static std::string to_string(const LEX_STRING &amp;str)</div><div class="ttdef"><b>Definition:</b> lex_string.h:48</div></div>
<div class="ttc" id="classJson__path_html"><div class="ttname"><a href="classJson__path.html">Json_path</a></div><div class="ttdoc">A JSON path expression. </div><div class="ttdef"><b>Definition:</b> json_path.h:351</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea1afb6665b0568b0f813c4a371037225c"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea1afb6665b0568b0f813c4a371037225c">enum_json_type::J_OPAQUE</a></div></div>
<div class="ttc" id="classJson__int_html_a7945d02849d5625bb70739f74a144c77"><div class="ttname"><a href="classJson__int.html#a7945d02849d5625bb70739f74a144c77">Json_int::m_i</a></div><div class="ttdeci">longlong m_i</div><div class="ttdoc">holds the value </div><div class="ttdef"><b>Definition:</b> json_dom.h:857</div></div>
<div class="ttc" id="classJson__opaque_html"><div class="ttname"><a href="classJson__opaque.html">Json_opaque</a></div><div class="ttdoc">Represents a MySQL value opaquely, i.e. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1008</div></div>
<div class="ttc" id="json__dom_8h_html_a147dea78e59c078eb12c6e0c168bca16"><div class="ttname"><a href="json__dom_8h.html#a147dea78e59c078eb12c6e0c168bca16">Json_dom_ptr</a></div><div class="ttdeci">std::unique_ptr&lt; Json_dom &gt; Json_dom_ptr</div><div class="ttdef"><b>Definition:</b> json_dom.h:62</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_a6599747f257b8a50526d4e5c873c2e09"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#a6599747f257b8a50526d4e5c873c2e09">Json_wrapper_object_iterator::operator!=</a></div><div class="ttdeci">bool operator!=(const Json_wrapper_object_iterator &amp;other) const</div><div class="ttdoc">Checks two iterators for inequality. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1839</div></div>
<div class="ttc" id="classJson__uint_html"><div class="ttname"><a href="classJson__uint.html">Json_uint</a></div><div class="ttdoc">Represents a MySQL integer (64 bits unsigned) JSON scalar (an extension of the ECMA number value)...</div><div class="ttdef"><b>Definition:</b> json_dom.h:887</div></div>
<div class="ttc" id="classJson__opaque_html_a6ff77df92bae635d6738262715505ed3"><div class="ttname"><a href="classJson__opaque.html#a6ff77df92bae635d6738262715505ed3">Json_opaque::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:1028</div></div>
<div class="ttc" id="classJson__wrapper__object__iterator_html_abe66446144818a53a842f3645e46120f"><div class="ttname"><a href="classJson__wrapper__object__iterator.html#abe66446144818a53a842f3645e46120f">Json_wrapper_object_iterator::operator-&gt;</a></div><div class="ttdeci">pointer operator-&gt;()</div><div class="ttdef"><b>Definition:</b> json_dom.h:1843</div></div>
<div class="ttc" id="classJson__wrapper_html_affcc6bbb7f2b84f7b60275b10e5a1d83"><div class="ttname"><a href="classJson__wrapper.html#affcc6bbb7f2b84f7b60275b10e5a1d83">Json_wrapper::m_value</a></div><div class="ttdeci">json_binary::Value m_value</div><div class="ttdoc">The binary representation, only used if m_is_dom is false. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1180</div></div>
<div class="ttc" id="json__dom_8h_html_a71b4d0cf6f52de9a3edba7f48f6fbe5ea140d041fc34bd4881d3632f34a98302b"><div class="ttname"><a href="json__dom_8h.html#a71b4d0cf6f52de9a3edba7f48f6fbe5ea140d041fc34bd4881d3632f34a98302b">enum_json_type::J_DATE</a></div></div>
<div class="ttc" id="namespacegis_html_a1e3bf735dbe640151561b282f0f4dba5"><div class="ttname"><a href="namespacegis.html#a1e3bf735dbe640151561b282f0f4dba5">gis::length</a></div><div class="ttdeci">bool length(const dd::Spatial_reference_system *srs, const Geometry *g1, double *length, bool *null) noexcept</div><div class="ttdoc">Computes the length of linestrings and multilinestrings. </div><div class="ttdef"><b>Definition:</b> length.cc:75</div></div>
<div class="ttc" id="classJson__null_html_a5dce9efb93a4c2da1cb98cbddfe3300c"><div class="ttname"><a href="classJson__null.html#a5dce9efb93a4c2da1cb98cbddfe3300c">Json_null::clone</a></div><div class="ttdeci">Json_dom_ptr clone() const override</div><div class="ttdoc">Make a deep clone. </div><div class="ttdef"><b>Definition:</b> json_dom.h:922</div></div>
<div class="ttc" id="classJson__boolean_html_a440bfd34d558dfe68bef0fdb02d766d2"><div class="ttname"><a href="classJson__boolean.html#a440bfd34d558dfe68bef0fdb02d766d2">Json_boolean::clone</a></div><div class="ttdeci">Json_dom_ptr clone() const override</div><div class="ttdoc">Make a deep clone. </div><div class="ttdef"><b>Definition:</b> json_dom.h:1065</div></div>
<div class="ttc" id="classJson__boolean_html_a324075331c7fae57aadcae93b941c432"><div class="ttname"><a href="classJson__boolean.html#a324075331c7fae57aadcae93b941c432">Json_boolean::Json_boolean</a></div><div class="ttdeci">Json_boolean(bool value)</div><div class="ttdef"><b>Definition:</b> json_dom.h:1054</div></div>
<div class="ttc" id="rpl__utility_8cc_html_aca075917775355d2faedb1478f5fcaba"><div class="ttname"><a href="rpl__utility_8cc.html#aca075917775355d2faedb1478f5fcaba">compare</a></div><div class="ttdeci">static int compare(size_t a, size_t b)</div><div class="ttdoc">Function to compare two size_t integers for their relative order. </div><div class="ttdef"><b>Definition:</b> rpl_utility.cc:104</div></div>
<div class="ttc" id="classJson__opaque_html_a88b1367f0b9ae23450f478c08dd2bc36"><div class="ttname"><a href="classJson__opaque.html#a88b1367f0b9ae23450f478c08dd2bc36">Json_opaque::value</a></div><div class="ttdeci">const char * value() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:1033</div></div>
<div class="ttc" id="classJson__double_html_adae8144cec21af68129edab3f70b976e"><div class="ttname"><a href="classJson__double.html#adae8144cec21af68129edab3f70b976e">Json_double::Json_double</a></div><div class="ttdeci">Json_double(double value)</div><div class="ttdef"><b>Definition:</b> json_dom.h:836</div></div>
<div class="ttc" id="classJson__double_html_a81da1e10d6f59d5ce83af7b751b82604"><div class="ttname"><a href="classJson__double.html#a81da1e10d6f59d5ce83af7b751b82604">Json_double::m_f</a></div><div class="ttdeci">double m_f</div><div class="ttdoc">holds the double value </div><div class="ttdef"><b>Definition:</b> json_dom.h:834</div></div>
<div class="ttc" id="classJson__uint_html_a10637fef1d37043d6d34aaf85f5954b5"><div class="ttname"><a href="classJson__uint.html#a10637fef1d37043d6d34aaf85f5954b5">Json_uint::json_type</a></div><div class="ttdeci">enum_json_type json_type() const override</div><div class="ttdef"><b>Definition:</b> json_dom.h:893</div></div>
<div class="ttc" id="namespaceCounter_html_a6129f96f99b4dc9358a7efaa40f84c30"><div class="ttname"><a href="namespaceCounter.html#a6129f96f99b4dc9358a7efaa40f84c30">Counter::copy</a></div><div class="ttdeci">void copy(Shards&lt; COUNT &gt; &amp;dst, const Shards&lt; COUNT &gt; &amp;src) noexcept</div><div class="ttdoc">Copy the counters, overwrite destination. </div><div class="ttdef"><b>Definition:</b> ut0counter.h:353</div></div>
<div class="ttc" id="my__inttypes_8h_html_a140279d75711eb69cc3eed56dd7d4965"><div class="ttname"><a href="my__inttypes_8h.html#a140279d75711eb69cc3eed56dd7d4965">UINT_MAX16</a></div><div class="ttdeci">#define UINT_MAX16</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:84</div></div>
<div class="ttc" id="classTHD_html"><div class="ttname"><a href="classTHD.html">THD</a></div><div class="ttdoc">For each client connection we create a separate thread with THD serving as a thread/connection descri...</div><div class="ttdef"><b>Definition:</b> sql_class.h:803</div></div>
<div class="ttc" id="dialog_8cc_html_ae7bd12bd7c9e418a420087971d0a7e31"><div class="ttname"><a href="dialog_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></div><div class="ttdeci">Dialog Client Authentication nullptr</div><div class="ttdef"><b>Definition:</b> dialog.cc:353</div></div>
<div class="ttc" id="classJson__number_html"><div class="ttname"><a href="classJson__number.html">Json_number</a></div><div class="ttdoc">Abstract base class of all JSON number (ECMA) types (subclasses represent MySQL extensions). </div><div class="ttdef"><b>Definition:</b> json_dom.h:734</div></div>
<div class="ttc" id="json__dom_8h_html_a6c0262e3bee930f5241cd24f9a110107"><div class="ttname"><a href="json__dom_8h.html#a6c0262e3bee930f5241cd24f9a110107">Json_object_ptr</a></div><div class="ttdeci">std::unique_ptr&lt; Json_object &gt; Json_object_ptr</div><div class="ttdef"><b>Definition:</b> json_dom.h:64</div></div>
<div class="ttc" id="classJson__opaque_html_a2fbbcd3d9081289cc0c591630e219ae1"><div class="ttname"><a href="classJson__opaque.html#a2fbbcd3d9081289cc0c591630e219ae1">Json_opaque::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> json_dom.h:1042</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="json__dom_8h.html">json_dom.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
