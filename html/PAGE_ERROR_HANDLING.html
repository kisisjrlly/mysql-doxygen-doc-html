<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Error Handling</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('PAGE_ERROR_HANDLING.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Error Handling </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>If an expected error is specified and that error occurs, <a class="el" href="PAGE_MYSQLTEST.html">mysqltest</a> continues reading input.</p>
<p>If the command is successful or a different error occurs, <a class="el" href="PAGE_MYSQLTEST.html">mysqltest</a> aborts.</p>
<p>If no expected error is specified, <a class="el" href="PAGE_MYSQLTEST.html">mysqltest</a> aborts unless the command is successful. (It is implicit that you expect <b>$mysql_errno</b> to be 0.)</p>
<p>By default, <a class="el" href="PAGE_MYSQLTEST.html">mysqltest</a> aborts for certain conditions:</p>
<ul>
<li>
<p class="startli">A statement that fails when it should have succeeded. The following statement should succeed if table <b>t</b> exists;</p>
<pre class="fragment">SELECT * FROM t;</pre> <p class="endli"></p>
</li>
<li>
<p class="startli">A statement that fails with an error different from that specified:</p>
<pre class="fragment">--error 1
SELECT * FROM no_such_table;</pre> <p class="endli"></p>
</li>
<li>
<p class="startli">A statement that succeeds when an error was expected:</p>
<pre class="fragment">--error 1
SELECT 'a string';</pre>  </li>
</ul>
<p>You can disable the abort for errors of the first type by using the <b>disable_abort_on_error</b> command. In this case, when errors occur for statements that should succeed, <a class="el" href="PAGE_MYSQLTEST.html">mysqltest</a> continues processing intput.</p>
<p><b>disable_abort_on_error</b> does <b>not</b> cause <a class="el" href="PAGE_MYSQLTEST.html">mysqltest</a> to ignore errors for the other two types, where you explicitly state which error you expect. This behavior is intentional. The rationale is that if you use the <b>error</b> command to specify an expected error, it is assumed that the test is sufficiently well characterized that only the specified error is accceptable.</p>
<p>If you do not use the <b>error</b> command, it is assumed that you might not know which error to expect or that it might be difficult to characterize all possible errors that could occur. In this case, <b>disable_abort_on_error</b> is useful for causing <a class="el" href="PAGE_MYSQLTEST.html">mysqltest â€” Program to Run Test Cases</a> mysqltest to continue processing input. This can be helpful in the following circumstances:</p>
<ul>
<li>
<p class="startli">During test case development, it is useful to process all input even if errors occur so that you can see all errors at once, such as those that occur due to typographical or syntax errors. Otherwise, you can see and fix only one scripting problem at a time. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Within a file that is included with a <b>source</b> command by several different test cases, errors might vary depending on the processing environment that is set up prior to the <b>source</b> command. </p>
<p class="endli"></p>
</li>
<li>
Tests that follow a given statement that can fail are independent of that statement and do not depend on its result.  </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="PAGE_TESTING_TOOLS.html">Testing Tools</a></li><li class="navelem"><a class="el" href="PAGE_MYSQL_TEST_RUN.html">The MySQL Test Framework</a></li><li class="navelem"><a class="el" href="PAGE_MYSQLTEST_LANGUAGE_REFERENCE.html">mysqltest Language Reference</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
