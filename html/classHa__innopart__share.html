<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Ha_innopart_share Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classHa__innopart__share.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classHa__innopart__share-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Ha_innopart_share Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>InnoDB partition specific Handler_share.  
 <a href="classHa__innopart__share.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ha__innopart_8h_source.html">ha_innopart.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Ha_innopart_share:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classHa__innopart__share.png" usemap="#Ha_5Finnopart_5Fshare_map" alt=""/>
  <map id="Ha_5Finnopart_5Fshare_map" name="Ha_5Finnopart_5Fshare_map">
<area href="classPartition__share.html" title="Partition specific Handler_share. " alt="Partition_share" shape="rect" coords="0,56,120,80"/>
<area href="classHandler__share.html" title="Base class to be used by handlers different shares. " alt="Handler_share" shape="rect" coords="0,0,120,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3386e800fb5ceefc7035af53fd159c89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a3386e800fb5ceefc7035af53fd159c89">Ha_innopart_share</a> (<a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *table_share)</td></tr>
<tr class="separator:a3386e800fb5ceefc7035af53fd159c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a4bdc28b48c86639b8229c3e643763"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a40a4bdc28b48c86639b8229c3e643763">~Ha_innopart_share</a> () override</td></tr>
<tr class="separator:a40a4bdc28b48c86639b8229c3e643763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826f4f991d8dbc9fdbf5c304361d1a56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a826f4f991d8dbc9fdbf5c304361d1a56">set_table_part</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> part_id, <a class="el" href="structdict__table__t.html">dict_table_t</a> *table)</td></tr>
<tr class="memdesc:a826f4f991d8dbc9fdbf5c304361d1a56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set innodb table for given partition.  <a href="#a826f4f991d8dbc9fdbf5c304361d1a56">More...</a><br /></td></tr>
<tr class="separator:a826f4f991d8dbc9fdbf5c304361d1a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a77836e117763fac208bcbd14a1b802"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__table__t.html">dict_table_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a1a77836e117763fac208bcbd14a1b802">get_table_part_ref</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> part_id)</td></tr>
<tr class="memdesc:a1a77836e117763fac208bcbd14a1b802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get table reference for given partition.  <a href="#a1a77836e117763fac208bcbd14a1b802">More...</a><br /></td></tr>
<tr class="separator:a1a77836e117763fac208bcbd14a1b802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af82fd58ce6ad0a7a3494f6bfc5b03025"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#af82fd58ce6ad0a7a3494f6bfc5b03025">get_table_part</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> part_id) const</td></tr>
<tr class="memdesc:af82fd58ce6ad0a7a3494f6bfc5b03025"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return innodb table for given partition.  <a href="#af82fd58ce6ad0a7a3494f6bfc5b03025">More...</a><br /></td></tr>
<tr class="separator:af82fd58ce6ad0a7a3494f6bfc5b03025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7fb585c281c4e0c53c7ddd7316b15ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#aa7fb585c281c4e0c53c7ddd7316b15ca">get_index</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> part_id, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> keynr)</td></tr>
<tr class="memdesc:aa7fb585c281c4e0c53c7ddd7316b15ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return innodb index for given partition and key number.  <a href="#aa7fb585c281c4e0c53c7ddd7316b15ca">More...</a><br /></td></tr>
<tr class="separator:aa7fb585c281c4e0c53c7ddd7316b15ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc94cb8be392910cfe240c8f23df486f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#adc94cb8be392910cfe240c8f23df486f">get_mysql_key</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> part_id, const <a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>)</td></tr>
<tr class="memdesc:adc94cb8be392910cfe240c8f23df486f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get MySQL key number corresponding to InnoDB index.  <a href="#adc94cb8be392910cfe240c8f23df486f">More...</a><br /></td></tr>
<tr class="separator:adc94cb8be392910cfe240c8f23df486f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac400f07a8bc976f66c27cc5dedc0780a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#ac400f07a8bc976f66c27cc5dedc0780a">has_table_parts</a> () const</td></tr>
<tr class="memdesc:ac400f07a8bc976f66c27cc5dedc0780a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether share has opened InnoDB tables for partitions.  <a href="#ac400f07a8bc976f66c27cc5dedc0780a">More...</a><br /></td></tr>
<tr class="separator:ac400f07a8bc976f66c27cc5dedc0780a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dbfa63e146c3c9744d8ee74f1f86e38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a4dbfa63e146c3c9744d8ee74f1f86e38">increment_ref_counts</a> ()</td></tr>
<tr class="memdesc:a4dbfa63e146c3c9744d8ee74f1f86e38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment share and InnoDB tables reference counters.  <a href="#a4dbfa63e146c3c9744d8ee74f1f86e38">More...</a><br /></td></tr>
<tr class="separator:a4dbfa63e146c3c9744d8ee74f1f86e38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0962575e46ea79c2c1e357c42c1c5f73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a0962575e46ea79c2c1e357c42c1c5f73">set_table_parts_and_indexes</a> (const <a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="classpartition__info.html">partition_info</a> *part_info, <a class="el" href="structdict__table__t.html">dict_table_t</a> **table_parts)</td></tr>
<tr class="memdesc:a0962575e46ea79c2c1e357c42c1c5f73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the share with table and indexes per partition.  <a href="#a0962575e46ea79c2c1e357c42c1c5f73">More...</a><br /></td></tr>
<tr class="separator:a0962575e46ea79c2c1e357c42c1c5f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30572a7df333013c4cf2fee2e138a027"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a30572a7df333013c4cf2fee2e138a027">close_table_parts</a> ()</td></tr>
<tr class="memdesc:a30572a7df333013c4cf2fee2e138a027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the table partitions.  <a href="#a30572a7df333013c4cf2fee2e138a027">More...</a><br /></td></tr>
<tr class="separator:a30572a7df333013c4cf2fee2e138a027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5b389c3afa6660f0d49b4214eedaf8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a7d5b389c3afa6660f0d49b4214eedaf8">get_table_share</a> () const</td></tr>
<tr class="separator:a7d5b389c3afa6660f0d49b4214eedaf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9664ff5f306b3674ebac0ce0891046"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a1e9664ff5f306b3674ebac0ce0891046">get_num_parts</a> () const</td></tr>
<tr class="memdesc:a1e9664ff5f306b3674ebac0ce0891046"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of partitions.  <a href="#a1e9664ff5f306b3674ebac0ce0891046">More...</a><br /></td></tr>
<tr class="separator:a1e9664ff5f306b3674ebac0ce0891046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf776fcd524b2254d8f167d22852e8c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#adf776fcd524b2254d8f167d22852e8c8">set_v_templ</a> (<a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="structdict__table__t.html">dict_table_t</a> *ib_table, const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>)</td></tr>
<tr class="memdesc:adf776fcd524b2254d8f167d22852e8c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the virtual column template for partition table, and points all m_table_parts[]-&gt;vc_templ to it.  <a href="#adf776fcd524b2254d8f167d22852e8c8">More...</a><br /></td></tr>
<tr class="separator:adf776fcd524b2254d8f167d22852e8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classPartition__share"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classPartition__share')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classPartition__share.html">Partition_share</a></td></tr>
<tr class="memitem:afa209e0a5b2c289fcf8945215eae9543 inherit pub_methods_classPartition__share"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#afa209e0a5b2c289fcf8945215eae9543">Partition_share</a> ()</td></tr>
<tr class="separator:afa209e0a5b2c289fcf8945215eae9543 inherit pub_methods_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b52c46feb9fda9686feb1c7883644de inherit pub_methods_classPartition__share"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#a3b52c46feb9fda9686feb1c7883644de">~Partition_share</a> () override</td></tr>
<tr class="separator:a3b52c46feb9fda9686feb1c7883644de inherit pub_methods_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268bb0b0c974336fd264cba3fbc11637 inherit pub_methods_classPartition__share"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#a268bb0b0c974336fd264cba3fbc11637">init_auto_inc_mutex</a> (<a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *table_share)</td></tr>
<tr class="memdesc:a268bb0b0c974336fd264cba3fbc11637 inherit pub_methods_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and sets auto_inc_mutex.  <a href="classPartition__share.html#a268bb0b0c974336fd264cba3fbc11637">More...</a><br /></td></tr>
<tr class="separator:a268bb0b0c974336fd264cba3fbc11637 inherit pub_methods_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb91e00364b1fb8d22f451fd2ba0178 inherit pub_methods_classPartition__share"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#a2fb91e00364b1fb8d22f451fd2ba0178">release_auto_inc_if_possible</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *table_share, const <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> next_insert_id, const <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> max_reserved)</td></tr>
<tr class="memdesc:a2fb91e00364b1fb8d22f451fd2ba0178 inherit pub_methods_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release reserved auto increment values not used.  <a href="classPartition__share.html#a2fb91e00364b1fb8d22f451fd2ba0178">More...</a><br /></td></tr>
<tr class="separator:a2fb91e00364b1fb8d22f451fd2ba0178 inherit pub_methods_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ba4e9894bf1bc7aa1a5485e112dc5f inherit pub_methods_classPartition__share"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#ab0ba4e9894bf1bc7aa1a5485e112dc5f">lock_auto_inc</a> ()</td></tr>
<tr class="memdesc:ab0ba4e9894bf1bc7aa1a5485e112dc5f inherit pub_methods_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">lock mutex protecting auto increment value next_auto_inc_val.  <a href="classPartition__share.html#ab0ba4e9894bf1bc7aa1a5485e112dc5f">More...</a><br /></td></tr>
<tr class="separator:ab0ba4e9894bf1bc7aa1a5485e112dc5f inherit pub_methods_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bc97e8a6a10012e095292f5a21e20d inherit pub_methods_classPartition__share"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#a81bc97e8a6a10012e095292f5a21e20d">unlock_auto_inc</a> ()</td></tr>
<tr class="memdesc:a81bc97e8a6a10012e095292f5a21e20d inherit pub_methods_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">unlock mutex protecting auto increment value next_auto_inc_val.  <a href="classPartition__share.html#a81bc97e8a6a10012e095292f5a21e20d">More...</a><br /></td></tr>
<tr class="separator:a81bc97e8a6a10012e095292f5a21e20d inherit pub_methods_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc4098cf9addac3433d200e6911a81a inherit pub_methods_classPartition__share"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#affc4098cf9addac3433d200e6911a81a">populate_partition_name_hash</a> (<a class="el" href="classpartition__info.html">partition_info</a> *part_info)</td></tr>
<tr class="memdesc:affc4098cf9addac3433d200e6911a81a inherit pub_methods_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate partition_name_hash with partition and subpartition names from part_info.  <a href="classPartition__share.html#affc4098cf9addac3433d200e6911a81a">More...</a><br /></td></tr>
<tr class="separator:affc4098cf9addac3433d200e6911a81a inherit pub_methods_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8263448d85e0a6003f2fae9bff9b3108 inherit pub_methods_classPartition__share"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#a8263448d85e0a6003f2fae9bff9b3108">get_partition_name</a> (size_t part_id) const</td></tr>
<tr class="memdesc:a8263448d85e0a6003f2fae9bff9b3108 inherit pub_methods_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get partition name.  <a href="classPartition__share.html#a8263448d85e0a6003f2fae9bff9b3108">More...</a><br /></td></tr>
<tr class="separator:a8263448d85e0a6003f2fae9bff9b3108 inherit pub_methods_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classHandler__share"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classHandler__share')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classHandler__share.html">Handler_share</a></td></tr>
<tr class="memitem:a0ddf55630cd40e055e32b46d414fd96f inherit pub_methods_classHandler__share"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHandler__share.html#a0ddf55630cd40e055e32b46d414fd96f">Handler_share</a> ()</td></tr>
<tr class="separator:a0ddf55630cd40e055e32b46d414fd96f inherit pub_methods_classHandler__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c311bbb0fab6368dbcca4c85573bd1f inherit pub_methods_classHandler__share"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHandler__share.html#a3c311bbb0fab6368dbcca4c85573bd1f">~Handler_share</a> ()</td></tr>
<tr class="separator:a3c311bbb0fab6368dbcca4c85573bd1f inherit pub_methods_classHandler__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aaa3433128e611d3a79d5d9705d22778b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structdict__table__t.html">dict_table_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#aaa3433128e611d3a79d5d9705d22778b">open_table_parts</a> (<a class="el" href="classTHD.html">THD</a> *thd, const <a class="el" href="structTABLE.html">TABLE</a> *table, const <a class="el" href="classdd_1_1Table.html">dd::Table</a> *dd_table, <a class="el" href="classpartition__info.html">partition_info</a> *part_info, const char *table_name)</td></tr>
<tr class="memdesc:aaa3433128e611d3a79d5d9705d22778b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open InnoDB tables for partitions and return them as array.  <a href="#aaa3433128e611d3a79d5d9705d22778b">More...</a><br /></td></tr>
<tr class="separator:aaa3433128e611d3a79d5d9705d22778b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9696e60badfd4e1d50d7d3036c0e8b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a2e9696e60badfd4e1d50d7d3036c0e8b">close_table_parts</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> **table_parts, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> tot_parts)</td></tr>
<tr class="memdesc:a2e9696e60badfd4e1d50d7d3036c0e8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close InnoDB tables for partitions.  <a href="#a2e9696e60badfd4e1d50d7d3036c0e8b">More...</a><br /></td></tr>
<tr class="separator:a2e9696e60badfd4e1d50d7d3036c0e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a286b8f653f2c2a93322cba3c79b30714"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a286b8f653f2c2a93322cba3c79b30714">Ha_innopart_share</a> ()</td></tr>
<tr class="memdesc:a286b8f653f2c2a93322cba3c79b30714"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable default constructor.  <a href="#a286b8f653f2c2a93322cba3c79b30714">More...</a><br /></td></tr>
<tr class="separator:a286b8f653f2c2a93322cba3c79b30714"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aaf29538ed93a13be52284e0a39f2a85c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#aaf29538ed93a13be52284e0a39f2a85c">open_one_table_part</a> (<a class="el" href="classdd_1_1cache_1_1Dictionary__client.html">dd::cache::Dictionary_client</a> *client, <a class="el" href="classTHD.html">THD</a> *thd, const <a class="el" href="structTABLE.html">TABLE</a> *table, const <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *dd_part, const char *part_name, <a class="el" href="structdict__table__t.html">dict_table_t</a> **part_dict_table)</td></tr>
<tr class="memdesc:aaf29538ed93a13be52284e0a39f2a85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open one partition.  <a href="#aaf29538ed93a13be52284e0a39f2a85c">More...</a><br /></td></tr>
<tr class="separator:aaf29538ed93a13be52284e0a39f2a85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5060cdb2332388b46da1638d21d13f16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__table__t.html">dict_table_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a5060cdb2332388b46da1638d21d13f16">m_table_parts</a></td></tr>
<tr class="memdesc:a5060cdb2332388b46da1638d21d13f16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of all included table definitions (one per partition).  <a href="#a5060cdb2332388b46da1638d21d13f16">More...</a><br /></td></tr>
<tr class="separator:a5060cdb2332388b46da1638d21d13f16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2eba1644674d0829e6b9623fbdcd934"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__index__t.html">dict_index_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#ad2eba1644674d0829e6b9623fbdcd934">m_index_mapping</a></td></tr>
<tr class="memdesc:ad2eba1644674d0829e6b9623fbdcd934"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instead of INNOBASE_SHARE::idx_trans_tbl.  <a href="#ad2eba1644674d0829e6b9623fbdcd934">More...</a><br /></td></tr>
<tr class="separator:ad2eba1644674d0829e6b9623fbdcd934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65797d1fab8f1fc10b2a366dd6763011"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a65797d1fab8f1fc10b2a366dd6763011">m_tot_parts</a></td></tr>
<tr class="memdesc:a65797d1fab8f1fc10b2a366dd6763011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of partitions.  <a href="#a65797d1fab8f1fc10b2a366dd6763011">More...</a><br /></td></tr>
<tr class="separator:a65797d1fab8f1fc10b2a366dd6763011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a38010aeef53885396951bc3259a62e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a1a38010aeef53885396951bc3259a62e">m_index_count</a></td></tr>
<tr class="memdesc:a1a38010aeef53885396951bc3259a62e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of indexes.  <a href="#a1a38010aeef53885396951bc3259a62e">More...</a><br /></td></tr>
<tr class="separator:a1a38010aeef53885396951bc3259a62e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2333192811829d26b5c3680d40feff6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#a2333192811829d26b5c3680d40feff6e">m_ref_count</a></td></tr>
<tr class="memdesc:a2333192811829d26b5c3680d40feff6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference count.  <a href="#a2333192811829d26b5c3680d40feff6e">More...</a><br /></td></tr>
<tr class="separator:a2333192811829d26b5c3680d40feff6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb12a30807a79565a2f6791034bd8f06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classHa__innopart__share.html#aeb12a30807a79565a2f6791034bd8f06">m_table_share</a></td></tr>
<tr class="memdesc:aeb12a30807a79565a2f6791034bd8f06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer back to owning TABLE_SHARE.  <a href="#aeb12a30807a79565a2f6791034bd8f06">More...</a><br /></td></tr>
<tr class="separator:aeb12a30807a79565a2f6791034bd8f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classPartition__share"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classPartition__share')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classPartition__share.html">Partition_share</a></td></tr>
<tr class="memitem:a6fba0672c7791de2a8e5bc384beefecc inherit pub_attribs_classPartition__share"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#a6fba0672c7791de2a8e5bc384beefecc">auto_inc_initialized</a></td></tr>
<tr class="memdesc:a6fba0672c7791de2a8e5bc384beefecc inherit pub_attribs_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set if auto increment is used an initialized.  <a href="classPartition__share.html#a6fba0672c7791de2a8e5bc384beefecc">More...</a><br /></td></tr>
<tr class="separator:a6fba0672c7791de2a8e5bc384beefecc inherit pub_attribs_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e00e9d003a91025423ffa365f747894 inherit pub_attribs_classPartition__share"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#a4e00e9d003a91025423ffa365f747894">auto_inc_mutex</a></td></tr>
<tr class="memdesc:a4e00e9d003a91025423ffa365f747894 inherit pub_attribs_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex protecting next_auto_inc_val.  <a href="classPartition__share.html#a4e00e9d003a91025423ffa365f747894">More...</a><br /></td></tr>
<tr class="separator:a4e00e9d003a91025423ffa365f747894 inherit pub_attribs_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4589f6898fbe8d080995ff45bf498c46 inherit pub_attribs_classPartition__share"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#a4589f6898fbe8d080995ff45bf498c46">next_auto_inc_val</a></td></tr>
<tr class="memdesc:a4589f6898fbe8d080995ff45bf498c46 inherit pub_attribs_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">First non reserved auto increment value.  <a href="classPartition__share.html#a4589f6898fbe8d080995ff45bf498c46">More...</a><br /></td></tr>
<tr class="separator:a4589f6898fbe8d080995ff45bf498c46 inherit pub_attribs_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa933cc21f955edb15428c657b4c10e5c inherit pub_attribs_classPartition__share"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classcollation__unordered__map.html">collation_unordered_map</a>&lt; std::string, <a class="el" href="map__helpers_8h.html#ab9bfec3d68fe066cd76cd78c5039d012">unique_ptr_my_free</a>&lt; <a class="el" href="structPART__NAME__DEF.html">PART_NAME_DEF</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPartition__share.html#aa933cc21f955edb15428c657b4c10e5c">partition_name_hash</a></td></tr>
<tr class="memdesc:aa933cc21f955edb15428c657b4c10e5c inherit pub_attribs_classPartition__share"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hash of partition names.  <a href="classPartition__share.html#aa933cc21f955edb15428c657b4c10e5c">More...</a><br /></td></tr>
<tr class="separator:aa933cc21f955edb15428c657b4c10e5c inherit pub_attribs_classPartition__share"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>InnoDB partition specific Handler_share. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3386e800fb5ceefc7035af53fd159c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3386e800fb5ceefc7035af53fd159c89">&#9670;&nbsp;</a></span>Ha_innopart_share() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ha_innopart_share::Ha_innopart_share </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *&#160;</td>
          <td class="paramname"><em>table_share</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a40a4bdc28b48c86639b8229c3e643763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40a4bdc28b48c86639b8229c3e643763">&#9670;&nbsp;</a></span>~Ha_innopart_share()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Ha_innopart_share::~Ha_innopart_share </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a286b8f653f2c2a93322cba3c79b30714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a286b8f653f2c2a93322cba3c79b30714">&#9670;&nbsp;</a></span>Ha_innopart_share() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Ha_innopart_share::Ha_innopart_share </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable default constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a30572a7df333013c4cf2fee2e138a027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30572a7df333013c4cf2fee2e138a027">&#9670;&nbsp;</a></span>close_table_parts() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ha_innopart_share::close_table_parts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the table partitions. </p>
<p>If all instances are closed, also release the resources. </p>

</div>
</div>
<a id="a2e9696e60badfd4e1d50d7d3036c0e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9696e60badfd4e1d50d7d3036c0e8b">&#9670;&nbsp;</a></span>close_table_parts() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Ha_innopart_share::close_table_parts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> **&#160;</td>
          <td class="paramname"><em>table_parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>tot_parts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close InnoDB tables for partitions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table_parts</td><td>Array of InnoDB tables for partitions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tot_parts</td><td>Number of partitions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7fb585c281c4e0c53c7ddd7316b15ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7fb585c281c4e0c53c7ddd7316b15ca">&#9670;&nbsp;</a></span>get_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__index__t.html">dict_index_t</a> * Ha_innopart_share::get_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>part_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>keynr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return innodb index for given partition and key number. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">part_id</td><td>Partition number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">keynr</td><td>Key number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>InnoDB index. </dd></dl>

</div>
</div>
<a id="adc94cb8be392910cfe240c8f23df486f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc94cb8be392910cfe240c8f23df486f">&#9670;&nbsp;</a></span>get_mysql_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Ha_innopart_share::get_mysql_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>part_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get MySQL key number corresponding to InnoDB index. </p>
<p>Calculates the key number used inside MySQL for an Innobase index. We will first check the "index translation table" for a match of the index to get the index number. If there does not exist an "index translation table", or not able to find the index in the translation table, then we will fall back to the traditional way of looping through dict_index_t list to find a match. In this case, we have to take into account if we generated a default clustered index for the table </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">part_id</td><td>Partition the index belongs to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index to return MySQL key number for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the key number used inside MySQL or UINT_MAX if key is not found. </dd></dl>

</div>
</div>
<a id="a1e9664ff5f306b3674ebac0ce0891046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e9664ff5f306b3674ebac0ce0891046">&#9670;&nbsp;</a></span>get_num_parts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Ha_innopart_share::get_num_parts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of partitions. </p>
<dl class="section return"><dt>Returns</dt><dd>number of partitions </dd></dl>

</div>
</div>
<a id="af82fd58ce6ad0a7a3494f6bfc5b03025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af82fd58ce6ad0a7a3494f6bfc5b03025">&#9670;&nbsp;</a></span>get_table_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__table__t.html">dict_table_t</a>* Ha_innopart_share::get_table_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>part_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return innodb table for given partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">part_id</td><td>Partition number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>InnoDB table. </dd></dl>

</div>
</div>
<a id="a1a77836e117763fac208bcbd14a1b802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a77836e117763fac208bcbd14a1b802">&#9670;&nbsp;</a></span>get_table_part_ref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__table__t.html">dict_table_t</a>** Ha_innopart_share::get_table_part_ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>part_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get table reference for given partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">part_id</td><td>Partition number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>InnoDB table reference. </dd></dl>

</div>
</div>
<a id="a7d5b389c3afa6660f0d49b4214eedaf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d5b389c3afa6660f0d49b4214eedaf8">&#9670;&nbsp;</a></span>get_table_share()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a>* Ha_innopart_share::get_table_share </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the TABLE SHARE object </dd></dl>

</div>
</div>
<a id="ac400f07a8bc976f66c27cc5dedc0780a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac400f07a8bc976f66c27cc5dedc0780a">&#9670;&nbsp;</a></span>has_table_parts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Ha_innopart_share::has_table_parts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return whether share has opened InnoDB tables for partitions. </p>

</div>
</div>
<a id="a4dbfa63e146c3c9744d8ee74f1f86e38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dbfa63e146c3c9744d8ee74f1f86e38">&#9670;&nbsp;</a></span>increment_ref_counts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ha_innopart_share::increment_ref_counts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Increment share and InnoDB tables reference counters. </p>

</div>
</div>
<a id="aaf29538ed93a13be52284e0a39f2a85c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf29538ed93a13be52284e0a39f2a85c">&#9670;&nbsp;</a></span>open_one_table_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Ha_innopart_share::open_one_table_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Dictionary__client.html">dd::cache::Dictionary_client</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *&#160;</td>
          <td class="paramname"><em>dd_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>part_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> **&#160;</td>
          <td class="paramname"><em>part_dict_table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open one partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">client</td><td>Data dictionary client </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Thread THD </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>MySQL table definition </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dd_part</td><td>dd::Partition </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">part_name</td><td>Table name of this partition </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">part_dict_table</td><td>InnoDB table for partition </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>On success </td></tr>
    <tr><td class="paramname">true</td><td>On failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaa3433128e611d3a79d5d9705d22778b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa3433128e611d3a79d5d9705d22778b">&#9670;&nbsp;</a></span>open_table_parts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__table__t.html">dict_table_t</a> ** Ha_innopart_share::open_table_parts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Table.html">dd::Table</a> *&#160;</td>
          <td class="paramname"><em>dd_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpartition__info.html">partition_info</a> *&#160;</td>
          <td class="paramname"><em>part_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open InnoDB tables for partitions and return them as array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thd</td><td>Thread context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>MySQL table definition </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dd_table</td><td>Global DD table object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">part_info</td><td>Partition info (partition names to use) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table_name</td><td>Table name (db/table_name) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Array on InnoDB tables on success else nullptr. </dd></dl>

</div>
</div>
<a id="a826f4f991d8dbc9fdbf5c304361d1a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a826f4f991d8dbc9fdbf5c304361d1a56">&#9670;&nbsp;</a></span>set_table_part()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Ha_innopart_share::set_table_part </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>part_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set innodb table for given partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">part_id</td><td>Partition number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0962575e46ea79c2c1e357c42c1c5f73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0962575e46ea79c2c1e357c42c1c5f73">&#9670;&nbsp;</a></span>set_table_parts_and_indexes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Ha_innopart_share::set_table_parts_and_indexes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpartition__info.html">partition_info</a> *&#160;</td>
          <td class="paramname"><em>part_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> **&#160;</td>
          <td class="paramname"><em>table_parts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the share with table and indexes per partition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>MySQL table definition </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">part_info</td><td>Partition info (partition names to use). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table_parts</td><td>Array of InnoDB tables for partitions. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success else true. </dd></dl>

</div>
</div>
<a id="adf776fcd524b2254d8f167d22852e8c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf776fcd524b2254d8f167d22852e8c8">&#9670;&nbsp;</a></span>set_v_templ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ha_innopart_share::set_v_templ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>ib_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the virtual column template for partition table, and points all m_table_parts[]-&gt;vc_templ to it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>MySQL TABLE object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ib_table</td><td>InnoDB dict_table_t </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Table name (db/table_name) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1a38010aeef53885396951bc3259a62e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a38010aeef53885396951bc3259a62e">&#9670;&nbsp;</a></span>m_index_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Ha_innopart_share::m_index_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of indexes. </p>

</div>
</div>
<a id="ad2eba1644674d0829e6b9623fbdcd934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2eba1644674d0829e6b9623fbdcd934">&#9670;&nbsp;</a></span>m_index_mapping</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__index__t.html">dict_index_t</a>** Ha_innopart_share::m_index_mapping</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Instead of INNOBASE_SHARE::idx_trans_tbl. </p>
<p>Maps MySQL index number to InnoDB index per partition. </p>

</div>
</div>
<a id="a2333192811829d26b5c3680d40feff6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2333192811829d26b5c3680d40feff6e">&#9670;&nbsp;</a></span>m_ref_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Ha_innopart_share::m_ref_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reference count. </p>

</div>
</div>
<a id="a5060cdb2332388b46da1638d21d13f16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5060cdb2332388b46da1638d21d13f16">&#9670;&nbsp;</a></span>m_table_parts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__table__t.html">dict_table_t</a>** Ha_innopart_share::m_table_parts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Array of all included table definitions (one per partition). </p>

</div>
</div>
<a id="aeb12a30807a79565a2f6791034bd8f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb12a30807a79565a2f6791034bd8f06">&#9670;&nbsp;</a></span>m_table_share</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a>* Ha_innopart_share::m_table_share</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer back to owning TABLE_SHARE. </p>

</div>
</div>
<a id="a65797d1fab8f1fc10b2a366dd6763011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65797d1fab8f1fc10b2a366dd6763011">&#9670;&nbsp;</a></span>m_tot_parts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Ha_innopart_share::m_tot_parts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of partitions. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>storage/innobase/handler/<a class="el" href="ha__innopart_8h_source.html">ha_innopart.h</a></li>
<li>storage/innobase/handler/<a class="el" href="ha__innopart_8cc.html">ha_innopart.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classHa__innopart__share.html">Ha_innopart_share</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
