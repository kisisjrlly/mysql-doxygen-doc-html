<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: FollowTailIterator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classFollowTailIterator.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classFollowTailIterator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FollowTailIterator Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>FollowTailIterator is a special version of TableScanIterator that is used as part of WITH RECURSIVE queries.  
 <a href="classFollowTailIterator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="basic__row__iterators_8h_source.html">basic_row_iterators.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FollowTailIterator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classFollowTailIterator.png" usemap="#FollowTailIterator_map" alt=""/>
  <map id="FollowTailIterator_map" name="FollowTailIterator_map">
<area href="classTableRowIterator.html" alt="TableRowIterator" shape="rect" coords="0,56,109,80"/>
<area href="classRowIterator.html" title="A context for reading through a single table using a chosen access method: index read, scan, etc, use of cache, etc. " alt="RowIterator" shape="rect" coords="0,0,109,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9536f4565cfdd1cc46f4fe12d6f81540"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#a9536f4565cfdd1cc46f4fe12d6f81540">FollowTailIterator</a> (<a class="el" href="classTHD.html">THD</a> *<a class="el" href="classRowIterator.html#a2bc0f8df841b7807092480fc1bd0224e">thd</a>, <a class="el" href="structTABLE.html">TABLE</a> *<a class="el" href="classTableRowIterator.html#a5f1d19ba7984ab821a048b6274e712a9">table</a>, <a class="el" href="classQEP__TAB.html">QEP_TAB</a> *qep_tab, <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *examined_rows)</td></tr>
<tr class="separator:a9536f4565cfdd1cc46f4fe12d6f81540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8692c80c5dc7cf897fa275e3a7e3a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#acb8692c80c5dc7cf897fa275e3a7e3a8">~FollowTailIterator</a> () override</td></tr>
<tr class="separator:acb8692c80c5dc7cf897fa275e3a7e3a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6413aff55700d090846c50da8427ada8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#a6413aff55700d090846c50da8427ada8">Init</a> () override</td></tr>
<tr class="memdesc:a6413aff55700d090846c50da8427ada8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize or reinitialize the iterator.  <a href="#a6413aff55700d090846c50da8427ada8">More...</a><br /></td></tr>
<tr class="separator:a6413aff55700d090846c50da8427ada8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57ca157fc5daf9f862ba9484d1a83b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#ab57ca157fc5daf9f862ba9484d1a83b3">Read</a> () override</td></tr>
<tr class="memdesc:ab57ca157fc5daf9f862ba9484d1a83b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a single row.  <a href="#ab57ca157fc5daf9f862ba9484d1a83b3">More...</a><br /></td></tr>
<tr class="separator:ab57ca157fc5daf9f862ba9484d1a83b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad72ab9d14205703ec4ab71f243bab6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#abad72ab9d14205703ec4ab71f243bab6">set_stored_rows_pointer</a> (<a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *stored_rows)</td></tr>
<tr class="memdesc:abad72ab9d14205703ec4ab71f243bab6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal where we can expect to find the number of generated rows for this materialization (this points into the MaterializeIterator's data).  <a href="#abad72ab9d14205703ec4ab71f243bab6">More...</a><br /></td></tr>
<tr class="separator:abad72ab9d14205703ec4ab71f243bab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d215c0db11c91aac7ce3cb940acf237"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#a0d215c0db11c91aac7ce3cb940acf237">RepositionCursorAfterSpillToDisk</a> ()</td></tr>
<tr class="memdesc:a0d215c0db11c91aac7ce3cb940acf237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to the iterator that the underlying table was closed and replaced with an InnoDB table with the same data, due to a spill-to-disk (e.g.  <a href="#a0d215c0db11c91aac7ce3cb940acf237">More...</a><br /></td></tr>
<tr class="separator:a0d215c0db11c91aac7ce3cb940acf237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classTableRowIterator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classTableRowIterator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classTableRowIterator.html">TableRowIterator</a></td></tr>
<tr class="memitem:a6cebbaf17776a508905ab89dda56bb80 inherit pub_methods_classTableRowIterator"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableRowIterator.html#a6cebbaf17776a508905ab89dda56bb80">TableRowIterator</a> (<a class="el" href="classTHD.html">THD</a> *<a class="el" href="classRowIterator.html#a2bc0f8df841b7807092480fc1bd0224e">thd</a>, <a class="el" href="structTABLE.html">TABLE</a> *<a class="el" href="classTableRowIterator.html#a5f1d19ba7984ab821a048b6274e712a9">table</a>)</td></tr>
<tr class="separator:a6cebbaf17776a508905ab89dda56bb80 inherit pub_methods_classTableRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c97ddb280f9183ebf46a9cbcc4a9202 inherit pub_methods_classTableRowIterator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableRowIterator.html#a1c97ddb280f9183ebf46a9cbcc4a9202">UnlockRow</a> () override</td></tr>
<tr class="memdesc:a1c97ddb280f9183ebf46a9cbcc4a9202 inherit pub_methods_classTableRowIterator"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default implementation of unlock-row method of RowIterator, used in all access methods except EQRefIterator.  <a href="classTableRowIterator.html#a1c97ddb280f9183ebf46a9cbcc4a9202">More...</a><br /></td></tr>
<tr class="separator:a1c97ddb280f9183ebf46a9cbcc4a9202 inherit pub_methods_classTableRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b44792464cb2c5070c1305f121f68a5 inherit pub_methods_classTableRowIterator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableRowIterator.html#a8b44792464cb2c5070c1305f121f68a5">SetNullRowFlag</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> is_null_row) override</td></tr>
<tr class="memdesc:a8b44792464cb2c5070c1305f121f68a5 inherit pub_methods_classTableRowIterator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the current row buffer as containing a NULL row or not, so that if you read from it and the flag is true, you'll get only NULLs no matter what is actually in the buffer (typically some old leftover row).  <a href="classTableRowIterator.html#a8b44792464cb2c5070c1305f121f68a5">More...</a><br /></td></tr>
<tr class="separator:a8b44792464cb2c5070c1305f121f68a5 inherit pub_methods_classTableRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a779598be87550cbb91e8cbb9a6c8ac38 inherit pub_methods_classTableRowIterator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableRowIterator.html#a779598be87550cbb91e8cbb9a6c8ac38">StartPSIBatchMode</a> () override</td></tr>
<tr class="memdesc:a779598be87550cbb91e8cbb9a6c8ac38 inherit pub_methods_classTableRowIterator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start performance schema batch mode, if supported (otherwise ignored).  <a href="classTableRowIterator.html#a779598be87550cbb91e8cbb9a6c8ac38">More...</a><br /></td></tr>
<tr class="separator:a779598be87550cbb91e8cbb9a6c8ac38 inherit pub_methods_classTableRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4eefdbacd421a23d688cc2adab1a3e inherit pub_methods_classTableRowIterator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableRowIterator.html#a3e4eefdbacd421a23d688cc2adab1a3e">EndPSIBatchModeIfStarted</a> () override</td></tr>
<tr class="memdesc:a3e4eefdbacd421a23d688cc2adab1a3e inherit pub_methods_classTableRowIterator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends performance schema batch mode, if started.  <a href="classTableRowIterator.html#a3e4eefdbacd421a23d688cc2adab1a3e">More...</a><br /></td></tr>
<tr class="separator:a3e4eefdbacd421a23d688cc2adab1a3e inherit pub_methods_classTableRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classRowIterator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classRowIterator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classRowIterator.html">RowIterator</a></td></tr>
<tr class="memitem:a9e730a0c6722be2f9841fd6b7a3f6a52 inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a9e730a0c6722be2f9841fd6b7a3f6a52">RowIterator</a> (<a class="el" href="classTHD.html">THD</a> *<a class="el" href="classRowIterator.html#a2bc0f8df841b7807092480fc1bd0224e">thd</a>)</td></tr>
<tr class="separator:a9e730a0c6722be2f9841fd6b7a3f6a52 inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8778b8e93d01e1e47f0e98804882ea8e inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a8778b8e93d01e1e47f0e98804882ea8e">~RowIterator</a> ()</td></tr>
<tr class="separator:a8778b8e93d01e1e47f0e98804882ea8e inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb75cd99708ea3f1d62b41c8072f1d96 inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#acb75cd99708ea3f1d62b41c8072f1d96">TimingString</a> () const</td></tr>
<tr class="separator:acb75cd99708ea3f1d62b41c8072f1d96 inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c66d3011c7b1be88eead51270c53d74 inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classRowIterator.html">RowIterator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a3c66d3011c7b1be88eead51270c53d74">real_iterator</a> ()</td></tr>
<tr class="memdesc:a3c66d3011c7b1be88eead51270c53d74 inherit pub_methods_classRowIterator"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this iterator is wrapping a different iterator (e.g.  <a href="classRowIterator.html#a3c66d3011c7b1be88eead51270c53d74">More...</a><br /></td></tr>
<tr class="separator:a3c66d3011c7b1be88eead51270c53d74 inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0baf633d8ed8803dc77c86a2c9faeda inherit pub_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classRowIterator.html">RowIterator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#ad0baf633d8ed8803dc77c86a2c9faeda">real_iterator</a> () const</td></tr>
<tr class="separator:ad0baf633d8ed8803dc77c86a2c9faeda inherit pub_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a989407681c755c31c3c6bcd742cb3722"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#a989407681c755c31c3c6bcd742cb3722">m_record</a></td></tr>
<tr class="separator:a989407681c755c31c3c6bcd742cb3722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cbb53fe6407700f832c0c79c436915c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQEP__TAB.html">QEP_TAB</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#a6cbb53fe6407700f832c0c79c436915c">m_qep_tab</a></td></tr>
<tr class="separator:a6cbb53fe6407700f832c0c79c436915c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31aacde063c5ada558371515908364b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#a31aacde063c5ada558371515908364b0">m_examined_rows</a></td></tr>
<tr class="separator:a31aacde063c5ada558371515908364b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae3ba308af19f7a73097ed07b1d599ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#aae3ba308af19f7a73097ed07b1d599ce">m_read_rows</a></td></tr>
<tr class="separator:aae3ba308af19f7a73097ed07b1d599ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad163ce638c849e16798160250213821d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#ad163ce638c849e16798160250213821d">m_end_of_current_iteration</a></td></tr>
<tr class="separator:ad163ce638c849e16798160250213821d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42329fb75332dce66e07e2fe0eaeeb5b"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#a42329fb75332dce66e07e2fe0eaeeb5b">m_recursive_iteration_count</a></td></tr>
<tr class="separator:a42329fb75332dce66e07e2fe0eaeeb5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7533f8cb790fd7c00e0a161c717919a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFollowTailIterator.html#aa7533f8cb790fd7c00e0a161c717919a">m_stored_rows</a> = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td></tr>
<tr class="separator:aa7533f8cb790fd7c00e0a161c717919a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classTableRowIterator"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classTableRowIterator')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classTableRowIterator.html">TableRowIterator</a></td></tr>
<tr class="memitem:a2781c058240b4ee66675869a8f992cc7 inherit pro_methods_classTableRowIterator"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableRowIterator.html#a2781c058240b4ee66675869a8f992cc7">HandleError</a> (int <a class="el" href="udf__utils_8h.html#a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282">error</a>)</td></tr>
<tr class="separator:a2781c058240b4ee66675869a8f992cc7 inherit pro_methods_classTableRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a456045aad51c0414e3fee2c5274684cd inherit pro_methods_classTableRowIterator"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableRowIterator.html#a456045aad51c0414e3fee2c5274684cd">PrintError</a> (int <a class="el" href="udf__utils_8h.html#a94574db9da98006dc95d6c2fb37c3978acb5e100e5a9a3e7f6d1fd97512215282">error</a>)</td></tr>
<tr class="separator:a456045aad51c0414e3fee2c5274684cd inherit pro_methods_classTableRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f1d19ba7984ab821a048b6274e712a9 inherit pro_methods_classTableRowIterator"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTableRowIterator.html#a5f1d19ba7984ab821a048b6274e712a9">table</a> () const</td></tr>
<tr class="separator:a5f1d19ba7984ab821a048b6274e712a9 inherit pro_methods_classTableRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classRowIterator"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classRowIterator')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classRowIterator.html">RowIterator</a></td></tr>
<tr class="memitem:a2bc0f8df841b7807092480fc1bd0224e inherit pro_methods_classRowIterator"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTHD.html">THD</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRowIterator.html#a2bc0f8df841b7807092480fc1bd0224e">thd</a> () const</td></tr>
<tr class="separator:a2bc0f8df841b7807092480fc1bd0224e inherit pro_methods_classRowIterator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>FollowTailIterator is a special version of TableScanIterator that is used as part of WITH RECURSIVE queries. </p>
<p>It is designed to read from a temporary table at the same time as MaterializeIterator writes to the same table, picking up new records in the order they come in &ndash; it follows the tail, much like the UNIX tool “tail -f”.</p>
<p>Furthermore, when materializing a recursive query expression consisting of multiple query blocks, MaterializeIterator needs to run each block several times until convergence. (For a single query block, one iteration suffices, since the iterator sees new records as they come in.) Each such run, the recursive references should see only rows that were added since the last iteration, even though Init() is called anew. FollowTailIterator is thus different from TableScanIterator in that subsequent calls to Init() do not move the cursor back to the start.</p>
<p>In addition, FollowTailIterator implements the WITH RECURSIVE iteration limit. This is not specified in terms of Init() calls, since one run can encompass many iterations. Instead, it keeps track of the number of records in the table at the start of iteration, and when it has read all of those records, the next iteration is deemed to have begun. If the iteration counter is above the user-set limit, it raises an error to stop runaway queries with infinite recursion. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9536f4565cfdd1cc46f4fe12d6f81540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9536f4565cfdd1cc46f4fe12d6f81540">&#9670;&nbsp;</a></span>FollowTailIterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FollowTailIterator::FollowTailIterator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classQEP__TAB.html">QEP_TAB</a> *&#160;</td>
          <td class="paramname"><em>qep_tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *&#160;</td>
          <td class="paramname"><em>examined_rows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acb8692c80c5dc7cf897fa275e3a7e3a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8692c80c5dc7cf897fa275e3a7e3a8">&#9670;&nbsp;</a></span>~FollowTailIterator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FollowTailIterator::~FollowTailIterator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6413aff55700d090846c50da8427ada8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6413aff55700d090846c50da8427ada8">&#9670;&nbsp;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> FollowTailIterator::Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize or reinitialize the iterator. </p>
<p>You must always call Init() before trying a Read() (but Init() does not imply Read()).</p>
<p>You can call Init() multiple times; subsequent calls will rewind the iterator (or reposition it, depending on whether the iterator takes in e.g. a TABLE_REF) and allow you to read the records anew. </p>

<p>Implements <a class="el" href="classRowIterator.html#affadaf033307f837d0ef187e994f9e28">RowIterator</a>.</p>

</div>
</div>
<a id="ab57ca157fc5daf9f862ba9484d1a83b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab57ca157fc5daf9f862ba9484d1a83b3">&#9670;&nbsp;</a></span>Read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int FollowTailIterator::Read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a single row. </p>
<p>The row data is not actually returned from the function; it is put in the table's (or tables', in case of a join) record buffer, ie., table-&gt;records[0].</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">-1</td><td>End of records </td></tr>
    <tr><td class="paramname">1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classRowIterator.html#adcd98414b1c657236d1156cab8e6e867">RowIterator</a>.</p>

</div>
</div>
<a id="a0d215c0db11c91aac7ce3cb940acf237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d215c0db11c91aac7ce3cb940acf237">&#9670;&nbsp;</a></span>RepositionCursorAfterSpillToDisk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> FollowTailIterator::RepositionCursorAfterSpillToDisk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal to the iterator that the underlying table was closed and replaced with an InnoDB table with the same data, due to a spill-to-disk (e.g. </p>
<p>the table used to be MEMORY and now is InnoDB). This is required so that Read() can continue scanning from the right place. Called by MaterializeIterator::MaterializeRecursive(). </p>

</div>
</div>
<a id="abad72ab9d14205703ec4ab71f243bab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad72ab9d14205703ec4ab71f243bab6">&#9670;&nbsp;</a></span>set_stored_rows_pointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FollowTailIterator::set_stored_rows_pointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> *&#160;</td>
          <td class="paramname"><em>stored_rows</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal where we can expect to find the number of generated rows for this materialization (this points into the MaterializeIterator's data). </p>
<p>This must be called when we start materializing the CTE, before Init() runs. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad163ce638c849e16798160250213821d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad163ce638c849e16798160250213821d">&#9670;&nbsp;</a></span>m_end_of_current_iteration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> FollowTailIterator::m_end_of_current_iteration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a31aacde063c5ada558371515908364b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31aacde063c5ada558371515908364b0">&#9670;&nbsp;</a></span>m_examined_rows</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>* const FollowTailIterator::m_examined_rows</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6cbb53fe6407700f832c0c79c436915c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cbb53fe6407700f832c0c79c436915c">&#9670;&nbsp;</a></span>m_qep_tab</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQEP__TAB.html">QEP_TAB</a>* const FollowTailIterator::m_qep_tab</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aae3ba308af19f7a73097ed07b1d599ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae3ba308af19f7a73097ed07b1d599ce">&#9670;&nbsp;</a></span>m_read_rows</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> FollowTailIterator::m_read_rows</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a989407681c755c31c3c6bcd742cb3722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989407681c755c31c3c6bcd742cb3722">&#9670;&nbsp;</a></span>m_record</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a>* const FollowTailIterator::m_record</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a42329fb75332dce66e07e2fe0eaeeb5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42329fb75332dce66e07e2fe0eaeeb5b">&#9670;&nbsp;</a></span>m_recursive_iteration_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned FollowTailIterator::m_recursive_iteration_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa7533f8cb790fd7c00e0a161c717919a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7533f8cb790fd7c00e0a161c717919a">&#9670;&nbsp;</a></span>m_stored_rows</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>* FollowTailIterator::m_stored_rows = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="basic__row__iterators_8h_source.html">basic_row_iterators.h</a></li>
<li>sql/<a class="el" href="records_8cc.html">records.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classFollowTailIterator.html">FollowTailIterator</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
