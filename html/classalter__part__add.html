<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: alter_part_add Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classalter__part__add.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classalter__part__add-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">alter_part_add Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class which handles the partition of the state PART_TO_BE_ADDED.  
 <a href="classalter__part__add.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for alter_part_add:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classalter__part__add.png" usemap="#alter_5Fpart_5Fadd_map" alt=""/>
  <map id="alter_5Fpart_5Fadd_map" name="alter_5Fpart_5Fadd_map">
<area href="classalter__part.html" title="Class(interface) which manages the operations for partitions of states in different categories during..." alt="alter_part" shape="rect" coords="0,0,94,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8112d2c1261a84d0cc6ccd770052aeb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#a8112d2c1261a84d0cc6ccd770052aeb1">alter_part_add</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="classalter__part.html#a75dcbc5292d7d3bf346b0c0688a63a6c">part_id</a>, <a class="el" href="partition__element_8h.html#a8e92adad4824dfcc0d76f041f23f62f7">partition_state</a> <a class="el" href="classalter__part.html#a7efe75422c216ace36ca010bee5e16d4">state</a>, const char *table_name, const char *tablespace, <a class="el" href="structtrx__t.html">trx_t</a> *trx, const <a class="el" href="classAlter__inplace__info.html">Alter_inplace_info</a> *ha_alter_info, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> file_per_table, ib_uint64_t autoinc, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> conflict)</td></tr>
<tr class="memdesc:a8112d2c1261a84d0cc6ccd770052aeb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a8112d2c1261a84d0cc6ccd770052aeb1">More...</a><br /></td></tr>
<tr class="separator:a8112d2c1261a84d0cc6ccd770052aeb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab546149aefece0ecb7ed3e7effd4c900"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#ab546149aefece0ecb7ed3e7effd4c900">~alter_part_add</a> () override</td></tr>
<tr class="memdesc:ab546149aefece0ecb7ed3e7effd4c900"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ab546149aefece0ecb7ed3e7effd4c900">More...</a><br /></td></tr>
<tr class="separator:ab546149aefece0ecb7ed3e7effd4c900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65258e63b8749fc0583f1bc8106115d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#ad65258e63b8749fc0583f1bc8106115d">prepare</a> (<a class="el" href="structTABLE.html">TABLE</a> *altered_table, const <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *old_part, <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *new_part) override</td></tr>
<tr class="memdesc:ad65258e63b8749fc0583f1bc8106115d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare.  <a href="#ad65258e63b8749fc0583f1bc8106115d">More...</a><br /></td></tr>
<tr class="separator:ad65258e63b8749fc0583f1bc8106115d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab184d53e662673dbe2f8cd91aad9ece6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#ab184d53e662673dbe2f8cd91aad9ece6">try_commit</a> (const <a class="el" href="structTABLE.html">TABLE</a> *table, <a class="el" href="structTABLE.html">TABLE</a> *altered_table, const <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *old_part, <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *new_part) override</td></tr>
<tr class="memdesc:ab184d53e662673dbe2f8cd91aad9ece6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to commit.  <a href="#ab184d53e662673dbe2f8cd91aad9ece6">More...</a><br /></td></tr>
<tr class="separator:ab184d53e662673dbe2f8cd91aad9ece6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b41f5befd9f64891d4c5c107199077"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#a02b41f5befd9f64891d4c5c107199077">rollback</a> () override</td></tr>
<tr class="memdesc:a02b41f5befd9f64891d4c5c107199077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rollback.  <a href="#a02b41f5befd9f64891d4c5c107199077">More...</a><br /></td></tr>
<tr class="separator:a02b41f5befd9f64891d4c5c107199077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classalter__part"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classalter__part')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classalter__part.html">alter_part</a></td></tr>
<tr class="memitem:a67de1752a78200f02c4fd00d129d894e inherit pub_methods_classalter__part"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a67de1752a78200f02c4fd00d129d894e">~alter_part</a> ()</td></tr>
<tr class="memdesc:a67de1752a78200f02c4fd00d129d894e inherit pub_methods_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor.  <a href="classalter__part.html#a67de1752a78200f02c4fd00d129d894e">More...</a><br /></td></tr>
<tr class="separator:a67de1752a78200f02c4fd00d129d894e inherit pub_methods_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75dcbc5292d7d3bf346b0c0688a63a6c inherit pub_methods_classalter__part"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a75dcbc5292d7d3bf346b0c0688a63a6c">part_id</a> () const</td></tr>
<tr class="memdesc:a75dcbc5292d7d3bf346b0c0688a63a6c inherit pub_methods_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the partition id.  <a href="classalter__part.html#a75dcbc5292d7d3bf346b0c0688a63a6c">More...</a><br /></td></tr>
<tr class="separator:a75dcbc5292d7d3bf346b0c0688a63a6c inherit pub_methods_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7efe75422c216ace36ca010bee5e16d4 inherit pub_methods_classalter__part"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="partition__element_8h.html#a8e92adad4824dfcc0d76f041f23f62f7">partition_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a7efe75422c216ace36ca010bee5e16d4">state</a> () const</td></tr>
<tr class="memdesc:a7efe75422c216ace36ca010bee5e16d4 inherit pub_methods_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the partition state.  <a href="classalter__part.html#a7efe75422c216ace36ca010bee5e16d4">More...</a><br /></td></tr>
<tr class="separator:a7efe75422c216ace36ca010bee5e16d4 inherit pub_methods_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a261f7e244ed3a9136af02d561a44d6 inherit pub_methods_classalter__part"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a3a261f7e244ed3a9136af02d561a44d6">new_table</a> ()</td></tr>
<tr class="memdesc:a3a261f7e244ed3a9136af02d561a44d6 inherit pub_methods_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the InnoDB table object for newly created partition if applicable.  <a href="classalter__part.html#a3a261f7e244ed3a9136af02d561a44d6">More...</a><br /></td></tr>
<tr class="separator:a3a261f7e244ed3a9136af02d561a44d6 inherit pub_methods_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df2d9dcd3cd603f541c1c8c4037f93f inherit pub_methods_classalter__part"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a5df2d9dcd3cd603f541c1c8c4037f93f">free_old_part</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_in_cache, const char *part_name)</td></tr>
<tr class="memdesc:a5df2d9dcd3cd603f541c1c8c4037f93f inherit pub_methods_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the freed old partition to nullptr to avoid dangling pointer.  <a href="classalter__part.html#a5df2d9dcd3cd603f541c1c8c4037f93f">More...</a><br /></td></tr>
<tr class="separator:a5df2d9dcd3cd603f541c1c8c4037f93f inherit pub_methods_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6cea688c5e0a56c2d779be6c23ea24ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#a6cea688c5e0a56c2d779be6c23ea24ba">need_rename</a> () const</td></tr>
<tr class="memdesc:a6cea688c5e0a56c2d779be6c23ea24ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the new partition file needs a temporary name and should be renamed at last.  <a href="#a6cea688c5e0a56c2d779be6c23ea24ba">More...</a><br /></td></tr>
<tr class="separator:a6cea688c5e0a56c2d779be6c23ea24ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a234dc8682ff0b9827c8fbf30d64609c8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAlter__inplace__info.html">Alter_inplace_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#a234dc8682ff0b9827c8fbf30d64609c8">m_ha_alter_info</a></td></tr>
<tr class="memdesc:a234dc8682ff0b9827c8fbf30d64609c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">ALTER information.  <a href="#a234dc8682ff0b9827c8fbf30d64609c8">More...</a><br /></td></tr>
<tr class="separator:a234dc8682ff0b9827c8fbf30d64609c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af354c32362428f929adbe11c01398914"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#af354c32362428f929adbe11c01398914">m_file_per_table</a></td></tr>
<tr class="memdesc:af354c32362428f929adbe11c01398914"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current value of innodb_file_per_table.  <a href="#af354c32362428f929adbe11c01398914">More...</a><br /></td></tr>
<tr class="separator:af354c32362428f929adbe11c01398914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af531b0f3d926b339e4438477aeb1ecb6"><td class="memItemLeft" align="right" valign="top">const ib_uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#af531b0f3d926b339e4438477aeb1ecb6">m_autoinc</a></td></tr>
<tr class="memdesc:af531b0f3d926b339e4438477aeb1ecb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next AUTOINC value to use.  <a href="#af531b0f3d926b339e4438477aeb1ecb6">More...</a><br /></td></tr>
<tr class="separator:af531b0f3d926b339e4438477aeb1ecb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd02edf1d0c3a14bfe65311411cb311"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#aedd02edf1d0c3a14bfe65311411cb311">m_conflict</a></td></tr>
<tr class="memdesc:aedd02edf1d0c3a14bfe65311411cb311"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if there is already a partition table with the same name.  <a href="#aedd02edf1d0c3a14bfe65311411cb311">More...</a><br /></td></tr>
<tr class="separator:aedd02edf1d0c3a14bfe65311411cb311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24429cee07bfb2a31d7db8ba5eaa8cd1"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part__add.html#a24429cee07bfb2a31d7db8ba5eaa8cd1">m_tablespace</a> [<a class="el" href="my__io_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>+1]</td></tr>
<tr class="memdesc:a24429cee07bfb2a31d7db8ba5eaa8cd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tablespace of this partition.  <a href="#a24429cee07bfb2a31d7db8ba5eaa8cd1">More...</a><br /></td></tr>
<tr class="separator:a24429cee07bfb2a31d7db8ba5eaa8cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classalter__part"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classalter__part')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classalter__part.html">alter_part</a></td></tr>
<tr class="memitem:a3025222fc10e5697c764727c5c3da6ba inherit pro_methods_classalter__part"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a3025222fc10e5697c764727c5c3da6ba">alter_part</a> (<a class="el" href="structtrx__t.html">trx_t</a> *trx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="classalter__part.html#a75dcbc5292d7d3bf346b0c0688a63a6c">part_id</a>, <a class="el" href="partition__element_8h.html#a8e92adad4824dfcc0d76f041f23f62f7">partition_state</a> <a class="el" href="classalter__part.html#a7efe75422c216ace36ca010bee5e16d4">state</a>, const char *table_name, <a class="el" href="structdict__table__t.html">dict_table_t</a> **old)</td></tr>
<tr class="memdesc:a3025222fc10e5697c764727c5c3da6ba inherit pro_methods_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classalter__part.html#a3025222fc10e5697c764727c5c3da6ba">More...</a><br /></td></tr>
<tr class="separator:a3025222fc10e5697c764727c5c3da6ba inherit pro_methods_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e1bd3f6993b7cc1d5ed7ce8ce0d78d inherit pro_methods_classalter__part"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a98e1bd3f6993b7cc1d5ed7ce8ce0d78d">build_partition_name</a> (const <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *dd_part, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> temp, char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>)</td></tr>
<tr class="memdesc:a98e1bd3f6993b7cc1d5ed7ce8ce0d78d inherit pro_methods_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the partition name for specified partition.  <a href="classalter__part.html#a98e1bd3f6993b7cc1d5ed7ce8ce0d78d">More...</a><br /></td></tr>
<tr class="separator:a98e1bd3f6993b7cc1d5ed7ce8ce0d78d inherit pro_methods_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36987a3594db20fe12b7ee60f2453dd5 inherit pro_methods_classalter__part"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a36987a3594db20fe12b7ee60f2453dd5">create</a> (const char *part_name, <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *dd_part, <a class="el" href="structTABLE.html">TABLE</a> *table, const char *tablespace, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> file_per_table, ib_uint64_t autoinc)</td></tr>
<tr class="memdesc:a36987a3594db20fe12b7ee60f2453dd5 inherit pro_methods_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new partition.  <a href="classalter__part.html#a36987a3594db20fe12b7ee60f2453dd5">More...</a><br /></td></tr>
<tr class="separator:a36987a3594db20fe12b7ee60f2453dd5 inherit pro_methods_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classalter__part"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classalter__part')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classalter__part.html">alter_part</a></td></tr>
<tr class="memitem:a7aaf57e2f2fbf9c112a515413786fea4 inherit pro_attribs_classalter__part"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__t.html">trx_t</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a7aaf57e2f2fbf9c112a515413786fea4">m_trx</a></td></tr>
<tr class="memdesc:a7aaf57e2f2fbf9c112a515413786fea4 inherit pro_attribs_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">InnoDB transaction, nullptr if not used.  <a href="classalter__part.html#a7aaf57e2f2fbf9c112a515413786fea4">More...</a><br /></td></tr>
<tr class="separator:a7aaf57e2f2fbf9c112a515413786fea4 inherit pro_attribs_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfc6b8317e4675963affe2e4fdee261 inherit pro_attribs_classalter__part"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a7dfc6b8317e4675963affe2e4fdee261">m_part_id</a></td></tr>
<tr class="memdesc:a7dfc6b8317e4675963affe2e4fdee261 inherit pro_attribs_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partition id in the table.  <a href="classalter__part.html#a7dfc6b8317e4675963affe2e4fdee261">More...</a><br /></td></tr>
<tr class="separator:a7dfc6b8317e4675963affe2e4fdee261 inherit pro_attribs_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41bfa4e1f3daf7162be75d8ac4ea3a8b inherit pro_attribs_classalter__part"><td class="memItemLeft" align="right" valign="top"><a class="el" href="partition__element_8h.html#a8e92adad4824dfcc0d76f041f23f62f7">partition_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a41bfa4e1f3daf7162be75d8ac4ea3a8b">m_state</a></td></tr>
<tr class="memdesc:a41bfa4e1f3daf7162be75d8ac4ea3a8b inherit pro_attribs_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partition state of the partition on which this class will do operations.  <a href="classalter__part.html#a41bfa4e1f3daf7162be75d8ac4ea3a8b">More...</a><br /></td></tr>
<tr class="separator:a41bfa4e1f3daf7162be75d8ac4ea3a8b inherit pro_attribs_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaab3bd06133df5ee8c3e6dcd51b2e08 inherit pro_attribs_classalter__part"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#abaab3bd06133df5ee8c3e6dcd51b2e08">m_table_name</a></td></tr>
<tr class="memdesc:abaab3bd06133df5ee8c3e6dcd51b2e08 inherit pro_attribs_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">Partitioned table name, in form of .  <a href="classalter__part.html#abaab3bd06133df5ee8c3e6dcd51b2e08">More...</a><br /></td></tr>
<tr class="separator:abaab3bd06133df5ee8c3e6dcd51b2e08 inherit pro_attribs_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad112cefa4926a6e656cd5a51f436108 inherit pro_attribs_classalter__part"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__table__t.html">dict_table_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#aad112cefa4926a6e656cd5a51f436108">m_old</a></td></tr>
<tr class="memdesc:aad112cefa4926a6e656cd5a51f436108 inherit pro_attribs_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">The InnoDB table object for old partition.  <a href="classalter__part.html#aad112cefa4926a6e656cd5a51f436108">More...</a><br /></td></tr>
<tr class="separator:aad112cefa4926a6e656cd5a51f436108 inherit pro_attribs_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47fef3e3222fe7d214aa081cbeda18fb inherit pro_attribs_classalter__part"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classalter__part.html#a47fef3e3222fe7d214aa081cbeda18fb">m_new</a></td></tr>
<tr class="memdesc:a47fef3e3222fe7d214aa081cbeda18fb inherit pro_attribs_classalter__part"><td class="mdescLeft">&#160;</td><td class="mdescRight">The InnoDB table object for newly created partition.  <a href="classalter__part.html#a47fef3e3222fe7d214aa081cbeda18fb">More...</a><br /></td></tr>
<tr class="separator:a47fef3e3222fe7d214aa081cbeda18fb inherit pro_attribs_classalter__part"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class which handles the partition of the state PART_TO_BE_ADDED. </p>
<p>See comments for alter_part_factory::create_for_reorg and alter_part_factory::create_for_non_reorg. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8112d2c1261a84d0cc6ccd770052aeb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8112d2c1261a84d0cc6ccd770052aeb1">&#9670;&nbsp;</a></span>alter_part_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">alter_part_add::alter_part_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>part_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="partition__element_8h.html#a8e92adad4824dfcc0d76f041f23f62f7">partition_state</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tablespace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAlter__inplace__info.html">Alter_inplace_info</a> *&#160;</td>
          <td class="paramname"><em>ha_alter_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>file_per_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_uint64_t&#160;</td>
          <td class="paramname"><em>autoinc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>conflict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">part_id</td><td>Partition id in the table. This could be partition id for either old table or new table, callers should remember which one is applicable </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">state</td><td>Partition state of the partition on which this class will do operations. If this is for one partition in new table, the partition state is the same for both the new partition and the corresponding old partition </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table_name</td><td>Partitioned table name, in the form of db/table, which already considers the charset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tablespace</td><td>Tablespace specified explicitly </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">trx</td><td>InnoDB transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ha_alter_info</td><td>ALTER information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file_per_table</td><td>Current value of innodb_file_per_table </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">autoinc</td><td>Next autoinc value to use </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">conflict</td><td>True if there is already a partition table with the same name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab546149aefece0ecb7ed3e7effd4c900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab546149aefece0ecb7ed3e7effd4c900">&#9670;&nbsp;</a></span>~alter_part_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">alter_part_add::~alter_part_add </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6cea688c5e0a56c2d779be6c23ea24ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cea688c5e0a56c2d779be6c23ea24ba">&#9670;&nbsp;</a></span>need_rename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> alter_part_add::need_rename </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the new partition file needs a temporary name and should be renamed at last. </p>

</div>
</div>
<a id="ad65258e63b8749fc0583f1bc8106115d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65258e63b8749fc0583f1bc8106115d">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int alter_part_add::prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>altered_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *&#160;</td>
          <td class="paramname"><em>old_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *&#160;</td>
          <td class="paramname"><em>new_part</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">altered_table</td><td>Table definition after the ALTER </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">old_part</td><td>the stored old partition or nullptr if no corresponding one exists </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">new_part</td><td>the stored new partition or nullptr if no corresponding one exists </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or error number </dd></dl>

<p>Reimplemented from <a class="el" href="classalter__part.html#aeb388ac6f423afae9594d885c20c9956">alter_part</a>.</p>

</div>
</div>
<a id="a02b41f5befd9f64891d4c5c107199077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02b41f5befd9f64891d4c5c107199077">&#9670;&nbsp;</a></span>rollback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void alter_part_add::rollback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rollback. </p>

<p>Reimplemented from <a class="el" href="classalter__part.html#a426476be6b079c16d458641a55396c6e">alter_part</a>.</p>

</div>
</div>
<a id="ab184d53e662673dbe2f8cd91aad9ece6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab184d53e662673dbe2f8cd91aad9ece6">&#9670;&nbsp;</a></span>try_commit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int alter_part_add::try_commit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>altered_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *&#160;</td>
          <td class="paramname"><em>old_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdd_1_1Partition.html">dd::Partition</a> *&#160;</td>
          <td class="paramname"><em>new_part</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to commit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table definition before the ALTER </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">altered_table</td><td>Table definition after the ALTER </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">old_part</td><td>the stored old partition or nullptr if no corresponding one exists </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">new_part</td><td>the stored new partition or nullptr if no corresponding one exists </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or error number </dd></dl>

<p>Reimplemented from <a class="el" href="classalter__part.html#a330e158b50375e312947bcc9864e1549">alter_part</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af531b0f3d926b339e4438477aeb1ecb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af531b0f3d926b339e4438477aeb1ecb6">&#9670;&nbsp;</a></span>m_autoinc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ib_uint64_t alter_part_add::m_autoinc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Next AUTOINC value to use. </p>

</div>
</div>
<a id="aedd02edf1d0c3a14bfe65311411cb311"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd02edf1d0c3a14bfe65311411cb311">&#9670;&nbsp;</a></span>m_conflict</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> alter_part_add::m_conflict</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if there is already a partition table with the same name. </p>

</div>
</div>
<a id="af354c32362428f929adbe11c01398914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af354c32362428f929adbe11c01398914">&#9670;&nbsp;</a></span>m_file_per_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> alter_part_add::m_file_per_table</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current value of innodb_file_per_table. </p>

</div>
</div>
<a id="a234dc8682ff0b9827c8fbf30d64609c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234dc8682ff0b9827c8fbf30d64609c8">&#9670;&nbsp;</a></span>m_ha_alter_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAlter__inplace__info.html">Alter_inplace_info</a>* alter_part_add::m_ha_alter_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ALTER information. </p>

</div>
</div>
<a id="a24429cee07bfb2a31d7db8ba5eaa8cd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24429cee07bfb2a31d7db8ba5eaa8cd1">&#9670;&nbsp;</a></span>m_tablespace</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char alter_part_add::m_tablespace[<a class="el" href="my__io_8h.html#a0fd6678904889e4aeff1402c35e890da">FN_REFLEN</a>+1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tablespace of this partition. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>storage/innobase/handler/<a class="el" href="handler0alter_8cc.html">handler0alter.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classalter__part__add.html">alter_part_add</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
