<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: MDL_ticket_store Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classMDL__ticket__store.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMDL__ticket__store-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MDL_ticket_store Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Keep track of MDL_ticket for different durations.  
 <a href="classMDL__ticket__store.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mdl_8h_source.html">mdl.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMDL__ticket__store_1_1Duration.html">Duration</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMDL__ticket__store_1_1Hash.html">Hash</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMDL__ticket__store_1_1Key__equal.html">Key_equal</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_handle</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility struct for representing a ticket pointer and its duration.  <a href="structMDL__ticket__store_1_1MDL__ticket__handle.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6b84e4255a5517289e8810df6067161c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a6b84e4255a5517289e8810df6067161c">List_iterator</a> = <a class="el" href="classI__P__List.html#ae93e3648df7beb86049f429074a451cf">Ticket_p_list::Iterator</a></td></tr>
<tr class="memdesc:a6b84e4255a5517289e8810df6067161c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public alias.  <a href="#a6b84e4255a5517289e8810df6067161c">More...</a><br /></td></tr>
<tr class="separator:a6b84e4255a5517289e8810df6067161c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a971d3a003a90f2626df37f74e654cb16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a971d3a003a90f2626df37f74e654cb16">MDL_ticket_store</a> ()</td></tr>
<tr class="memdesc:a971d3a003a90f2626df37f74e654cb16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs store.  <a href="#a971d3a003a90f2626df37f74e654cb16">More...</a><br /></td></tr>
<tr class="separator:a971d3a003a90f2626df37f74e654cb16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52f4bcf5558071569eef455ec10257c"><td class="memTemplParams" colspan="2">template&lt;typename CLOS &gt; </td></tr>
<tr class="memitem:ae52f4bcf5558071569eef455ec10257c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#ae52f4bcf5558071569eef455ec10257c">for_each_ticket_in_duration_list</a> (<a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a> dur, CLOS &amp;&amp;clos)</td></tr>
<tr class="memdesc:ae52f4bcf5558071569eef455ec10257c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the closure provided as argument for each of the MDL_tickets in the given duration.  <a href="#ae52f4bcf5558071569eef455ec10257c">More...</a><br /></td></tr>
<tr class="separator:ae52f4bcf5558071569eef455ec10257c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e85e55ea73767a816343393c85ed62"><td class="memTemplParams" colspan="2">template&lt;typename CLOS &gt; </td></tr>
<tr class="memitem:a17e85e55ea73767a816343393c85ed62"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a17e85e55ea73767a816343393c85ed62">for_each_ticket_in_ticket_lists</a> (CLOS &amp;&amp;clos)</td></tr>
<tr class="memdesc:a17e85e55ea73767a816343393c85ed62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls the closure provided as argument for each of the MDL_tickets in the store.  <a href="#a17e85e55ea73767a816343393c85ed62">More...</a><br /></td></tr>
<tr class="separator:a17e85e55ea73767a816343393c85ed62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52628f330de16ccd61b2855aa7a9367"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#af52628f330de16ccd61b2855aa7a9367">is_empty</a> () const</td></tr>
<tr class="memdesc:af52628f330de16ccd61b2855aa7a9367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate for the emptiness of the store.  <a href="#af52628f330de16ccd61b2855aa7a9367">More...</a><br /></td></tr>
<tr class="separator:af52628f330de16ccd61b2855aa7a9367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92196bc712515724a463d9438f61da2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#ac92196bc712515724a463d9438f61da2">is_empty</a> (int di) const</td></tr>
<tr class="memdesc:ac92196bc712515724a463d9438f61da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate for the emptiness of a given duration list.  <a href="#ac92196bc712515724a463d9438f61da2">More...</a><br /></td></tr>
<tr class="separator:ac92196bc712515724a463d9438f61da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba574aa9315c24b91aa9a2a2676cb744"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__ticket.html">MDL_ticket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#aba574aa9315c24b91aa9a2a2676cb744">front</a> (int di)</td></tr>
<tr class="memdesc:aba574aa9315c24b91aa9a2a2676cb744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the first MDL_ticket for the given duration.  <a href="#aba574aa9315c24b91aa9a2a2676cb744">More...</a><br /></td></tr>
<tr class="separator:aba574aa9315c24b91aa9a2a2676cb744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a997497cde08eda8d701b9d16f4925b89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a997497cde08eda8d701b9d16f4925b89">push_front</a> (<a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a> dur, <a class="el" href="classMDL__ticket.html">MDL_ticket</a> *ticket)</td></tr>
<tr class="memdesc:a997497cde08eda8d701b9d16f4925b89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push a ticket onto the list for a given duration.  <a href="#a997497cde08eda8d701b9d16f4925b89">More...</a><br /></td></tr>
<tr class="separator:a997497cde08eda8d701b9d16f4925b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6805a2149ed3f098a12252e6f8a83492"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a6805a2149ed3f098a12252e6f8a83492">remove</a> (<a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a> dur, <a class="el" href="classMDL__ticket.html">MDL_ticket</a> *ticket)</td></tr>
<tr class="memdesc:a6805a2149ed3f098a12252e6f8a83492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a ticket from a duration list.  <a href="#a6805a2149ed3f098a12252e6f8a83492">More...</a><br /></td></tr>
<tr class="separator:a6805a2149ed3f098a12252e6f8a83492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c456b3ed00e418a7eb1c6e4960e0cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__ticket__store.html#a6b84e4255a5517289e8810df6067161c">List_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a21c456b3ed00e418a7eb1c6e4960e0cd">list_iterator</a> (int di) const</td></tr>
<tr class="memdesc:a21c456b3ed00e418a7eb1c6e4960e0cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a P-list iterator to the given duration.  <a href="#a21c456b3ed00e418a7eb1c6e4960e0cd">More...</a><br /></td></tr>
<tr class="separator:a21c456b3ed00e418a7eb1c6e4960e0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795868275e0d7cd0cb8b4376dc0af6f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a795868275e0d7cd0cb8b4376dc0af6f5">move_all_to_explicit_duration</a> ()</td></tr>
<tr class="memdesc:a795868275e0d7cd0cb8b4376dc0af6f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move all tickets to the explicit duration list.  <a href="#a795868275e0d7cd0cb8b4376dc0af6f5">More...</a><br /></td></tr>
<tr class="separator:a795868275e0d7cd0cb8b4376dc0af6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7bd69183e6e8934d47d7ca84735c16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a7a7bd69183e6e8934d47d7ca84735c16">move_explicit_to_transaction_duration</a> ()</td></tr>
<tr class="memdesc:a7a7bd69183e6e8934d47d7ca84735c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move all tickets to the transaction duration list.  <a href="#a7a7bd69183e6e8934d47d7ca84735c16">More...</a><br /></td></tr>
<tr class="separator:a7a7bd69183e6e8934d47d7ca84735c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d060101826efce9004df92b19076c16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a2d060101826efce9004df92b19076c16">find</a> (const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;req) const</td></tr>
<tr class="memdesc:a2d060101826efce9004df92b19076c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up a ticket based on its MDL_key.  <a href="#a2d060101826efce9004df92b19076c16">More...</a><br /></td></tr>
<tr class="separator:a2d060101826efce9004df92b19076c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b4a795826421eadfa7970e4b08a6ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a39b4a795826421eadfa7970e4b08a6ba">set_materialized</a> ()</td></tr>
<tr class="memdesc:a39b4a795826421eadfa7970e4b08a6ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark boundary for tickets with fast_path=false, so that later calls to materialize_fast_path_locks() do not have to traverse the whole set of tickets.  <a href="#a39b4a795826421eadfa7970e4b08a6ba">More...</a><br /></td></tr>
<tr class="separator:a39b4a795826421eadfa7970e4b08a6ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a611eb02e2ef8ffe1e934f9e751a7fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__ticket.html">MDL_ticket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a8a611eb02e2ef8ffe1e934f9e751a7fe">materialized_front</a> (int di)</td></tr>
<tr class="memdesc:a8a611eb02e2ef8ffe1e934f9e751a7fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the first ticket for which materialize_fast_path_locks already has been called for the given duration.  <a href="#a8a611eb02e2ef8ffe1e934f9e751a7fe">More...</a><br /></td></tr>
<tr class="separator:a8a611eb02e2ef8ffe1e934f9e751a7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a3deaa00ef1edc059a61b3de93c7ca2c4"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a3deaa00ef1edc059a61b3de93c7ca2c4">Ticket_p_list</a> = <a class="el" href="classI__P__List.html">I_P_List</a>&lt; <a class="el" href="classMDL__ticket.html">MDL_ticket</a>, <a class="el" href="structI__P__List__adapter.html">I_P_List_adapter</a>&lt; <a class="el" href="classMDL__ticket.html">MDL_ticket</a>, &amp;<a class="el" href="classMDL__ticket.html#a74155707577dfd12cc7f47229e4f0d17">MDL_ticket::next_in_context</a>, &amp;<a class="el" href="classMDL__ticket.html#a88281cdb21f74551799ae0940b89aed1">MDL_ticket::prev_in_context</a> &gt; &gt;</td></tr>
<tr class="separator:a3deaa00ef1edc059a61b3de93c7ca2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb16835bf5f5f81453266ee3066a13b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#afdb16835bf5f5f81453266ee3066a13b">Ticket_map</a> = std::unordered_multimap&lt; const <a class="el" href="structMDL__key.html">MDL_key</a> *, <a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_handle</a>, <a class="el" href="structMDL__ticket__store_1_1Hash.html">Hash</a>, <a class="el" href="structMDL__ticket__store_1_1Key__equal.html">Key_equal</a> &gt;</td></tr>
<tr class="separator:afdb16835bf5f5f81453266ee3066a13b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad7fe16b439838d67506b73e6ba475ad2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#ad7fe16b439838d67506b73e6ba475ad2">find_in_lists</a> (const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;req) const</td></tr>
<tr class="separator:ad7fe16b439838d67506b73e6ba475ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a620eee5e5f3aa775e1c6ebf248861280"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_handle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a620eee5e5f3aa775e1c6ebf248861280">find_in_hash</a> (const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;req) const</td></tr>
<tr class="separator:a620eee5e5f3aa775e1c6ebf248861280"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab67a3c00c54dd9bd8d8c464e2277c4e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structMDL__ticket__store_1_1Duration.html">Duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#ab67a3c00c54dd9bd8d8c464e2277c4e4">m_durations</a> [<a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30da9f14cfff6379a5bcfdbf708c571feeef">MDL_DURATION_END</a>]</td></tr>
<tr class="separator:ab67a3c00c54dd9bd8d8c464e2277c4e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ee947504d735aa617c2a4f607612da"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a92ee947504d735aa617c2a4f607612da">THRESHOLD</a> = 256</td></tr>
<tr class="memdesc:a92ee947504d735aa617c2a4f607612da"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the number of tickets in the ticket store (in all durations) is equal to, or exceeds this constant the hash index (in the form of an unordered_multi_map) will be maintained and used for lookups.  <a href="#a92ee947504d735aa617c2a4f607612da">More...</a><br /></td></tr>
<tr class="separator:a92ee947504d735aa617c2a4f607612da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517bb3e760ddbde73b3d47e479d80dd9"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a517bb3e760ddbde73b3d47e479d80dd9">INITIAL_BUCKET_COUNT</a> = <a class="el" href="classMDL__ticket__store.html#a92ee947504d735aa617c2a4f607612da">THRESHOLD</a> * 2</td></tr>
<tr class="memdesc:a517bb3e760ddbde73b3d47e479d80dd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial number of buckets in the hash index.  <a href="#a517bb3e760ddbde73b3d47e479d80dd9">More...</a><br /></td></tr>
<tr class="separator:a517bb3e760ddbde73b3d47e479d80dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3287539f6f5669d364feb327f7e1f95d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a3287539f6f5669d364feb327f7e1f95d">m_count</a> = 0</td></tr>
<tr class="separator:a3287539f6f5669d364feb327f7e1f95d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2811408e413eb7061f998ea33fb95f6d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classMDL__ticket__store.html#afdb16835bf5f5f81453266ee3066a13b">Ticket_map</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__ticket__store.html#a2811408e413eb7061f998ea33fb95f6d">m_map</a></td></tr>
<tr class="separator:a2811408e413eb7061f998ea33fb95f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Keep track of MDL_ticket for different durations. </p>
<p>Maintains a hash-based secondary index into the linked lists, to speed up access by MDL_key. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a6b84e4255a5517289e8810df6067161c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b84e4255a5517289e8810df6067161c">&#9670;&nbsp;</a></span>List_iterator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classMDL__ticket__store.html#a6b84e4255a5517289e8810df6067161c">MDL_ticket_store::List_iterator</a> =  <a class="el" href="classI__P__List.html#ae93e3648df7beb86049f429074a451cf">Ticket_p_list::Iterator</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public alias. </p>

</div>
</div>
<a id="afdb16835bf5f5f81453266ee3066a13b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdb16835bf5f5f81453266ee3066a13b">&#9670;&nbsp;</a></span>Ticket_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classMDL__ticket__store.html#afdb16835bf5f5f81453266ee3066a13b">MDL_ticket_store::Ticket_map</a> =  std::unordered_multimap&lt;const <a class="el" href="structMDL__key.html">MDL_key</a> *, <a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_handle</a>, <a class="el" href="structMDL__ticket__store_1_1Hash.html">Hash</a>, <a class="el" href="structMDL__ticket__store_1_1Key__equal.html">Key_equal</a>&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3deaa00ef1edc059a61b3de93c7ca2c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3deaa00ef1edc059a61b3de93c7ca2c4">&#9670;&nbsp;</a></span>Ticket_p_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classMDL__ticket__store.html#a3deaa00ef1edc059a61b3de93c7ca2c4">MDL_ticket_store::Ticket_p_list</a> =  <a class="el" href="classI__P__List.html">I_P_List</a>&lt;<a class="el" href="classMDL__ticket.html">MDL_ticket</a>, <a class="el" href="structI__P__List__adapter.html">I_P_List_adapter</a>&lt;<a class="el" href="classMDL__ticket.html">MDL_ticket</a>, &amp;<a class="el" href="classMDL__ticket.html#a74155707577dfd12cc7f47229e4f0d17">MDL_ticket::next_in_context</a>, &amp;<a class="el" href="classMDL__ticket.html#a88281cdb21f74551799ae0940b89aed1">MDL_ticket::prev_in_context</a>&gt; &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a971d3a003a90f2626df37f74e654cb16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a971d3a003a90f2626df37f74e654cb16">&#9670;&nbsp;</a></span>MDL_ticket_store()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MDL_ticket_store::MDL_ticket_store </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs store. </p>
<p>The hash index is initially empty. Filled on demand. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2d060101826efce9004df92b19076c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d060101826efce9004df92b19076c16">&#9670;&nbsp;</a></span>find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_store::MDL_ticket_handle</a> MDL_ticket_store::find </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up a ticket based on its MDL_key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>request to locate ticket for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MDL_ticket_handle with ticket pointer and found duration (or nullptr and MDL_DURATION_END if not found </dd></dl>
<p>DBUG_OFF </p>

</div>
</div>
<a id="a620eee5e5f3aa775e1c6ebf248861280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a620eee5e5f3aa775e1c6ebf248861280">&#9670;&nbsp;</a></span>find_in_hash()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_store::MDL_ticket_handle</a> MDL_ticket_store::find_in_hash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad7fe16b439838d67506b73e6ba475ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7fe16b439838d67506b73e6ba475ad2">&#9670;&nbsp;</a></span>find_in_lists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMDL__ticket__store_1_1MDL__ticket__handle.html">MDL_ticket_store::MDL_ticket_handle</a> MDL_ticket_store::find_in_lists </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae52f4bcf5558071569eef455ec10257c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52f4bcf5558071569eef455ec10257c">&#9670;&nbsp;</a></span>for_each_ticket_in_duration_list()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename CLOS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_ticket_store::for_each_ticket_in_duration_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a>&#160;</td>
          <td class="paramname"><em>dur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CLOS &amp;&amp;&#160;</td>
          <td class="paramname"><em>clos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the closure provided as argument for each of the MDL_tickets in the given duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dur</td><td>duration list to iterate over </td></tr>
    <tr><td class="paramname">clos</td><td>closure to invoke for each ticket in the list </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17e85e55ea73767a816343393c85ed62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17e85e55ea73767a816343393c85ed62">&#9670;&nbsp;</a></span>for_each_ticket_in_ticket_lists()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename CLOS &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_ticket_store::for_each_ticket_in_ticket_lists </td>
          <td>(</td>
          <td class="paramtype">CLOS &amp;&amp;&#160;</td>
          <td class="paramname"><em>clos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls the closure provided as argument for each of the MDL_tickets in the store. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clos</td><td>closure to invoke for each ticket in the store </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba574aa9315c24b91aa9a2a2676cb744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba574aa9315c24b91aa9a2a2676cb744">&#9670;&nbsp;</a></span>front()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__ticket.html">MDL_ticket</a> * MDL_ticket_store::front </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>di</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the first MDL_ticket for the given duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">di</td><td>duration to get first ticket for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>first ticket in the given duration or nullptr if no such tickets exist </dd></dl>

</div>
</div>
<a id="af52628f330de16ccd61b2855aa7a9367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52628f330de16ccd61b2855aa7a9367">&#9670;&nbsp;</a></span>is_empty() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> MDL_ticket_store::is_empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate for the emptiness of the store. </p>
<dl class="section return"><dt>Returns</dt><dd>true if there are no tickets in the store </dd></dl>

</div>
</div>
<a id="ac92196bc712515724a463d9438f61da2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92196bc712515724a463d9438f61da2">&#9670;&nbsp;</a></span>is_empty() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> MDL_ticket_store::is_empty </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>di</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate for the emptiness of a given duration list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">di</td><td>the duration to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there are no tickets with the given duration </dd></dl>

</div>
</div>
<a id="a21c456b3ed00e418a7eb1c6e4960e0cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c456b3ed00e418a7eb1c6e4960e0cd">&#9670;&nbsp;</a></span>list_iterator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__ticket__store.html#a6b84e4255a5517289e8810df6067161c">List_iterator</a> MDL_ticket_store::list_iterator </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>di</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a P-list iterator to the given duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">di</td><td>duration list index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>P-list iterator to tickets with given duration </dd></dl>

</div>
</div>
<a id="a8a611eb02e2ef8ffe1e934f9e751a7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a611eb02e2ef8ffe1e934f9e751a7fe">&#9670;&nbsp;</a></span>materialized_front()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__ticket.html">MDL_ticket</a> * MDL_ticket_store::materialized_front </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>di</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the first ticket for which materialize_fast_path_locks already has been called for the given duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">di</td><td>duration list index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>first materialized ticket for the given duration </dd></dl>

</div>
</div>
<a id="a795868275e0d7cd0cb8b4376dc0af6f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795868275e0d7cd0cb8b4376dc0af6f5">&#9670;&nbsp;</a></span>move_all_to_explicit_duration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_ticket_store::move_all_to_explicit_duration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move all tickets to the explicit duration list. </p>

</div>
</div>
<a id="a7a7bd69183e6e8934d47d7ca84735c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a7bd69183e6e8934d47d7ca84735c16">&#9670;&nbsp;</a></span>move_explicit_to_transaction_duration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_ticket_store::move_explicit_to_transaction_duration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move all tickets to the transaction duration list. </p>

</div>
</div>
<a id="a997497cde08eda8d701b9d16f4925b89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a997497cde08eda8d701b9d16f4925b89">&#9670;&nbsp;</a></span>push_front()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_ticket_store::push_front </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a>&#160;</td>
          <td class="paramname"><em>dur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMDL__ticket.html">MDL_ticket</a> *&#160;</td>
          <td class="paramname"><em>ticket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push a ticket onto the list for a given duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dur</td><td>duration list to push into </td></tr>
    <tr><td class="paramname">ticket</td><td>to push </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6805a2149ed3f098a12252e6f8a83492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6805a2149ed3f098a12252e6f8a83492">&#9670;&nbsp;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_ticket_store::remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a>&#160;</td>
          <td class="paramname"><em>dur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMDL__ticket.html">MDL_ticket</a> *&#160;</td>
          <td class="paramname"><em>ticket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a ticket from a duration list. </p>
<p>Note that since the underlying list is an intrusive linked list there is no guarantee that the ticket is actually in the duration list. It will be removed from which ever list it is in. </p>

</div>
</div>
<a id="a39b4a795826421eadfa7970e4b08a6ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39b4a795826421eadfa7970e4b08a6ba">&#9670;&nbsp;</a></span>set_materialized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_ticket_store::set_materialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark boundary for tickets with fast_path=false, so that later calls to materialize_fast_path_locks() do not have to traverse the whole set of tickets. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a517bb3e760ddbde73b3d47e479d80dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a517bb3e760ddbde73b3d47e479d80dd9">&#9670;&nbsp;</a></span>INITIAL_BUCKET_COUNT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t MDL_ticket_store::INITIAL_BUCKET_COUNT = <a class="el" href="classMDL__ticket__store.html#a92ee947504d735aa617c2a4f607612da">THRESHOLD</a> * 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initial number of buckets in the hash index. </p>
<p>THRESHOLD is chosen to get a fill-factor of 50% when reaching the threshold value. </p>

</div>
</div>
<a id="a3287539f6f5669d364feb327f7e1f95d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3287539f6f5669d364feb327f7e1f95d">&#9670;&nbsp;</a></span>m_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t MDL_ticket_store::m_count = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab67a3c00c54dd9bd8d8c464e2277c4e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67a3c00c54dd9bd8d8c464e2277c4e4">&#9670;&nbsp;</a></span>m_durations</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMDL__ticket__store_1_1Duration.html">Duration</a> MDL_ticket_store::m_durations[<a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30da9f14cfff6379a5bcfdbf708c571feeef">MDL_DURATION_END</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2811408e413eb7061f998ea33fb95f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2811408e413eb7061f998ea33fb95f6d">&#9670;&nbsp;</a></span>m_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classMDL__ticket__store.html#afdb16835bf5f5f81453266ee3066a13b">Ticket_map</a>&gt; MDL_ticket_store::m_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a92ee947504d735aa617c2a4f607612da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ee947504d735aa617c2a4f607612da">&#9670;&nbsp;</a></span>THRESHOLD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t MDL_ticket_store::THRESHOLD = 256</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If the number of tickets in the ticket store (in all durations) is equal to, or exceeds this constant the hash index (in the form of an unordered_multi_map) will be maintained and used for lookups. </p>
<p>The value 256 is chosen as it has worked well in benchmarks. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="mdl_8h_source.html">mdl.h</a></li>
<li>sql/<a class="el" href="mdl_8cc.html">mdl.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMDL__ticket__store.html">MDL_ticket_store</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
