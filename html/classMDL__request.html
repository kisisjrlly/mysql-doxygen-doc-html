<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: MDL_request Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classMDL__request.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classMDL__request-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MDL_request Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A pending metadata lock request.  
 <a href="classMDL__request.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mdl_8h_source.html">mdl.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab04208d9a63353d65b5384b2352657ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#ab04208d9a63353d65b5384b2352657ea">init_with_source</a> (<a class="el" href="structMDL__key.html#a391ec4bd98fec6852a48f7856546ed3b">MDL_key::enum_mdl_namespace</a> namespace_arg, const char *db_arg, const char *name_arg, <a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a> mdl_type_arg, <a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a> mdl_duration_arg, const char *src_file, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> src_line)</td></tr>
<tr class="memdesc:ab04208d9a63353d65b5384b2352657ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a lock request.  <a href="#ab04208d9a63353d65b5384b2352657ea">More...</a><br /></td></tr>
<tr class="separator:ab04208d9a63353d65b5384b2352657ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e16a57d0955ac62887ff87d46dee5ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a4e16a57d0955ac62887ff87d46dee5ad">init_by_key_with_source</a> (const <a class="el" href="structMDL__key.html">MDL_key</a> *key_arg, <a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a> mdl_type_arg, <a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a> mdl_duration_arg, const char *src_file, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> src_line)</td></tr>
<tr class="memdesc:a4e16a57d0955ac62887ff87d46dee5ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a lock request using pre-built MDL_key.  <a href="#a4e16a57d0955ac62887ff87d46dee5ad">More...</a><br /></td></tr>
<tr class="separator:a4e16a57d0955ac62887ff87d46dee5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f68dfdb63caeb738fc0d633fabd6daa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a4f68dfdb63caeb738fc0d633fabd6daa">init_by_part_key_with_source</a> (<a class="el" href="structMDL__key.html#a391ec4bd98fec6852a48f7856546ed3b">MDL_key::enum_mdl_namespace</a> namespace_arg, const char *part_key_arg, size_t part_key_length_arg, size_t db_length_arg, <a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a> mdl_type_arg, <a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a> mdl_duration_arg, const char *src_file, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> src_line)</td></tr>
<tr class="memdesc:a4f68dfdb63caeb738fc0d633fabd6daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a lock request using partial MDL key.  <a href="#a4f68dfdb63caeb738fc0d633fabd6daa">More...</a><br /></td></tr>
<tr class="separator:a4f68dfdb63caeb738fc0d633fabd6daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc77971b2b370098d3e6d89f816180e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a6cc77971b2b370098d3e6d89f816180e">set_type</a> (<a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a> type_arg)</td></tr>
<tr class="memdesc:a6cc77971b2b370098d3e6d89f816180e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set type of lock request.  <a href="#a6cc77971b2b370098d3e6d89f816180e">More...</a><br /></td></tr>
<tr class="separator:a6cc77971b2b370098d3e6d89f816180e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eba1fb8ec80fc083ddee0b45c683294"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a2eba1fb8ec80fc083ddee0b45c683294">is_write_lock_request</a> () const</td></tr>
<tr class="memdesc:a2eba1fb8ec80fc083ddee0b45c683294"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this a request for a lock which allow data to be updated?  <a href="#a2eba1fb8ec80fc083ddee0b45c683294">More...</a><br /></td></tr>
<tr class="separator:a2eba1fb8ec80fc083ddee0b45c683294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0464ab737f8f687f27626d2595a7125a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a0464ab737f8f687f27626d2595a7125a">is_ddl_or_lock_tables_lock_request</a> () const</td></tr>
<tr class="memdesc:a0464ab737f8f687f27626d2595a7125a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this a request for a strong, DDL/LOCK TABLES-type, of lock?  <a href="#a0464ab737f8f687f27626d2595a7125a">More...</a><br /></td></tr>
<tr class="separator:a0464ab737f8f687f27626d2595a7125a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c427f6ecbd29a5fc41808444260798d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a5c427f6ecbd29a5fc41808444260798d">MDL_request</a> ()</td></tr>
<tr class="memdesc:a5c427f6ecbd29a5fc41808444260798d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This constructor exists for two reasons:  <a href="#a5c427f6ecbd29a5fc41808444260798d">More...</a><br /></td></tr>
<tr class="separator:a5c427f6ecbd29a5fc41808444260798d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3bbdffd2a0b94c57a4fa34aac7262e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#afc3bbdffd2a0b94c57a4fa34aac7262e">MDL_request</a> (const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;rhs)</td></tr>
<tr class="separator:afc3bbdffd2a0b94c57a4fa34aac7262e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452d9549ba5f4893abb05765abf6930f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a452d9549ba5f4893abb05765abf6930f">MDL_request</a> (<a class="el" href="classMDL__request.html">MDL_request</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a452d9549ba5f4893abb05765abf6930f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c3769c30ce3f63568896cd6b047e658"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__request.html">MDL_request</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a7c3769c30ce3f63568896cd6b047e658">operator=</a> (<a class="el" href="classMDL__request.html">MDL_request</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a7c3769c30ce3f63568896cd6b047e658"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3bbf52f5d0a8cf5708fdae8e2324c09d"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a3bbf52f5d0a8cf5708fdae8e2324c09d">operator new</a> (size_t size, <a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *<a class="el" href="client__plugin_8cc.html#a7d0fe2f135db987da18cea87b4778737">mem_root</a>, const std::nothrow_t &amp;arg=std::nothrow) noexcept</td></tr>
<tr class="separator:a3bbf52f5d0a8cf5708fdae8e2324c09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8922223338424c4294b2cecc482182"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a7e8922223338424c4294b2cecc482182">operator delete</a> (void *, <a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *, const std::nothrow_t &amp;) noexcept</td></tr>
<tr class="separator:a7e8922223338424c4294b2cecc482182"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a45697de7da028013d9b8752607bf6768"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a45697de7da028013d9b8752607bf6768">type</a> {<a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccbae221f959e09d9dce2ac169f2d8bf33c6">MDL_INTENTION_EXCLUSIVE</a>}</td></tr>
<tr class="memdesc:a45697de7da028013d9b8752607bf6768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of metadata lock.  <a href="#a45697de7da028013d9b8752607bf6768">More...</a><br /></td></tr>
<tr class="separator:a45697de7da028013d9b8752607bf6768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe787d830f07c3cef8127660cc53a6cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#abe787d830f07c3cef8127660cc53a6cb">duration</a> {<a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30da675d77e333e224c13925f152d698ca14">MDL_STATEMENT</a>}</td></tr>
<tr class="memdesc:abe787d830f07c3cef8127660cc53a6cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Duration for requested lock.  <a href="#abe787d830f07c3cef8127660cc53a6cb">More...</a><br /></td></tr>
<tr class="separator:abe787d830f07c3cef8127660cc53a6cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d3b3f440b67b7665b3a2701a14e2b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__request.html">MDL_request</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#ad9d3b3f440b67b7665b3a2701a14e2b2">next_in_list</a> {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td></tr>
<tr class="memdesc:ad9d3b3f440b67b7665b3a2701a14e2b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointers for participating in the list of lock requests for this context.  <a href="#ad9d3b3f440b67b7665b3a2701a14e2b2">More...</a><br /></td></tr>
<tr class="separator:ad9d3b3f440b67b7665b3a2701a14e2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7ba7a3d2a1b9374f0dbe0be197854a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__request.html">MDL_request</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a9e7ba7a3d2a1b9374f0dbe0be197854a">prev_in_list</a> {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td></tr>
<tr class="separator:a9e7ba7a3d2a1b9374f0dbe0be197854a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99421002fe2ea1580766846c0ef339ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMDL__ticket.html">MDL_ticket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#a99421002fe2ea1580766846c0ef339ae">ticket</a> {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td></tr>
<tr class="memdesc:a99421002fe2ea1580766846c0ef339ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the lock ticket object for this lock request.  <a href="#a99421002fe2ea1580766846c0ef339ae">More...</a><br /></td></tr>
<tr class="separator:a99421002fe2ea1580766846c0ef339ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30e06e36d9191120575cc0c0402554a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structMDL__key.html">MDL_key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#ab30e06e36d9191120575cc0c0402554a">key</a></td></tr>
<tr class="memdesc:ab30e06e36d9191120575cc0c0402554a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A lock is requested based on a fully qualified name and type.  <a href="#ab30e06e36d9191120575cc0c0402554a">More...</a><br /></td></tr>
<tr class="separator:ab30e06e36d9191120575cc0c0402554a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55387aeb49a4f81ecaa87fd481a310b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#aa55387aeb49a4f81ecaa87fd481a310b">m_src_file</a> {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td></tr>
<tr class="separator:aa55387aeb49a4f81ecaa87fd481a310b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5f59ed9b9bfa377f8f4afab470653b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMDL__request.html#aeb5f59ed9b9bfa377f8f4afab470653b">m_src_line</a> {0}</td></tr>
<tr class="separator:aeb5f59ed9b9bfa377f8f4afab470653b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A pending metadata lock request. </p>
<p>A lock request and a granted metadata lock are represented by different classes because they have different allocation sites and hence different lifetimes. The allocation of lock requests is controlled from outside of the MDL subsystem, while allocation of granted locks (tickets) is controlled within the MDL subsystem. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5c427f6ecbd29a5fc41808444260798d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c427f6ecbd29a5fc41808444260798d">&#9670;&nbsp;</a></span>MDL_request() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MDL_request::MDL_request </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This constructor exists for two reasons: </p>
<ul>
<li>TABLE_LIST objects are sometimes default-constructed. We plan to remove this as there is no practical reason, the call to the default constructor is always followed by either a call to TABLE_LIST::operator= or memberwise assignments.</li>
<li><p class="startli">In some legacy cases TABLE_LIST objects are copy-assigned without intention to copy the TABLE_LIST::mdl_request member. In this cases they are overwritten with an uninitialized MDL_request object. The cases are:</p><ul>
<li>Sql_cmd_handler_open::execute()</li>
<li>mysql_execute_command()</li>
<li>SELECT_LEX_UNIT::prepare()</li>
<li>fill_defined_view_parts()</li>
</ul>
<p class="startli">No new cases are expected. In all other cases, so far only Locked_tables_list::rename_locked_table(), a move assignment is actually what is intended. </p>
</li>
</ul>

</div>
</div>
<a id="afc3bbdffd2a0b94c57a4fa34aac7262e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3bbdffd2a0b94c57a4fa34aac7262e">&#9670;&nbsp;</a></span>MDL_request() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MDL_request::MDL_request </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMDL__request.html">MDL_request</a> &amp;&#160;</td>
          <td class="paramname"><em>rhs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a452d9549ba5f4893abb05765abf6930f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a452d9549ba5f4893abb05765abf6930f">&#9670;&nbsp;</a></span>MDL_request() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MDL_request::MDL_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMDL__request.html">MDL_request</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4e16a57d0955ac62887ff87d46dee5ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e16a57d0955ac62887ff87d46dee5ad">&#9670;&nbsp;</a></span>init_by_key_with_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_request::init_by_key_with_source </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structMDL__key.html">MDL_key</a> *&#160;</td>
          <td class="paramname"><em>key_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a>&#160;</td>
          <td class="paramname"><em>mdl_type_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a>&#160;</td>
          <td class="paramname"><em>mdl_duration_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>src_line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a lock request using pre-built MDL_key. </p>
<dl class="section see"><dt>See also</dt><dd>MDL_request::init(namespace, db, name, type).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key_arg</td><td>The pre-built MDL key for the request. </td></tr>
    <tr><td class="paramname">mdl_type_arg</td><td>The MDL lock type for the request. </td></tr>
    <tr><td class="paramname">mdl_duration_arg</td><td>The MDL duration for the request. </td></tr>
    <tr><td class="paramname">src_file</td><td>Source file name issuing the request. </td></tr>
    <tr><td class="paramname">src_line</td><td>Source line number issuing the request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f68dfdb63caeb738fc0d633fabd6daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f68dfdb63caeb738fc0d633fabd6daa">&#9670;&nbsp;</a></span>init_by_part_key_with_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_request::init_by_part_key_with_source </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMDL__key.html#a391ec4bd98fec6852a48f7856546ed3b">MDL_key::enum_mdl_namespace</a>&#160;</td>
          <td class="paramname"><em>namespace_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>part_key_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>part_key_length_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>db_length_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a>&#160;</td>
          <td class="paramname"><em>mdl_type_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a>&#160;</td>
          <td class="paramname"><em>mdl_duration_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>src_line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a lock request using partial MDL key. </p>
<dl class="section see"><dt>See also</dt><dd>MDL_request::init(namespace, db, name, type).</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The partial key must be "&lt;database&gt;\0&lt;name&gt;\0".</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">namespace_arg</td><td>Id of namespace of object to be locked </td></tr>
    <tr><td class="paramname">part_key_arg</td><td>Partial key. </td></tr>
    <tr><td class="paramname">part_key_length_arg</td><td>Partial key length </td></tr>
    <tr><td class="paramname">db_length_arg</td><td>Database name length. </td></tr>
    <tr><td class="paramname">mdl_type_arg</td><td>The MDL lock type for the request. </td></tr>
    <tr><td class="paramname">mdl_duration_arg</td><td>The MDL duration for the request. </td></tr>
    <tr><td class="paramname">src_file</td><td>Source file name issuing the request. </td></tr>
    <tr><td class="paramname">src_line</td><td>Source line number issuing the request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab04208d9a63353d65b5384b2352657ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04208d9a63353d65b5384b2352657ea">&#9670;&nbsp;</a></span>init_with_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_request::init_with_source </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMDL__key.html#a391ec4bd98fec6852a48f7856546ed3b">MDL_key::enum_mdl_namespace</a>&#160;</td>
          <td class="paramname"><em>mdl_namespace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a>&#160;</td>
          <td class="paramname"><em>mdl_type_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a>&#160;</td>
          <td class="paramname"><em>mdl_duration_arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>src_line</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a lock request. </p>
<p>This is to be used for every lock request.</p>
<p>Note that initialization and allocation are split into two calls. This is to allow flexible memory management of lock requests. Normally a lock request is stored in statement memory (e.g. is a member of struct TABLE_LIST), but we would also like to allow allocation of lock requests in other memory roots, for example in the grant subsystem, to lock privilege tables.</p>
<p>The MDL subsystem does not own or manage memory of lock requests.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdl_namespace</td><td>Id of namespace of object to be locked </td></tr>
    <tr><td class="paramname">db_arg</td><td>Name of database to which the object belongs </td></tr>
    <tr><td class="paramname">name_arg</td><td>Name of of the object </td></tr>
    <tr><td class="paramname">mdl_type_arg</td><td>The MDL lock type for the request. </td></tr>
    <tr><td class="paramname">mdl_duration_arg</td><td>The MDL duration for the request. </td></tr>
    <tr><td class="paramname">src_file</td><td>Source file name issuing the request. </td></tr>
    <tr><td class="paramname">src_line</td><td>Source line number issuing the request. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0464ab737f8f687f27626d2595a7125a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0464ab737f8f687f27626d2595a7125a">&#9670;&nbsp;</a></span>is_ddl_or_lock_tables_lock_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> MDL_request::is_ddl_or_lock_tables_lock_request </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this a request for a strong, DDL/LOCK TABLES-type, of lock? </p>

</div>
</div>
<a id="a2eba1fb8ec80fc083ddee0b45c683294"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eba1fb8ec80fc083ddee0b45c683294">&#9670;&nbsp;</a></span>is_write_lock_request()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> MDL_request::is_write_lock_request </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this a request for a lock which allow data to be updated? </p>
<dl class="section note"><dt>Note</dt><dd>This method returns true for MDL_SHARED_UPGRADABLE type of lock. Even though this type of lock doesn't allow updates it will always be upgraded to one that does. </dd></dl>

</div>
</div>
<a id="a7e8922223338424c4294b2cecc482182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e8922223338424c4294b2cecc482182">&#9670;&nbsp;</a></span>operator delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void MDL_request::operator delete </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::nothrow_t &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3bbf52f5d0a8cf5708fdae8e2324c09d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bbf52f5d0a8cf5708fdae8e2324c09d">&#9670;&nbsp;</a></span>operator new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* MDL_request::operator new </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *&#160;</td>
          <td class="paramname"><em>mem_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::nothrow_t &amp;&#160;</td>
          <td class="paramname"><em>arg</em> = <code>std::nothrow</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7c3769c30ce3f63568896cd6b047e658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c3769c30ce3f63568896cd6b047e658">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__request.html">MDL_request</a>&amp; MDL_request::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMDL__request.html">MDL_request</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6cc77971b2b370098d3e6d89f816180e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc77971b2b370098d3e6d89f816180e">&#9670;&nbsp;</a></span>set_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_request::set_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a>&#160;</td>
          <td class="paramname"><em>type_arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set type of lock request. </p>
<p>Can be only applied to pending locks. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="abe787d830f07c3cef8127660cc53a6cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe787d830f07c3cef8127660cc53a6cb">&#9670;&nbsp;</a></span>duration</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30d">enum_mdl_duration</a> MDL_request::duration {<a class="el" href="mdl_8h.html#a7006da9c94c9b6cfb347cfc58b87c30da675d77e333e224c13925f152d698ca14">MDL_STATEMENT</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Duration for requested lock. </p>

</div>
</div>
<a id="ab30e06e36d9191120575cc0c0402554a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab30e06e36d9191120575cc0c0402554a">&#9670;&nbsp;</a></span>key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMDL__key.html">MDL_key</a> MDL_request::key</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A lock is requested based on a fully qualified name and type. </p>

</div>
</div>
<a id="aa55387aeb49a4f81ecaa87fd481a310b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55387aeb49a4f81ecaa87fd481a310b">&#9670;&nbsp;</a></span>m_src_file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* MDL_request::m_src_file {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeb5f59ed9b9bfa377f8f4afab470653b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5f59ed9b9bfa377f8f4afab470653b">&#9670;&nbsp;</a></span>m_src_line</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> MDL_request::m_src_line {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad9d3b3f440b67b7665b3a2701a14e2b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d3b3f440b67b7665b3a2701a14e2b2">&#9670;&nbsp;</a></span>next_in_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__request.html">MDL_request</a>* MDL_request::next_in_list {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointers for participating in the list of lock requests for this context. </p>

</div>
</div>
<a id="a9e7ba7a3d2a1b9374f0dbe0be197854a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7ba7a3d2a1b9374f0dbe0be197854a">&#9670;&nbsp;</a></span>prev_in_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__request.html">MDL_request</a>** MDL_request::prev_in_list {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a99421002fe2ea1580766846c0ef339ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99421002fe2ea1580766846c0ef339ae">&#9670;&nbsp;</a></span>ticket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMDL__ticket.html">MDL_ticket</a>* MDL_request::ticket {<a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the lock ticket object for this lock request. </p>
<p>Valid only if this lock request is satisfied. </p>

</div>
</div>
<a id="a45697de7da028013d9b8752607bf6768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45697de7da028013d9b8752607bf6768">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccb">enum_mdl_type</a> MDL_request::type {<a class="el" href="mdl_8h.html#a7b8d423b69ef9a2842803673e2f0dccbae221f959e09d9dce2ac169f2d8bf33c6">MDL_INTENTION_EXCLUSIVE</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of metadata lock. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="mdl_8h_source.html">mdl.h</a></li>
<li>sql/<a class="el" href="mdl_8cc.html">mdl.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMDL__request.html">MDL_request</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
