<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Ignore_json_syntax_handler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classIgnore__json__syntax__handler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classIgnore__json__syntax__handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Ignore_json_syntax_handler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An error handler which downgrades JSON syntax errors to warnings.  
 <a href="classIgnore__json__syntax__handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="error__handler_8h_source.html">error_handler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Ignore_json_syntax_handler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classIgnore__json__syntax__handler.png" usemap="#Ignore_5Fjson_5Fsyntax_5Fhandler_map" alt=""/>
  <map id="Ignore_5Fjson_5Fsyntax_5Fhandler_map" name="Ignore_5Fjson_5Fsyntax_5Fhandler_map">
<area href="classInternal__error__handler.html" title="This class represents the interface for internal error handlers. " alt="Internal_error_handler" shape="rect" coords="0,0,171,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a34a610919e95b98cb2bf832a6bc3d9ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIgnore__json__syntax__handler.html#a34a610919e95b98cb2bf832a6bc3d9ed">Ignore_json_syntax_handler</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> enabled)</td></tr>
<tr class="separator:a34a610919e95b98cb2bf832a6bc3d9ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959526cbb5b570a8127d29f81b6f9319"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIgnore__json__syntax__handler.html#a959526cbb5b570a8127d29f81b6f9319">~Ignore_json_syntax_handler</a> () override</td></tr>
<tr class="separator:a959526cbb5b570a8127d29f81b6f9319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20255deab0d4e4093f9ae14e9ba3137f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIgnore__json__syntax__handler.html#a20255deab0d4e4093f9ae14e9ba3137f">handle_condition</a> (<a class="el" href="classTHD.html">THD</a> *, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>, const char *, <a class="el" href="classSql__condition.html#ab0602581e19cddb609bfe10c44be4e83">Sql_condition::enum_severity_level</a> *, const char *) override</td></tr>
<tr class="memdesc:a20255deab0d4e4093f9ae14e9ba3137f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a sql condition.  <a href="#a20255deab0d4e4093f9ae14e9ba3137f">More...</a><br /></td></tr>
<tr class="separator:a20255deab0d4e4093f9ae14e9ba3137f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afd8f1c099c896c30650fd2b9cc387c15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTHD.html">THD</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIgnore__json__syntax__handler.html#afd8f1c099c896c30650fd2b9cc387c15">m_thd</a></td></tr>
<tr class="separator:afd8f1c099c896c30650fd2b9cc387c15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9044462259efb6e265c43876bd80994"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIgnore__json__syntax__handler.html#af9044462259efb6e265c43876bd80994">m_enabled</a></td></tr>
<tr class="separator:af9044462259efb6e265c43876bd80994"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classInternal__error__handler"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classInternal__error__handler')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classInternal__error__handler.html">Internal_error_handler</a></td></tr>
<tr class="memitem:a74d690d7842fd8892caec8ab5fa32ac3 inherit pro_methods_classInternal__error__handler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInternal__error__handler.html#a74d690d7842fd8892caec8ab5fa32ac3">Internal_error_handler</a> ()</td></tr>
<tr class="separator:a74d690d7842fd8892caec8ab5fa32ac3 inherit pro_methods_classInternal__error__handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733a8bb99f1da243b8c177111520edf7 inherit pro_methods_classInternal__error__handler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInternal__error__handler.html">Internal_error_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInternal__error__handler.html#a733a8bb99f1da243b8c177111520edf7">prev_internal_handler</a> () const</td></tr>
<tr class="separator:a733a8bb99f1da243b8c177111520edf7 inherit pro_methods_classInternal__error__handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e5bad7ec4b23216cff7799f41d4e939 inherit pro_methods_classInternal__error__handler"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInternal__error__handler.html#a4e5bad7ec4b23216cff7799f41d4e939">~Internal_error_handler</a> ()</td></tr>
<tr class="separator:a4e5bad7ec4b23216cff7799f41d4e939 inherit pro_methods_classInternal__error__handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An error handler which downgrades JSON syntax errors to warnings. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a34a610919e95b98cb2bf832a6bc3d9ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a610919e95b98cb2bf832a6bc3d9ed">&#9670;&nbsp;</a></span>Ignore_json_syntax_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ignore_json_syntax_handler::Ignore_json_syntax_handler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a959526cbb5b570a8127d29f81b6f9319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a959526cbb5b570a8127d29f81b6f9319">&#9670;&nbsp;</a></span>~Ignore_json_syntax_handler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Ignore_json_syntax_handler::~Ignore_json_syntax_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a20255deab0d4e4093f9ae14e9ba3137f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20255deab0d4e4093f9ae14e9ba3137f">&#9670;&nbsp;</a></span>handle_condition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Ignore_json_syntax_handler::handle_condition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>sql_errno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sqlstate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSql__condition.html#ab0602581e19cddb609bfe10c44be4e83">Sql_condition::enum_severity_level</a> *&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle a sql condition. </p>
<p>This method can be implemented by a subclass to achieve any of the following:</p><ul>
<li>mask a warning/error internally, prevent exposing it to the user,</li>
<li>mask a warning/error and throw another one instead. When this method returns true, the sql condition is considered 'handled', and will not be propagated to upper layers. It is the responsibility of the code installing an internal handler to then check for trapped conditions, and implement logic to recover from the anticipated conditions trapped during runtime.</li>
</ul>
<p>This mechanism is similar to C++ try/throw/catch:</p><ul>
<li>'try' correspond to <code>THD::push_internal_handler()</code>,</li>
<li>'throw' correspond to <code>my_error()</code>, which invokes <code>my_message_sql()</code>,</li>
<li>'catch' correspond to checking how/if an internal handler was invoked, before removing it from the exception stack with <code>THD::pop_internal_handler()</code>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>the calling thread </td></tr>
    <tr><td class="paramname">sql_errno</td><td>the error number for the condition raised. </td></tr>
    <tr><td class="paramname">sqlstate</td><td>the SQLSTATE for the condition raised. </td></tr>
    <tr><td class="paramname">level</td><td>the severity level for the condition raised. </td></tr>
    <tr><td class="paramname">msg</td><td>the error message for the condition raised. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the condition is handled </dd></dl>

<p>Implements <a class="el" href="classInternal__error__handler.html#ae3d546e46894c2528282d8fb14025bce">Internal_error_handler</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af9044462259efb6e265c43876bd80994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9044462259efb6e265c43876bd80994">&#9670;&nbsp;</a></span>m_enabled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Ignore_json_syntax_handler::m_enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afd8f1c099c896c30650fd2b9cc387c15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd8f1c099c896c30650fd2b9cc387c15">&#9670;&nbsp;</a></span>m_thd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTHD.html">THD</a>* Ignore_json_syntax_handler::m_thd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="error__handler_8h_source.html">error_handler.h</a></li>
<li>sql/<a class="el" href="error__handler_8cc.html">error_handler.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classIgnore__json__syntax__handler.html">Ignore_json_syntax_handler</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
