<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: json_binary::Value Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classjson__binary_1_1Value.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classjson__binary_1_1Value-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">json_binary::Value Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class used for reading JSON values that are stored in the binary format.  
 <a href="classjson__binary_1_1Value.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="json__binary_8h_source.html">json_binary.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a63decc328d82d211798da5c6ab0002fb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a> : uint8 { <br />
&#160;&#160;<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fbaa2761b64604acbd0d29bbdc4616b21dd">OBJECT</a>, 
<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fbaf3c3d206dbd026a2c843382edaa61ad9">ARRAY</a>, 
<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fba9851296a7b8761f7c38d849461420d6f">STRING</a>, 
<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fba8037b4f1f94d254cae257dc69d64ffe5">INT</a>, 
<br />
&#160;&#160;<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fbad99b3e252a0a3762eb490d36ee595ff7">UINT</a>, 
<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fba124225c484c661dbd6be24b3cb29f30d">DOUBLE</a>, 
<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fbad6a1969cd717fd3d77b559f6b0b77ac6">LITERAL_NULL</a>, 
<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fbaaf12bec06d75581c86515b6f74b00893">LITERAL_TRUE</a>, 
<br />
&#160;&#160;<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fba7fe750fcfc2c77bc9e45555a5fcf3d49">LITERAL_FALSE</a>, 
<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fbae076910c123bd29e6ec597dadb85adc7">OPAQUE</a>, 
<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fbad4d5f55239dac9c4afa81bb9870d9f43">ERROR</a>
<br />
 }</td></tr>
<tr class="separator:a63decc328d82d211798da5c6ab0002fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af156297a9b0f2584f5986e899bf12c6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#af156297a9b0f2584f5986e899bf12c6c">is_valid</a> () const</td></tr>
<tr class="memdesc:af156297a9b0f2584f5986e899bf12c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this value, and all of its members, represent a valid JSON value?  <a href="#af156297a9b0f2584f5986e899bf12c6c">More...</a><br /></td></tr>
<tr class="separator:af156297a9b0f2584f5986e899bf12c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc4e71426348bdac199b54fb6a17691"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a8dc4e71426348bdac199b54fb6a17691">type</a> () const</td></tr>
<tr class="separator:a8dc4e71426348bdac199b54fb6a17691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae312c68738c615abeb5dc77d3ca829cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ae312c68738c615abeb5dc77d3ca829cd">large_format</a> () const</td></tr>
<tr class="memdesc:ae312c68738c615abeb5dc77d3ca829cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this value use the large storage format?  <a href="#ae312c68738c615abeb5dc77d3ca829cd">More...</a><br /></td></tr>
<tr class="separator:ae312c68738c615abeb5dc77d3ca829cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab196666f97c6cb5bd04450013a55a41"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#aab196666f97c6cb5bd04450013a55a41">get_data</a> () const</td></tr>
<tr class="memdesc:aab196666f97c6cb5bd04450013a55a41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the beginning of the STRING or OPAQUE data represented by this instance.  <a href="#aab196666f97c6cb5bd04450013a55a41">More...</a><br /></td></tr>
<tr class="separator:aab196666f97c6cb5bd04450013a55a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d3f85755dbe232e8d5708fdb0b5be0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a92d3f85755dbe232e8d5708fdb0b5be0">get_data_length</a> () const</td></tr>
<tr class="memdesc:a92d3f85755dbe232e8d5708fdb0b5be0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length in bytes of the STRING or OPAQUE value represented by this instance.  <a href="#a92d3f85755dbe232e8d5708fdb0b5be0">More...</a><br /></td></tr>
<tr class="separator:a92d3f85755dbe232e8d5708fdb0b5be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac42ffa1dc718f9b86a173f0c9fdefa2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#aac42ffa1dc718f9b86a173f0c9fdefa2">get_int64</a> () const</td></tr>
<tr class="memdesc:aac42ffa1dc718f9b86a173f0c9fdefa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of an INT.  <a href="#aac42ffa1dc718f9b86a173f0c9fdefa2">More...</a><br /></td></tr>
<tr class="separator:aac42ffa1dc718f9b86a173f0c9fdefa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f39e9400007bb4df9461858a45e4ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#abc0f5bc07737e498f287334775dff2b6">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a26f39e9400007bb4df9461858a45e4ed">get_uint64</a> () const</td></tr>
<tr class="memdesc:a26f39e9400007bb4df9461858a45e4ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of a UINT.  <a href="#a26f39e9400007bb4df9461858a45e4ed">More...</a><br /></td></tr>
<tr class="separator:a26f39e9400007bb4df9461858a45e4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0e1aaddd94b4e96ef8e595a503dd5f2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ac0e1aaddd94b4e96ef8e595a503dd5f2">get_double</a> () const</td></tr>
<tr class="memdesc:ac0e1aaddd94b4e96ef8e595a503dd5f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of a DOUBLE.  <a href="#ac0e1aaddd94b4e96ef8e595a503dd5f2">More...</a><br /></td></tr>
<tr class="separator:ac0e1aaddd94b4e96ef8e595a503dd5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1edd8bacd3d308efd60f7da661029b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ae1edd8bacd3d308efd60f7da661029b5">element_count</a> () const</td></tr>
<tr class="memdesc:ae1edd8bacd3d308efd60f7da661029b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of elements in an array, or the number of members in an object.  <a href="#ae1edd8bacd3d308efd60f7da661029b5">More...</a><br /></td></tr>
<tr class="separator:ae1edd8bacd3d308efd60f7da661029b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6727baec7b2a35aed4ea9683d7dfe9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#acd6727baec7b2a35aed4ea9683d7dfe9">field_type</a> () const</td></tr>
<tr class="memdesc:acd6727baec7b2a35aed4ea9683d7dfe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the MySQL field type of an opaque value.  <a href="#acd6727baec7b2a35aed4ea9683d7dfe9">More...</a><br /></td></tr>
<tr class="separator:acd6727baec7b2a35aed4ea9683d7dfe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea99f0727f240b2ec552a8fae60855d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjson__binary_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#acea99f0727f240b2ec552a8fae60855d">element</a> (size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>) const</td></tr>
<tr class="memdesc:acea99f0727f240b2ec552a8fae60855d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the element at the specified position of a JSON array or a JSON object.  <a href="#acea99f0727f240b2ec552a8fae60855d">More...</a><br /></td></tr>
<tr class="separator:acea99f0727f240b2ec552a8fae60855d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10443a279b53069820d5f0c426a046db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjson__binary_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a10443a279b53069820d5f0c426a046db">key</a> (size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>) const</td></tr>
<tr class="memdesc:a10443a279b53069820d5f0c426a046db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the key of the member stored at the specified position in a JSON object.  <a href="#a10443a279b53069820d5f0c426a046db">More...</a><br /></td></tr>
<tr class="separator:a10443a279b53069820d5f0c426a046db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c4946a7739bf5ab6a8b23b5fce93f04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjson__binary_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a8c4946a7739bf5ab6a8b23b5fce93f04">lookup</a> (const char *<a class="el" href="classjson__binary_1_1Value.html#a10443a279b53069820d5f0c426a046db">key</a>, size_t length) const</td></tr>
<tr class="memdesc:a8c4946a7739bf5ab6a8b23b5fce93f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value associated with the specified key in a JSON object.  <a href="#a8c4946a7739bf5ab6a8b23b5fce93f04">More...</a><br /></td></tr>
<tr class="separator:a8c4946a7739bf5ab6a8b23b5fce93f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa20a45cc013b2836c7abd18b0590a215"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjson__binary_1_1Value.html">Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#aa20a45cc013b2836c7abd18b0590a215">lookup</a> (const std::string &amp;<a class="el" href="classjson__binary_1_1Value.html#a10443a279b53069820d5f0c426a046db">key</a>) const</td></tr>
<tr class="separator:aa20a45cc013b2836c7abd18b0590a215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52aea50320f9c6de5e26383400495c4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ac52aea50320f9c6de5e26383400495c4">lookup_index</a> (const char *<a class="el" href="classjson__binary_1_1Value.html#a10443a279b53069820d5f0c426a046db">key</a>, size_t length) const</td></tr>
<tr class="memdesc:ac52aea50320f9c6de5e26383400495c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the index of the element with the specified key in a JSON object.  <a href="#ac52aea50320f9c6de5e26383400495c4">More...</a><br /></td></tr>
<tr class="separator:ac52aea50320f9c6de5e26383400495c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf481fb40b8409315827b3c109eb5d3"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a8bf481fb40b8409315827b3c109eb5d3">lookup_index</a> (const std::string &amp;<a class="el" href="classjson__binary_1_1Value.html#a10443a279b53069820d5f0c426a046db">key</a>) const</td></tr>
<tr class="separator:a8bf481fb40b8409315827b3c109eb5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad11639b4d1a045bd9164654a9ae6b17f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ad11639b4d1a045bd9164654a9ae6b17f">is_backed_by</a> (const <a class="el" href="classString.html">String</a> *str) const</td></tr>
<tr class="memdesc:ad11639b4d1a045bd9164654a9ae6b17f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this binary value pointing to data that is contained in the specified string.  <a href="#ad11639b4d1a045bd9164654a9ae6b17f">More...</a><br /></td></tr>
<tr class="separator:ad11639b4d1a045bd9164654a9ae6b17f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac9d81c24e1600339b2b2016d4030f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#afac9d81c24e1600339b2b2016d4030f1">raw_binary</a> (const <a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="classString.html">String</a> *buf) const</td></tr>
<tr class="memdesc:afac9d81c24e1600339b2b2016d4030f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the binary representation of this value into a buffer, replacing the contents of the receiving buffer.  <a href="#afac9d81c24e1600339b2b2016d4030f1">More...</a><br /></td></tr>
<tr class="separator:afac9d81c24e1600339b2b2016d4030f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995ebe2980e487983caa6d450b2d53c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a995ebe2980e487983caa6d450b2d53c3">get_free_space</a> (const <a class="el" href="classTHD.html">THD</a> *thd, size_t *space) const</td></tr>
<tr class="memdesc:a995ebe2980e487983caa6d450b2d53c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the amount of unused space in the binary representation of this value.  <a href="#a995ebe2980e487983caa6d450b2d53c3">More...</a><br /></td></tr>
<tr class="separator:a995ebe2980e487983caa6d450b2d53c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d51d6d7268269b12d5cb67ae5cd541b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a9d51d6d7268269b12d5cb67ae5cd541b">has_space</a> (size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, size_t needed, size_t *offset) const</td></tr>
<tr class="memdesc:a9d51d6d7268269b12d5cb67ae5cd541b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this array or object have enough space to replace the value at the given position with another value of a given size?  <a href="#a9d51d6d7268269b12d5cb67ae5cd541b">More...</a><br /></td></tr>
<tr class="separator:a9d51d6d7268269b12d5cb67ae5cd541b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4ea17a6bc51f01db7afae609730193"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ade4ea17a6bc51f01db7afae609730193">update_in_shadow</a> (const <a class="el" href="classField__json.html">Field_json</a> *field, size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, <a class="el" href="classJson__wrapper.html">Json_wrapper</a> *new_value, size_t data_offset, size_t data_length, const char *original, char *destination, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *changed) const</td></tr>
<tr class="memdesc:ade4ea17a6bc51f01db7afae609730193"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a value in an array or object.  <a href="#ade4ea17a6bc51f01db7afae609730193">More...</a><br /></td></tr>
<tr class="separator:ade4ea17a6bc51f01db7afae609730193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade73026a10fcf8c1d7dbb1c54e4e7047"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ade73026a10fcf8c1d7dbb1c54e4e7047">remove_in_shadow</a> (const <a class="el" href="classField__json.html">Field_json</a> *field, size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, const char *original, char *destination) const</td></tr>
<tr class="memdesc:ade73026a10fcf8c1d7dbb1c54e4e7047"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a value from an array or object.  <a href="#ade73026a10fcf8c1d7dbb1c54e4e7047">More...</a><br /></td></tr>
<tr class="separator:ade73026a10fcf8c1d7dbb1c54e4e7047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0bba537527afc9a09bee2afa60aa9d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ac0bba537527afc9a09bee2afa60aa9d1">Value</a> (<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a> t)</td></tr>
<tr class="memdesc:ac0bba537527afc9a09bee2afa60aa9d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for values that represent literals or errors.  <a href="#ac0bba537527afc9a09bee2afa60aa9d1">More...</a><br /></td></tr>
<tr class="separator:ac0bba537527afc9a09bee2afa60aa9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad595308589a4d88800fc515b076e2b8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ad595308589a4d88800fc515b076e2b8f">Value</a> (<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a> t, <a class="el" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> val)</td></tr>
<tr class="memdesc:ad595308589a4d88800fc515b076e2b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for values that represent ints or uints.  <a href="#ad595308589a4d88800fc515b076e2b8f">More...</a><br /></td></tr>
<tr class="separator:ad595308589a4d88800fc515b076e2b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73ddf21993bc1e863b1848b362681dad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a73ddf21993bc1e863b1848b362681dad">Value</a> (double val)</td></tr>
<tr class="memdesc:a73ddf21993bc1e863b1848b362681dad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for values that represent doubles.  <a href="#a73ddf21993bc1e863b1848b362681dad">More...</a><br /></td></tr>
<tr class="separator:a73ddf21993bc1e863b1848b362681dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d818b2a2b21f4a183fad7a0a9cbfc8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a8d818b2a2b21f4a183fad7a0a9cbfc8d">Value</a> (const char *data, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> len)</td></tr>
<tr class="memdesc:a8d818b2a2b21f4a183fad7a0a9cbfc8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for values that represent strings.  <a href="#a8d818b2a2b21f4a183fad7a0a9cbfc8d">More...</a><br /></td></tr>
<tr class="separator:a8d818b2a2b21f4a183fad7a0a9cbfc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6abb0cba1058c187273da03df016a3fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a6abb0cba1058c187273da03df016a3fd">Value</a> (<a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a> t, const char *data, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> bytes, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> <a class="el" href="my__tree_8h.html#af1a923de24cf7c281b86cf7490523c65">element_count</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> large)</td></tr>
<tr class="memdesc:a6abb0cba1058c187273da03df016a3fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for values that represent arrays or objects.  <a href="#a6abb0cba1058c187273da03df016a3fd">More...</a><br /></td></tr>
<tr class="separator:a6abb0cba1058c187273da03df016a3fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1070d12c6dc03dd98297f7a1d919ad5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a1070d12c6dc03dd98297f7a1d919ad5d">Value</a> (<a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> ft, const char *data, <a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> len)</td></tr>
<tr class="memdesc:a1070d12c6dc03dd98297f7a1d919ad5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for values that represent opaque data.  <a href="#a1070d12c6dc03dd98297f7a1d919ad5d">More...</a><br /></td></tr>
<tr class="separator:a1070d12c6dc03dd98297f7a1d919ad5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa07e73820e6dfe8727fa473de0dfe37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#aaa07e73820e6dfe8727fa473de0dfe37">Value</a> ()</td></tr>
<tr class="memdesc:aaa07e73820e6dfe8727fa473de0dfe37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty constructor.  <a href="#aaa07e73820e6dfe8727fa473de0dfe37">More...</a><br /></td></tr>
<tr class="separator:aaa07e73820e6dfe8727fa473de0dfe37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9f170b7f5a9b832a49688bd9d27cff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a9e9f170b7f5a9b832a49688bd9d27cff">is_array</a> () const</td></tr>
<tr class="memdesc:a9e9f170b7f5a9b832a49688bd9d27cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this value an array?  <a href="#a9e9f170b7f5a9b832a49688bd9d27cff">More...</a><br /></td></tr>
<tr class="separator:a9e9f170b7f5a9b832a49688bd9d27cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff7a6338a2d7cbbbaef870066df0424a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#aff7a6338a2d7cbbbaef870066df0424a">is_object</a> () const</td></tr>
<tr class="memdesc:aff7a6338a2d7cbbbaef870066df0424a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this value an object?  <a href="#aff7a6338a2d7cbbbaef870066df0424a">More...</a><br /></td></tr>
<tr class="separator:aff7a6338a2d7cbbbaef870066df0424a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1da452632a7db572e45a78f1111756d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#aa1da452632a7db572e45a78f1111756d">eq</a> (const <a class="el" href="classjson__binary_1_1Value.html">Value</a> &amp;val) const</td></tr>
<tr class="memdesc:aa1da452632a7db572e45a78f1111756d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two Values.  <a href="#aa1da452632a7db572e45a78f1111756d">More...</a><br /></td></tr>
<tr class="separator:aa1da452632a7db572e45a78f1111756d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ae4df1fb613d1d0127c5d06ba74695ed7"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ae4df1fb613d1d0127c5d06ba74695ed7">key_entry_offset</a> (size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>) const</td></tr>
<tr class="memdesc:ae4df1fb613d1d0127c5d06ba74695ed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the offset of the key entry that describes the key of the member at a given position in this object.  <a href="#ae4df1fb613d1d0127c5d06ba74695ed7">More...</a><br /></td></tr>
<tr class="separator:ae4df1fb613d1d0127c5d06ba74695ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b724c6ae27c6a4d075fac3d1e053efd"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a3b724c6ae27c6a4d075fac3d1e053efd">value_entry_offset</a> (size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>) const</td></tr>
<tr class="memdesc:a3b724c6ae27c6a4d075fac3d1e053efd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the offset of the value entry that describes the element at a given position in this array or object.  <a href="#a3b724c6ae27c6a4d075fac3d1e053efd">More...</a><br /></td></tr>
<tr class="separator:a3b724c6ae27c6a4d075fac3d1e053efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f1369abe4717e87d21470c935638fca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a4f1369abe4717e87d21470c935638fca">first_value_offset</a> (size_t *offset) const</td></tr>
<tr class="memdesc:a4f1369abe4717e87d21470c935638fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the lowest possible offset where a value can be located inside this array or object.  <a href="#a4f1369abe4717e87d21470c935638fca">More...</a><br /></td></tr>
<tr class="separator:a4f1369abe4717e87d21470c935638fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67316512fa3f7aeca5ac335cac16abb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#af67316512fa3f7aeca5ac335cac16abb">element_offsets</a> (size_t <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>, size_t *<a class="el" href="routing__plugin_8cc.html#aee70c8416f705726100824ba89f1e090">start</a>, size_t *end, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *inlined) const</td></tr>
<tr class="memdesc:af67316512fa3f7aeca5ac335cac16abb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the start offset and the end offset of the specified element.  <a href="#af67316512fa3f7aeca5ac335cac16abb">More...</a><br /></td></tr>
<tr class="separator:af67316512fa3f7aeca5ac335cac16abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a046b619f765275b82de2cc056abdc7d9"><td class="memItemLeft" >union {</td></tr>
<tr class="memitem:a8481ce1cf3f530fff6a7d4bf3296e7cb"><td class="memItemLeft" >&#160;&#160;&#160;const char *&#160;&#160;&#160;<a class="el" href="classjson__binary_1_1Value.html#adfd55efe2400e9d92833010e77310d2b">m_data</a></td></tr>
<tr class="memdesc:a8481ce1cf3f530fff6a7d4bf3296e7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the start of the binary representation of the value.  <a href="#a8481ce1cf3f530fff6a7d4bf3296e7cb">More...</a><br /></td></tr>
<tr class="separator:a8481ce1cf3f530fff6a7d4bf3296e7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58d582169c10890d6d82dfc0ad8b3211"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a>&#160;&#160;&#160;<a class="el" href="classjson__binary_1_1Value.html#a3c8da35eeab70ff51b41a3bb7aba7531">m_int_value</a></td></tr>
<tr class="memdesc:a58d582169c10890d6d82dfc0ad8b3211"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value if the type is INT or UINT.  <a href="#a58d582169c10890d6d82dfc0ad8b3211">More...</a><br /></td></tr>
<tr class="separator:a58d582169c10890d6d82dfc0ad8b3211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f537e55f1cd5fb32c70c2b8528f5c6f"><td class="memItemLeft" >&#160;&#160;&#160;double&#160;&#160;&#160;<a class="el" href="classjson__binary_1_1Value.html#a01647f89030b88246aede3ac9d7298f9">m_double_value</a></td></tr>
<tr class="memdesc:a0f537e55f1cd5fb32c70c2b8528f5c6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The value if the type is DOUBLE.  <a href="#a0f537e55f1cd5fb32c70c2b8528f5c6f">More...</a><br /></td></tr>
<tr class="separator:a0f537e55f1cd5fb32c70c2b8528f5c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046b619f765275b82de2cc056abdc7d9"><td class="memItemLeft" valign="top">};&#160;</td><td class="memItemRight" valign="bottom"></td></tr>
<tr class="separator:a046b619f765275b82de2cc056abdc7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd224e980dda1b491fa08e441dba9b73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#acd224e980dda1b491fa08e441dba9b73">m_element_count</a></td></tr>
<tr class="memdesc:acd224e980dda1b491fa08e441dba9b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Element count for arrays and objects.  <a href="#acd224e980dda1b491fa08e441dba9b73">More...</a><br /></td></tr>
<tr class="separator:acd224e980dda1b491fa08e441dba9b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac046506a60b4d5e544c84246cbcb864c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#ac046506a60b4d5e544c84246cbcb864c">m_length</a></td></tr>
<tr class="memdesc:ac046506a60b4d5e544c84246cbcb864c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The full length (in bytes) of the binary representation of an array or object, or the length of a string or opaque value.  <a href="#ac046506a60b4d5e544c84246cbcb864c">More...</a><br /></td></tr>
<tr class="separator:ac046506a60b4d5e544c84246cbcb864c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba14757a0533f305206f6dec0d0fc0a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#aba14757a0533f305206f6dec0d0fc0a6">m_field_type</a></td></tr>
<tr class="memdesc:aba14757a0533f305206f6dec0d0fc0a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The MySQL field type of the value, in case the type of the value is OPAQUE.  <a href="#aba14757a0533f305206f6dec0d0fc0a6">More...</a><br /></td></tr>
<tr class="separator:aba14757a0533f305206f6dec0d0fc0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc8bda5ec193b717fcb99f2be54a36ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#adc8bda5ec193b717fcb99f2be54a36ba">m_type</a></td></tr>
<tr class="memdesc:adc8bda5ec193b717fcb99f2be54a36ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">The JSON type of the value.  <a href="#adc8bda5ec193b717fcb99f2be54a36ba">More...</a><br /></td></tr>
<tr class="separator:adc8bda5ec193b717fcb99f2be54a36ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3624066a8c16b8b1753fb76d780c342e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjson__binary_1_1Value.html#a3624066a8c16b8b1753fb76d780c342e">m_large</a></td></tr>
<tr class="memdesc:a3624066a8c16b8b1753fb76d780c342e"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if an array or an object uses the large storage format with 4 byte offsets instead of 2 byte offsets.  <a href="#a3624066a8c16b8b1753fb76d780c342e">More...</a><br /></td></tr>
<tr class="separator:a3624066a8c16b8b1753fb76d780c342e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class used for reading JSON values that are stored in the binary format. </p>
<p>Values are parsed lazily, so that only the parts of the value that are interesting to the caller, are read. Array elements can be looked up in constant time using the element() function. Object members can be looked up in O(log n) time using the lookup() function. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a63decc328d82d211798da5c6ab0002fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63decc328d82d211798da5c6ab0002fb">&#9670;&nbsp;</a></span>enum_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">json_binary::Value::enum_type</a> : <a class="el" href="my__inttypes_8h.html#a33a5e996e7a90acefb8b1c0bea47e365">uint8</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fbaa2761b64604acbd0d29bbdc4616b21dd"></a>OBJECT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fbaf3c3d206dbd026a2c843382edaa61ad9"></a>ARRAY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fba9851296a7b8761f7c38d849461420d6f"></a>STRING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fba8037b4f1f94d254cae257dc69d64ffe5"></a>INT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fbad99b3e252a0a3762eb490d36ee595ff7"></a>UINT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fba124225c484c661dbd6be24b3cb29f30d"></a>DOUBLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fbad6a1969cd717fd3d77b559f6b0b77ac6"></a>LITERAL_NULL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fbaaf12bec06d75581c86515b6f74b00893"></a>LITERAL_TRUE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fba7fe750fcfc2c77bc9e45555a5fcf3d49"></a>LITERAL_FALSE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fbae076910c123bd29e6ec597dadb85adc7"></a>OPAQUE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a63decc328d82d211798da5c6ab0002fbad4d5f55239dac9c4afa81bb9870d9f43"></a>ERROR&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac0bba537527afc9a09bee2afa60aa9d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0bba537527afc9a09bee2afa60aa9d1">&#9670;&nbsp;</a></span>Value() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">json_binary::Value::Value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for values that represent literals or errors. </p>

</div>
</div>
<a id="ad595308589a4d88800fc515b076e2b8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad595308589a4d88800fc515b076e2b8f">&#9670;&nbsp;</a></span>Value() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">json_binary::Value::Value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a>&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for values that represent ints or uints. </p>

</div>
</div>
<a id="a73ddf21993bc1e863b1848b362681dad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73ddf21993bc1e863b1848b362681dad">&#9670;&nbsp;</a></span>Value() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">json_binary::Value::Value </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for values that represent doubles. </p>

</div>
</div>
<a id="a8d818b2a2b21f4a183fad7a0a9cbfc8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d818b2a2b21f4a183fad7a0a9cbfc8d">&#9670;&nbsp;</a></span>Value() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">json_binary::Value::Value </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for values that represent strings. </p>

</div>
</div>
<a id="a6abb0cba1058c187273da03df016a3fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6abb0cba1058c187273da03df016a3fd">&#9670;&nbsp;</a></span>Value() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">json_binary::Value::Value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td>
          <td class="paramname"><em>element_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>large</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for values that represent arrays or objects. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>type </td></tr>
    <tr><td class="paramname">data</td><td>pointer to the start of the binary representation </td></tr>
    <tr><td class="paramname">bytes</td><td>the number of bytes in the binary representation of the value </td></tr>
    <tr><td class="paramname">element_count</td><td>the number of elements or members in the value </td></tr>
    <tr><td class="paramname">large</td><td>true if the value should be stored in the large storage format with 4 byte offsets instead of 2 byte offsets </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1070d12c6dc03dd98297f7a1d919ad5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1070d12c6dc03dd98297f7a1d919ad5d">&#9670;&nbsp;</a></span>Value() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">json_binary::Value::Value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a>&#160;</td>
          <td class="paramname"><em>ft</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for values that represent opaque data. </p>

</div>
</div>
<a id="aaa07e73820e6dfe8727fa473de0dfe37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa07e73820e6dfe8727fa473de0dfe37">&#9670;&nbsp;</a></span>Value() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">json_binary::Value::Value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty constructor. </p>
<p>Produces a value that represents an error condition. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acea99f0727f240b2ec552a8fae60855d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea99f0727f240b2ec552a8fae60855d">&#9670;&nbsp;</a></span>element()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjson__binary_1_1Value.html">Value</a> json_binary::Value::element </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the element at the specified position of a JSON array or a JSON object. </p>
<p>When called on a JSON object, it returns the value associated with the key returned by key(pos).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>the index of the element </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a value representing the specified element, or a value where type() returns ERROR if pos does not point to an element </dd></dl>

</div>
</div>
<a id="ae1edd8bacd3d308efd60f7da661029b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1edd8bacd3d308efd60f7da661029b5">&#9670;&nbsp;</a></span>element_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> json_binary::Value::element_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of elements in an array, or the number of members in an object. </p>

</div>
</div>
<a id="af67316512fa3f7aeca5ac335cac16abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67316512fa3f7aeca5ac335cac16abb">&#9670;&nbsp;</a></span>element_offsets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::element_offsets </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>inlined</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the start offset and the end offset of the specified element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>which element to check </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">start</td><td>the start offset of the value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">end</td><td>the end offset of the value (exclusive) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">inlined</td><td>set to true if the specified element is inlined </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the offsets cannot be determined, false if successful </dd></dl>

</div>
</div>
<a id="aa1da452632a7db572e45a78f1111756d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1da452632a7db572e45a78f1111756d">&#9670;&nbsp;</a></span>eq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int json_binary::Value::eq </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classjson__binary_1_1Value.html">Value</a> &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare two Values. </p>
<p>Check whether two binary JSON scalars are equal.</p>
<dl class="section note"><dt>Note</dt><dd>This function is limited to scalars only, for objects/arrays it asserts. The main purpose is to separate old/new scalar values for updates on multi-valued indexes. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>-1 this &lt; val 0 this == val 1 this &gt; val</dd></dl>
<p>This function is used by multi-valued index updating code. Unlike JSON comparator implemented in server, this code doesn't treat numeric types as the same, e.g. int 1 and uint 1 won't be treated as equal. This is fine as the mv index updating code compares old and new values of the same typed array field, i.e. all values being compared have the same type.</p>
<p>Since MV index doesn't support indexing of arrays/objects in arrays, these two aren't supported and cause assert. </p>

</div>
</div>
<a id="acd6727baec7b2a35aed4ea9683d7dfe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd6727baec7b2a35aed4ea9683d7dfe9">&#9670;&nbsp;</a></span>field_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> json_binary::Value::field_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the MySQL field type of an opaque value. </p>
<p>Identifies the type of the value stored in the data portion of an opaque value. </p>

</div>
</div>
<a id="a4f1369abe4717e87d21470c935638fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1369abe4717e87d21470c935638fca">&#9670;&nbsp;</a></span>first_value_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::first_value_offset </td>
          <td>(</td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the lowest possible offset where a value can be located inside this array or object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">offset</td><td>the lowest offset where a value can be located </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true on error </dd></dl>

</div>
</div>
<a id="aab196666f97c6cb5bd04450013a55a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab196666f97c6cb5bd04450013a55a41">&#9670;&nbsp;</a></span>get_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* json_binary::Value::get_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a pointer to the beginning of the STRING or OPAQUE data represented by this instance. </p>

</div>
</div>
<a id="a92d3f85755dbe232e8d5708fdb0b5be0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d3f85755dbe232e8d5708fdb0b5be0">&#9670;&nbsp;</a></span>get_data_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> json_binary::Value::get_data_length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the length in bytes of the STRING or OPAQUE value represented by this instance. </p>

</div>
</div>
<a id="ac0e1aaddd94b4e96ef8e595a503dd5f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0e1aaddd94b4e96ef8e595a503dd5f2">&#9670;&nbsp;</a></span>get_double()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double json_binary::Value::get_double </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the value of a DOUBLE. </p>

</div>
</div>
<a id="a995ebe2980e487983caa6d450b2d53c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a995ebe2980e487983caa6d450b2d53c3">&#9670;&nbsp;</a></span>get_free_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::get_free_space </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>space</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the amount of unused space in the binary representation of this value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>THD handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">space</td><td>the amount of free space </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true on error </dd></dl>

</div>
</div>
<a id="aac42ffa1dc718f9b86a173f0c9fdefa2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac42ffa1dc718f9b86a173f0c9fdefa2">&#9670;&nbsp;</a></span>get_int64()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> json_binary::Value::get_int64 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the value of an INT. </p>

</div>
</div>
<a id="a26f39e9400007bb4df9461858a45e4ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f39e9400007bb4df9461858a45e4ed">&#9670;&nbsp;</a></span>get_uint64()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#abc0f5bc07737e498f287334775dff2b6">uint64</a> json_binary::Value::get_uint64 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the value of a UINT. </p>

</div>
</div>
<a id="a9d51d6d7268269b12d5cb67ae5cd541b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d51d6d7268269b12d5cb67ae5cd541b">&#9670;&nbsp;</a></span>has_space()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::has_space </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>needed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does this array or object have enough space to replace the value at the given position with another value of a given size? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>the position in the array or object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">needed</td><td>the number of bytes needed for the new value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">offset</td><td>if true is returned, this value is set to an offset relative to the start of the array or object, which tells where the replacement value should be stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if there is enough space, false otherwise </dd></dl>

</div>
</div>
<a id="a9e9f170b7f5a9b832a49688bd9d27cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e9f170b7f5a9b832a49688bd9d27cff">&#9670;&nbsp;</a></span>is_array()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::is_array </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this value an array? </p>

</div>
</div>
<a id="ad11639b4d1a045bd9164654a9ae6b17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad11639b4d1a045bd9164654a9ae6b17f">&#9670;&nbsp;</a></span>is_backed_by()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::is_backed_by </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is this binary value pointing to data that is contained in the specified string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>a string with binary data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the string contains data pointed to from this object </td></tr>
    <tr><td class="paramname">false</td><td>otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff7a6338a2d7cbbbaef870066df0424a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff7a6338a2d7cbbbaef870066df0424a">&#9670;&nbsp;</a></span>is_object()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::is_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is this value an object? </p>

</div>
</div>
<a id="af156297a9b0f2584f5986e899bf12c6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af156297a9b0f2584f5986e899bf12c6c">&#9670;&nbsp;</a></span>is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::is_valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does this value, and all of its members, represent a valid JSON value? </p>

</div>
</div>
<a id="a10443a279b53069820d5f0c426a046db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10443a279b53069820d5f0c426a046db">&#9670;&nbsp;</a></span>key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjson__binary_1_1Value.html">Value</a> json_binary::Value::key </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the key of the member stored at the specified position in a JSON object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>the index of the member </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the key of the specified member, or a value where type() returns ERROR if pos does not point to a member </dd></dl>

</div>
</div>
<a id="ae4df1fb613d1d0127c5d06ba74695ed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4df1fb613d1d0127c5d06ba74695ed7">&#9670;&nbsp;</a></span>key_entry_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t json_binary::Value::key_entry_offset </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the offset of the key entry that describes the key of the member at a given position in this object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>the position of the member </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the offset of the key entry, relative to the start of the object </dd></dl>

</div>
</div>
<a id="ae312c68738c615abeb5dc77d3ca829cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae312c68738c615abeb5dc77d3ca829cd">&#9670;&nbsp;</a></span>large_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::large_format </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Does this value use the large storage format? </p>

</div>
</div>
<a id="a8c4946a7739bf5ab6a8b23b5fce93f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c4946a7739bf5ab6a8b23b5fce93f04">&#9670;&nbsp;</a></span>lookup() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjson__binary_1_1Value.html">Value</a> json_binary::Value::lookup </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value associated with the specified key in a JSON object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>the key to look up </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>the length of the key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the value associated with the key, if there is one. otherwise, returns ERROR </dd></dl>

</div>
</div>
<a id="aa20a45cc013b2836c7abd18b0590a215"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa20a45cc013b2836c7abd18b0590a215">&#9670;&nbsp;</a></span>lookup() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjson__binary_1_1Value.html">Value</a> json_binary::Value::lookup </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac52aea50320f9c6de5e26383400495c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac52aea50320f9c6de5e26383400495c4">&#9670;&nbsp;</a></span>lookup_index() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t json_binary::Value::lookup_index </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the index of the element with the specified key in a JSON object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>the key to look up </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>the length of the key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the index if the key is found, or <code>element_count()</code> if the key is not found </dd></dl>

</div>
</div>
<a id="a8bf481fb40b8409315827b3c109eb5d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bf481fb40b8409315827b3c109eb5d3">&#9670;&nbsp;</a></span>lookup_index() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t json_binary::Value::lookup_index </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afac9d81c24e1600339b2b2016d4030f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afac9d81c24e1600339b2b2016d4030f1">&#9670;&nbsp;</a></span>raw_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::raw_binary </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classString.html">String</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the binary representation of this value into a buffer, replacing the contents of the receiving buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>THD handle </td></tr>
    <tr><td class="paramname">buf</td><td>the receiving buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true otherwise </dd></dl>

</div>
</div>
<a id="ade73026a10fcf8c1d7dbb1c54e4e7047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade73026a10fcf8c1d7dbb1c54e4e7047">&#9670;&nbsp;</a></span>remove_in_shadow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::remove_in_shadow </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classField__json.html">Field_json</a> *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a value from an array or object. </p>
<p>The updated JSON document is written to a shadow copy. The original document is left unchanged, unless the shadow copy is actually a pointer to the array backing this Value object. It is assumed that the shadow copy is at least as big as the original document, and that there is enough space at the given position to hold the new value.</p>
<p>Typically, if a document is modified multiple times in a single update statement, the first invocation of remove_in_shadow() will have a Value object that points into the binary data in the Field, and write to a separate destination buffer. Subsequent updates of the document will have a Value object that points to the partially updated value in the destination buffer, and write the new modifications to the same buffer.</p>
<p>All changes made to the binary value are recorded as binary diffs using TABLE::add_binary_diff().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field</td><td>the column that is updated </td></tr>
    <tr><td class="paramname">pos</td><td>the element to remove </td></tr>
    <tr><td class="paramname">original</td><td>pointer to the start of the JSON document </td></tr>
    <tr><td class="paramname">destination</td><td>pointer to the shadow copy of the JSON document (it could be the same as <em>original</em>, in which case the original document will be modified) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true if an error occurred</dd></dl>
<dl class="section user"><dt>Example of partial update</dt><dd></dd></dl>
<p>Take the JSON document { "a": "x", "b": "y", "c": "z" }, whose serialized representation looks like the following: </p><pre class="fragment">        0x00 - type: JSONB_TYPE_SMALL_OBJECT
        0x03 - number of elements (low byte)
        0x00 - number of elements (high byte)
        0x22 - number of bytes (low byte)
        0x00 - number of bytes (high byte)
        0x19 - offset of key "a" (high byte)
        0x00 - offset of key "a" (low byte)
        0x01 - length of key "a" (high byte)
        0x00 - length of key "a" (low byte)
        0x1a - offset of key "b" (high byte)
        0x00 - offset of key "b" (low byte)
        0x01 - length of key "b" (high byte)
        0x00 - length of key "b" (low byte)
        0x1b - offset of key "c" (high byte)
        0x00 - offset of key "c" (low byte)
        0x01 - length of key "c" (high byte)
        0x00 - length of key "c" (low byte)
        0x0c - type of value "a": JSONB_TYPE_STRING
        0x1c - offset of value "a" (high byte)
        0x00 - offset of value "a" (low byte)
        0x0c - type of value "b": JSONB_TYPE_STRING
        0x1e - offset of value "b" (high byte)
        0x00 - offset of value "b" (low byte)
        0x0c - type of value "c": JSONB_TYPE_STRING
        0x20 - offset of value "c" (high byte)
        0x00 - offset of value "c" (low byte)
        0x61 - first key  ('a')
        0x62 - second key ('b')
        0x63 - third key  ('c')
        0x01 - length of value "a"
        0x78 - contents of value "a" ('x')
        0x01 - length of value "b"
        0x79 - contents of value "b" ('y')
        0x01 - length of value "c"
        0x7a - contents of value "c" ('z')
</pre><p>We remove the member with name 'b' from the document, using a statement such as: </p><pre class="fragment">UPDATE t SET j = JSON_REMOVE(j, '$.b')
</pre><p>This function will then remove the element by moving the key entries and value entries that follow the removed member so that they overwrite the existing entries, and the element count is decremented.</p>
<p>The resulting binary document will look like this: </p><pre class="fragment">        0x00 - type: JSONB_TYPE_SMALL_OBJECT
CHANGED 0x02 - number of elements (low byte)
        0x00 - number of elements (high byte)
        0x22 - number of bytes (low byte)
        0x00 - number of bytes (high byte)
        0x19 - offset of key "a" (high byte)
        0x00 - offset of key "a" (low byte)
        0x01 - length of key "a" (high byte)
        0x00 - length of key "a" (low byte)
CHANGED 0x1b - offset of key "c" (high byte)
CHANGED 0x00 - offset of key "c" (low byte)
CHANGED 0x01 - length of key "c" (high byte)
CHANGED 0x00 - length of key "c" (low byte)
CHANGED 0x0c - type of value "a": JSONB_TYPE_STRING
CHANGED 0x1c - offset of value "a" (high byte)
CHANGED 0x00 - offset of value "a" (low byte)
CHANGED 0x0c - type of value "c": JSONB_TYPE_STRING
CHANGED 0x20 - offset of value "c" (high byte)
CHANGED 0x00 - offset of value "c" (low byte)
(free)  0x00
(free)  0x0c
(free)  0x1e
(free)  0x00
(free)  0x0c
(free)  0x20
(free)  0x00
        0x61 - first key  ('a')
(free)  0x62
        0x63 - third key  ('c')
        0x01 - length of value "a"
        0x78 - contents of value "a" ('x')
(free)  0x01
(free)  0x79
        0x01 - length of value "c"
        0x7a - contents of value "c" ('z')
</pre><p>Two binary diffs will be created. One diff changes the element count, and one diff changes the key and value entries. </p>

</div>
</div>
<a id="a8dc4e71426348bdac199b54fb6a17691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc4e71426348bdac199b54fb6a17691">&#9670;&nbsp;</a></span>type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a> json_binary::Value::type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ade4ea17a6bc51f01db7afae609730193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4ea17a6bc51f01db7afae609730193">&#9670;&nbsp;</a></span>update_in_shadow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::update_in_shadow </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classField__json.html">Field_json</a> *&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classJson__wrapper.html">Json_wrapper</a> *&#160;</td>
          <td class="paramname"><em>new_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> *&#160;</td>
          <td class="paramname"><em>changed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update a value in an array or object. </p>
<p>The updated value is written to a shadow copy. The original array or object is left unchanged, unless the shadow copy is actually a pointer to the array backing this Value object. It is assumed that the shadow copy is at least as big as the original document, and that there is enough space at the given position to hold the new value.</p>
<p>Typically, if a document is modified multiple times in a single update statement, the first invocation of update_in_shadow() will have a Value object that points into the binary data in the Field, and write to a separate destination buffer. Subsequent updates of the document will have a Value object that points to the partially updated value in the destination buffer, and write the new modifications to the same buffer.</p>
<p>All changes made to the binary value are recorded as binary diffs using TABLE::add_binary_diff().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">field</td><td>the column that is updated </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">pos</td><td>the element to update </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">new_value</td><td>the new value of the element </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_offset</td><td>where to write the value (offset relative to the beginning of the array or object, obtained with has_space) or zero if the value can be inlined </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">data_length</td><td>the length of the new value in bytes or zero if the value can be inlined </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">original</td><td>pointer to the start of the JSON document </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">destination</td><td>pointer to the shadow copy of the JSON document (it could be the same as <em>original</em>, in which case the original document will be modified) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">changed</td><td>gets set to true if a change was made to the document, or to false if this operation was a no-op </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, true if an error occurred</dd></dl>
<dl class="section user"><dt>Example of partial update</dt><dd></dd></dl>
<p>Given the JSON document [ "abc", "def" ], which is serialized like this in a JSON column: </p><pre class="fragment">0x02 - type: small JSON array
0x02 - number of elements (low byte)
0x00 - number of elements (high byte)
0x12 - number of bytes (low byte)
0x00 - number of bytes (high byte)
0x0C - type of element 0 (string)
0x0A - offset of element 0 (low byte)
0x00 - offset of element 0 (high byte)
0x0C - type of element 1 (string)
0x0E - offset of element 1 (low byte)
0x00 - offset of element 1 (high byte)
0x03 - length of element 0
'a'
'b'  - content of element 0
'c'
0x03 - length of element 1
'd'
'e'  - content of element 1
'f'
</pre><p>Let's change element 0 from "abc" to "XY" using the following statement: </p><pre class="fragment">UPDATE t SET j = JSON_SET(j, '$[0]', 'XY')
</pre><p>Since we're replacing one string with a shorter one, we can just overwrite the length byte with the new length, and the beginning of the original string data. Since the original string "abc" is longer than the new string "XY", we'll have a free byte at the end of the string. This byte is left as is ('c'). The resulting binary representation looks like this: </p><pre class="fragment">        0x02 - type: small JSON array
        0x02 - number of elements (low byte)
        0x00 - number of elements (high byte)
        0x12 - number of bytes (low byte)
        0x00 - number of bytes (high byte)
        0x0C - type of element 0 (string)
        0x0A - offset of element 0 (low byte)
        0x00 - offset of element 0 (high byte)
        0x0C - type of element 1 (string)
        0x0E - offset of element 1 (low byte)
        0x00 - offset of element 1 (high byte)
CHANGED 0x02 - length of element 0
CHANGED 'X'
CHANGED 'Y'  - content of element 0
(free)  'c'
        0x03 - length of element 1
        'd'
        'e'  - content of element 1
        'f'
</pre><p>This change will be represented as one binary diff that covers the three changed bytes.</p>
<p>Let's now change element 1 from "def" to "XYZW": </p><pre class="fragment">UPDATE t SET j = JSON_SET(j, '$[1]', 'XYZW')
</pre><p>Since the new string is one byte longer than the original string, we cannot simply overwrite the old one. But we can reuse the free byte from the previous update, which is immediately preceding the original value.</p>
<p>To make use of this, we need to change the offset of element 1 to point to the free byte. Then we can overwrite the free byte and the original string data with the new length and string contents. Resulting binary representation: </p><pre class="fragment">        0x02 - type: small JSON array
        0x02 - number of elements (low byte)
        0x00 - number of elements (high byte)
        0x12 - number of bytes (low byte)
        0x00 - number of bytes (high byte)
        0x0C - type of element 0 (string)
        0x0A - offset of element 0 (low byte)
        0x00 - offset of element 0 (high byte)
        0x0C - type of element 1 (string)
CHANGED 0x0D - offset of element 1 (low byte)
        0x00 - offset of element 1 (high byte)
        0x02 - length of element 0
        'X'  - content of element 0
        'Y'  - content of element 0
CHANGED 0x04 - length of element 1
CHANGED 'X'
CHANGED 'Y'
CHANGED 'Z'  - content of element 1
CHANGED 'W'
</pre><p>This change will be represented as two binary diffs. One diff for changing the offset, and one for changing the contents of the string.</p>
<p>Then let's replace the string in element 1 with a small number: </p><pre class="fragment">UPDATE t SET j = JSON_SET(j, '$[1]', 456)
</pre><p>This will change the type of element 1 from string to int16. Such small numbers are inlined in the value entry, where we normally store the offset of the value. The offset section of the value entry is therefore changed to hold the number 456. The length and contents of the original value ("XYZW") are not touched, but they are now unused and free to be reused. Resulting binary representation: </p><pre class="fragment">        0x02 - type: small JSON array
        0x02 - number of elements (low byte)
        0x00 - number of elements (high byte)
        0x12 - number of bytes (low byte)
        0x00 - number of bytes (high byte)
        0x0C - type of element 0 (string)
        0x0A - offset of element 0 (low byte)
        0x00 - offset of element 0 (high byte)
CHANGED 0x05 - type of element 1 (int16)
CHANGED 0xC8 - value of element 1 (low byte)
CHANGED 0x01 - value of element 1 (high byte)
        0x02 - length of element 0
        'X'  - content of element 0
        'Y'  - content of element 0
(free)  0x04 - length of element 1
(free)  'X'
(free)  'Y'
(free)  'Z'  - content of element 1
(free)  'W'
</pre><p>The change is represented as one binary diff that changes the value entry (type and inlined value). </p>

</div>
</div>
<a id="a3b724c6ae27c6a4d075fac3d1e053efd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b724c6ae27c6a4d075fac3d1e053efd">&#9670;&nbsp;</a></span>value_entry_offset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t json_binary::Value::value_entry_offset </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the offset of the value entry that describes the element at a given position in this array or object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>the position of the element </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the offset of the entry, relative to the start of the array or object </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a046b619f765275b82de2cc056abdc7d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a046b619f765275b82de2cc056abdc7d9">&#9670;&nbsp;</a></span>@91</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">union { ... } </td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adfd55efe2400e9d92833010e77310d2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd55efe2400e9d92833010e77310d2b">&#9670;&nbsp;</a></span>m_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* json_binary::Value::m_data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the start of the binary representation of the value. </p>
<p>Only used by STRING, OPAQUE, OBJECT and ARRAY.</p>
<p>The memory pointed to by this member is not owned by this Value object. Callers that create Value objects must make sure that the memory is not freed as long as the Value object is alive. </p>

</div>
</div>
<a id="a01647f89030b88246aede3ac9d7298f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01647f89030b88246aede3ac9d7298f9">&#9670;&nbsp;</a></span>m_double_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double json_binary::Value::m_double_value</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The value if the type is DOUBLE. </p>

</div>
</div>
<a id="acd224e980dda1b491fa08e441dba9b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd224e980dda1b491fa08e441dba9b73">&#9670;&nbsp;</a></span>m_element_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> json_binary::Value::m_element_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Element count for arrays and objects. </p>
<p>Unused for other types. </p>

</div>
</div>
<a id="aba14757a0533f305206f6dec0d0fc0a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba14757a0533f305206f6dec0d0fc0a6">&#9670;&nbsp;</a></span>m_field_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="field__types_8h.html#a69e798807026a0f7e12b1d6c72374854">enum_field_types</a> json_binary::Value::m_field_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The MySQL field type of the value, in case the type of the value is OPAQUE. </p>
<p>Otherwise, it is unused. </p>

</div>
</div>
<a id="a3c8da35eeab70ff51b41a3bb7aba7531"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c8da35eeab70ff51b41a3bb7aba7531">&#9670;&nbsp;</a></span>m_int_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#a7cde0074dfd288f2d70c0e035dacb28a">int64</a> json_binary::Value::m_int_value</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The value if the type is INT or UINT. </p>

</div>
</div>
<a id="a3624066a8c16b8b1753fb76d780c342e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3624066a8c16b8b1753fb76d780c342e">&#9670;&nbsp;</a></span>m_large</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> json_binary::Value::m_large</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if an array or an object uses the large storage format with 4 byte offsets instead of 2 byte offsets. </p>

</div>
</div>
<a id="ac046506a60b4d5e544c84246cbcb864c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac046506a60b4d5e544c84246cbcb864c">&#9670;&nbsp;</a></span>m_length</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__inttypes_8h.html#acbd4acd0d29e2d6c43104827f77d9cd2">uint32</a> json_binary::Value::m_length</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The full length (in bytes) of the binary representation of an array or object, or the length of a string or opaque value. </p>
<p>Unused for other types. </p>

</div>
</div>
<a id="adc8bda5ec193b717fcb99f2be54a36ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc8bda5ec193b717fcb99f2be54a36ba">&#9670;&nbsp;</a></span>m_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classjson__binary_1_1Value.html#a63decc328d82d211798da5c6ab0002fb">enum_type</a> json_binary::Value::m_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The JSON type of the value. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="json__binary_8h_source.html">json_binary.h</a></li>
<li>sql/<a class="el" href="json__binary_8cc.html">json_binary.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacejson__binary.html">json_binary</a></li><li class="navelem"><a class="el" href="classjson__binary_1_1Value.html">Value</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
