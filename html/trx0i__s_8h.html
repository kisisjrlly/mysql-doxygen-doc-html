<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/trx0i_s.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('trx0i__s_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trx0i_s.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>INFORMATION SCHEMA innodb_trx, innodb_locks and innodb_lock_waits tables cache structures and public functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br />
<code>#include &quot;univ.i&quot;</code><br />
</div>
<p><a href="trx0i__s_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi__s__locks__row__t.html">i_s_locks_row_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents INFORMATION_SCHEMA.innodb_locks row.  <a href="structi__s__locks__row__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structi__s__trx__row__t.html">i_s_trx_row_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents INFORMATION_SCHEMA.innodb_trx row.  <a href="structi__s__trx__row__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a35fce873dd0c620970148a47b1131924"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a35fce873dd0c620970148a47b1131924">TRX_I_S_MEM_LIMIT</a>&#160;&#160;&#160;16777216 /* 16 MiB */</td></tr>
<tr class="memdesc:a35fce873dd0c620970148a47b1131924"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum amount of memory that can be consumed by innodb_trx, innodb_locks and innodb_lock_waits information schema tables.  <a href="#a35fce873dd0c620970148a47b1131924">More...</a><br /></td></tr>
<tr class="separator:a35fce873dd0c620970148a47b1131924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e03ae8905705c3589b32db057f107a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a38e03ae8905705c3589b32db057f107a">TRX_I_S_LOCK_DATA_MAX_LEN</a>&#160;&#160;&#160;8192</td></tr>
<tr class="memdesc:a38e03ae8905705c3589b32db057f107a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum length of a string that can be stored in i_s_locks_row_t::lock_data.  <a href="#a38e03ae8905705c3589b32db057f107a">More...</a><br /></td></tr>
<tr class="separator:a38e03ae8905705c3589b32db057f107a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a36edb531e82e15b14359fd1b99950"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a70a36edb531e82e15b14359fd1b99950">TRX_I_S_TRX_QUERY_MAX_LEN</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:a70a36edb531e82e15b14359fd1b99950"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum length of a string that can be stored in i_s_trx_row_t::trx_query.  <a href="#a70a36edb531e82e15b14359fd1b99950">More...</a><br /></td></tr>
<tr class="separator:a70a36edb531e82e15b14359fd1b99950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18982b46451f57573c85b386ed6ae4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#ad18982b46451f57573c85b386ed6ae4e">TRX_I_S_TRX_OP_STATE_MAX_LEN</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:ad18982b46451f57573c85b386ed6ae4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum length of a string that can be stored in i_s_trx_row_t::trx_operation_state.  <a href="#ad18982b46451f57573c85b386ed6ae4e">More...</a><br /></td></tr>
<tr class="separator:ad18982b46451f57573c85b386ed6ae4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e4376dfc1fdc4ed82809b31934b235"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a45e4376dfc1fdc4ed82809b31934b235">TRX_I_S_TRX_FK_ERROR_MAX_LEN</a>&#160;&#160;&#160;256</td></tr>
<tr class="memdesc:a45e4376dfc1fdc4ed82809b31934b235"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum length of a string that can be stored in i_s_trx_row_t::trx_foreign_key_error.  <a href="#a45e4376dfc1fdc4ed82809b31934b235">More...</a><br /></td></tr>
<tr class="separator:a45e4376dfc1fdc4ed82809b31934b235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704155c77c187d613969d6473cc5cd57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a704155c77c187d613969d6473cc5cd57">TRX_I_S_TRX_ISOLATION_LEVEL_MAX_LEN</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:a704155c77c187d613969d6473cc5cd57"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum length of a string that can be stored in i_s_trx_row_t::trx_isolation_level.  <a href="#a704155c77c187d613969d6473cc5cd57">More...</a><br /></td></tr>
<tr class="separator:a704155c77c187d613969d6473cc5cd57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9a4a2f9629173dcc5631de3e234f2b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a4d9a4a2f9629173dcc5631de3e234f2b">TRX_I_S_STRING_COPY</a>(data,  field,  constraint,  tcache)</td></tr>
<tr class="memdesc:a4d9a4a2f9629173dcc5631de3e234f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safely copy strings in to the INNODB_TRX table's string based columns.  <a href="#a4d9a4a2f9629173dcc5631de3e234f2b">More...</a><br /></td></tr>
<tr class="separator:a4d9a4a2f9629173dcc5631de3e234f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ce7da32db0cf5176ca74de064d01e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a76ce7da32db0cf5176ca74de064d01e7">TRX_I_S_LOCK_ID_MAX_LEN</a>&#160;&#160;&#160;(20 * 5 + 4)</td></tr>
<tr class="memdesc:a76ce7da32db0cf5176ca74de064d01e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum length of a resulting lock_id_size in trx_i_s_create_lock_id(), not including the terminating NUL.  <a href="#a76ce7da32db0cf5176ca74de064d01e7">More...</a><br /></td></tr>
<tr class="separator:a76ce7da32db0cf5176ca74de064d01e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae2302b72d893f3a895d5cac10337f99e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#ae2302b72d893f3a895d5cac10337f99e">i_s_table</a> { <a class="el" href="trx0i__s_8h.html#ae2302b72d893f3a895d5cac10337f99ea0b5c6c6705ff3e2ec770a4cc4f7151fb">I_S_INNODB_TRX</a>
 }<tr class="memdesc:ae2302b72d893f3a895d5cac10337f99e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Auxiliary enum used by functions that need to select one of the INFORMATION_SCHEMA tables.  <a href="trx0i__s_8h.html#ae2302b72d893f3a895d5cac10337f99e">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ae2302b72d893f3a895d5cac10337f99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aff6e37691cd8be8e0a636d471a243238"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#aff6e37691cd8be8e0a636d471a243238">trx_i_s_cache_init</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache)</td></tr>
<tr class="memdesc:aff6e37691cd8be8e0a636d471a243238"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize INFORMATION SCHEMA trx related cache.  <a href="#aff6e37691cd8be8e0a636d471a243238">More...</a><br /></td></tr>
<tr class="separator:aff6e37691cd8be8e0a636d471a243238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98ffa7fe0c173b75525eadc392863ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#ad98ffa7fe0c173b75525eadc392863ae">trx_i_s_cache_free</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache)</td></tr>
<tr class="memdesc:ad98ffa7fe0c173b75525eadc392863ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the INFORMATION SCHEMA trx related cache.  <a href="#ad98ffa7fe0c173b75525eadc392863ae">More...</a><br /></td></tr>
<tr class="separator:ad98ffa7fe0c173b75525eadc392863ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa579e6ee53c138cfe0273cea60a161"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a0aa579e6ee53c138cfe0273cea60a161">trx_i_s_cache_start_read</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache)</td></tr>
<tr class="memdesc:a0aa579e6ee53c138cfe0273cea60a161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issue a shared/read lock on the tables cache.  <a href="#a0aa579e6ee53c138cfe0273cea60a161">More...</a><br /></td></tr>
<tr class="separator:a0aa579e6ee53c138cfe0273cea60a161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022ba6bc11e4aad5a7848b34712f5891"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a022ba6bc11e4aad5a7848b34712f5891">trx_i_s_cache_end_read</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache)</td></tr>
<tr class="memdesc:a022ba6bc11e4aad5a7848b34712f5891"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a shared/read lock on the tables cache.  <a href="#a022ba6bc11e4aad5a7848b34712f5891">More...</a><br /></td></tr>
<tr class="separator:a022ba6bc11e4aad5a7848b34712f5891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332b4c742bec60712cc241d013881614"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a332b4c742bec60712cc241d013881614">trx_i_s_cache_start_write</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache)</td></tr>
<tr class="memdesc:a332b4c742bec60712cc241d013881614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Issue an exclusive/write lock on the tables cache.  <a href="#a332b4c742bec60712cc241d013881614">More...</a><br /></td></tr>
<tr class="separator:a332b4c742bec60712cc241d013881614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e21422c1d882e1100d5610b76335e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#ab9e21422c1d882e1100d5610b76335e9">trx_i_s_cache_end_write</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache)</td></tr>
<tr class="memdesc:ab9e21422c1d882e1100d5610b76335e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release an exclusive/write lock on the tables cache.  <a href="#ab9e21422c1d882e1100d5610b76335e9">More...</a><br /></td></tr>
<tr class="separator:ab9e21422c1d882e1100d5610b76335e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9943f9b1ae6005747b245d0b046fb49a"><td class="memItemLeft" align="right" valign="top">ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a9943f9b1ae6005747b245d0b046fb49a">trx_i_s_cache_get_rows_used</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache, enum <a class="el" href="trx0i__s_8h.html#ae2302b72d893f3a895d5cac10337f99e">i_s_table</a> table)</td></tr>
<tr class="memdesc:a9943f9b1ae6005747b245d0b046fb49a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the number of used rows in the cache for a given INFORMATION SCHEMA table.  <a href="#a9943f9b1ae6005747b245d0b046fb49a">More...</a><br /></td></tr>
<tr class="separator:a9943f9b1ae6005747b245d0b046fb49a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd126598c3e4405111a2e20fd0fa6e2"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#afdd126598c3e4405111a2e20fd0fa6e2">trx_i_s_cache_get_nth_row</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache, enum <a class="el" href="trx0i__s_8h.html#ae2302b72d893f3a895d5cac10337f99e">i_s_table</a> table, ulint <a class="el" href="xcom__base_8cc.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>)</td></tr>
<tr class="memdesc:afdd126598c3e4405111a2e20fd0fa6e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the nth row in the cache for a given INFORMATION SCHEMA table.  <a href="#afdd126598c3e4405111a2e20fd0fa6e2">More...</a><br /></td></tr>
<tr class="separator:afdd126598c3e4405111a2e20fd0fa6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa070c7602c8996c58468f95e29b5fb76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#aa070c7602c8996c58468f95e29b5fb76">trx_i_s_possibly_fetch_data_into_cache</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache)</td></tr>
<tr class="memdesc:aa070c7602c8996c58468f95e29b5fb76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the transactions cache if it has not been read for some time.  <a href="#aa070c7602c8996c58468f95e29b5fb76">More...</a><br /></td></tr>
<tr class="separator:aa070c7602c8996c58468f95e29b5fb76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2e1366d36dbdce51996df969f44b6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a3e2e1366d36dbdce51996df969f44b6b">trx_i_s_cache_is_truncated</a> (<a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *cache)</td></tr>
<tr class="memdesc:a3e2e1366d36dbdce51996df969f44b6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns TRUE if the data in the cache is truncated due to the memory limit posed by TRX_I_S_MEM_LIMIT.  <a href="#a3e2e1366d36dbdce51996df969f44b6b">More...</a><br /></td></tr>
<tr class="separator:a3e2e1366d36dbdce51996df969f44b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177f2ea3aaba8523c2255b2d042df5d1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a177f2ea3aaba8523c2255b2d042df5d1">trx_i_s_create_lock_id</a> (const <a class="el" href="structi__s__locks__row__t.html">i_s_locks_row_t</a> *row, char *lock_id, ulint lock_id_size)</td></tr>
<tr class="memdesc:a177f2ea3aaba8523c2255b2d042df5d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crafts a lock id string from a i_s_locks_row_t object.  <a href="#a177f2ea3aaba8523c2255b2d042df5d1">More...</a><br /></td></tr>
<tr class="separator:a177f2ea3aaba8523c2255b2d042df5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa70d5013c637aa3c757840e656542de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#afa70d5013c637aa3c757840e656542de">p_s_fill_lock_data</a> (const char **lock_data, const <a class="el" href="structlock__t.html">lock_t</a> *lock, ulint heap_no, <a class="el" href="classPSI__server__data__lock__container.html">PSI_server_data_lock_container</a> *<a class="el" href="innodb__config_8h.html#a030ecaa2a61b422a8ca7422403ad8c77">container</a>)</td></tr>
<tr class="memdesc:afa70d5013c637aa3c757840e656542de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill performance schema lock data.  <a href="#afa70d5013c637aa3c757840e656542de">More...</a><br /></td></tr>
<tr class="separator:afa70d5013c637aa3c757840e656542de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e99af7313f7624bad13e1f69ea5058"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a35e99af7313f7624bad13e1f69ea5058">fill_locks_row</a> (<a class="el" href="structi__s__locks__row__t.html">i_s_locks_row_t</a> *row, const <a class="el" href="structlock__t.html">lock_t</a> *lock, ulint heap_no)</td></tr>
<tr class="memdesc:a35e99af7313f7624bad13e1f69ea5058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fills i_s_locks_row_t object with data about the lock.  <a href="#a35e99af7313f7624bad13e1f69ea5058">More...</a><br /></td></tr>
<tr class="separator:a35e99af7313f7624bad13e1f69ea5058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf99212d031b207506164bfcf879c30c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#adf99212d031b207506164bfcf879c30c">trx_i_s_parse_lock_id</a> (const char *lock_id, <a class="el" href="structi__s__locks__row__t.html">i_s_locks_row_t</a> *row)</td></tr>
<tr class="memdesc:adf99212d031b207506164bfcf879c30c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses lock id into row.  <a href="#adf99212d031b207506164bfcf879c30c">More...</a><br /></td></tr>
<tr class="separator:adf99212d031b207506164bfcf879c30c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4c1b818f2d1a1be140a20a25978cbdc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0i__s_8h.html#a4c1b818f2d1a1be140a20a25978cbdc6">trx_i_s_cache</a></td></tr>
<tr class="memdesc:a4c1b818f2d1a1be140a20a25978cbdc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the intermediate buffer where data needed to fill the INFORMATION SCHEMA tables is fetched and later retrieved by the C++ code in handler/i_s.cc.  <a href="#a4c1b818f2d1a1be140a20a25978cbdc6">More...</a><br /></td></tr>
<tr class="separator:a4c1b818f2d1a1be140a20a25978cbdc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>INFORMATION SCHEMA innodb_trx, innodb_locks and innodb_lock_waits tables cache structures and public functions. </p>
<p>Created July 17, 2007 Vasil Dimov </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a38e03ae8905705c3589b32db057f107a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38e03ae8905705c3589b32db057f107a">&#9670;&nbsp;</a></span>TRX_I_S_LOCK_DATA_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_I_S_LOCK_DATA_MAX_LEN&#160;&#160;&#160;8192</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum length of a string that can be stored in i_s_locks_row_t::lock_data. </p>

</div>
</div>
<a id="a76ce7da32db0cf5176ca74de064d01e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ce7da32db0cf5176ca74de064d01e7">&#9670;&nbsp;</a></span>TRX_I_S_LOCK_ID_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_I_S_LOCK_ID_MAX_LEN&#160;&#160;&#160;(20 * 5 + 4)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum length of a resulting lock_id_size in trx_i_s_create_lock_id(), not including the terminating NUL. </p>
<p>"%lu:%lu:%lu:%lu:%lu" -&gt; 20*5+4 chars </p>

</div>
</div>
<a id="a35fce873dd0c620970148a47b1131924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35fce873dd0c620970148a47b1131924">&#9670;&nbsp;</a></span>TRX_I_S_MEM_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_I_S_MEM_LIMIT&#160;&#160;&#160;16777216 /* 16 MiB */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum amount of memory that can be consumed by innodb_trx, innodb_locks and innodb_lock_waits information schema tables. </p>

</div>
</div>
<a id="a4d9a4a2f9629173dcc5631de3e234f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d9a4a2f9629173dcc5631de3e234f2b">&#9670;&nbsp;</a></span>TRX_I_S_STRING_COPY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_I_S_STRING_COPY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">field, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">constraint, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tcache&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                                                   \</div><div class="line">    if (strlen(data) &gt; constraint) {                                     \</div><div class="line">      char buff[constraint + 1];                                         \</div><div class="line">      strncpy(buff, data, constraint);                                   \</div><div class="line">      buff[constraint] = <span class="charliteral">&#39;\0&#39;</span>;                                           \</div><div class="line">                                                                         \</div><div class="line">      field = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(                                 \</div><div class="line">          ha_storage_put_memlim((tcache)-&gt;storage, buff, constraint + 1, \</div><div class="line">                                <a class="code" href="trx0i__s_8cc.html#a36763bce6a91af48841bee6df67ef7d6">MAX_ALLOWED_FOR_STORAGE</a>(tcache)));       \</div><div class="line">    } <span class="keywordflow">else</span> {                                                             \</div><div class="line">      field = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">char</span> *<span class="keyword">&gt;</span>(<a class="code" href="ha0storage_8h.html#a3eec962a10c510eef910e0c87f76b816">ha_storage_put_str_memlim</a>(       \</div><div class="line">          (tcache)-&gt;storage, data, <a class="code" href="trx0i__s_8cc.html#a36763bce6a91af48841bee6df67ef7d6">MAX_ALLOWED_FOR_STORAGE</a>(tcache)));    \</div><div class="line">    }                                                                    \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div><div class="ttc" id="trx0i__s_8cc_html_a36763bce6a91af48841bee6df67ef7d6"><div class="ttname"><a href="trx0i__s_8cc.html#a36763bce6a91af48841bee6df67ef7d6">MAX_ALLOWED_FOR_STORAGE</a></div><div class="ttdeci">#define MAX_ALLOWED_FOR_STORAGE(cache)</div><div class="ttdoc">The following are some testing auxiliary macros. </div><div class="ttdef"><b>Definition:</b> trx0i_s.cc:139</div></div>
<div class="ttc" id="ha0storage_8h_html_a3eec962a10c510eef910e0c87f76b816"><div class="ttname"><a href="ha0storage_8h.html#a3eec962a10c510eef910e0c87f76b816">ha_storage_put_str_memlim</a></div><div class="ttdeci">#define ha_storage_put_str_memlim(storage, str, memlim)</div><div class="ttdoc">Copies string into the storage and returns a pointer to the copy obeying a memory limit...</div><div class="ttdef"><b>Definition:</b> ha0storage.h:101</div></div>
</div><!-- fragment -->
<p>Safely copy strings in to the INNODB_TRX table's string based columns. </p>

</div>
</div>
<a id="a45e4376dfc1fdc4ed82809b31934b235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45e4376dfc1fdc4ed82809b31934b235">&#9670;&nbsp;</a></span>TRX_I_S_TRX_FK_ERROR_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_I_S_TRX_FK_ERROR_MAX_LEN&#160;&#160;&#160;256</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum length of a string that can be stored in i_s_trx_row_t::trx_foreign_key_error. </p>

</div>
</div>
<a id="a704155c77c187d613969d6473cc5cd57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704155c77c187d613969d6473cc5cd57">&#9670;&nbsp;</a></span>TRX_I_S_TRX_ISOLATION_LEVEL_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_I_S_TRX_ISOLATION_LEVEL_MAX_LEN&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum length of a string that can be stored in i_s_trx_row_t::trx_isolation_level. </p>

</div>
</div>
<a id="ad18982b46451f57573c85b386ed6ae4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad18982b46451f57573c85b386ed6ae4e">&#9670;&nbsp;</a></span>TRX_I_S_TRX_OP_STATE_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_I_S_TRX_OP_STATE_MAX_LEN&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum length of a string that can be stored in i_s_trx_row_t::trx_operation_state. </p>

</div>
</div>
<a id="a70a36edb531e82e15b14359fd1b99950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70a36edb531e82e15b14359fd1b99950">&#9670;&nbsp;</a></span>TRX_I_S_TRX_QUERY_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_I_S_TRX_QUERY_MAX_LEN&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum length of a string that can be stored in i_s_trx_row_t::trx_query. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ae2302b72d893f3a895d5cac10337f99e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2302b72d893f3a895d5cac10337f99e">&#9670;&nbsp;</a></span>i_s_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="trx0i__s_8h.html#ae2302b72d893f3a895d5cac10337f99e">i_s_table</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Auxiliary enum used by functions that need to select one of the INFORMATION_SCHEMA tables. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae2302b72d893f3a895d5cac10337f99ea0b5c6c6705ff3e2ec770a4cc4f7151fb"></a>I_S_INNODB_TRX&#160;</td><td class="fielddoc"><p>INFORMATION_SCHEMA.innodb_trx. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a35e99af7313f7624bad13e1f69ea5058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e99af7313f7624bad13e1f69ea5058">&#9670;&nbsp;</a></span>fill_locks_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fill_locks_row </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structi__s__locks__row__t.html">i_s_locks_row_t</a> *&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlock__t.html">lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>heap_no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fills i_s_locks_row_t object with data about the lock. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">row</td><td>Result object that's filled </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lock</td><td>Lock to get data from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heap_no</td><td>Lock's record number or ULINT_UNDEFINED if the lock is a table lock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afa70d5013c637aa3c757840e656542de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa70d5013c637aa3c757840e656542de">&#9670;&nbsp;</a></span>p_s_fill_lock_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void p_s_fill_lock_data </td>
          <td>(</td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>lock_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlock__t.html">lock_t</a> *&#160;</td>
          <td class="paramname"><em>lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>heap_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classPSI__server__data__lock__container.html">PSI_server_data_lock_container</a> *&#160;</td>
          <td class="paramname"><em>container</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill performance schema lock data. </p>
<p>Create a string that represents the LOCK_DATA column, for a given lock record. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">lock_data</td><td>Lock data string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lock</td><td>Lock to inspect </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heap_no</td><td>Lock heap number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">container</td><td>Data container to fill </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a022ba6bc11e4aad5a7848b34712f5891"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022ba6bc11e4aad5a7848b34712f5891">&#9670;&nbsp;</a></span>trx_i_s_cache_end_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_i_s_cache_end_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a shared/read lock on the tables cache. </p>
<p>in: cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>in: cache </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab9e21422c1d882e1100d5610b76335e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e21422c1d882e1100d5610b76335e9">&#9670;&nbsp;</a></span>trx_i_s_cache_end_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_i_s_cache_end_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release an exclusive/write lock on the tables cache. </p>
<p>in: cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>in: cache </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad98ffa7fe0c173b75525eadc392863ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad98ffa7fe0c173b75525eadc392863ae">&#9670;&nbsp;</a></span>trx_i_s_cache_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_i_s_cache_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the INFORMATION SCHEMA trx related cache. </p>
<p>in/out: cache to free</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>in, own: cache to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afdd126598c3e4405111a2e20fd0fa6e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd126598c3e4405111a2e20fd0fa6e2">&#9670;&nbsp;</a></span>trx_i_s_cache_get_nth_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* trx_i_s_cache_get_nth_row </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="trx0i__s_8h.html#ae2302b72d893f3a895d5cac10337f99e">i_s_table</a>&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the nth row in the cache for a given INFORMATION SCHEMA table. </p>
<dl class="section return"><dt>Returns</dt><dd>row in: row number</dd></dl>
<p>Retrieves the nth row in the cache for a given INFORMATION SCHEMA table.</p>
<dl class="section return"><dt>Returns</dt><dd>row </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>in: cache </td></tr>
    <tr><td class="paramname">table</td><td>in: which table </td></tr>
    <tr><td class="paramname">n</td><td>in: row number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9943f9b1ae6005747b245d0b046fb49a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9943f9b1ae6005747b245d0b046fb49a">&#9670;&nbsp;</a></span>trx_i_s_cache_get_rows_used()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint trx_i_s_cache_get_rows_used </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="trx0i__s_8h.html#ae2302b72d893f3a895d5cac10337f99e">i_s_table</a>&#160;</td>
          <td class="paramname"><em>table</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the number of used rows in the cache for a given INFORMATION SCHEMA table. </p>
<dl class="section return"><dt>Returns</dt><dd>number of rows in: which table</dd>
<dd>
number of rows </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>in: cache </td></tr>
    <tr><td class="paramname">table</td><td>in: which table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff6e37691cd8be8e0a636d471a243238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6e37691cd8be8e0a636d471a243238">&#9670;&nbsp;</a></span>trx_i_s_cache_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_i_s_cache_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize INFORMATION SCHEMA trx related cache. </p>
<p>out: cache to init</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>out: cache to init </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3e2e1366d36dbdce51996df969f44b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2e1366d36dbdce51996df969f44b6b">&#9670;&nbsp;</a></span>trx_i_s_cache_is_truncated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> trx_i_s_cache_is_truncated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns TRUE if the data in the cache is truncated due to the memory limit posed by TRX_I_S_MEM_LIMIT. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cache</td><td>The cache </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if truncated </dd></dl>

</div>
</div>
<a id="a0aa579e6ee53c138cfe0273cea60a161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aa579e6ee53c138cfe0273cea60a161">&#9670;&nbsp;</a></span>trx_i_s_cache_start_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_i_s_cache_start_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Issue a shared/read lock on the tables cache. </p>
<p>in: cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>in: cache </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a332b4c742bec60712cc241d013881614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a332b4c742bec60712cc241d013881614">&#9670;&nbsp;</a></span>trx_i_s_cache_start_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trx_i_s_cache_start_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Issue an exclusive/write lock on the tables cache. </p>
<p>in: cache</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>in: cache </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a177f2ea3aaba8523c2255b2d042df5d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177f2ea3aaba8523c2255b2d042df5d1">&#9670;&nbsp;</a></span>trx_i_s_create_lock_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* trx_i_s_create_lock_id </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structi__s__locks__row__t.html">i_s_locks_row_t</a> *&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>lock_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>lock_id_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crafts a lock id string from a i_s_locks_row_t object. </p>
<p>Returns its second argument. This function aborts if there is not enough space in lock_id. Be sure to provide at least TRX_I_S_LOCK_ID_MAX_LEN + 1 if you want to be 100% sure that it will not abort. </p><dl class="section return"><dt>Returns</dt><dd>resulting lock id in: size of the lock id buffer</dd></dl>
<p>Returns its second argument. This function aborts if there is not enough space in lock_id. Be sure to provide at least TRX_I_S_LOCK_ID_MAX_LEN + 1 if you want to be 100% sure that it will not abort. </p><dl class="section return"><dt>Returns</dt><dd>resulting lock id </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row</td><td>in: innodb_locks row </td></tr>
    <tr><td class="paramname">lock_id</td><td>out: resulting lock_id </td></tr>
    <tr><td class="paramname">lock_id_size</td><td>in: size of the lock id buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adf99212d031b207506164bfcf879c30c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf99212d031b207506164bfcf879c30c">&#9670;&nbsp;</a></span>trx_i_s_parse_lock_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int trx_i_s_parse_lock_id </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lock_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structi__s__locks__row__t.html">i_s_locks_row_t</a> *&#160;</td>
          <td class="paramname"><em>row</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses lock id into row. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lock_id</td><td>Lock id generated with trx_i_s_create_lock_id </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">row</td><td>Row to be filled in with data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>LOCK_REC, LOCK_TABLE or 0 if failed to parse </dd></dl>

</div>
</div>
<a id="aa070c7602c8996c58468f95e29b5fb76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa070c7602c8996c58468f95e29b5fb76">&#9670;&nbsp;</a></span>trx_i_s_possibly_fetch_data_into_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int trx_i_s_possibly_fetch_data_into_cache </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a> *&#160;</td>
          <td class="paramname"><em>cache</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the transactions cache if it has not been read for some time. </p>
<dl class="section return"><dt>Returns</dt><dd>0 - fetched, 1 - not in/out: cache</dd></dl>
<p>Called from handler/i_s.cc. </p><dl class="section return"><dt>Returns</dt><dd>0 - fetched, 1 - not </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>in/out: cache </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4c1b818f2d1a1be140a20a25978cbdc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c1b818f2d1a1be140a20a25978cbdc6">&#9670;&nbsp;</a></span>trx_i_s_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__i__s__cache__t.html">trx_i_s_cache_t</a>* trx_i_s_cache</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the intermediate buffer where data needed to fill the INFORMATION SCHEMA tables is fetched and later retrieved by the C++ code in handler/i_s.cc. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="trx0i__s_8h.html">trx0i_s.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
