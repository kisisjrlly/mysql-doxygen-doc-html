<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Transaction_consistency_manager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classTransaction__consistency__manager.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classTransaction__consistency__manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Transaction_consistency_manager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The consistency information of all ongoing transactions which have consistency GROUP_REPLICATION_CONSISTENCY_BEFORE, GROUP_REPLICATION_CONSISTENCY_AFTER or GROUP_REPLICATION_CONSISTENCY_BEFORE_AND_AFTER.  
 <a href="classTransaction__consistency__manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="consistency__manager_8h_source.html">consistency_manager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Transaction_consistency_manager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classTransaction__consistency__manager.png" usemap="#Transaction_5Fconsistency_5Fmanager_map" alt=""/>
  <map id="Transaction_5Fconsistency_5Fmanager_map" name="Transaction_5Fconsistency_5Fmanager_map">
<area href="classGroup__transaction__listener.html" title="Listener for transaction life cycle events. " alt="Group_transaction_listener" shape="rect" coords="0,0,208,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae05d8e822ae7527ce0363ff7be53ff6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ae05d8e822ae7527ce0363ff7be53ff6f">Transaction_consistency_manager</a> ()</td></tr>
<tr class="memdesc:ae05d8e822ae7527ce0363ff7be53ff6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ae05d8e822ae7527ce0363ff7be53ff6f">More...</a><br /></td></tr>
<tr class="separator:ae05d8e822ae7527ce0363ff7be53ff6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cbc156dc6f36027562cf053bc3156f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a56cbc156dc6f36027562cf053bc3156f">~Transaction_consistency_manager</a> () override</td></tr>
<tr class="separator:a56cbc156dc6f36027562cf053bc3156f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7629c0fa51c593721aab0b679c2fd62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ab7629c0fa51c593721aab0b679c2fd62">clear</a> ()</td></tr>
<tr class="memdesc:ab7629c0fa51c593721aab0b679c2fd62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all information.  <a href="#ab7629c0fa51c593721aab0b679c2fd62">More...</a><br /></td></tr>
<tr class="separator:ab7629c0fa51c593721aab0b679c2fd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9bc647499cede0393a0dac28ef06968"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ab9bc647499cede0393a0dac28ef06968">after_certification</a> (<a class="el" href="classTransaction__consistency__info.html">Transaction_consistency_info</a> *transaction_info)</td></tr>
<tr class="memdesc:ab9bc647499cede0393a0dac28ef06968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call action after a transaction is certified.  <a href="#ab9bc647499cede0393a0dac28ef06968">More...</a><br /></td></tr>
<tr class="separator:ab9bc647499cede0393a0dac28ef06968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1e9368d74ad965161b02ac63d94a56"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a0a1e9368d74ad965161b02ac63d94a56">after_applier_prepare</a> (<a class="el" href="rpl__gtid_8h.html#a4873b950f954adcfa36c1665428ce3ff">rpl_sidno</a> sidno, <a class="el" href="rpl__gtid_8h.html#a74378e47532331d3ac920082cf954668">rpl_gno</a> gno, <a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>, <a class="el" href="classGroup__member__info.html#ace3d1dba163658398f2f807e55887c11">Group_member_info::Group_member_status</a> member_status)</td></tr>
<tr class="memdesc:a0a1e9368d74ad965161b02ac63d94a56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call action after a transaction being prepared on this member applier.  <a href="#a0a1e9368d74ad965161b02ac63d94a56">More...</a><br /></td></tr>
<tr class="separator:a0a1e9368d74ad965161b02ac63d94a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8984f3745ecbc8ade3896ce3d3d08b36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a8984f3745ecbc8ade3896ce3d3d08b36">handle_remote_prepare</a> (const <a class="el" href="rpl__gtid_8h.html#ada65b12e73ca5b310f33aea1537852e6">rpl_sid</a> *sid, <a class="el" href="rpl__gtid_8h.html#a74378e47532331d3ac920082cf954668">rpl_gno</a> gno, const <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &amp;gcs_member_id)</td></tr>
<tr class="memdesc:a8984f3745ecbc8ade3896ce3d3d08b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call action after a transaction being prepared by other member.  <a href="#a8984f3745ecbc8ade3896ce3d3d08b36">More...</a><br /></td></tr>
<tr class="separator:a8984f3745ecbc8ade3896ce3d3d08b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485f6deab085fe8e3d904e4bf34aea83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a485f6deab085fe8e3d904e4bf34aea83">handle_member_leave</a> (const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;leaving_members)</td></tr>
<tr class="memdesc:a485f6deab085fe8e3d904e4bf34aea83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call action after members leave the group.  <a href="#a485f6deab085fe8e3d904e4bf34aea83">More...</a><br /></td></tr>
<tr class="separator:a485f6deab085fe8e3d904e4bf34aea83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad73c7a9e471dae80c63d6a50318ffcf1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ad73c7a9e471dae80c63d6a50318ffcf1">after_commit</a> (<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>, <a class="el" href="rpl__gtid_8h.html#a4873b950f954adcfa36c1665428ce3ff">rpl_sidno</a> sidno, <a class="el" href="rpl__gtid_8h.html#a74378e47532331d3ac920082cf954668">rpl_gno</a> gno) override</td></tr>
<tr class="memdesc:ad73c7a9e471dae80c63d6a50318ffcf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call action after commit a transaction on this member.  <a href="#ad73c7a9e471dae80c63d6a50318ffcf1">More...</a><br /></td></tr>
<tr class="separator:ad73c7a9e471dae80c63d6a50318ffcf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad66cdde8610bc77d0a14672a7ac61eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#aad66cdde8610bc77d0a14672a7ac61eb">before_transaction_begin</a> (<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> gr_consistency_level, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> timeout, <a class="el" href="rpl__context_8h.html#adace31ab3fc0e640f5c70ce7d7dc1c7c">enum_rpl_channel_type</a> rpl_channel_type) override</td></tr>
<tr class="memdesc:aad66cdde8610bc77d0a14672a7ac61eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call action before a transaction starts.  <a href="#aad66cdde8610bc77d0a14672a7ac61eb">More...</a><br /></td></tr>
<tr class="separator:aad66cdde8610bc77d0a14672a7ac61eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de05e9a84062d82264022195cef42c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a3de05e9a84062d82264022195cef42c4">handle_sync_before_execution_message</a> (<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>, const <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &amp;gcs_member_id) const</td></tr>
<tr class="memdesc:a3de05e9a84062d82264022195cef42c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call action once a Sync_before_execution_message is received, this will allow fetch the group transactions set ordered with the message order.  <a href="#a3de05e9a84062d82264022195cef42c4">More...</a><br /></td></tr>
<tr class="separator:a3de05e9a84062d82264022195cef42c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dce5ec0eb1ba38f167218fe57f9c94b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a1dce5ec0eb1ba38f167218fe57f9c94b">has_local_prepared_transactions</a> ()</td></tr>
<tr class="memdesc:a1dce5ec0eb1ba38f167218fe57f9c94b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Are there local prepared transactions waiting for prepare acknowledge from other members?  <a href="#a1dce5ec0eb1ba38f167218fe57f9c94b">More...</a><br /></td></tr>
<tr class="separator:a1dce5ec0eb1ba38f167218fe57f9c94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5836e8b04acec50ea994700f26ffce"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#add5836e8b04acec50ea994700f26ffce">schedule_view_change_event</a> (<a class="el" href="classPipeline__event.html">Pipeline_event</a> *pevent)</td></tr>
<tr class="memdesc:add5836e8b04acec50ea994700f26ffce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule a View_change_log_event log into the relay to after the local prepared transactions are complete, since those transactions belong to the previous view and as such must be logged before this view.  <a href="#add5836e8b04acec50ea994700f26ffce">More...</a><br /></td></tr>
<tr class="separator:add5836e8b04acec50ea994700f26ffce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a2f128ad64c5000d17dbb7e00f4b56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#af6a2f128ad64c5000d17dbb7e00f4b56">plugin_started</a> ()</td></tr>
<tr class="memdesc:af6a2f128ad64c5000d17dbb7e00f4b56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform that plugin did start.  <a href="#af6a2f128ad64c5000d17dbb7e00f4b56">More...</a><br /></td></tr>
<tr class="separator:af6a2f128ad64c5000d17dbb7e00f4b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60eb67641f37bbfac6b9bb45aa46f054"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a60eb67641f37bbfac6b9bb45aa46f054">plugin_is_stopping</a> ()</td></tr>
<tr class="memdesc:a60eb67641f37bbfac6b9bb45aa46f054"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform that plugin is stopping.  <a href="#a60eb67641f37bbfac6b9bb45aa46f054">More...</a><br /></td></tr>
<tr class="separator:a60eb67641f37bbfac6b9bb45aa46f054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4da6e90e2c17bc881d047f659fc60931"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a4da6e90e2c17bc881d047f659fc60931">register_transaction_observer</a> ()</td></tr>
<tr class="memdesc:a4da6e90e2c17bc881d047f659fc60931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an observer for transactions.  <a href="#a4da6e90e2c17bc881d047f659fc60931">More...</a><br /></td></tr>
<tr class="separator:a4da6e90e2c17bc881d047f659fc60931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7fbe5c2d130033c99fe80e4d446b541"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#aa7fbe5c2d130033c99fe80e4d446b541">unregister_transaction_observer</a> ()</td></tr>
<tr class="memdesc:aa7fbe5c2d130033c99fe80e4d446b541"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister the observer for transactions.  <a href="#aa7fbe5c2d130033c99fe80e4d446b541">More...</a><br /></td></tr>
<tr class="separator:aa7fbe5c2d130033c99fe80e4d446b541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af455cb382b9b2211fae34237f0194f76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#af455cb382b9b2211fae34237f0194f76">before_commit</a> (<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>, <a class="el" href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444ee">Group_transaction_listener::enum_transaction_origin</a> origin) override</td></tr>
<tr class="memdesc:af455cb382b9b2211fae34237f0194f76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed before commit.  <a href="#af455cb382b9b2211fae34237f0194f76">More...</a><br /></td></tr>
<tr class="separator:af455cb382b9b2211fae34237f0194f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9e71187536216955ecbca69c660c191"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ac9e71187536216955ecbca69c660c191">before_rollback</a> (<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>, <a class="el" href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444ee">Group_transaction_listener::enum_transaction_origin</a> origin) override</td></tr>
<tr class="memdesc:ac9e71187536216955ecbca69c660c191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed before rollback.  <a href="#ac9e71187536216955ecbca69c660c191">More...</a><br /></td></tr>
<tr class="separator:ac9e71187536216955ecbca69c660c191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8ed47a547d91becb0cda8dda3d7c597"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#aa8ed47a547d91becb0cda8dda3d7c597">after_rollback</a> (<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>) override</td></tr>
<tr class="memdesc:aa8ed47a547d91becb0cda8dda3d7c597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executed after rollback.  <a href="#aa8ed47a547d91becb0cda8dda3d7c597">More...</a><br /></td></tr>
<tr class="separator:aa8ed47a547d91becb0cda8dda3d7c597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06e2c0102033ce64c65e85b142364a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#af06e2c0102033ce64c65e85b142364a6">enable_primary_election_checks</a> ()</td></tr>
<tr class="memdesc:af06e2c0102033ce64c65e85b142364a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the consistency manager that a primary election is running so it shall enable primary election checks.  <a href="#af06e2c0102033ce64c65e85b142364a6">More...</a><br /></td></tr>
<tr class="separator:af06e2c0102033ce64c65e85b142364a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4250099c0a4e09bdea7239bc403d53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a2e4250099c0a4e09bdea7239bc403d53">disable_primary_election_checks</a> ()</td></tr>
<tr class="memdesc:a2e4250099c0a4e09bdea7239bc403d53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the consistency manager that a primary election ended so it shall disable primary election checks.  <a href="#a2e4250099c0a4e09bdea7239bc403d53">More...</a><br /></td></tr>
<tr class="separator:a2e4250099c0a4e09bdea7239bc403d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classGroup__transaction__listener"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classGroup__transaction__listener')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classGroup__transaction__listener.html">Group_transaction_listener</a></td></tr>
<tr class="memitem:a80f2e9f732a154e5a64b0cc2f1c5e4fb inherit pub_methods_classGroup__transaction__listener"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroup__transaction__listener.html#a80f2e9f732a154e5a64b0cc2f1c5e4fb">~Group_transaction_listener</a> ()</td></tr>
<tr class="memdesc:a80f2e9f732a154e5a64b0cc2f1c5e4fb inherit pub_methods_classGroup__transaction__listener"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class destructor.  <a href="classGroup__transaction__listener.html#a80f2e9f732a154e5a64b0cc2f1c5e4fb">More...</a><br /></td></tr>
<tr class="separator:a80f2e9f732a154e5a64b0cc2f1c5e4fb inherit pub_methods_classGroup__transaction__listener"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7c42c449fbf136289cebd6f64cf9cdc0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a7c42c449fbf136289cebd6f64cf9cdc0">transaction_begin_sync_before_execution</a> (<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>, <a class="el" href="plugin__group__replication_8h.html#a4e89a04e6a8ef8fe4b25d3af57d9d898">enum_group_replication_consistency_level</a> consistency_level, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> timeout) const</td></tr>
<tr class="memdesc:a7c42c449fbf136289cebd6f64cf9cdc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help method called by transaction begin action that, for transactions with consistency GROUP_REPLICATION_CONSISTENCY_BEFORE or GROUP_REPLICATION_CONSISTENCY_BEFORE_AND_AFTER will: 1) send a message to all members; 2) when that message is received and processed in-order, w.r.t.  <a href="#a7c42c449fbf136289cebd6f64cf9cdc0">More...</a><br /></td></tr>
<tr class="separator:a7c42c449fbf136289cebd6f64cf9cdc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a7811118fc08fa51d71ca3e03f4e07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a17a7811118fc08fa51d71ca3e03f4e07">transaction_begin_sync_prepared_transactions</a> (<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> <a class="el" href="my__thr__init_8cc.html#a670cae2ed1025603c1d5b6712d264645">thread_id</a>, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> timeout)</td></tr>
<tr class="memdesc:a17a7811118fc08fa51d71ca3e03f4e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help method called by transaction begin action that, if there are precedent prepared transactions with consistency GROUP_REPLICATION_CONSISTENCY_AFTER or GROUP_REPLICATION_CONSISTENCY_BEFORE_AND_AFTER, will hold the this transaction until the prepared are committed.  <a href="#a17a7811118fc08fa51d71ca3e03f4e07">More...</a><br /></td></tr>
<tr class="separator:a17a7811118fc08fa51d71ca3e03f4e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539d46e1ea84f1890e5647024c92e9f5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a539d46e1ea84f1890e5647024c92e9f5">remove_prepared_transaction</a> (<a class="el" href="consistency__manager_8h.html#a742b26a2a1121d41aa9c8f33aca5c0b1">Transaction_consistency_manager_key</a> <a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="memdesc:a539d46e1ea84f1890e5647024c92e9f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help method that cleans prepared transactions and releases transactions waiting on them.  <a href="#a539d46e1ea84f1890e5647024c92e9f5">More...</a><br /></td></tr>
<tr class="separator:a539d46e1ea84f1890e5647024c92e9f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad8904d6e812beff3cc44ea48e38aa62b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ad8904d6e812beff3cc44ea48e38aa62b">m_map_lock</a></td></tr>
<tr class="separator:ad8904d6e812beff3cc44ea48e38aa62b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263b5157129e7dd262f5dc303e4176cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="consistency__manager_8h.html#a0902f48d2a57573921fa5874f6c02794">Transaction_consistency_manager_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a263b5157129e7dd262f5dc303e4176cd">m_map</a></td></tr>
<tr class="separator:a263b5157129e7dd262f5dc303e4176cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bbc02dc9fa103a7de84192d9546a24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a18bbc02dc9fa103a7de84192d9546a24">m_prepared_transactions_on_my_applier_lock</a></td></tr>
<tr class="separator:a18bbc02dc9fa103a7de84192d9546a24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac93238903fc7ca0a3f66ce24aa6681e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; <a class="el" href="consistency__manager_8h.html#a742b26a2a1121d41aa9c8f33aca5c0b1">Transaction_consistency_manager_key</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ac93238903fc7ca0a3f66ce24aa6681e8">m_prepared_transactions_on_my_applier</a></td></tr>
<tr class="separator:ac93238903fc7ca0a3f66ce24aa6681e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5777b4cc8062e31a9cc868f0e8fbec70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; <a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a5777b4cc8062e31a9cc868f0e8fbec70">m_new_transactions_waiting</a></td></tr>
<tr class="separator:a5777b4cc8062e31a9cc868f0e8fbec70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa46651470654dfce50181d64177a35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt; <a class="el" href="classPipeline__event.html">Pipeline_event</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a1aa46651470654dfce50181d64177a35">m_delayed_view_change_events</a></td></tr>
<tr class="separator:a1aa46651470654dfce50181d64177a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08b242f26af971ce9bf9753d8cf6a74"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ad08b242f26af971ce9bf9753d8cf6a74">m_plugin_stopping</a></td></tr>
<tr class="separator:ad08b242f26af971ce9bf9753d8cf6a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d29db2ee726949b3d73de601ae55fa"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#ad8d29db2ee726949b3d73de601ae55fa">m_primary_election_active</a></td></tr>
<tr class="separator:ad8d29db2ee726949b3d73de601ae55fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073fd068092f80fb403c1019f79047c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classHold__transactions.html">Hold_transactions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTransaction__consistency__manager.html#a073fd068092f80fb403c1019f79047c4">m_hold_transactions</a></td></tr>
<tr class="memdesc:a073fd068092f80fb403c1019f79047c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hold transaction mechanism.  <a href="#a073fd068092f80fb403c1019f79047c4">More...</a><br /></td></tr>
<tr class="separator:a073fd068092f80fb403c1019f79047c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classGroup__transaction__listener"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classGroup__transaction__listener')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classGroup__transaction__listener.html">Group_transaction_listener</a></td></tr>
<tr class="memitem:a74526e5cefcaef3c1117a72259e444ee inherit pub_types_classGroup__transaction__listener"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444ee">enum_transaction_origin</a> { <a class="el" href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444eead3b68119427768395538530ad95df860">GROUP_APPLIER_TRANSACTION</a> = 0, 
<a class="el" href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444eeafa7474238f842c2756a7ed8b28a254ee">GROUP_RECOVERY_TRANSACTION</a> = 1, 
<a class="el" href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444eeaf77d3a58f7795a35cdbe08e646573c27">GROUP_LOCAL_TRANSACTION</a> = 2
 }<tr class="memdesc:a74526e5cefcaef3c1117a72259e444ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for transaction origins.  <a href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444ee">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a74526e5cefcaef3c1117a72259e444ee inherit pub_types_classGroup__transaction__listener"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The consistency information of all ongoing transactions which have consistency GROUP_REPLICATION_CONSISTENCY_BEFORE, GROUP_REPLICATION_CONSISTENCY_AFTER or GROUP_REPLICATION_CONSISTENCY_BEFORE_AND_AFTER. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae05d8e822ae7527ce0363ff7be53ff6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae05d8e822ae7527ce0363ff7be53ff6f">&#9670;&nbsp;</a></span>Transaction_consistency_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Transaction_consistency_manager::Transaction_consistency_manager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<a id="a56cbc156dc6f36027562cf053bc3156f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56cbc156dc6f36027562cf053bc3156f">&#9670;&nbsp;</a></span>~Transaction_consistency_manager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Transaction_consistency_manager::~Transaction_consistency_manager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0a1e9368d74ad965161b02ac63d94a56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a1e9368d74ad965161b02ac63d94a56">&#9670;&nbsp;</a></span>after_applier_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::after_applier_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rpl__gtid_8h.html#a4873b950f954adcfa36c1665428ce3ff">rpl_sidno</a>&#160;</td>
          <td class="paramname"><em>sidno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rpl__gtid_8h.html#a74378e47532331d3ac920082cf954668">rpl_gno</a>&#160;</td>
          <td class="paramname"><em>gno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGroup__member__info.html#ace3d1dba163658398f2f807e55887c11">Group_member_info::Group_member_status</a>&#160;</td>
          <td class="paramname"><em>member_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call action after a transaction being prepared on this member applier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sidno</td><td>the transaction sidno </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gno</td><td>the transaction gno </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">thread_id</td><td>the applier thread id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">member_status</td><td>this member status</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab9bc647499cede0393a0dac28ef06968"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9bc647499cede0393a0dac28ef06968">&#9670;&nbsp;</a></span>after_certification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::after_certification </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTransaction__consistency__info.html">Transaction_consistency_info</a> *&#160;</td>
          <td class="paramname"><em>transaction_info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call action after a transaction is certified. </p>
<p>The transaction coordination among the members will start on this point.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">transaction_info</td><td>the transaction info</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad73c7a9e471dae80c63d6a50318ffcf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad73c7a9e471dae80c63d6a50318ffcf1">&#9670;&nbsp;</a></span>after_commit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::after_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rpl__gtid_8h.html#a4873b950f954adcfa36c1665428ce3ff">rpl_sidno</a>&#160;</td>
          <td class="paramname"><em>sidno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rpl__gtid_8h.html#a74378e47532331d3ac920082cf954668">rpl_gno</a>&#160;</td>
          <td class="paramname"><em>gno</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call action after commit a transaction on this member. </p>
<p>If new transactions are waiting for this prepared transaction to be committed, they will be released.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thread_id</td><td>the transaction thread id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sidno</td><td>the transaction sidno </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gno</td><td>the transaction gno</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__transaction__listener.html#a381862c747a5d506a425a184d68ac39e">Group_transaction_listener</a>.</p>

</div>
</div>
<a id="aa8ed47a547d91becb0cda8dda3d7c597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8ed47a547d91becb0cda8dda3d7c597">&#9670;&nbsp;</a></span>after_rollback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::after_rollback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed after rollback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread_id</td><td>the transaction thread id </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__transaction__listener.html#a86eb14844a99d3cf958c0ba563e86df2">Group_transaction_listener</a>.</p>

</div>
</div>
<a id="af455cb382b9b2211fae34237f0194f76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af455cb382b9b2211fae34237f0194f76">&#9670;&nbsp;</a></span>before_commit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::before_commit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444ee">Group_transaction_listener::enum_transaction_origin</a>&#160;</td>
          <td class="paramname"><em>origin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed before commit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread_id</td><td>the transaction thread id </td></tr>
    <tr><td class="paramname">origin</td><td>who applied it </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__transaction__listener.html#a02b6b8700650ee356a7380bcf17c32f8">Group_transaction_listener</a>.</p>

</div>
</div>
<a id="ac9e71187536216955ecbca69c660c191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9e71187536216955ecbca69c660c191">&#9670;&nbsp;</a></span>before_rollback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::before_rollback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classGroup__transaction__listener.html#a74526e5cefcaef3c1117a72259e444ee">Group_transaction_listener::enum_transaction_origin</a>&#160;</td>
          <td class="paramname"><em>origin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executed before rollback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread_id</td><td>the transaction thread id </td></tr>
    <tr><td class="paramname">origin</td><td>who applied it </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__transaction__listener.html#aa791ab173c7cdadde8786e708baac329">Group_transaction_listener</a>.</p>

</div>
</div>
<a id="aad66cdde8610bc77d0a14672a7ac61eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad66cdde8610bc77d0a14672a7ac61eb">&#9670;&nbsp;</a></span>before_transaction_begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::before_transaction_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>gr_consistency_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rpl__context_8h.html#adace31ab3fc0e640f5c70ce7d7dc1c7c">enum_rpl_channel_type</a>&#160;</td>
          <td class="paramname"><em>rpl_channel_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call action before a transaction starts. </p>
<p>It will handle transactions with GROUP_REPLICATION_CONSISTENCY_BEFORE consistency and any others that need to wait for preceding prepared transactions to commit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thread_id</td><td>the thread that is executing the transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gr_consistency_level</td><td>the transaction consistency </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>maximum time to wait </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rpl_channel_type</td><td>type of the channel that receives the transaction</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classGroup__transaction__listener.html#a211a7b1fc36bba618b66322a1a2c25d4">Group_transaction_listener</a>.</p>

</div>
</div>
<a id="ab7629c0fa51c593721aab0b679c2fd62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7629c0fa51c593721aab0b679c2fd62">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction_consistency_manager::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear all information. </p>

</div>
</div>
<a id="a2e4250099c0a4e09bdea7239bc403d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e4250099c0a4e09bdea7239bc403d53">&#9670;&nbsp;</a></span>disable_primary_election_checks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction_consistency_manager::disable_primary_election_checks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the consistency manager that a primary election ended so it shall disable primary election checks. </p>

</div>
</div>
<a id="af06e2c0102033ce64c65e85b142364a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af06e2c0102033ce64c65e85b142364a6">&#9670;&nbsp;</a></span>enable_primary_election_checks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction_consistency_manager::enable_primary_election_checks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells the consistency manager that a primary election is running so it shall enable primary election checks. </p>

</div>
</div>
<a id="a485f6deab085fe8e3d904e4bf34aea83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485f6deab085fe8e3d904e4bf34aea83">&#9670;&nbsp;</a></span>handle_member_leave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::handle_member_leave </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>leaving_members</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call action after members leave the group. </p>
<p>If any of these members are on the prepare wait lists, they will be removed. If any those lists become empty, those transactions proceed to commit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">leaving_members</td><td>the members that left</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8984f3745ecbc8ade3896ce3d3d08b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8984f3745ecbc8ade3896ce3d3d08b36">&#9670;&nbsp;</a></span>handle_remote_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::handle_remote_prepare </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="rpl__gtid_8h.html#ada65b12e73ca5b310f33aea1537852e6">rpl_sid</a> *&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rpl__gtid_8h.html#a74378e47532331d3ac920082cf954668">rpl_gno</a>&#160;</td>
          <td class="paramname"><em>gno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &amp;&#160;</td>
          <td class="paramname"><em>gcs_member_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call action after a transaction being prepared by other member. </p>
<p>If this sid is NULL that means this transaction sid is the group name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sid</td><td>the transaction sid </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gno</td><td>the transaction gno </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gcs_member_id</td><td>the member id</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3de05e9a84062d82264022195cef42c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de05e9a84062d82264022195cef42c4">&#9670;&nbsp;</a></span>handle_sync_before_execution_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::handle_sync_before_execution_message </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classGcs__member__identifier.html">Gcs_member_identifier</a> &amp;&#160;</td>
          <td class="paramname"><em>gcs_member_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call action once a Sync_before_execution_message is received, this will allow fetch the group transactions set ordered with the message order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thread_id</td><td>the thread that is executing the transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gcs_member_id</td><td>the member id</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1dce5ec0eb1ba38f167218fe57f9c94b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dce5ec0eb1ba38f167218fe57f9c94b">&#9670;&nbsp;</a></span>has_local_prepared_transactions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Transaction_consistency_manager::has_local_prepared_transactions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Are there local prepared transactions waiting for prepare acknowledge from other members? </p>
<dl class="section return"><dt>Returns</dt><dd>true yes false otherwise </dd></dl>

</div>
</div>
<a id="a60eb67641f37bbfac6b9bb45aa46f054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60eb67641f37bbfac6b9bb45aa46f054">&#9670;&nbsp;</a></span>plugin_is_stopping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction_consistency_manager::plugin_is_stopping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform that plugin is stopping. </p>
<p>New consistent transactions are not allowed to start. On after_applier_prepare the transactions do not wait for other prepares. </p>

</div>
</div>
<a id="af6a2f128ad64c5000d17dbb7e00f4b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6a2f128ad64c5000d17dbb7e00f4b56">&#9670;&nbsp;</a></span>plugin_started()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction_consistency_manager::plugin_started </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform that plugin did start. </p>

</div>
</div>
<a id="a4da6e90e2c17bc881d047f659fc60931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4da6e90e2c17bc881d047f659fc60931">&#9670;&nbsp;</a></span>register_transaction_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction_consistency_manager::register_transaction_observer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an observer for transactions. </p>

</div>
</div>
<a id="a539d46e1ea84f1890e5647024c92e9f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a539d46e1ea84f1890e5647024c92e9f5">&#9670;&nbsp;</a></span>remove_prepared_transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::remove_prepared_transaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="consistency__manager_8h.html#a742b26a2a1121d41aa9c8f33aca5c0b1">Transaction_consistency_manager_key</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Help method that cleans prepared transactions and releases transactions waiting on them. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key</td><td>the transaction key</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="add5836e8b04acec50ea994700f26ffce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add5836e8b04acec50ea994700f26ffce">&#9670;&nbsp;</a></span>schedule_view_change_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::schedule_view_change_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPipeline__event.html">Pipeline_event</a> *&#160;</td>
          <td class="paramname"><em>pevent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedule a View_change_log_event log into the relay to after the local prepared transactions are complete, since those transactions belong to the previous view and as such must be logged before this view. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pevent</td><td>the pipeline event that contains the View_change_log_event</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7c42c449fbf136289cebd6f64cf9cdc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c42c449fbf136289cebd6f64cf9cdc0">&#9670;&nbsp;</a></span>transaction_begin_sync_before_execution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::transaction_begin_sync_before_execution </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plugin__group__replication_8h.html#a4e89a04e6a8ef8fe4b25d3af57d9d898">enum_group_replication_consistency_level</a>&#160;</td>
          <td class="paramname"><em>consistency_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Help method called by transaction begin action that, for transactions with consistency GROUP_REPLICATION_CONSISTENCY_BEFORE or GROUP_REPLICATION_CONSISTENCY_BEFORE_AND_AFTER will: 1) send a message to all members; 2) when that message is received and processed in-order, w.r.t. </p>
<p>the message stream, will fetch the Group Replication applier RECEIVED_TRANSACTION_SET, the set of remote transactions that were allowed to commit; 3) wait until all the transactions on Group Replication applier RECEIVED_TRANSACTION_SET are committed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thread_id</td><td>the thread that is executing the transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">consistency_level</td><td>the transaction consistency </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>maximum time to wait</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a17a7811118fc08fa51d71ca3e03f4e07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a7811118fc08fa51d71ca3e03f4e07">&#9670;&nbsp;</a></span>transaction_begin_sync_prepared_transactions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Transaction_consistency_manager::transaction_begin_sync_prepared_transactions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&#160;</td>
          <td class="paramname"><em>thread_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Help method called by transaction begin action that, if there are precedent prepared transactions with consistency GROUP_REPLICATION_CONSISTENCY_AFTER or GROUP_REPLICATION_CONSISTENCY_BEFORE_AND_AFTER, will hold the this transaction until the prepared are committed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thread_id</td><td>the thread that is executing the transaction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>maximum time to wait</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">!=0</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa7fbe5c2d130033c99fe80e4d446b541"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7fbe5c2d130033c99fe80e4d446b541">&#9670;&nbsp;</a></span>unregister_transaction_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Transaction_consistency_manager::unregister_transaction_observer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister the observer for transactions. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1aa46651470654dfce50181d64177a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa46651470654dfce50181d64177a35">&#9670;&nbsp;</a></span>m_delayed_view_change_events</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt;<a class="el" href="classPipeline__event.html">Pipeline_event</a> *&gt; Transaction_consistency_manager::m_delayed_view_change_events</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a073fd068092f80fb403c1019f79047c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a073fd068092f80fb403c1019f79047c4">&#9670;&nbsp;</a></span>m_hold_transactions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHold__transactions.html">Hold_transactions</a> Transaction_consistency_manager::m_hold_transactions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hold transaction mechanism. </p>

</div>
</div>
<a id="a263b5157129e7dd262f5dc303e4176cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a263b5157129e7dd262f5dc303e4176cd">&#9670;&nbsp;</a></span>m_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="consistency__manager_8h.html#a0902f48d2a57573921fa5874f6c02794">Transaction_consistency_manager_map</a> Transaction_consistency_manager::m_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad8904d6e812beff3cc44ea48e38aa62b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8904d6e812beff3cc44ea48e38aa62b">&#9670;&nbsp;</a></span>m_map_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a>* Transaction_consistency_manager::m_map_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5777b4cc8062e31a9cc868f0e8fbec70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5777b4cc8062e31a9cc868f0e8fbec70">&#9670;&nbsp;</a></span>m_new_transactions_waiting</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt;<a class="el" href="my__thread__local_8h.html#a507db6035f89ca9c3d96c1ed3b987fcc">my_thread_id</a>&gt; Transaction_consistency_manager::m_new_transactions_waiting</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad08b242f26af971ce9bf9753d8cf6a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08b242f26af971ce9bf9753d8cf6a74">&#9670;&nbsp;</a></span>m_plugin_stopping</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&gt; Transaction_consistency_manager::m_plugin_stopping</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac93238903fc7ca0a3f66ce24aa6681e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac93238903fc7ca0a3f66ce24aa6681e8">&#9670;&nbsp;</a></span>m_prepared_transactions_on_my_applier</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="test__udf__registration_8cc.html#a96e3cff2f3e1d8eda47115215d03ff32">std::list</a>&lt;<a class="el" href="consistency__manager_8h.html#a742b26a2a1121d41aa9c8f33aca5c0b1">Transaction_consistency_manager_key</a>&gt; Transaction_consistency_manager::m_prepared_transactions_on_my_applier</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a18bbc02dc9fa103a7de84192d9546a24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18bbc02dc9fa103a7de84192d9546a24">&#9670;&nbsp;</a></span>m_prepared_transactions_on_my_applier_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a>* Transaction_consistency_manager::m_prepared_transactions_on_my_applier_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad8d29db2ee726949b3d73de601ae55fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d29db2ee726949b3d73de601ae55fa">&#9670;&nbsp;</a></span>m_primary_election_active</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&gt; Transaction_consistency_manager::m_primary_election_active</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>plugin/group_replication/include/<a class="el" href="consistency__manager_8h_source.html">consistency_manager.h</a></li>
<li>plugin/group_replication/src/<a class="el" href="consistency__manager_8cc.html">consistency_manager.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classTransaction__consistency__manager.html">Transaction_consistency_manager</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
