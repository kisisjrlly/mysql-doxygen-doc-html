<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: include/mysql/service_command.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('service__command_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">service_command.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for the Command service.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="com__data_8h_source.html">mysql/com_data.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="service__srv__session_8h_source.html">mysql/service_srv_session.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="decimal_8h_source.html">decimal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__time_8h_source.html">mysql_time.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="field__types_8h_source.html">field_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="m__ctype_8h_source.html">m_ctype.h</a>&quot;</code><br />
</div>
<p><a href="service__command_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structst__send__field.html">st_send_field</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structst__command__service__cbs.html">st_command_service_cbs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcommand__service__st.html">command_service_st</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a8d3851773872f6abbff3a434635ccd01"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a8d3851773872f6abbff3a434635ccd01">start_result_metadata_t</a>) (void *ctx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> num_cols, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mi__test1_8cc.html#a6eec09a91807e20d7b3d6ef3da594067">flags</a>, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *resultcs)</td></tr>
<tr class="memdesc:a8d3851773872f6abbff3a434635ccd01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates beginning of metadata for the result set.  <a href="#a8d3851773872f6abbff3a434635ccd01">More...</a><br /></td></tr>
<tr class="separator:a8d3851773872f6abbff3a434635ccd01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2200c8affbdfdb14b6aa7ddc89132e"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#aeb2200c8affbdfdb14b6aa7ddc89132e">field_metadata_t</a>) (void *ctx, struct <a class="el" href="structst__send__field.html">st_send_field</a> *field, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *charset)</td></tr>
<tr class="memdesc:aeb2200c8affbdfdb14b6aa7ddc89132e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Field metadata is provided via this callback.  <a href="#aeb2200c8affbdfdb14b6aa7ddc89132e">More...</a><br /></td></tr>
<tr class="separator:aeb2200c8affbdfdb14b6aa7ddc89132e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188516135eba4255f306edc828aebbaa"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a188516135eba4255f306edc828aebbaa">end_result_metadata_t</a>) (void *ctx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> server_status, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> warn_count)</td></tr>
<tr class="memdesc:a188516135eba4255f306edc828aebbaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates end of metadata for the result set.  <a href="#a188516135eba4255f306edc828aebbaa">More...</a><br /></td></tr>
<tr class="separator:a188516135eba4255f306edc828aebbaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2004295d7713a18e2a80cb45dcae889f"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a2004295d7713a18e2a80cb45dcae889f">start_row_t</a>) (void *ctx)</td></tr>
<tr class="memdesc:a2004295d7713a18e2a80cb45dcae889f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates the beginning of a new row in the result set/metadata.  <a href="#a2004295d7713a18e2a80cb45dcae889f">More...</a><br /></td></tr>
<tr class="separator:a2004295d7713a18e2a80cb45dcae889f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a558e50fa750dbabb5586eaf184e44504"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a558e50fa750dbabb5586eaf184e44504">end_row_t</a>) (void *ctx)</td></tr>
<tr class="memdesc:a558e50fa750dbabb5586eaf184e44504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates the end of the current row in the result set/metadata.  <a href="#a558e50fa750dbabb5586eaf184e44504">More...</a><br /></td></tr>
<tr class="separator:a558e50fa750dbabb5586eaf184e44504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab032d426f39498cbb0ad62f2816a38a7"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#ab032d426f39498cbb0ad62f2816a38a7">abort_row_t</a>) (void *ctx)</td></tr>
<tr class="memdesc:ab032d426f39498cbb0ad62f2816a38a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">An error occurred during execution.  <a href="#ab032d426f39498cbb0ad62f2816a38a7">More...</a><br /></td></tr>
<tr class="separator:ab032d426f39498cbb0ad62f2816a38a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1c88ee3802a2cce8e7a8bf65ee0836"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a2b1c88ee3802a2cce8e7a8bf65ee0836">get_client_capabilities_t</a>) (void *ctx)</td></tr>
<tr class="memdesc:a2b1c88ee3802a2cce8e7a8bf65ee0836"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return client's capabilities (see mysql_com.h, CLIENT_*)  <a href="#a2b1c88ee3802a2cce8e7a8bf65ee0836">More...</a><br /></td></tr>
<tr class="separator:a2b1c88ee3802a2cce8e7a8bf65ee0836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb41df6b245968b2f1b505a8a2a1152"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#abcb41df6b245968b2f1b505a8a2a1152">get_null_t</a>) (void *ctx)</td></tr>
<tr class="memdesc:abcb41df6b245968b2f1b505a8a2a1152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive NULL value from server.  <a href="#abcb41df6b245968b2f1b505a8a2a1152">More...</a><br /></td></tr>
<tr class="separator:abcb41df6b245968b2f1b505a8a2a1152"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43077bc763da566c5197e4321b409df2"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a43077bc763da566c5197e4321b409df2">get_integer_t</a>) (void *ctx, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>)</td></tr>
<tr class="memdesc:a43077bc763da566c5197e4321b409df2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive TINY/SHORT/LONG value from server.  <a href="#a43077bc763da566c5197e4321b409df2">More...</a><br /></td></tr>
<tr class="separator:a43077bc763da566c5197e4321b409df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0376b63731edcf48bab60ebeb51f56a"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#ae0376b63731edcf48bab60ebeb51f56a">get_longlong_t</a>) (void *ctx, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> is_unsigned)</td></tr>
<tr class="memdesc:ae0376b63731edcf48bab60ebeb51f56a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get LONGLONG value from server.  <a href="#ae0376b63731edcf48bab60ebeb51f56a">More...</a><br /></td></tr>
<tr class="separator:ae0376b63731edcf48bab60ebeb51f56a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98e29717c3f4106fcfe16181b01e564"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#ae98e29717c3f4106fcfe16181b01e564">get_decimal_t</a>) (void *ctx, const <a class="el" href="structdecimal__t.html">decimal_t</a> *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>)</td></tr>
<tr class="memdesc:ae98e29717c3f4106fcfe16181b01e564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive DECIMAL value from server.  <a href="#ae98e29717c3f4106fcfe16181b01e564">More...</a><br /></td></tr>
<tr class="separator:ae98e29717c3f4106fcfe16181b01e564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a055ced62ab46bf9c9f9151a6eb17fb43"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a055ced62ab46bf9c9f9151a6eb17fb43">get_double_t</a>) (void *ctx, double <a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, uint32_t decimals)</td></tr>
<tr class="memdesc:a055ced62ab46bf9c9f9151a6eb17fb43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive FLOAT/DOUBLE from server.  <a href="#a055ced62ab46bf9c9f9151a6eb17fb43">More...</a><br /></td></tr>
<tr class="separator:a055ced62ab46bf9c9f9151a6eb17fb43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f6dc4034098a78ef98c0f6db4080d9"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a99f6dc4034098a78ef98c0f6db4080d9">get_date_t</a>) (void *ctx, const <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>)</td></tr>
<tr class="memdesc:a99f6dc4034098a78ef98c0f6db4080d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get DATE value from server.  <a href="#a99f6dc4034098a78ef98c0f6db4080d9">More...</a><br /></td></tr>
<tr class="separator:a99f6dc4034098a78ef98c0f6db4080d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6abfdbc781c651851fba1bccf1679ed8"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a6abfdbc781c651851fba1bccf1679ed8">get_time_t</a>) (void *ctx, const <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> decimals)</td></tr>
<tr class="memdesc:a6abfdbc781c651851fba1bccf1679ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive TIME value from server.  <a href="#a6abfdbc781c651851fba1bccf1679ed8">More...</a><br /></td></tr>
<tr class="separator:a6abfdbc781c651851fba1bccf1679ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7f01dcbf3583cd60cd47154deba950"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a9f7f01dcbf3583cd60cd47154deba950">get_datetime_t</a>) (void *ctx, const <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> decimals)</td></tr>
<tr class="memdesc:a9f7f01dcbf3583cd60cd47154deba950"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive DATETIME value from server.  <a href="#a9f7f01dcbf3583cd60cd47154deba950">More...</a><br /></td></tr>
<tr class="separator:a9f7f01dcbf3583cd60cd47154deba950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53e398d0594cbbfce257965bdc13134"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#aa53e398d0594cbbfce257965bdc13134">get_string_t</a>) (void *ctx, const char *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, size_t length, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *valuecs)</td></tr>
<tr class="memdesc:aa53e398d0594cbbfce257965bdc13134"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get STRING value from server.  <a href="#aa53e398d0594cbbfce257965bdc13134">More...</a><br /></td></tr>
<tr class="separator:aa53e398d0594cbbfce257965bdc13134"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08fda9c3fd9823a6c19b02695557c52"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#ab08fda9c3fd9823a6c19b02695557c52">handle_ok_t</a>) (void *ctx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> server_status, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> statement_warn_count, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> affected_rows, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> last_insert_id, const char *message)</td></tr>
<tr class="memdesc:ab08fda9c3fd9823a6c19b02695557c52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command ended with success.  <a href="#ab08fda9c3fd9823a6c19b02695557c52">More...</a><br /></td></tr>
<tr class="separator:ab08fda9c3fd9823a6c19b02695557c52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b159c4b2e510446a0bce57b528fd76"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#aa0b159c4b2e510446a0bce57b528fd76">handle_error_t</a>) (void *ctx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> sql_errno, const char *err_msg, const char *sqlstate)</td></tr>
<tr class="memdesc:aa0b159c4b2e510446a0bce57b528fd76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command ended with ERROR.  <a href="#aa0b159c4b2e510446a0bce57b528fd76">More...</a><br /></td></tr>
<tr class="separator:aa0b159c4b2e510446a0bce57b528fd76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac05793ad02bf2f678e5a25690633d1e8"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#ac05793ad02bf2f678e5a25690633d1e8">shutdown_t</a>) (void *ctx, int server_shutdown)</td></tr>
<tr class="memdesc:ac05793ad02bf2f678e5a25690633d1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for shutdown notification from the server.  <a href="#ac05793ad02bf2f678e5a25690633d1e8">More...</a><br /></td></tr>
<tr class="separator:ac05793ad02bf2f678e5a25690633d1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9eb5f241d4b0174c3746f06abfef1f1b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a9eb5f241d4b0174c3746f06abfef1f1b">cs_text_or_binary</a> { <a class="el" href="service__command_8h.html#a9eb5f241d4b0174c3746f06abfef1f1bac32138a5ee0b63865f0558a200f37a22">CS_TEXT_REPRESENTATION</a> = 1, 
<a class="el" href="service__command_8h.html#a9eb5f241d4b0174c3746f06abfef1f1ba00af6290ad0feefb6c20c3ed608224f4">CS_BINARY_REPRESENTATION</a> = 2
 }</td></tr>
<tr class="separator:a9eb5f241d4b0174c3746f06abfef1f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8a09c2adbfebcfca0725e2bd0885efa4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a8a09c2adbfebcfca0725e2bd0885efa4">command_service_run_command</a> (<a class="el" href="service__srv__session__bits_8h.html#a09b79198061bb3debe316aec5d72b59a">MYSQL_SESSION</a> <a class="el" href="test__sql__9__sessions_8cc.html#a50fdcc0cc7aed7fda7242e9d466729ae">session</a>, enum <a class="el" href="my__command_8h.html#ae2ff1badf13d2b8099af8b47831281e1">enum_server_command</a> <a class="el" href="version__token_8cc.html#a9e0992eae3950adccaf4847fbff4231d">command</a>, const union <a class="el" href="unionCOM__DATA.html">COM_DATA</a> *data, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *client_cs, const struct <a class="el" href="structst__command__service__cbs.html">st_command_service_cbs</a> *<a class="el" href="auth__ldap__sasl__client_8h.html#a85ef47216204d1bc17e8c3dcd67e14c9">callbacks</a>, enum <a class="el" href="service__command_8h.html#a9eb5f241d4b0174c3746f06abfef1f1b">cs_text_or_binary</a> text_or_binary, void *service_callbacks_ctx)</td></tr>
<tr class="memdesc:a8a09c2adbfebcfca0725e2bd0885efa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes a server command in a session.  <a href="#a8a09c2adbfebcfca0725e2bd0885efa4">More...</a><br /></td></tr>
<tr class="separator:a8a09c2adbfebcfca0725e2bd0885efa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a908a38445002a048fa72f3df93d35ad2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcommand__service__st.html">command_service_st</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service__command_8h.html#a908a38445002a048fa72f3df93d35ad2">command_service</a></td></tr>
<tr class="separator:a908a38445002a048fa72f3df93d35ad2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for the Command service. </p>
<p>This service is to provide means of executing different commands, like COM_QUERY, COM_STMT_PREPARE, in the server. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ab032d426f39498cbb0ad62f2816a38a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab032d426f39498cbb0ad62f2816a38a7">&#9670;&nbsp;</a></span>abort_row_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* abort_row_t) (void *ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An error occurred during execution. </p>
<p>This callback indicates that an error occurred during command execution and the partial row should be dropped. Server will raise error and return.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a188516135eba4255f306edc828aebbaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a188516135eba4255f306edc828aebbaa">&#9670;&nbsp;</a></span>end_result_metadata_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* end_result_metadata_t) (void *ctx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> server_status, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> warn_count)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates end of metadata for the result set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">server_status</td><td>Status of server (see mysql_com.h, SERVER_STATUS_*) </td></tr>
    <tr><td class="paramname">warn_count</td><td>Number of warnings generated during execution to the moment when the metadata is sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="a558e50fa750dbabb5586eaf184e44504"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a558e50fa750dbabb5586eaf184e44504">&#9670;&nbsp;</a></span>end_row_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* end_row_t) (void *ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates the end of the current row in the result set/metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="aeb2200c8affbdfdb14b6aa7ddc89132e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb2200c8affbdfdb14b6aa7ddc89132e">&#9670;&nbsp;</a></span>field_metadata_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* field_metadata_t) (void *ctx, struct <a class="el" href="structst__send__field.html">st_send_field</a> *field, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *charset)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Field metadata is provided via this callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">field</td><td>Field's metadata (see field.h) </td></tr>
    <tr><td class="paramname">charset</td><td>Field's charset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="a2b1c88ee3802a2cce8e7a8bf65ee0836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1c88ee3802a2cce8e7a8bf65ee0836">&#9670;&nbsp;</a></span>get_client_capabilities_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>(* get_client_capabilities_t) (void *ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return client's capabilities (see mysql_com.h, CLIENT_*) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Bitmap of client's capabilities </dd></dl>

</div>
</div>
<a id="a99f6dc4034098a78ef98c0f6db4080d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f6dc4034098a78ef98c0f6db4080d9">&#9670;&nbsp;</a></span>get_date_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_date_t) (void *ctx, const <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get DATE value from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">value</td><td>Value received</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred during storing, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="a9f7f01dcbf3583cd60cd47154deba950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f7f01dcbf3583cd60cd47154deba950">&#9670;&nbsp;</a></span>get_datetime_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_datetime_t) (void *ctx, const <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> decimals)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive DATETIME value from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">value</td><td>Value received </td></tr>
    <tr><td class="paramname">decimals</td><td>Number of decimals</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred during storing, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="ae98e29717c3f4106fcfe16181b01e564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae98e29717c3f4106fcfe16181b01e564">&#9670;&nbsp;</a></span>get_decimal_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_decimal_t) (void *ctx, const <a class="el" href="structdecimal__t.html">decimal_t</a> *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive DECIMAL value from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">value</td><td>Value received</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="a055ced62ab46bf9c9f9151a6eb17fb43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a055ced62ab46bf9c9f9151a6eb17fb43">&#9670;&nbsp;</a></span>get_double_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_double_t) (void *ctx, double <a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, uint32_t decimals)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive FLOAT/DOUBLE from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">value</td><td>Value received </td></tr>
    <tr><td class="paramname">decimals</td><td>Number of decimals</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In order to know which type exactly was received, the plugin must track the metadata that was sent just prior to the result set.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="a43077bc763da566c5197e4321b409df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43077bc763da566c5197e4321b409df2">&#9670;&nbsp;</a></span>get_integer_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_integer_t) (void *ctx, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive TINY/SHORT/LONG value from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">value</td><td>Value received</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In order to know which type exactly was received, the plugin must track the metadata that was sent just prior to the result set.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="ae0376b63731edcf48bab60ebeb51f56a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0376b63731edcf48bab60ebeb51f56a">&#9670;&nbsp;</a></span>get_longlong_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_longlong_t) (void *ctx, <a class="el" href="my__inttypes_8h.html#a9c0acdcb1b083d30069a62cee1ece644">longlong</a> <a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> is_unsigned)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get LONGLONG value from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">value</td><td>Value received </td></tr>
    <tr><td class="paramname">is_unsigned</td><td>TRUE &lt;=&gt; value is unsigned</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="abcb41df6b245968b2f1b505a8a2a1152"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcb41df6b245968b2f1b505a8a2a1152">&#9670;&nbsp;</a></span>get_null_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_null_t) (void *ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive NULL value from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="aa53e398d0594cbbfce257965bdc13134"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa53e398d0594cbbfce257965bdc13134">&#9670;&nbsp;</a></span>get_string_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_string_t) (void *ctx, const char *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, size_t length, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *valuecs)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get STRING value from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">value</td><td>Data </td></tr>
    <tr><td class="paramname">length</td><td>Data length </td></tr>
    <tr><td class="paramname">valuecs</td><td>Data charset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In case of CS_BINARY_REPRESENTATION, get_string() receives as a parameter the charset of the string, as it is stored on disk.</dd></dl>
<p>In case of CS_TEXT_REPRESENTATION, the string value might be already a stringified value or non-string data, which is in character_set_results.</p>
<dl class="section see"><dt>See also</dt><dd>start_result_metadata()</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="a6abfdbc781c651851fba1bccf1679ed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6abfdbc781c651851fba1bccf1679ed8">&#9670;&nbsp;</a></span>get_time_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* get_time_t) (void *ctx, const <a class="el" href="structMYSQL__TIME.html">MYSQL_TIME</a> *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> decimals)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive TIME value from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">value</td><td>Value received </td></tr>
    <tr><td class="paramname">decimals</td><td>Number of decimals</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred during storing, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="aa0b159c4b2e510446a0bce57b528fd76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b159c4b2e510446a0bce57b528fd76">&#9670;&nbsp;</a></span>handle_error_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* handle_error_t) (void *ctx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> sql_errno, const char *err_msg, const char *sqlstate)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command ended with ERROR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">sql_errno</td><td>Error code </td></tr>
    <tr><td class="paramname">err_msg</td><td>Error message </td></tr>
    <tr><td class="paramname">sqlstate</td><td>SQL state corresponding to the error code </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab08fda9c3fd9823a6c19b02695557c52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab08fda9c3fd9823a6c19b02695557c52">&#9670;&nbsp;</a></span>handle_ok_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* handle_ok_t) (void *ctx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> server_status, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> statement_warn_count, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> affected_rows, <a class="el" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> last_insert_id, const char *message)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command ended with success. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">server_status</td><td>Status of server (see mysql_com.h, SERVER_STATUS_*) </td></tr>
    <tr><td class="paramname">statement_warn_count</td><td>Number of warnings thrown during execution </td></tr>
    <tr><td class="paramname">affected_rows</td><td>Number of rows affected by the command </td></tr>
    <tr><td class="paramname">last_insert_id</td><td>Last insert id being assigned during execution </td></tr>
    <tr><td class="paramname">message</td><td>A message from server </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac05793ad02bf2f678e5a25690633d1e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05793ad02bf2f678e5a25690633d1e8">&#9670;&nbsp;</a></span>shutdown_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* shutdown_t) (void *ctx, int server_shutdown)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for shutdown notification from the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">server_shutdown</td><td>Whether this is a normal connection shutdown (0) or server shutdown (1). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8d3851773872f6abbff3a434635ccd01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d3851773872f6abbff3a434635ccd01">&#9670;&nbsp;</a></span>start_result_metadata_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* start_result_metadata_t) (void *ctx, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> num_cols, <a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="mi__test1_8cc.html#a6eec09a91807e20d7b3d6ef3da594067">flags</a>, const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *resultcs)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates beginning of metadata for the result set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context </td></tr>
    <tr><td class="paramname">num_cols</td><td>Number of fields being sent </td></tr>
    <tr><td class="paramname">flags</td><td>Flags to alter the metadata sending </td></tr>
    <tr><td class="paramname">resultcs</td><td>Charset of the result set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>resultcs is the charset in which the data should be encoded before sent to the client. This is the value of the session variable character_set_results. The implementor most probably will need to save this value in the context and use it as "to" charset in get_string().</dd></dl>
<p>In case of CS_BINARY_REPRESENTATION, get_string() receives as a parameter the charset of the string, as it is stored on disk.</p>
<p>In case of CS_TEXT_REPRESENTATION, the string value might be already a stringified value or non-string data, which is in character_set_results.</p>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<a id="a2004295d7713a18e2a80cb45dcae889f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2004295d7713a18e2a80cb45dcae889f">&#9670;&nbsp;</a></span>start_row_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* start_row_t) (void *ctx)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates the beginning of a new row in the result set/metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Plugin's context</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 an error occurred, server will abort the command 0 ok </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9eb5f241d4b0174c3746f06abfef1f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb5f241d4b0174c3746f06abfef1f1b">&#9670;&nbsp;</a></span>cs_text_or_binary</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="service__command_8h.html#a9eb5f241d4b0174c3746f06abfef1f1b">cs_text_or_binary</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9eb5f241d4b0174c3746f06abfef1f1bac32138a5ee0b63865f0558a200f37a22"></a>CS_TEXT_REPRESENTATION&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9eb5f241d4b0174c3746f06abfef1f1ba00af6290ad0feefb6c20c3ed608224f4"></a>CS_BINARY_REPRESENTATION&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8a09c2adbfebcfca0725e2bd0885efa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a09c2adbfebcfca0725e2bd0885efa4">&#9670;&nbsp;</a></span>command_service_run_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int command_service_run_command </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service__srv__session__bits_8h.html#a09b79198061bb3debe316aec5d72b59a">MYSQL_SESSION</a>&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="my__command_8h.html#ae2ff1badf13d2b8099af8b47831281e1">enum_server_command</a>&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const union <a class="el" href="unionCOM__DATA.html">COM_DATA</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *&#160;</td>
          <td class="paramname"><em>client_cs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structst__command__service__cbs.html">st_command_service_cbs</a> *&#160;</td>
          <td class="paramname"><em>callbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="service__command_8h.html#a9eb5f241d4b0174c3746f06abfef1f1b">cs_text_or_binary</a>&#160;</td>
          <td class="paramname"><em>text_or_binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>service_callbacks_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes a server command in a session. </p>
<p>There are two cases. Execution in a physical thread :</p><ol type="1">
<li>initialized by the srv_session service</li>
<li>NOT initialized by the srv_session service</li>
</ol>
<p>In case of 1, if there is currently attached session, and it is different from the passed one, the former will be automatically detached. The session to be used for the execution will then be attached. After the command is executed, the attached session will not be detached. It will be detached by a next call to run_command() with another session as parameter. In other words, for all sessions used in a physical thread, there will be at most one in attached state.</p>
<p>In case of 2, the current state (current_thd) will be preserved. Then the given session will move to attached state and the command will be executed. After the execution the state of the session will be changed to detached and the preserved state (current_thd) will be restored.</p>
<p>The client charset is used for commands like COM_QUERY and COM_STMT_PREPARE to know how to threat the char* fields. This charset will be used until the next call of run_command when it may be changed again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session</td><td>The session </td></tr>
    <tr><td class="paramname">command</td><td>The command to be executed. </td></tr>
    <tr><td class="paramname">data</td><td>The data needed for the command to be executed </td></tr>
    <tr><td class="paramname">client_cs</td><td>The charset for the string data input(COM_QUERY for example) </td></tr>
    <tr><td class="paramname">callbacks</td><td>Callbacks to be used by the server to encode data and to communicate with the client (plugin) side. </td></tr>
    <tr><td class="paramname">text_or_binary</td><td>Select which representation the server will use for the data passed to the callbacks. For more information </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>cs_text_or_binary enum </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">service_callbacks_ctx</td><td>Context passed to the command service callbacks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 success 1 failure </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a908a38445002a048fa72f3df93d35ad2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a908a38445002a048fa72f3df93d35ad2">&#9670;&nbsp;</a></span>command_service</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcommand__service__st.html">command_service_st</a> *  command_service</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_70d4c64b7fa4d8934a31e8e779c55748.html">mysql</a></li><li class="navelem"><a class="el" href="service__command_8h.html">service_command.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
