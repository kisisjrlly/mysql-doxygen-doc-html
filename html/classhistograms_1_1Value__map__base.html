<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: histograms::Value_map_base Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classhistograms_1_1Value__map__base.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classhistograms_1_1Value__map__base-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">histograms::Value_map_base Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>The abstract base class for all Value_map types.  
 <a href="classhistograms_1_1Value__map__base.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="value__map_8h_source.html">value_map.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for histograms::Value_map_base:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classhistograms_1_1Value__map__base.png" usemap="#histograms::Value_5Fmap_5Fbase_map" alt=""/>
  <map id="histograms::Value_5Fmap_5Fbase_map" name="histograms::Value_5Fmap_5Fbase_map">
<area href="classhistograms_1_1Value__map.html" title="Value_map class. " alt="histograms::Value_map&lt; T &gt;" shape="rect" coords="0,56,175,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf724bc40e55da034e38f969677d0da1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#aaf724bc40e55da034e38f969677d0da1">Value_map_base</a> (const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *charset, double sampling_rate, <a class="el" href="namespacehistograms.html#aebbf435b274b9cb76e93a77fb88db5b4">Value_map_type</a> data_type)</td></tr>
<tr class="separator:aaf724bc40e55da034e38f969677d0da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa392cb788f707804ca5b8c699c9ed1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#a6fa392cb788f707804ca5b8c699c9ed1">~Value_map_base</a> ()</td></tr>
<tr class="separator:a6fa392cb788f707804ca5b8c699c9ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a328fa8fe693b386328ef999fe0dc4aa9"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#a328fa8fe693b386328ef999fe0dc4aa9">size</a> () const =0</td></tr>
<tr class="memdesc:a328fa8fe693b386328ef999fe0dc4aa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of [value, count] pairs in the Value_map.  <a href="#a328fa8fe693b386328ef999fe0dc4aa9">More...</a><br /></td></tr>
<tr class="separator:a328fa8fe693b386328ef999fe0dc4aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b98ea4b7d7a73c9c63ab157ca02f93e"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a5b98ea4b7d7a73c9c63ab157ca02f93e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#a5b98ea4b7d7a73c9c63ab157ca02f93e">add_values</a> (const T &amp;<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>, const <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>)</td></tr>
<tr class="memdesc:a5b98ea4b7d7a73c9c63ab157ca02f93e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a value with the given count to this Value_map.  <a href="#a5b98ea4b7d7a73c9c63ab157ca02f93e">More...</a><br /></td></tr>
<tr class="separator:a5b98ea4b7d7a73c9c63ab157ca02f93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8662882203ce049aa195c215f5a636e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#a8662882203ce049aa195c215f5a636e2">add_null_values</a> (const <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> <a class="el" href="myisam__ftdump_8cc.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>)</td></tr>
<tr class="memdesc:a8662882203ce049aa195c215f5a636e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the number of null values with the given count.  <a href="#a8662882203ce049aa195c215f5a636e2">More...</a><br /></td></tr>
<tr class="separator:a8662882203ce049aa195c215f5a636e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeb84db1233afe58b3ff05670e287c87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#aeeb84db1233afe58b3ff05670e287c87">get_num_null_values</a> () const</td></tr>
<tr class="separator:aeeb84db1233afe58b3ff05670e287c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65b1015f632fbfc97fa722b242a597e4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classhistograms_1_1Histogram.html">Histogram</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#a65b1015f632fbfc97fa722b242a597e4">build_histogram</a> (<a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *<a class="el" href="client__plugin_8cc.html#a7d0fe2f135db987da18cea87b4778737">mem_root</a>, size_t num_buckets, const std::string &amp;db_name, const std::string &amp;tbl_name, const std::string &amp;col_name) const =0</td></tr>
<tr class="memdesc:a65b1015f632fbfc97fa722b242a597e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Histogram from this Value_map.  <a href="#a65b1015f632fbfc97fa722b242a597e4">More...</a><br /></td></tr>
<tr class="separator:a65b1015f632fbfc97fa722b242a597e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef9bd3c526e94c3bcf09e243183abd1"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#a6ef9bd3c526e94c3bcf09e243183abd1">get_sampling_rate</a> () const</td></tr>
<tr class="separator:a6ef9bd3c526e94c3bcf09e243183abd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba68b18b429fa89f7df50a0bab8c0b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#adba68b18b429fa89f7df50a0bab8c0b7">set_sampling_rate</a> (double sampling_rate)</td></tr>
<tr class="memdesc:adba68b18b429fa89f7df50a0bab8c0b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the sampling rate that was used to generate this Value_map.  <a href="#adba68b18b429fa89f7df50a0bab8c0b7">More...</a><br /></td></tr>
<tr class="separator:adba68b18b429fa89f7df50a0bab8c0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37b8bdff8f35c6e52ae227e01abe8a5"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#ab37b8bdff8f35c6e52ae227e01abe8a5">get_character_set</a> () const</td></tr>
<tr class="separator:ab37b8bdff8f35c6e52ae227e01abe8a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867fb2646d8c21f6d99193c254948201"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacehistograms.html#aebbf435b274b9cb76e93a77fb88db5b4">Value_map_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#a867fb2646d8c21f6d99193c254948201">get_data_type</a> () const</td></tr>
<tr class="separator:a867fb2646d8c21f6d99193c254948201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa488a42e8b47beb6c381bfcbb9512fe2"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#aa488a42e8b47beb6c381bfcbb9512fe2">element_overhead</a> () const =0</td></tr>
<tr class="separator:aa488a42e8b47beb6c381bfcbb9512fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab5ddf77036257477b0b26e87ebc24cbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#ab5ddf77036257477b0b26e87ebc24cbb">m_mem_root</a></td></tr>
<tr class="separator:ab5ddf77036257477b0b26e87ebc24cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ace9f26d2e4a27b4cb890f2dbbf11e74d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#ace9f26d2e4a27b4cb890f2dbbf11e74d">m_sampling_rate</a></td></tr>
<tr class="separator:ace9f26d2e4a27b4cb890f2dbbf11e74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8e1b7a39774c87527a42d6e0c31d00"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#a4d8e1b7a39774c87527a42d6e0c31d00">m_charset</a></td></tr>
<tr class="separator:a4d8e1b7a39774c87527a42d6e0c31d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad2ea623aa8abe7c722023d6f51a079f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#aad2ea623aa8abe7c722023d6f51a079f">m_num_null_values</a></td></tr>
<tr class="separator:aad2ea623aa8abe7c722023d6f51a079f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affec44e7da5cd0b2663d63dec78f69e7"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespacehistograms.html#aebbf435b274b9cb76e93a77fb88db5b4">Value_map_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhistograms_1_1Value__map__base.html#affec44e7da5cd0b2663d63dec78f69e7">m_data_type</a></td></tr>
<tr class="separator:affec44e7da5cd0b2663d63dec78f69e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The abstract base class for all Value_map types. </p>
<p>We would ideally like to have only one class for the Value map concept (no inheritance) which would gives us an easier interface. But there are some reasons for why we need to to split the class into a non-templated base class and a templated subclass:</p>
<ul>
<li>We are collecting Value_maps in a collection/vector where they have a different template type. This cannot be achieved unless we have a non-templated base class.</li>
<li>When working on a collection of Value_maps, it is more convenient to declare the interface in the base class (Value_map_base) so that we don't need to do a cast to the subclass in order to get hold of the methods we want to use.</li>
<li>Value_map_base::add_values and Value_map::add_values looks like the same function, but they are not. Value_map_base::add_values is a small functions that helps us cast the Value_map&lt;T&gt; to the correct type (for instance Value_map&lt;longlong&gt;). Ideally, this function would have been pure virtual, but it's not possible to have virtual member function templates. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaf724bc40e55da034e38f969677d0da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf724bc40e55da034e38f969677d0da1">&#9670;&nbsp;</a></span>Value_map_base()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">histograms::Value_map_base::Value_map_base </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a> *&#160;</td>
          <td class="paramname"><em>charset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sampling_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacehistograms.html#aebbf435b274b9cb76e93a77fb88db5b4">Value_map_type</a>&#160;</td>
          <td class="paramname"><em>data_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6fa392cb788f707804ca5b8c699c9ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa392cb788f707804ca5b8c699c9ed1">&#9670;&nbsp;</a></span>~Value_map_base()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual histograms::Value_map_base::~Value_map_base </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8662882203ce049aa195c215f5a636e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8662882203ce049aa195c215f5a636e2">&#9670;&nbsp;</a></span>add_null_values()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void histograms::Value_map_base::add_null_values </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>&#160;</td>
          <td class="paramname"><em>count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increase the number of null values with the given count. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>The number of null values. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b98ea4b7d7a73c9c63ab157ca02f93e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b98ea4b7d7a73c9c63ab157ca02f93e">&#9670;&nbsp;</a></span>add_values()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> histograms::Value_map_base::add_values </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a value with the given count to this Value_map. </p>
<p>If the given value already exists, the count will be added to the existing count.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The value to add. </td></tr>
    <tr><td class="paramname">count</td><td>Count of the value to add.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false on success, and true in case of errors (OOM). </dd></dl>

</div>
</div>
<a id="a65b1015f632fbfc97fa722b242a597e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b1015f632fbfc97fa722b242a597e4">&#9670;&nbsp;</a></span>build_histogram()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classhistograms_1_1Histogram.html">Histogram</a>* histograms::Value_map_base::build_histogram </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> *&#160;</td>
          <td class="paramname"><em>mem_root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num_buckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>db_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>tbl_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>col_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a Histogram from this Value_map. </p>
<p>The resulting histogram will have at most "num_buckets" buckets (might be less), and all of its contents will be allocated on the supplied MEM_ROOT.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem_root</td><td>The MEM_ROOT to allocate the contents on </td></tr>
    <tr><td class="paramname">num_buckets</td><td>Maximum number of buckets to create </td></tr>
    <tr><td class="paramname">db_name</td><td>Database name </td></tr>
    <tr><td class="paramname">tbl_name</td><td>Table name </td></tr>
    <tr><td class="paramname">col_name</td><td>Column name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>nullptr on error, or a valid histogram if success. </dd></dl>

<p>Implemented in <a class="el" href="classhistograms_1_1Value__map.html#ad8a22f659f8845ff25c130e94ce5dac8">histograms::Value_map&lt; T &gt;</a>.</p>

</div>
</div>
<a id="aa488a42e8b47beb6c381bfcbb9512fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa488a42e8b47beb6c381bfcbb9512fe2">&#9670;&nbsp;</a></span>element_overhead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t histograms::Value_map_base::element_overhead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the overhead in bytes for each distinct value stored in the Value_map. </dd></dl>

<p>Implemented in <a class="el" href="classhistograms_1_1Value__map.html#a372b1a1c276cf6ea4707814ad287bbad">histograms::Value_map&lt; T &gt;</a>.</p>

</div>
</div>
<a id="ab37b8bdff8f35c6e52ae227e01abe8a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab37b8bdff8f35c6e52ae227e01abe8a5">&#9670;&nbsp;</a></span>get_character_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a>* histograms::Value_map_base::get_character_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the character set for the data this Value_map contains </dd></dl>

</div>
</div>
<a id="a867fb2646d8c21f6d99193c254948201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867fb2646d8c21f6d99193c254948201">&#9670;&nbsp;</a></span>get_data_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacehistograms.html#aebbf435b274b9cb76e93a77fb88db5b4">Value_map_type</a> histograms::Value_map_base::get_data_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the data type that this Value_map contains </dd></dl>

</div>
</div>
<a id="aeeb84db1233afe58b3ff05670e287c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeb84db1233afe58b3ff05670e287c87">&#9670;&nbsp;</a></span>get_num_null_values()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> histograms::Value_map_base::get_num_null_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The number of null values in this Value_map. </dd></dl>

</div>
</div>
<a id="a6ef9bd3c526e94c3bcf09e243183abd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef9bd3c526e94c3bcf09e243183abd1">&#9670;&nbsp;</a></span>get_sampling_rate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double histograms::Value_map_base::get_sampling_rate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The sampling rate that was used to generate this Value_map. </dd></dl>

</div>
</div>
<a id="adba68b18b429fa89f7df50a0bab8c0b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba68b18b429fa89f7df50a0bab8c0b7">&#9670;&nbsp;</a></span>set_sampling_rate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void histograms::Value_map_base::set_sampling_rate </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sampling_rate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the sampling rate that was used to generate this Value_map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sampling_rate</td><td>The sampling rate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a328fa8fe693b386328ef999fe0dc4aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a328fa8fe693b386328ef999fe0dc4aa9">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t histograms::Value_map_base::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of [value, count] pairs in the Value_map. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of values in the Value_map. </dd></dl>

<p>Implemented in <a class="el" href="classhistograms_1_1Value__map.html#abe77f953688ffea44c3430f69d0f7add">histograms::Value_map&lt; T &gt;</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4d8e1b7a39774c87527a42d6e0c31d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d8e1b7a39774c87527a42d6e0c31d00">&#9670;&nbsp;</a></span>m_charset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structCHARSET__INFO.html">CHARSET_INFO</a>* histograms::Value_map_base::m_charset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="affec44e7da5cd0b2663d63dec78f69e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affec44e7da5cd0b2663d63dec78f69e7">&#9670;&nbsp;</a></span>m_data_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacehistograms.html#aebbf435b274b9cb76e93a77fb88db5b4">Value_map_type</a> histograms::Value_map_base::m_data_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab5ddf77036257477b0b26e87ebc24cbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ddf77036257477b0b26e87ebc24cbb">&#9670;&nbsp;</a></span>m_mem_root</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structMEM__ROOT.html">MEM_ROOT</a> histograms::Value_map_base::m_mem_root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aad2ea623aa8abe7c722023d6f51a079f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad2ea623aa8abe7c722023d6f51a079f">&#9670;&nbsp;</a></span>m_num_null_values</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="my__base_8h.html#a8e16914016eb2acc5eefdbbcad5d9eb5">ha_rows</a> histograms::Value_map_base::m_num_null_values</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ace9f26d2e4a27b4cb890f2dbbf11e74d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9f26d2e4a27b4cb890f2dbbf11e74d">&#9670;&nbsp;</a></span>m_sampling_rate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double histograms::Value_map_base::m_sampling_rate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/histograms/<a class="el" href="value__map_8h_source.html">value_map.h</a></li>
<li>sql/histograms/<a class="el" href="value__map_8cc.html">value_map.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacehistograms.html">histograms</a></li><li class="navelem"><a class="el" href="classhistograms_1_1Value__map__base.html">Value_map_base</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
