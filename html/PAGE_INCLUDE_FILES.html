<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Using Include Files to Simplify Test Cases</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('PAGE_INCLUDE_FILES.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Using Include Files to Simplify Test Cases </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <b>include</b> directory contains many files intended for inclusion into test case files.</p>
<p>These include files serve many purposes, but in general, they encapsulate operations of varying complexity into single files so that you can perform each operation in a single step. Include files are available for operations such as these:</p>
<ul>
<li>
<p class="startli">Ensure that a given feature is available. The file checks to make sure that the feature is available and exits if not. </p>
<ul>
<li>
<p class="startli">Storage engine tests: These files have names of the form <b>have_<em>engine_name.inc</em></b>, such as <b>have_archive.inc</b> or <b>have_blackhole.inc</b>. The <b>MyISAM</b>, <b>MERGE</b>, and <b>MEMORY</b> storage engines are always supported and need not be checked. </p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Windows specific tests: Include <b>have_windows.inc</b> file if a test runs only on windows machines. </p>
<p class="endli"></p>
</li>
<li>
Debugging capabilities: Include the <b>have_debug.inc</b> file if a test requires that the server was built for debugging (that is, that the MySQL distribution was configured with the <b><code>--with-debug</code></b> option).  </li>
</ul>
<p class="endli"></p>
</li>
<li>
<p class="startli">Wait for a condition to become true. Set the <b>$wait_condition</b> variable to an SQL statement that selects a value and then include the <b>wait_condition.inc</b> file. The include file executes the statement in a loop with a 0.1 second sleep between executions until the select value is nonzero. For example:</p>
<pre class="fragment">--let $wait_condition= SELECT c = 3 FROM t
--source include/wait_condition.inc</pre> <p class="endli"></p>
</li>
<li>
<p class="startli">Control the binary log format. See <a class="el" href="PAGE_BINARY_LOG_FORMAT.html">Controlling the Binary Log Format Used for Tests</a>. </p>
<p class="endli"></p>
</li>
<li>
Control replication slave servers. See <a class="el" href="PAGE_WRITING_REPLICATION_TESTS.html">Writing Replication Tests</a>.  </li>
</ul>
<p>You can think of an include file as a rudimentary form of subroutine that is “called” at the point of inclusion. You can “pass parameters” by setting variables before including the file and referring to them within the file. You can “return” values by setting variables within the file and referring them following inclusion of the file. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="PAGE_TESTING_TOOLS.html">Testing Tools</a></li><li class="navelem"><a class="el" href="PAGE_MYSQL_TEST_RUN.html">The MySQL Test Framework</a></li><li class="navelem"><a class="el" href="PAGE_WRITING_TESTCASES.html">Writing Test Cases</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
