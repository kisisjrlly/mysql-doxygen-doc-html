<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/row0mysql.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('row0mysql_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">row0mysql.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="row0mysql_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Copyright (c) 2000, 2020, Oracle and/or its affiliates. All Rights Reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">This program is free software; you can redistribute it and/or modify it under</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">the terms of the GNU General Public License, version 2.0, as published by the</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">Free Software Foundation.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">This program is also distributed with certain software (including but not</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">limited to OpenSSL) that is licensed under separate terms, as designated in a</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">particular file or component or in included license documentation. The authors</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">of MySQL hereby grant you an additional permission to link the program and</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">your derivative works with the separately licensed software that they have</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">included with MySQL.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">FOR A PARTICULAR PURPOSE. See the GNU General Public License, version 2.0,</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">for more details.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">You should have received a copy of the GNU General Public License along with</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">this program; if not, write to the Free Software Foundation, Inc.,</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">51 Franklin St, Fifth Floor, Boston, MA 02110-1301  USA</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">*****************************************************************************/</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/** @file include/row0mysql.h</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> Interface between Innobase row operations and MySQL.</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> Contains also create table and other data dictionary operations.</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> Created 9/17/2000 Heikki Tuuri</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> *******************************************************/</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#ifndef row0mysql_h</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#define row0mysql_h</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#ifndef UNIV_HOTBACKUP</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ha__prototypes_8h.html">ha_prototypes.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !UNIV_HOTBACKUP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;sys/types.h&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="btr0pcur_8h.html">btr0pcur.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="data0data_8h.html">data0data.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="data0type_8h.html">data0type.h</a>&quot;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="db0err_8h.html">db0err.h</a>&quot;</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict0types_8h.html">dict0types.h</a>&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fts0fts_8h.html">fts0fts.h</a>&quot;</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="gis0type_8h.html">gis0type.h</a>&quot;</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lob0undo_8h.html">lob0undo.h</a>&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="lock0types_8h.html">lock0types.h</a>&quot;</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mem0mem_8h.html">mem0mem.h</a>&quot;</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__compiler_8h.html">my_compiler.h</a>&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="my__inttypes_8h.html">my_inttypes.h</a>&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="que0types_8h.html">que0types.h</a>&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="rem0types_8h.html">rem0types.h</a>&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="row0types_8h.html">row0types.h</a>&quot;</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sess0sess_8h.html">sess0sess.h</a>&quot;</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="sql__cmd_8h.html">sql_cmd.h</a>&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trx0types_8h.html">trx0types.h</a>&quot;</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;univ.i&quot;</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ut0bool__scope__guard_8h.html">ut0bool_scope_guard.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">// Forward declarations</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">class </span><a class="code" href="classTHD.html">THD</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">class </span><a class="code" href="classha__innobase.html">ha_innobase</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">class </span><a class="code" href="classinnodb__session__t.html">innodb_session_t</a>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacedd.html">dd</a> {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">class </span><a class="code" href="classTable.html">Table</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">struct </span><a class="code" href="structTABLE.html">TABLE</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">struct </span><a class="code" href="structbtr__pcur__t.html">btr_pcur_t</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">struct </span><a class="code" href="structdfield__t.html">dfield_t</a>;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">struct </span><a class="code" href="structdict__field__t.html">dict_field_t</a>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">struct </span><a class="code" href="structdict__foreign__t.html">dict_foreign_t</a>;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">struct </span><a class="code" href="structdict__index__t.html">dict_index_t</a>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">struct </span><a class="code" href="structdict__table__t.html">dict_table_t</a>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">struct </span><a class="code" href="structdict__v__col__t.html">dict_v_col_t</a>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">struct </span><a class="code" href="structdtuple__t.html">dtuple_t</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">struct </span><a class="code" href="structins__node__t.html">ins_node_t</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">struct </span><a class="code" href="structmtr__t.html">mtr_t</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">struct </span><a class="code" href="structque__fork__t.html">que_fork_t</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">struct </span><a class="code" href="structque__thr__t.html">que_thr_t</a>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">struct </span><a class="code" href="structtrx__t.html">trx_t</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">struct </span><a class="code" href="structupd__node__t.html">upd_node_t</a>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">struct </span><a class="code" href="structupd__t.html">upd_t</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#ifndef UNIV_HOTBACKUP</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">extern</span> ibool <a class="code" href="row0mysql_8h.html#ab4f85269e2cc82e21646b79cc2dc173e">row_rollback_on_timeout</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">struct </span><a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a>;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">/** Frees the blob heap in prebuilt when no longer needed. */</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a89f6163775028ffd6859b8af7406e156">row_mysql_prebuilt_free_blob_heap</a>(</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt); <span class="comment">/*!&lt; in: prebuilt struct of a</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">                               ha_innobase:: table handle */</span><span class="comment"></span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">/** Stores a &gt;= 5.0.3 format true VARCHAR length to dest, in the MySQL row</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"> format.</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"> @return pointer to the data, we skip the 1 or 2 bytes at the start</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"> that are used to store the len */</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="row0mysql_8h.html#aef3cdc48561a5a83494d78b826f57558">row_mysql_store_true_var_len</a>(</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *dest,    <span class="comment">/*!&lt; in: where to store */</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    ulint len,     <span class="comment">/*!&lt; in: length, must fit in two bytes */</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    ulint lenlen); <span class="comment">/*!&lt; in: storage length of len: either 1 or 2 bytes */</span><span class="comment"></span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">/** Reads a &gt;= 5.0.3 format true VARCHAR length, in the MySQL row format, and</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"> returns a pointer to the data.</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"> @return pointer to the data, we skip the 1 or 2 bytes at the start</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"> that are used to store the len */</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="row0mysql_8h.html#a67d58a8e363e9102b25e95a73b5013e1">row_mysql_read_true_varchar</a>(</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    ulint *len,        <span class="comment">/*!&lt; out: variable-length field length */</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *field, <span class="comment">/*!&lt; in: field in the MySQL format */</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    ulint lenlen);     <span class="comment">/*!&lt; in: storage length of len: either 1</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">                       or 2 bytes */</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/** Stores a reference to a BLOB in the MySQL format.</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">@param[in] dest Where to store</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">@param[in,out] col_len Dest buffer size: determines into how many bytes the blob</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">length is stored, the space for the length may vary from 1 to 4 bytes</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">@param[in] data Blob data; if the value to store is sql null this should be null</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">pointer</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">@param[in] len Blob length; if the value to store is sql null this should be 0;</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">remember also to set the null bit in the mysql record header! */</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a20dc6aac868e2d8fa6f20d6be48bfe88">row_mysql_store_blob_ref</a>(<a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *dest, ulint col_len, <span class="keyword">const</span> <span class="keywordtype">void</span> *data,</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                              ulint len);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/** Reads a reference to a BLOB in the MySQL format.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">@param[out] len                 BLOB length.</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">@param[in] ref                  BLOB reference in the MySQL format.</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">@param[in] col_len              BLOB reference length (not BLOB length).</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">@return pointer to BLOB data */</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="row0mysql_8h.html#a9aba346714fc4ffbeae8bcc4afa44d0e">row_mysql_read_blob_ref</a>(ulint *len, <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *ref, ulint col_len);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">/** Converts InnoDB geometry data format to MySQL data format. */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a339ab44cc995d8e712168cfd6492ebb6">row_mysql_store_geometry</a>(</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *dest,      <span class="comment">/*!&lt; in/out: where to store */</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    ulint dest_len,  <span class="comment">/*!&lt; in: dest buffer size: determines into</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">                     how many bytes the geometry length is stored,</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">                     the space for the length may vary from 1</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">                     to 4 bytes */</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *src, <span class="comment">/*!&lt; in: geometry data; if the value to store</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">                     is SQL NULL this should be NULL pointer */</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    ulint src_len);  <span class="comment">/*!&lt; in: geometry length; if the value to store</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">                     is SQL NULL this should be 0; remember</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">                     also to set the NULL bit in the MySQL record</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">                     header! */</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">/** Pad a column with spaces.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">@param[in] mbminlen Minimum size of a character, in bytes</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">@param[out] pad Padded buffer</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">@param[in] len Number of bytes to pad */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#ab49dbf38a4ddf491457abedf3dbbcced">row_mysql_pad_col</a>(ulint mbminlen, <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *pad, ulint len);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">/** Stores a non-SQL-NULL field given in the MySQL format in the InnoDB format.</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"> The counterpart of this function is row_sel_field_store_in_mysql_format() in</span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment"> row0sel.cc.</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"> @return up to which byte we used buf in the conversion */</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="row0mysql_8h.html#a39bcfac5ee8727a8014f31bb691835bf">row_mysql_store_col_in_innobase_format</a>(</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="structdfield__t.html">dfield_t</a> *dfield,       <span class="comment">/*!&lt; in/out: dfield where dtype</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">                            information must be already set when</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">                            this function is called! */</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="namespacebuf.html">buf</a>,              <span class="comment">/*!&lt; in/out: buffer for a converted</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">                            integer value; this must be at least</span></div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">                            col_len long then! NOTE that dfield</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">                            may also get a pointer to &#39;buf&#39;,</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">                            therefore do not discard this as long</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">                            as dfield is used! */</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    ibool row_format_col,   <span class="comment">/*!&lt; TRUE if the mysql_data is from</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">                            a MySQL row, FALSE if from a MySQL</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">                            key value;</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">                            in MySQL, a true VARCHAR storage</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">                            format differs in a row and in a</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">                            key value: in a key value the length</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">                            is always stored in 2 bytes! */</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *mysql_data, <span class="comment">/*!&lt; in: MySQL column value, not</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">                            SQL NULL; NOTE that dfield may also</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">                            get a pointer to mysql_data,</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">                            therefore do not discard this as long</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">                            as dfield is used! */</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    ulint col_len,          <span class="comment">/*!&lt; in: MySQL column length; NOTE that</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">                            this is the storage length of the</span></div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">                            column in the MySQL format row, not</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">                            necessarily the length of the actual</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">                            payload data; if the column is a true</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">                            VARCHAR then this is irrelevant */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    ulint comp);            <span class="comment">/*!&lt; in: nonzero=compact format */</span><span class="comment"></span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">/** Handles user errors and lock waits detected by the database engine.</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"> @return true if it was a lock wait and we should continue running the</span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> query thread */</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="row0mysql_8h.html#acab8f9c5ec102ef82d02ca4a42058613">row_mysql_handle_errors</a>(</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> *new_err,      <span class="comment">/*!&lt; out: possible new error encountered in</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">                           rollback, or the old error which was</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">                           during the function entry */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>,            <span class="comment">/*!&lt; in: transaction */</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="structque__thr__t.html">que_thr_t</a> *thr,        <span class="comment">/*!&lt; in: query thread, or NULL */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="structtrx__savept__t.html">trx_savept_t</a> *savept); <span class="comment">/*!&lt; in: savepoint, or NULL */</span><span class="comment"></span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">/** Create a prebuilt struct for a MySQL table handle.</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"> @return own: a prebuilt struct */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *<a class="code" href="row0mysql_8h.html#a2077d2da88d11b20ac6f8a82afdbe8c7">row_create_prebuilt</a>(</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>,  <span class="comment">/*!&lt; in: Innobase table handle */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    ulint <a class="code" href="structrow__prebuilt__t.html#a930a910f8de38274b71e4dcc79888496">mysql_row_len</a>); <span class="comment">/*!&lt; in: length in bytes of a row in</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">                          the MySQL format */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/** Free a prebuilt struct for a MySQL table handle.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">@param[in,out] prebuilt Prebuilt struct</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">@param[in] dict_locked True=data dictionary locked */</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a4df8be867d4161cfc494945bc1a96c02">row_prebuilt_free</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, ibool dict_locked);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/** Updates the transaction pointers in query graphs stored in the prebuilt</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">struct.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">@param[in,out] prebuilt         Prebuilt struct in MySQL handle.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">@param[in,out] trx              Transaction handle. */</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#abc4dae09a8cd6401ca7873c441506ad4">row_update_prebuilt_trx</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">/** Sets an AUTO_INC type lock on the table mentioned in prebuilt. The</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"> AUTO_INC lock gives exclusive access to the auto-inc counter of the</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment"> table. The lock is reserved only for the duration of an SQL statement.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"> It is not compatible with another AUTO_INC or exclusive lock on the</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment"> table.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"> @return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a97973c5e85665a3c87fa5ce9fba81ad1">row_lock_table_autoinc_for_mysql</a>(</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt) <span class="comment">/*!&lt; in: prebuilt struct in the MySQL</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">                              table handle */</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">/** Sets a table lock on the table mentioned in prebuilt.</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">@param[in,out]  prebuilt        table handle</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">@return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#ae515965f60cbbdfbcc86b93de96b7ac0">row_lock_table</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/** Does an insert for MySQL.</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">@param[in]      mysql_rec       row in the MySQL format</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">@param[in,out]  prebuilt        prebuilt struct in MySQL handle</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">@return error code or DB_SUCCESS*/</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#af7f50b6679233652ac7103e2f257ee1d">row_insert_for_mysql</a>(<span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *mysql_rec, <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">/** Builds a dummy query graph used in selects. */</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#af53c21c35fddcca0fd44cbeb7ff8b50a">row_prebuild_sel_graph</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt); <span class="comment">/*!&lt; in: prebuilt struct</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">                                                       in MySQL handle */</span><span class="comment"></span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">/** Gets pointer to a prebuilt update vector used in updates. If the update</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"> graph has not yet been built in the prebuilt struct, then this function</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"> first builds it.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> @return prebuilt update vector */</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<a class="code" href="structupd__t.html">upd_t</a> *<a class="code" href="row0mysql_8h.html#a6fd97fed053708c04235dcea9b8ab66a">row_get_prebuilt_update_vector</a>(</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt); <span class="comment">/*!&lt; in: prebuilt struct in MySQL</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">                               handle */</span><span class="comment"></span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">/** Checks if a table is such that we automatically created a clustered</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> index on it (on row id).</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"> @return true if the clustered index was generated automatically */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;ibool <a class="code" href="row0mysql_8h.html#a0f6345d9ac683f774e6aa72c02f34bef">row_table_got_default_clust_index</a>(</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">const</span> <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>); <span class="comment">/*!&lt; in: table */</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">/** Does an update or delete of a row for MySQL.</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">@param[in]      mysql_rec       row in the MySQL format</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">@param[in,out]  prebuilt        prebuilt struct in MySQL handle</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">@return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a8620fa8adfb9905c63a514215abfda3b">row_update_for_mysql</a>(<span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *mysql_rec, <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt)</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">/** Delete all rows for the given table by freeing/truncating indexes.</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">@param[in,out]  table   table handler */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#aecbd77993a110bbd72e598f164679610">row_delete_all_rows</a>(<a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">/** This can only be used when this session is using a READ COMMITTED or READ</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">UNCOMMITTED isolation level.  Before calling this function</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">row_search_for_mysql() must have initialized prebuilt-&gt;new_rec_locks to store</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">the information which new record locks really were set. This function removes</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">a newly set clustered index record lock under prebuilt-&gt;pcur or</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">prebuilt-&gt;clust_pcur.  Thus, this implements a &#39;mini-rollback&#39; that releases</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">the latest clustered index record lock we set.</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">@param[in,out]  prebuilt                prebuilt struct in MySQL handle</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">@param[in]      has_latches_on_recs     TRUE if called so that we have the</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">                                        latches on the records under pcur</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment">                                        and clust_pcur, and we do not need</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">                                        to reposition the cursors. */</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a718f8e7546be839381ea8202ef05829d">row_unlock_for_mysql</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, ibool has_latches_on_recs);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !UNIV_HOTBACKUP */</span><span class="preprocessor"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">/** Checks if a table name contains the string &quot;/#sql&quot; which denotes temporary</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"> tables in MySQL.</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"> @return true if temporary table */</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="row0mysql_8h.html#ab68a3cb9ee7d37fab278a31bed1dfff4">row_is_mysql_tmp_table_name</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="sslopt-case_8h.html#ae00b773898ac853cec38cdf7a08b8e89">name</a>)</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    MY_ATTRIBUTE((warn_unused_result));<span class="comment"></span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">/*!&lt; in: table name in the form</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">&#39;database/tablename&#39; */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="preprocessor">#ifndef UNIV_HOTBACKUP</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">/** Creates an query graph node of &#39;update&#39; type to be used in the MySQL</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment"> interface.</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment"> @return own: update node */</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<a class="code" href="structupd__node__t.html">upd_node_t</a> *<a class="code" href="row0mysql_8h.html#a76dea37487279b91e3fa7f3a8ab60b9d">row_create_update_node_for_mysql</a>(</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>, <span class="comment">/*!&lt; in: table to update */</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *<a class="code" href="structrow__prebuilt__t.html#afa1114f766781ead5174ff03d9bfcaac">heap</a>);   <span class="comment">/*!&lt; in: mem heap from which allocated */</span><span class="comment"></span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">/** Does a cascaded delete or set null in a foreign key operation.</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment"> @return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a4f24f5a86f55dc13fe2488a0d5709065">row_update_cascade_for_mysql</a>(</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="structque__thr__t.html">que_thr_t</a> *thr,      <span class="comment">/*!&lt; in: query thread */</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="structupd__node__t.html">upd_node_t</a> *node,    <span class="comment">/*!&lt; in: update node used in the cascade</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">                         or set null operation */</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>) <span class="comment">/*!&lt; in: table where we do the operation */</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    MY_ATTRIBUTE((nonnull, warn_unused_result));</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">/** Locks the data dictionary exclusively for performing a table create or other</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment"> data dictionary modification operation.</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">@param[in,out] trx Transaction</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">@param[in] file File name</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">@param[in] line Line number */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a036114d0f31d5447c04d4fa4ae921957">row_mysql_lock_data_dictionary_func</a>(<a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacefile.html">file</a>,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                                         ulint line);</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#ac3293f79b8b8a2ee60586040f7cc51a2">  313</a></span>&#160;<span class="preprocessor">#define row_mysql_lock_data_dictionary(trx) \</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="preprocessor">  row_mysql_lock_data_dictionary_func(trx, __FILE__, __LINE__)</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">/** Unlocks the data dictionary exclusive lock. */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a52d2afe42e64dd4f8a236625002f927f">row_mysql_unlock_data_dictionary</a>(<a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>); <span class="comment">/*!&lt; in/out: transaction */</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">/** Locks the data dictionary in shared mode from modifications, for performing</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"> foreign key check, rollback, or other operation invisible to MySQL.</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">@param[in,out] trx Transaction</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">@param[in] file File name</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">@param[in] line Line number */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a7e4d8785f33bba16fa5126d6c5f22d4c">row_mysql_freeze_data_dictionary_func</a>(<a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacefile.html">file</a>,</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                           ulint line);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a6f5396351f80512e5a2e79a016f79179">  326</a></span>&#160;<span class="preprocessor">#define row_mysql_freeze_data_dictionary(trx) \</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="preprocessor">  row_mysql_freeze_data_dictionary_func(trx, __FILE__, __LINE__)</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/** Unlocks the data dictionary shared lock. */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a6a28f83469c6b32e975f7227d5f23fce">row_mysql_unfreeze_data_dictionary</a>(<a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>); <span class="comment">/*!&lt; in/out: transaction */</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">/** Creates a table for MySQL. On success the in-memory table could be</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">kept in non-LRU list while on failure the &#39;table&#39; object will be freed.</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">@param[in]      table           table definition(will be freed, or on</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">                                DB_SUCCESS added to the data dictionary cache)</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">@param[in]      compression     compression algorithm to use, can be nullptr</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">@param[in,out]  trx             transaction</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">@return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a35ae038317f5cd0a302d1a9a36f6456c">row_create_table_for_mysql</a>(<a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *compression,</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                                   <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>)</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">/** Does an index creation operation for MySQL. TODO: currently failure</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment"> to create an index results in dropping the whole table! This is no problem</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment"> currently as all indexes must be created at the same time as the table.</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"> @return error number or DB_SUCCESS */</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a2f65888198aa6b7e36c4777670a6511a">row_create_index_for_mysql</a>(</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>,        <span class="comment">/*!&lt; in, own: index definition</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">                                (will be freed) */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>,                 <span class="comment">/*!&lt; in: transaction handle */</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keyword">const</span> ulint *field_lengths, <span class="comment">/*!&lt; in: if not NULL, must contain</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">                                dict_index_get_n_fields(index)</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">                                actual field lengths for the</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">                                index columns, which are</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">                                then checked for not being too</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">                                large. */</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="classhandler.html">handler</a>)      <span class="comment">/* ! in/out: table handler. */</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">/** Loads foreign key constraints for the table being created. This</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment"> function should be called after the indexes for a table have been</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment"> created. Each foreign key constraint must be accompanied with indexes</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment"> in both participating tables. The indexes are allowed to contain more</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment"> fields than mentioned in the constraint.</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment"> @param[in]     trx             transaction</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment"> @param[in]     name            table full name in normalized form</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment"> @param[in]     dd_table        MySQL dd::Table for the table</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment"> @return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a839d22e4c1b1565757bf4ef00be574b2">row_table_load_foreign_constraints</a>(<a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="sslopt-case_8h.html#ae00b773898ac853cec38cdf7a08b8e89">name</a>,</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classdd_1_1Table.html">dd::Table</a> *dd_table)</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">/** The master thread in srv0srv.cc calls this regularly to drop tables which</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment"> we must drop in background after queries to them have ended. Such lazy</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment"> dropping of tables is needed in ALTER TABLE on Unix.</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment"> @return how many tables dropped + remaining tables in list */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;ulint <a class="code" href="row0mysql_8h.html#a9a01c40d68e34107930e001e71df4401">row_drop_tables_for_mysql_in_background</a>(<span class="keywordtype">void</span>);<span class="comment"></span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">/** Get the background drop list length. NOTE: the caller must own the kernel</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment"> mutex!</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment"> @return how many tables in list */</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;ulint <a class="code" href="row0mysql_8h.html#a6dfc1fa1f633372837de49c897317d9d">row_get_background_drop_list_len_low</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">/** Sets an exclusive lock on a table.</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"> @return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a1d2ab62d21a1e71f5fe72fa2833886d0">row_mysql_lock_table</a>(</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>,          <span class="comment">/*!&lt; in/out: transaction */</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>, <span class="comment">/*!&lt; in: table to lock */</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keyword">enum</span> <a class="code" href="lock0types_8h.html#acff05fa7dd69832a04f93b92db1e0013">lock_mode</a> <a class="code" href="namespacestdx_1_1io.html#a2c9b563b772005f7960909d0d12186f5">mode</a>, <span class="comment">/*!&lt; in: LOCK_X or LOCK_S */</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *op_info) <span class="comment">/*!&lt; in: string for trx-&gt;op_info */</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="comment">/** Drop a tablespace as part of dropping or renaming a table.</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="comment">This deletes the fil_space_t if found and the file on disk.</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">@param[in]      space_id        Tablespace ID</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="comment">@param[in]      filepath        File path of tablespace to delete</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="comment">@return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#af1a5fb0e358cd24a524b652aedae95df">row_drop_tablespace</a>(<a class="code" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> space_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="myisamlog_8cc.html#ae9175a148fe52c327ca1a8970b3d9994">filepath</a>);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="comment">/** Drop a table for MySQL. If the data dictionary was not already locked</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">by the transaction, the transaction will be committed.  Otherwise, the</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">data dictionary will remain locked.</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="comment">@param[in]      name            Table name</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="comment">@param[in]      trx             Transaction handle</span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="comment">@param[in]      nonatomic       Whether it is permitted to release</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="comment">and reacquire dict_operation_lock</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="comment">@param[in,out]  handler         Table handler or NULL</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">@return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a0c9fd2dd5c65ba125f85324dcbaccafa">row_drop_table_for_mysql</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="sslopt-case_8h.html#ae00b773898ac853cec38cdf7a08b8e89">name</a>, <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>, <span class="keywordtype">bool</span> nonatomic,</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                 <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="classhandler.html">handler</a> = <span class="keyword">nullptr</span>);<span class="comment"></span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">/** Drop a table for MySQL. If the data dictionary was not already locked</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">by the transaction, the transaction will be committed.  Otherwise, the</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">data dictionary will remain locked.</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="comment">@param[in]      name            table name</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<span class="comment">@param[in,out]  trx             data dictionary transaction</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;<span class="comment">@return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a1ced8c67dfc50e276110e7632dda6ddb">  416</a></span>&#160;<span class="keyword">inline</span> <a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a0c9fd2dd5c65ba125f85324dcbaccafa">row_drop_table_for_mysql</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="sslopt-case_8h.html#ae00b773898ac853cec38cdf7a08b8e89">name</a>, <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>) {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="row0mysql_8h.html#a0c9fd2dd5c65ba125f85324dcbaccafa">row_drop_table_for_mysql</a>(name, trx, <span class="keyword">true</span>, <span class="keyword">nullptr</span>));</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/** Discards the tablespace of a table which stored in an .ibd file. Discarding</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"> means that this function deletes the .ibd file and assigns a new table id for</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment"> the table. Also the flag table-&gt;ibd_file_missing is set TRUE.</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment"> @return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a8245e81dae34e65f7ca5e1f23bc0f7a5">row_discard_tablespace_for_mysql</a>(</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="sslopt-case_8h.html#ae00b773898ac853cec38cdf7a08b8e89">name</a>, <span class="comment">/*!&lt; in: table name */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>)       <span class="comment">/*!&lt; in: transaction handle */</span></div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    MY_ATTRIBUTE((warn_unused_result));<span class="comment"></span></div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="comment">/** Imports a tablespace. The space id in the .ibd file must match the space id</span></div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"> of the table in the data dictionary.</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="comment"> @return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#ac2b2a77134cae6e2993264cb6dc7e656">row_import_tablespace_for_mysql</a>(</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>,      <span class="comment">/*!&lt; in/out: table */</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt) <span class="comment">/*!&lt; in: prebuilt struct in MySQL */</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;<span class="comment">/** Drop a database for MySQL.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;<span class="comment">@param[in]      name    database name which ends at &#39;/&#39;</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="comment">@param[in]      trx     transaction handle</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="comment">@param[out]     found   number of dropped tables</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<span class="comment">@return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a938e619a35bdb74056d1c79894717c87">row_drop_database_for_mysql</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <a class="code" href="structtrx__t.html">trx_t</a> *trx, ulint *found);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="comment">/** Renames a table for MySQL.</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="comment">@param[in]      old_name        old table name</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<span class="comment">@param[in]      new_name        new table name</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<span class="comment">@param[in]      dd_table        dd::Table for new table</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<span class="comment">@param[in,out]  trx             transaction</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="comment">@param[in]      replay          whether in replay stage</span></div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="comment">@return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#abe764d19e8fa209770dc9ab530c0d20c">row_rename_table_for_mysql</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *old_name, <span class="keyword">const</span> <span class="keywordtype">char</span> *new_name,</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classdd_1_1Table.html">dd::Table</a> *dd_table, <a class="code" href="structtrx__t.html">trx_t</a> *trx,</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;                                   <span class="keywordtype">bool</span> replay)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    MY_ATTRIBUTE((warn_unused_result));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">/** Read the total number of records in a consistent view.</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">@param[in,out]  trx             Covering transaction.</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">@param[in]  indexes             Indexes to scan.</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">@param[in]  max_threads         Maximum number of threads to use.</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">@param[out] n_rows              Number of rows seen.</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment">@return DB_SUCCESS or error code. */</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#ab4ba615104c2e46302972bcc8b681659">row_mysql_parallel_select_count_star</a>(</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="structtrx__t.html">trx_t</a> *trx, std::vector&lt;dict_index_t *&gt; &amp;indexes, <span class="keywordtype">size_t</span> max_threads,</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    ulint *n_rows);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="comment">/** Scans an index for either COUNT(*) or CHECK TABLE.</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;<span class="comment">If CHECK TABLE; Checks that the index contains entries in an ascending order,</span></div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;<span class="comment">unique constraint is not broken, and calculates the number of index entries</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;<span class="comment">in the read view of the current transaction.</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;<span class="comment">@param[in,out]  prebuilt    Prebuilt struct in MySQL handle.</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="comment">@param[in,out]  index       Index to scan.</span></div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="comment">@param[in]      n_threads   Number of threads to use for the scan</span></div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="comment">@param[in]      check_keys  True if called form check table.</span></div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;<span class="comment">@param[out]     n_rows      Number of entries seen in the consistent read.</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;<span class="comment">@return DB_SUCCESS or other error */</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="row0mysql_8h.html#a4a713b033aaeeb2c1e11ed9277156afb">row_scan_index_for_mysql</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt, <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a>,</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                                 <span class="keywordtype">size_t</span> n_threads, <span class="keywordtype">bool</span> check_keys,</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                                 ulint *n_rows)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    MY_ATTRIBUTE((warn_unused_result));<span class="comment"></span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;<span class="comment">/** Initialize this module */</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#ae21f67e2c50c468cd86ff1994cfcc4eb">row_mysql_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">/** Close this module */</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#abc467cf94e74e702af01b05c0ab50dfd">row_mysql_close</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="comment">/* A struct describing a place for an individual column in the MySQL</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="comment">row format which is presented to the table handler in ha_innobase.</span></div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="comment">This template struct is used to speed up row transformations between</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">Innobase and MySQL. */</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html">  490</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structmysql__row__templ__t.html">mysql_row_templ_t</a> {</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#ac19c295e2d9d60b8f696e80d80e74dd9">  491</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#ac19c295e2d9d60b8f696e80d80e74dd9">col_no</a>;                 <span class="comment">/*!&lt; column number of the column */</span></div><div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#a442109e6891d8706afed6ee4f2906a4d">  492</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#a442109e6891d8706afed6ee4f2906a4d">rec_field_no</a>;           <span class="comment">/*!&lt; field number of the column in an</span></div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="comment">                                Innobase record in the current index;</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="comment">                                not defined if template_type is</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="comment">                                ROW_MYSQL_WHOLE_ROW */</span></div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#ad9636c6362a6d6f00c0fb61050d9a655">  496</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#ad9636c6362a6d6f00c0fb61050d9a655">clust_rec_field_no</a>;     <span class="comment">/*!&lt; field number of the column in an</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">                                Innobase record in the clustered index;</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">                                not defined if template_type is</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">                                ROW_MYSQL_WHOLE_ROW */</span></div><div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#afb60c90691de407b971c3b0c89099a24">  500</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#afb60c90691de407b971c3b0c89099a24">icp_rec_field_no</a>;       <span class="comment">/*!&lt; field number of the column in an</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment">                                Innobase record in the current index;</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">                                only defined for columns that could be</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">                                used to evaluate a pushed down index</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">                                condition and/or end-range condition */</span></div><div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#a3ba7fec423ea3788802a3d8251a1003d">  505</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#a3ba7fec423ea3788802a3d8251a1003d">mysql_col_offset</a>;       <span class="comment">/*!&lt; offset of the column in the MySQL</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;<span class="comment">                                row format */</span></div><div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#ac798be418c35074e58afc44389e75cb9">  507</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#ac798be418c35074e58afc44389e75cb9">mysql_col_len</a>;          <span class="comment">/*!&lt; length of the column in the MySQL</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;<span class="comment">                                row format */</span></div><div class="line"><a name="l00509"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#ae5485694bfc553336f47ff226b65b768">  509</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#ae5485694bfc553336f47ff226b65b768">mysql_mvidx_len</a>;        <span class="comment">/*!&lt; index length on multi-value array */</span></div><div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#a1819e5f3486a5ff14632049534dd2ea3">  510</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#a1819e5f3486a5ff14632049534dd2ea3">mysql_null_byte_offset</a>; <span class="comment">/*!&lt; MySQL NULL bit byte offset in a</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="comment">                                MySQL record */</span></div><div class="line"><a name="l00512"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#ab252702f0e4dadca3d1e37735167a432">  512</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#ab252702f0e4dadca3d1e37735167a432">mysql_null_bit_mask</a>;    <span class="comment">/*!&lt; bit mask to get the NULL bit,</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">                                zero if column cannot be NULL */</span></div><div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#ac479dbdadcfa9968c518e60cef9f23bf">  514</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#ac479dbdadcfa9968c518e60cef9f23bf">type</a>;                   <span class="comment">/*!&lt; column type in Innobase mtype</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">                                numbers DATA_CHAR... */</span></div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#a768413dd7c5884860b0871cca2d19bd8">  516</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#a768413dd7c5884860b0871cca2d19bd8">mysql_type</a>;             <span class="comment">/*!&lt; MySQL type code; this is always</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">                                &lt; 256 */</span></div><div class="line"><a name="l00518"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#a9d775bbea8571f214e72d993213559a6">  518</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#a9d775bbea8571f214e72d993213559a6">mysql_length_bytes</a>;     <span class="comment">/*!&lt; if mysql_type</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">                                == DATA_MYSQL_TRUE_VARCHAR, this tells</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment">                                whether we should use 1 or 2 bytes to</span></div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;<span class="comment">                                store the MySQL true VARCHAR data</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;<span class="comment">                                length at the start of row in the MySQL</span></div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;<span class="comment">                                format (NOTE that the MySQL key value</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="comment">                                format always uses 2 bytes for the data</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;<span class="comment">                                len) */</span></div><div class="line"><a name="l00526"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#afe8a740829cbd839b0df78584b453cfd">  526</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#afe8a740829cbd839b0df78584b453cfd">charset</a>;                <span class="comment">/*!&lt; MySQL charset-collation code</span></div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;<span class="comment">                                of the column, or zero */</span></div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#a86d621d0e796dbc785e32dfabfae6fa2">  528</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#a86d621d0e796dbc785e32dfabfae6fa2">mbminlen</a>;               <span class="comment">/*!&lt; minimum length of a char, in bytes,</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;<span class="comment">                                or zero if not a char type */</span></div><div class="line"><a name="l00530"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#a93bf1086644e690c95a4ae9f9ec16e82">  530</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#a93bf1086644e690c95a4ae9f9ec16e82">mbmaxlen</a>;               <span class="comment">/*!&lt; maximum length of a char, in bytes,</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="comment">                                or zero if not a char type */</span></div><div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#a482f3caa01299f55e62d9332ddf371c2">  532</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#a482f3caa01299f55e62d9332ddf371c2">is_unsigned</a>;            <span class="comment">/*!&lt; if a column type is an integer</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="comment">                                type and this field is != 0, then</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment">                                it is an unsigned integer type */</span></div><div class="line"><a name="l00535"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#abe150692e31319648de2d426edb3d251">  535</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#abe150692e31319648de2d426edb3d251">is_virtual</a>;             <span class="comment">/*!&lt; if a column is a virtual column */</span></div><div class="line"><a name="l00536"></a><span class="lineno"><a class="line" href="structmysql__row__templ__t.html#ac3bffae1710133ed1bc033fa4f97b019">  536</a></span>&#160;  ulint <a class="code" href="structmysql__row__templ__t.html#ac3bffae1710133ed1bc033fa4f97b019">is_multi_val</a>;           <span class="comment">/*!&lt; if a column is a Multi-Value Array virtual</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">                                column */</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;};</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#adbabec476ae3e4e35d865d8d4dafdb8c">  540</a></span>&#160;<span class="preprocessor">#define MYSQL_FETCH_CACHE_SIZE 8</span></div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">/* After fetching this many rows, we start caching them in fetch_cache */</span></div><div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#af100507821e7d0b1736e9f6dfd571389">  542</a></span>&#160;<span class="preprocessor">#define MYSQL_FETCH_CACHE_THRESHOLD 4</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a686cc3ab21fa87a5d1ca725a6ec2d880">  544</a></span>&#160;<span class="preprocessor">#define ROW_PREBUILT_ALLOCATED 78540783</span></div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a3615dcc4a2217a352eddf239e0b186c2">  545</a></span>&#160;<span class="preprocessor">#define ROW_PREBUILT_FREED 26423527</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment">/** A struct for (sometimes lazily) prebuilt structures in an Innobase table</span></div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">handle used within MySQL; these are used to save CPU time. */</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html">  550</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> {</div><div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ad936db2921893119b95f7e33727f2d2a">  551</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#ad936db2921893119b95f7e33727f2d2a">magic_n</a>;               <span class="comment">/*!&lt; this magic number is set to</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="comment">                               ROW_PREBUILT_ALLOCATED when created,</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="comment">                               or ROW_PREBUILT_FREED when the</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">                               struct has been freed */</span></div><div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">  555</a></span>&#160;  <a class="code" href="structdict__table__t.html">dict_table_t</a> *<a class="code" href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">table</a>;         <span class="comment">/*!&lt; Innobase table handle */</span></div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#afeb88835f509e12ea05929f410f4df0a">  556</a></span>&#160;  <a class="code" href="structdict__index__t.html">dict_index_t</a> *<a class="code" href="structrow__prebuilt__t.html#afeb88835f509e12ea05929f410f4df0a">index</a>;         <span class="comment">/*!&lt; current index for a search, if</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="comment">                               any */</span></div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">  558</a></span>&#160;  <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">trx</a>;                  <span class="comment">/*!&lt; current transaction handle */</span></div><div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a1004d8c54485ba370f756c48f26d93a7">  559</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a1004d8c54485ba370f756c48f26d93a7">sql_stat_start</a> : 1; <span class="comment">/*!&lt; TRUE when we start processing of</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">                              an SQL statement: we may have to set</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;<span class="comment">                              an intention lock on the table,</span></div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;<span class="comment">                              create a consistent read view etc. */</span></div><div class="line"><a name="l00563"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#abd76361eda548fa2e2f8d80d66d08612">  563</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#abd76361eda548fa2e2f8d80d66d08612">clust_index_was_generated</a> : 1;<span class="comment"></span></div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="comment">  /*!&lt; if the user did not define a</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">  primary key in MySQL, then Innobase</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">  automatically generated a clustered</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">  index where the ordering column is</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">  the row id: in this case this flag</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">  is set to TRUE */</span></div><div class="line"><a name="l00570"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ac59950f1aed60deccf5ba6a917afc357">  570</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#ac59950f1aed60deccf5ba6a917afc357">index_usable</a> : 1;               <span class="comment">/*!&lt; caches the value of</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">                                           index-&gt;is_usable(trx) */</span></div><div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aa2406d22fe6361a563ec8b4e9b010287">  572</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#aa2406d22fe6361a563ec8b4e9b010287">read_just_key</a> : 1;              <span class="comment">/*!&lt; set to 1 when MySQL calls</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">                                           ha_innobase::extra with the</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">                                           argument HA_EXTRA_KEYREAD; it is enough</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">                                           to read just columns defined in</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment">                                           the index (i.e., no read of the</span></div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">                                           clustered index record necessary) */</span></div><div class="line"><a name="l00578"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a0568bf55e0cd59e39cbf5264e0107a04">  578</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a0568bf55e0cd59e39cbf5264e0107a04">used_in_HANDLER</a> : 1;            <span class="comment">/*!&lt; TRUE if we have been using this</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;<span class="comment">                                         handle in a MySQL HANDLER low level</span></div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;<span class="comment">                                         index cursor command: then we must</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="comment">                                         store the pcur position even in a</span></div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="comment">                                         unique search from a clustered index,</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="comment">                                         because HANDLER allows NEXT and PREV</span></div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;<span class="comment">                                         in such a situation */</span></div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#afa6cf19178262078ea73dd92941a88ca">  585</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#afa6cf19178262078ea73dd92941a88ca">template_type</a> : 2;              <span class="comment">/*!&lt; ROW_MYSQL_WHOLE_ROW,</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;<span class="comment">                                           ROW_MYSQL_REC_FIELDS,</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="comment">                                           ROW_MYSQL_DUMMY_TEMPLATE, or</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="comment">                                           ROW_MYSQL_NO_TEMPLATE */</span></div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a551a6896bb6da7d979e6fb20decf18ba">  589</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a551a6896bb6da7d979e6fb20decf18ba">n_template</a> : 10;                <span class="comment">/*!&lt; number of elements in the</span></div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="comment">                                           template */</span></div><div class="line"><a name="l00591"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a4218e8b9331e26a43e2507663d59bdc1">  591</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a4218e8b9331e26a43e2507663d59bdc1">null_bitmap_len</a> : 10;           <span class="comment">/*!&lt; number of bytes in the SQL NULL</span></div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment">                                        bitmap at the start of a row in the</span></div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">                                        MySQL format */</span></div><div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a94506e9f10462650bfa377f9414cf7db">  594</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a94506e9f10462650bfa377f9414cf7db">need_to_access_clustered</a> : 1;   <span class="comment">/*!&lt; if we are fetching</span></div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment">                               columns through a secondary index</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="comment">                               and at least one column is not in</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="comment">                               the secondary index, then this is</span></div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="comment">                               set to TRUE */</span></div><div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a666323e0b2127c47e743adf5ba2bef94">  599</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a666323e0b2127c47e743adf5ba2bef94">templ_contains_blob</a> : 1;        <span class="comment">/*!&lt; TRUE if the template contains</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;<span class="comment">                                     a column with DATA_LARGE_MTYPE(</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">                                     get_innobase_type_from_mysql_type())</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">                                     is TRUE;</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">                                     not to be confused with InnoDB</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;<span class="comment">                                     externally stored columns</span></div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="comment">                                     (VARCHAR can be off-page too) */</span></div><div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a4081417afcdbd59f9e107423a812e528">  606</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a4081417afcdbd59f9e107423a812e528">templ_contains_fixed_point</a> : 1; <span class="comment">/*!&lt; TRUE if the</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;<span class="comment">                              template contains a column with</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<span class="comment">                              DATA_POINT. Since InnoDB regards</span></div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="comment">                              DATA_POINT as non-BLOB type, the</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="comment">                              templ_contains_blob can&#39;t tell us</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="comment">                              if there is DATA_POINT */</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;<span class="comment">  /** 1 if extra(HA_EXTRA_INSERT_WITH_UPDATE) was requested, which happens</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="comment">  when ON DUPLICATE KEY UPDATE clause is present, 0 otherwise */</span></div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a5a53bf10140469ab155bace892faa519">  615</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a5a53bf10140469ab155bace892faa519">on_duplicate_key_update</a> : 1;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="comment">  /** 1 if extra(HA_EXTRA_WRITE_CAN_REPLACE) was requested, which happen when</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="comment">  REPLACE is done instead of regular INSERT, 0 otherwise */</span></div><div class="line"><a name="l00619"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a201878b5e5c37cf830f1b18489f78393">  619</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a201878b5e5c37cf830f1b18489f78393">replace</a> : 1;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<span class="comment">  /** template used to transform rows fast between MySQL and Innobase formats;</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="comment">  memory for this template is not allocated from &#39;heap&#39; */</span></div><div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a25c5641e4244b609f7e89f11069239e5">  623</a></span>&#160;  <a class="code" href="structmysql__row__templ__t.html">mysql_row_templ_t</a> *<a class="code" href="structrow__prebuilt__t.html#a25c5641e4244b609f7e89f11069239e5">mysql_template</a>;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<span class="comment">  /** memory heap from which these auxiliary structures are allocated when</span></div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;<span class="comment">  needed */</span></div><div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#afa1114f766781ead5174ff03d9bfcaac">  627</a></span>&#160;  <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *<a class="code" href="structrow__prebuilt__t.html#afa1114f766781ead5174ff03d9bfcaac">heap</a>;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">  /** memory heap from which innodb_api_buf is allocated per session */</span></div><div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a6554190844ba613c0afafb9a47b23bad">  630</a></span>&#160;  <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *<a class="code" href="structrow__prebuilt__t.html#a6554190844ba613c0afafb9a47b23bad">cursor_heap</a>;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">  /** Innobase SQL insert node used to perform inserts to the table */</span></div><div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a4d7c9cc595e33ade9ceeb4a1f14a9d76">  633</a></span>&#160;  <a class="code" href="structins__node__t.html">ins_node_t</a> *<a class="code" href="structrow__prebuilt__t.html#a4d7c9cc595e33ade9ceeb4a1f14a9d76">ins_node</a>;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">  /** buffer for storing data converted to the Innobase format from the MySQL</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">  format */</span></div><div class="line"><a name="l00637"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aa1085ad273bb47a95631ac73a16a9a22">  637</a></span>&#160;  <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="structrow__prebuilt__t.html#aa1085ad273bb47a95631ac73a16a9a22">ins_upd_rec_buff</a>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">/* buffer for converting data format for multi-value virtual columns */</span></div><div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a17529dba84ae95ff25d3288cd032a373">  640</a></span>&#160;  <a class="code" href="structmulti__value__data.html">multi_value_data</a> *<a class="code" href="structrow__prebuilt__t.html#a17529dba84ae95ff25d3288cd032a373">mv_data</a>;</div><div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a1b397e188f2d0d2ebc9af03578617d35">  641</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="structrow__prebuilt__t.html#a1b397e188f2d0d2ebc9af03578617d35">default_rec</a>; <span class="comment">/*!&lt; the default values of all columns</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">                           (a &quot;default row&quot;) in MySQL format */</span></div><div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a23328500b0f9834d0baddce5d3bbbc48">  643</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a23328500b0f9834d0baddce5d3bbbc48">hint_need_to_fetch_extra_cols</a>;<span class="comment"></span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">  /*!&lt; normally this is set to 0; if this</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">  is set to ROW_RETRIEVE_PRIMARY_KEY,</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">  then we should at least retrieve all</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">  columns in the primary key; if this</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">  is set to ROW_RETRIEVE_ALL_COLS, then</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">  we must retrieve all columns in the</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">  key (if read_just_key == 1), or all</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">  columns in the table */</span></div><div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a0f54b68eb4f1a5349eef999f88a9967f">  652</a></span>&#160;  <a class="code" href="structupd__node__t.html">upd_node_t</a> *<a class="code" href="structrow__prebuilt__t.html#a0f54b68eb4f1a5349eef999f88a9967f">upd_node</a>;   <span class="comment">/*!&lt; Innobase SQL update node used</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">                          to perform updates and deletes */</span></div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a0079ca440c8a887b00c656ca73c767c6">  654</a></span>&#160;  <a class="code" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="code" href="structrow__prebuilt__t.html#a0079ca440c8a887b00c656ca73c767c6">trx_id</a>;        <span class="comment">/*!&lt; The table-&gt;def_trx_id when</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">                          ins_graph was built */</span></div><div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ae46537393407eb4071c703343586d22a">  656</a></span>&#160;  <a class="code" href="structque__fork__t.html">que_fork_t</a> *<a class="code" href="structrow__prebuilt__t.html#ae46537393407eb4071c703343586d22a">ins_graph</a>;  <span class="comment">/*!&lt; Innobase SQL query graph used</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">                          in inserts. Will be rebuilt on</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">                          trx_id or n_indexes mismatch. */</span></div><div class="line"><a name="l00659"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a9a3aca3ac08088406e83cd47adb824a4">  659</a></span>&#160;  <a class="code" href="structque__fork__t.html">que_fork_t</a> *<a class="code" href="structrow__prebuilt__t.html#a9a3aca3ac08088406e83cd47adb824a4">upd_graph</a>;  <span class="comment">/*!&lt; Innobase SQL query graph used</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">                          in updates or deletes */</span></div><div class="line"><a name="l00661"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a60da953051fdf0e7b7aefe39e1ed693a">  661</a></span>&#160;  <a class="code" href="structbtr__pcur__t.html">btr_pcur_t</a> *<a class="code" href="structrow__prebuilt__t.html#a60da953051fdf0e7b7aefe39e1ed693a">pcur</a>;       <span class="comment">/*!&lt; persistent cursor used in selects</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">                          and updates */</span></div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a3db8627d81df1a7a0c08668e575457a8">  663</a></span>&#160;  <a class="code" href="structbtr__pcur__t.html">btr_pcur_t</a> *<a class="code" href="structrow__prebuilt__t.html#a3db8627d81df1a7a0c08668e575457a8">clust_pcur</a>; <span class="comment">/*!&lt; persistent cursor used in</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">                          some selects and updates */</span></div><div class="line"><a name="l00665"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#affb3504add5a29b9352f5f7a70da89e9">  665</a></span>&#160;  <a class="code" href="structque__fork__t.html">que_fork_t</a> *<a class="code" href="structrow__prebuilt__t.html#affb3504add5a29b9352f5f7a70da89e9">sel_graph</a>;  <span class="comment">/*!&lt; dummy query graph used in</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">                          selects */</span></div><div class="line"><a name="l00667"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a2110e245f510fe5703437190bdf7c9e1">  667</a></span>&#160;  <a class="code" href="structdtuple__t.html">dtuple_t</a> *<a class="code" href="structrow__prebuilt__t.html#a2110e245f510fe5703437190bdf7c9e1">search_tuple</a>; <span class="comment">/*!&lt; prebuilt dtuple used in selects */</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">  /** prebuilt dtuple used in selects where the end of range is known */</span></div><div class="line"><a name="l00670"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a9aee3ea62900f0e551a8e8d0bb5bc2b0">  670</a></span>&#160;  <a class="code" href="structdtuple__t.html">dtuple_t</a> *<a class="code" href="structrow__prebuilt__t.html#a9aee3ea62900f0e551a8e8d0bb5bc2b0">m_stop_tuple</a>;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;<span class="comment">  /** Set to true in row_search_mvcc when a row matching exactly the length and</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="comment">  value of stop_tuple was found, so that the next iteration of row_search_mvcc</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;<span class="comment">  knows it can simply return DB_RECORD_NOT_FOUND. If true, then for sure, at</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<span class="comment">  least one such matching row was seen. If false, it might be false negative, as</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;<span class="comment">  not all control paths lead to setting this field to true in case a matching</span></div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">  row is visited. */</span></div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a9b39ca1bc8d5bdac980014d4d9e50eaa">  678</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a9b39ca1bc8d5bdac980014d4d9e50eaa">m_stop_tuple_found</a>;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="comment">  /** Set to true iff we are inside read_range_first() or read_range_next() */</span></div><div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a4c89af37d9fae7808f7c368b649803db">  682</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a4c89af37d9fae7808f7c368b649803db">m_is_reading_range</a>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a814aaed869d2837566608d19e792282a">  685</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a814aaed869d2837566608d19e792282a">is_reading_range</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> m_is_reading_range; }</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div><div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="classrow__prebuilt__t_1_1row__is__reading__range__guard__t.html">  687</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classrow__prebuilt__t_1_1row__is__reading__range__guard__t.html">row_is_reading_range_guard_t</a> : <span class="keyword">private</span> <a class="code" href="classut_1_1bool__scope__guard__t.html">ut::bool_scope_guard_t</a> {</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;   <span class="keyword">public</span>:</div><div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="classrow__prebuilt__t_1_1row__is__reading__range__guard__t.html#a302ffa84569357dd3406774e495bfd68">  689</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="classrow__prebuilt__t_1_1row__is__reading__range__guard__t.html#a302ffa84569357dd3406774e495bfd68">row_is_reading_range_guard_t</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> &amp;prebuilt)</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        : <a class="code" href="namespaceut.html">ut</a>::bool_scope_guard_t(prebuilt.m_is_reading_range) {}</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  };</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div><div class="line"><a name="l00693"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ac9b8a8253f89dfc60a13fa38c11e3224">  693</a></span>&#160;  <a class="code" href="classrow__prebuilt__t_1_1row__is__reading__range__guard__t.html">row_is_reading_range_guard_t</a> <a class="code" href="structrow__prebuilt__t.html#ac9b8a8253f89dfc60a13fa38c11e3224">get_is_reading_range_guard</a>() {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">/* We implement row_is_reading_range_guard_t as a simple bool_scope_guard_t</span></div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="comment">    because we trust that scopes are never nested and thus we don&#39;t need to</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;<span class="comment">    count their &quot;openings&quot; and &quot;closings&quot;, so we assert that.*/</span></div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <a class="code" href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a>(!m_is_reading_range);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classrow__prebuilt__t_1_1row__is__reading__range__guard__t.html">row_is_reading_range_guard_t</a>(*<span class="keyword">this</span>);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aac44d559d12885d25cceeebba46c7e6c">  701</a></span>&#160;  <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> row_id[<a class="code" href="data0type_8h.html#a7a1bf08468f4acdff62d24adee4063f0">DATA_ROW_ID_LEN</a>];<span class="comment"></span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="comment">  /*!&lt; if the clustered index was</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;<span class="comment">  generated, the row id of the</span></div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="comment">  last row fetched is stored</span></div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;<span class="comment">  here */</span></div><div class="line"><a name="l00706"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a2ab1fb978fc37f85f0f278ec6c09180d">  706</a></span>&#160;  <a class="code" href="fts0fts_8h.html#a380910af8d69503a3e3dcbf6d809a3b6">doc_id_t</a> <a class="code" href="structrow__prebuilt__t.html#a2ab1fb978fc37f85f0f278ec6c09180d">fts_doc_id</a>;          <span class="comment">/* if the table has an FTS index on</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment">                                it then we fetch the doc_id.</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">                                FTS-FIXME: Currently we fetch it always</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">                                but in the future we must only fetch</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">                                it when FTS columns are being</span></div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">                                updated */</span></div><div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ad849b52ec988d5c989838523993998aa">  712</a></span>&#160;  <a class="code" href="structdtuple__t.html">dtuple_t</a> *<a class="code" href="structrow__prebuilt__t.html#ad849b52ec988d5c989838523993998aa">clust_ref</a>;          <span class="comment">/*!&lt; prebuilt dtuple used in</span></div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">                                sel/upd/del */</span></div><div class="line"><a name="l00714"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a33ba7f40688b0b0acd0e46ce459eb134">  714</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a33ba7f40688b0b0acd0e46ce459eb134">select_lock_type</a>;       <span class="comment">/*!&lt; LOCK_NONE, LOCK_S, or LOCK_X */</span></div><div class="line"><a name="l00715"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ad77438b16efa1512b2eadb5a973898b9">  715</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="lock0types_8h.html#ab5c6ab6fca939782acb38f91e297d41c">select_mode</a> <a class="code" href="lock0types_8h.html#ab5c6ab6fca939782acb38f91e297d41c">select_mode</a>; <span class="comment">/*!&lt; SELECT_ORDINARY,</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="comment">                                SELECT_SKIP_LOKCED, or SELECT_NO_WAIT */</span></div><div class="line"><a name="l00717"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a6b853f8cb36486a637e6f58ad95b458c">  717</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a6b853f8cb36486a637e6f58ad95b458c">row_read_type</a>;          <span class="comment">/*!&lt; ROW_READ_WITH_LOCKS if row locks</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="comment">                                should be the obtained for records</span></div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="comment">                                under an UPDATE or DELETE cursor.</span></div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;<span class="comment">                                If trx_t::allow_semi_consistent()</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="comment">                                returns true, this can be set to</span></div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;<span class="comment">                                ROW_READ_TRY_SEMI_CONSISTENT, so that</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="comment">                                if the row under an UPDATE or DELETE</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="comment">                                cursor was locked by another</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment">                                transaction, InnoDB will resort</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">                                to reading the last committed value</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">                                (&#39;semi-consistent read&#39;).  Then,</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">                                this field will be set to</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">                                ROW_READ_DID_SEMI_CONSISTENT to</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">                                indicate that.  If the row does not</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">                                match the WHERE condition, MySQL will</span></div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">                                invoke handler::unlock_row() to</span></div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">                                clear the flag back to</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">                                ROW_READ_TRY_SEMI_CONSISTENT and</span></div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">                                to simply skip the row.  If</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">                                the row matches, the next call to</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">                                row_search_for_mysql() will lock</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">                                the row.</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">                                This eliminates lock waits in some</span></div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">                                cases; note that this breaks</span></div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">                                serializability. */</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keyword">enum</span> {</div><div class="line"><a name="l00744"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea0472245d9ec4774acf79a72404a112fe">  744</a></span>&#160;    <a class="code" href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea0472245d9ec4774acf79a72404a112fe">LOCK_PCUR</a>,</div><div class="line"><a name="l00745"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea8f5793157d7a1abdcb2e0ee2a066ad8f">  745</a></span>&#160;    <a class="code" href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea8f5793157d7a1abdcb2e0ee2a066ad8f">LOCK_CLUST_PCUR</a>,</div><div class="line"><a name="l00746"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea6b4eac0f20f2925aefe876a0ef28bc3a">  746</a></span>&#160;    <a class="code" href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea6b4eac0f20f2925aefe876a0ef28bc3a">LOCK_COUNT</a>,</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  };</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ae6ac56d3509b816290c930c3f409442a">  749</a></span>&#160;  <span class="keywordtype">bool</span> new_rec_lock[LOCK_COUNT]; <span class="comment">/*!&lt; normally false; if</span></div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">                        session is using READ COMMITTED or READ UNCOMMITTED</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment">                        isolation level, set in row_search_for_mysql() if we set</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="comment">                        a new record lock on the secondary or clustered index;</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="comment">                        this is used in row_unlock_for_mysql() when releasing</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;<span class="comment">                        the lock under the cursor if we determine after</span></div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;<span class="comment">                        retrieving the row that it does not need to be locked</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;<span class="comment">                        (&#39;mini-rollback&#39;)</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">                        [LOCK_PCUR] corresponds to pcur, the first index we</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">                        looked up (can be secondary or clustered!)</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">                        [LOCK_CLUST_PCUR] corresponds to clust_pcur, which if</span></div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">                        used at all, is always the clustered index.</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="comment">                        The meaning of these booleans is:</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;<span class="comment">                        true = we&#39;ve created a rec lock, which we might</span></div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;<span class="comment">                               release as we &quot;own&quot; it</span></div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;<span class="comment">                        false = we should not release any lock for this</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">                               index as we either reused some existing</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">                               lock, or there is some other reason, we</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">                               should keep it</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">                        */</span></div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a2656fbd8b2cf6d356622f37bace7444a">  771</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a2656fbd8b2cf6d356622f37bace7444a">mysql_prefix_len</a>;        <span class="comment">/*!&lt; byte offset of the end of</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;<span class="comment">                                 the last requested column */</span></div><div class="line"><a name="l00773"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a930a910f8de38274b71e4dcc79888496">  773</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a930a910f8de38274b71e4dcc79888496">mysql_row_len</a>;           <span class="comment">/*!&lt; length in bytes of a row in the</span></div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;<span class="comment">                                 MySQL format */</span></div><div class="line"><a name="l00775"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a9219653973849987e00efd71c57cd9b5">  775</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a9219653973849987e00efd71c57cd9b5">n_rows_fetched</a>;          <span class="comment">/*!&lt; number of rows fetched after</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="comment">                                 positioning the current cursor */</span></div><div class="line"><a name="l00777"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a8befaa7c077a4d5a0c3e673b09c4c361">  777</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a8befaa7c077a4d5a0c3e673b09c4c361">fetch_direction</a>;         <span class="comment">/*!&lt; ROW_SEL_NEXT or ROW_SEL_PREV */</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a9f1ab35f63cdb3d2b64bb81a0a12cf84">  779</a></span>&#160;  <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *fetch_cache[<a class="code" href="row0mysql_8h.html#adbabec476ae3e4e35d865d8d4dafdb8c">MYSQL_FETCH_CACHE_SIZE</a>];<span class="comment"></span></div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;<span class="comment">  /*!&lt; a cache for fetched rows if we</span></div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="comment">  fetch many rows from the same cursor:</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;<span class="comment">  it saves CPU time to fetch them in a</span></div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">  batch; we reserve mysql_row_len</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;<span class="comment">  bytes for each such row; these</span></div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;<span class="comment">  pointers point 4 bytes past the</span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;<span class="comment">  allocated mem buf start, because</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;<span class="comment">  there is a 4 byte magic number at the</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">  start and at the end */</span></div><div class="line"><a name="l00789"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ab6b52068ec945cf852151523434a786a">  789</a></span>&#160;  ibool <a class="code" href="structrow__prebuilt__t.html#ab6b52068ec945cf852151523434a786a">keep_other_fields_on_keyread</a>; <span class="comment">/*!&lt; when using fetch</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;<span class="comment">                        cache with HA_EXTRA_KEYREAD, don&#39;t</span></div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="comment">                        overwrite other fields in mysql row</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;<span class="comment">                        row buffer.*/</span></div><div class="line"><a name="l00793"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ad1a497bcd529e69f9b9ca11de686cc72">  793</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#ad1a497bcd529e69f9b9ca11de686cc72">fetch_cache_first</a>;            <span class="comment">/*!&lt; position of the first not yet</span></div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;<span class="comment">                                    fetched row in fetch_cache */</span></div><div class="line"><a name="l00795"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a633f4db03c18e781fe73864afb32fd4a">  795</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a633f4db03c18e781fe73864afb32fd4a">n_fetch_cached</a>;               <span class="comment">/*!&lt; number of not yet fetched rows</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="comment">                                      in fetch_cache */</span></div><div class="line"><a name="l00797"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a4b2bf20a06ef44d9114b5a7667f028c2">  797</a></span>&#160;  <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *<a class="code" href="structrow__prebuilt__t.html#a4b2bf20a06ef44d9114b5a7667f028c2">blob_heap</a>;              <span class="comment">/*!&lt; in SELECTS BLOB fields are copied</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="comment">                                      to this heap */</span></div><div class="line"><a name="l00799"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a7f020430b4ec6fdd33b90bc1a811f6f3">  799</a></span>&#160;  <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *<a class="code" href="structrow__prebuilt__t.html#a7f020430b4ec6fdd33b90bc1a811f6f3">old_vers_heap</a>;          <span class="comment">/*!&lt; memory heap where a previous</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="comment">                                      version is built in consistent read */</span></div><div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a7d0dfee13cc2dd7f8603d873d0155d41">  801</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a7d0dfee13cc2dd7f8603d873d0155d41">in_fts_query</a>;                  <span class="comment">/*!&lt; Whether we are in a FTS query */</span></div><div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#af7f5941dae2c19607f27f16c94dad626">  802</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#af7f5941dae2c19607f27f16c94dad626">fts_doc_id_in_read_set</a>;        <span class="comment">/*!&lt; true if table has externally</span></div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">                              defined FTS_DOC_ID coulmn. */</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="comment">/*----------------------*/</span></div><div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aec305f742e5262b09eeaad0e64066d0c">  805</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="structrow__prebuilt__t.html#aec305f742e5262b09eeaad0e64066d0c">autoinc_last_value</a>;<span class="comment"></span></div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="comment">  /*!&lt; last value of AUTO-INC interval */</span></div><div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a6646ec8dded9b73f2ed89f14177fbbcd">  807</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="structrow__prebuilt__t.html#a6646ec8dded9b73f2ed89f14177fbbcd">autoinc_increment</a>; <span class="comment">/*!&lt; The increment step of the auto</span></div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="comment">                             increment column. Value must be</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;<span class="comment">                             greater than or equal to 1. Required to</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="comment">                             calculate the next value */</span></div><div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a38c818b53352ba1e88d517b9e2d74c44">  811</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="structrow__prebuilt__t.html#a38c818b53352ba1e88d517b9e2d74c44">autoinc_offset</a>;    <span class="comment">/*!&lt; The offset passed to</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="comment">                               get_auto_increment() by MySQL. Required</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;<span class="comment">                               to calculate the next value */</span></div><div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a9f9ef76992b0b772c92df797bb0b1f01">  814</a></span>&#160;  <a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="structrow__prebuilt__t.html#a9f9ef76992b0b772c92df797bb0b1f01">autoinc_error</a>;       <span class="comment">/*!&lt; The actual error code encountered</span></div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<span class="comment">                               while trying to init or read the</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="comment">                               autoinc value from the table. We</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="comment">                               store it here so that we can return</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="comment">                               it to MySQL */</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">/*----------------------*/</span></div><div class="line"><a name="l00820"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aa04b6f41e35d2507a6c6e2581576c736">  820</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#aa04b6f41e35d2507a6c6e2581576c736">idx_cond</a>;         <span class="comment">/*!&lt; True if index condition pushdown</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;<span class="comment">                         is used, false otherwise. */</span></div><div class="line"><a name="l00822"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a6a85744d402aac8d6bd38de0d637ef4d">  822</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a6a85744d402aac8d6bd38de0d637ef4d">idx_cond_n_cols</a>; <span class="comment">/*!&lt; Number of fields in idx_cond_cols.</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="comment">                         0 if and only if idx_cond == false. */</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">/*----------------------*/</span></div><div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a3cb2c828efad5ccf81c3165c79269f80">  825</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structrow__prebuilt__t.html#a3cb2c828efad5ccf81c3165c79269f80">innodb_api</a> : 1;     <span class="comment">/*!&lt; whether this is a InnoDB API</span></div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">                               query */</span></div><div class="line"><a name="l00827"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aace90681d96b49e946dcade7a36f935a">  827</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *<a class="code" href="structrow__prebuilt__t.html#aace90681d96b49e946dcade7a36f935a">innodb_api_rec</a>; <span class="comment">/*!&lt; InnoDB API search result */</span></div><div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ac5dc0d652fc8519e1b8e6c8c82d42509">  828</a></span>&#160;  <span class="keywordtype">void</span> *<a class="code" href="structrow__prebuilt__t.html#ac5dc0d652fc8519e1b8e6c8c82d42509">innodb_api_buf</a>;        <span class="comment">/*!&lt; Buffer holding copy of the physical</span></div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;<span class="comment">                               Innodb API search record */</span></div><div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a3cac51144487afc9db0e5d11239acc82">  830</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#a3cac51144487afc9db0e5d11239acc82">innodb_api_rec_size</a>;   <span class="comment">/*!&lt; Size of the Innodb API record */</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">/*----------------------*/</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="comment">/*----------------------*/</span></div><div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#acbde6d071d3ef240bbaed7f13b35d578">  834</a></span>&#160;  <a class="code" href="structrtr__info.html">rtr_info_t</a> *<a class="code" href="structrow__prebuilt__t.html#acbde6d071d3ef240bbaed7f13b35d578">rtr_info</a>; <span class="comment">/*!&lt; R-tree Search Info */</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">/*----------------------*/</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00837"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#affc0a986a1cfa9c1af8d0c881d326f4b">  837</a></span>&#160;  ulint <a class="code" href="structrow__prebuilt__t.html#affc0a986a1cfa9c1af8d0c881d326f4b">magic_n2</a>; <span class="comment">/*!&lt; this should be the same as</span></div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="comment">                  magic_n */</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a43240b420d9f085748947946f2393799">  840</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a43240b420d9f085748947946f2393799">ins_sel_stmt</a>; <span class="comment">/*!&lt; if true then ins_sel_statement. */</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a1744b97833f84182ee4fce419c7d313e">  842</a></span>&#160;  <a class="code" href="classinnodb__session__t.html">innodb_session_t</a> *<a class="code" href="structrow__prebuilt__t.html#a1744b97833f84182ee4fce419c7d313e">session</a>; <span class="comment">/*!&lt; InnoDB session handler. */</span></div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a93437253882fa8d53a3b576a4633fc94">  843</a></span>&#160;  <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="structrow__prebuilt__t.html#a93437253882fa8d53a3b576a4633fc94">srch_key_val1</a>;       <span class="comment">/*!&lt; buffer used in converting</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="comment">                             search key values from MySQL format</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="comment">                             to InnoDB format.*/</span></div><div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a05fe59b7101e2d8df0b534618b591511">  846</a></span>&#160;  <a class="code" href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a> *<a class="code" href="structrow__prebuilt__t.html#a05fe59b7101e2d8df0b534618b591511">srch_key_val2</a>;       <span class="comment">/*!&lt; buffer used in converting</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="comment">                             search key values from MySQL format</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment">                             to InnoDB format.*/</span></div><div class="line"><a name="l00849"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aefd747a430fb3aa32a2db04cebf345b6">  849</a></span>&#160;  <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="code" href="structrow__prebuilt__t.html#aefd747a430fb3aa32a2db04cebf345b6">srch_key_val_len</a>;     <span class="comment">/*!&lt; Size of search key */</span><span class="comment"></span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">  /** Disable prefetch. */</span></div><div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a52df69f729020848513251fb4b80a8bd">  851</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a52df69f729020848513251fb4b80a8bd">m_no_prefetch</a>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="comment">  /** true, if server has called ha_extra(HA_EXTRA_NO_READ_LOCKING) */</span></div><div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a7e4c9ae8172b3f861eb0be68b1c47ea4">  854</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a7e4c9ae8172b3f861eb0be68b1c47ea4">no_read_locking</a>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="comment">  /** true, if we were asked to skip AUTOINC locking for the table. */</span></div><div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a33f76320461a701fba502789894bf298">  857</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a33f76320461a701fba502789894bf298">no_autoinc_locking</a>;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment">  /** Return materialized key for secondary index scan */</span></div><div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a0023b94f5a14f5412d5d6bfc17b1ebc6">  860</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a0023b94f5a14f5412d5d6bfc17b1ebc6">m_read_virtual_key</a>;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">  /** Whether this is a temporary(intrinsic) table read to keep the position</span></div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">  for this MySQL TABLE object */</span></div><div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aab5cce8840b85e71067495da833ff57e">  864</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#aab5cce8840b85e71067495da833ff57e">m_temp_read_shared</a>;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">  /** Whether tree modifying operation happened on a temporary (intrinsic)</span></div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">  table index tree. In this case, it could be split, but no shrink. */</span></div><div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a57de8f1def7443aa6a94c903f7b24aa7">  868</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a57de8f1def7443aa6a94c903f7b24aa7">m_temp_tree_modified</a>;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;<span class="comment">  /** The MySQL table object */</span></div><div class="line"><a name="l00871"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aace40b23405c2228c6407cfce4b52806">  871</a></span>&#160;  <a class="code" href="structTABLE.html">TABLE</a> *<a class="code" href="structrow__prebuilt__t.html#aace40b23405c2228c6407cfce4b52806">m_mysql_table</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;<span class="comment">  /** The MySQL handler object. */</span></div><div class="line"><a name="l00874"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a77c5191fecd39b05fc04e456c37f975b">  874</a></span>&#160;  <a class="code" href="classha__innobase.html">ha_innobase</a> *<a class="code" href="structrow__prebuilt__t.html#a77c5191fecd39b05fc04e456c37f975b">m_mysql_handler</a>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="comment">  /** limit value to avoid fts result overflow */</span></div><div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a1c2065738ddab0fa703271b13a4ca646">  877</a></span>&#160;  <a class="code" href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a> <a class="code" href="structrow__prebuilt__t.html#a1c2065738ddab0fa703271b13a4ca646">m_fts_limit</a>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="comment">  /** True if exceeded the end_range while filling the prefetch cache. */</span></div><div class="line"><a name="l00880"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ad3028cf172035fc3ab1c4e5f74fda0dd">  880</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#ad3028cf172035fc3ab1c4e5f74fda0dd">m_end_range</a>;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">  /** Undo information for LOB mvcc */</span></div><div class="line"><a name="l00883"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a6fccb5d041d43311811a1709d0990098">  883</a></span>&#160;  <a class="code" href="structlob_1_1undo__vers__t.html">lob::undo_vers_t</a> <a class="code" href="structrow__prebuilt__t.html#a6fccb5d041d43311811a1709d0990098">m_lob_undo</a>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a3575fdf719e32dbff61fde9061d8ad94">  885</a></span>&#160;  <a class="code" href="structlob_1_1undo__vers__t.html">lob::undo_vers_t</a> *<a class="code" href="structrow__prebuilt__t.html#a3575fdf719e32dbff61fde9061d8ad94">get_lob_undo</a>() { <span class="keywordflow">return</span> (&amp;m_lob_undo); }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;</div><div class="line"><a name="l00887"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a1c6d4199f7e00754ecdf315dab81c0a9">  887</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structrow__prebuilt__t.html#a1c6d4199f7e00754ecdf315dab81c0a9">lob_undo_reset</a>() { m_lob_undo.<a class="code" href="structlob_1_1undo__vers__t.html#adf565ff4efa0cd62aabf273aa57e66c1">reset</a>(); }</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">  /** Can a record buffer or a prefetch cache be utilized for prefetching</span></div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">  records in this scan?</span></div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">  @retval true   if records can be prefetched</span></div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="comment">  @retval false  if records cannot be prefetched */</span></div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keywordtype">bool</span> can_prefetch_records() <span class="keyword">const</span>;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;<span class="comment">  /** Determines if the query is REPLACE or ON DUPLICATE KEY UPDATE in which</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;<span class="comment">  case duplicate values should be allowed (and further processed) instead of</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="comment">  causing an error.</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="comment">  @return true iff duplicated values should be allowed */</span></div><div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#a92235489f79f74ad55cd4d0f6051a34f">  899</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrow__prebuilt__t.html#a92235489f79f74ad55cd4d0f6051a34f">allow_duplicates</a>() { <span class="keywordflow">return</span> (<a class="code" href="mysqlimport_8cc.html#a8dee86d04ccae709059c8c923826ac9c">replace</a> || on_duplicate_key_update); }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160; <span class="keyword">private</span>:<span class="comment"></span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">  /** A helper function for init_search_tuples_types() which prepares the shape</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">  of the tuple to match the index</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">  @param[in]  tuple   this-&gt;search_tuple or this-&gt;m_stop_tuple */</span></div><div class="line"><a name="l00905"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#acb289fd0cfc819e10b769745a9c0f02d">  905</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structrow__prebuilt__t.html#acb289fd0cfc819e10b769745a9c0f02d">init_tuple_types</a>(<a class="code" href="structdtuple__t.html">dtuple_t</a> *tuple) {</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="data0data_8cc.html#adf8d43ed0e1bee3b08641f1e7c950d7a">dtuple_set_n_fields</a>(tuple, index-&gt;<a class="code" href="structdict__index__t.html#aadc400b65cb57fe80dd86e3b21d6d027">n_fields</a>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="dict0dict_8cc.html#a93cb9582603ebbc3a03d6c69829399c8">dict_index_copy_types</a>(tuple, index, index-&gt;<a class="code" href="structdict__index__t.html#aadc400b65cb57fe80dd86e3b21d6d027">n_fields</a>);</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160; <span class="keyword">public</span>:<span class="comment"></span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">  /** Initializes search_tuple and m_stop_tuple shape so they match the index */</span></div><div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#aba5cce943b6a4e391ff798b06daa28bf">  912</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structrow__prebuilt__t.html#aba5cce943b6a4e391ff798b06daa28bf">init_search_tuples_types</a>() {</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    init_tuple_types(search_tuple);</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    init_tuple_types(m_stop_tuple);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  }</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">  /** Resets both search_tuple and m_stop_tuple */</span></div><div class="line"><a name="l00918"></a><span class="lineno"><a class="line" href="structrow__prebuilt__t.html#ad87f0f28e6b9c4a5e152eedf0e63bf1f">  918</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structrow__prebuilt__t.html#ad87f0f28e6b9c4a5e152eedf0e63bf1f">clear_search_tuples</a>() {</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <a class="code" href="data0data_8cc.html#adf8d43ed0e1bee3b08641f1e7c950d7a">dtuple_set_n_fields</a>(search_tuple, 0);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="data0data_8cc.html#adf8d43ed0e1bee3b08641f1e7c950d7a">dtuple_set_n_fields</a>(m_stop_tuple, 0);</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">  /** @return true iff the operation can skip concurrency ticket. */</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  <span class="keywordtype">bool</span> skip_concurrency_ticket() <span class="keyword">const</span>;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">  /** It is unsafe to copy this struct, and moving it would be non-trivial,</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">  because we want to keep in sync with row_is_reading_range_guard_t. Therefore</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">  it is much safer/easier to just forbid such operations.  */</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> <span class="keyword">const</span> &amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> &amp;operator=(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> <span class="keyword">const</span> &amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> &amp;operator=(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> &amp;&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;  <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a>(<a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> &amp;&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;};</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="comment">/** Callback for row_mysql_sys_index_iterate() */</span></div><div class="line"><a name="l00936"></a><span class="lineno"><a class="line" href="structSysIndexCallback.html">  936</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structSysIndexCallback.html">SysIndexCallback</a> {</div><div class="line"><a name="l00937"></a><span class="lineno"><a class="line" href="structSysIndexCallback.html#aebd673294e9a2e7fb31ae336e45e58ff">  937</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="structSysIndexCallback.html#aebd673294e9a2e7fb31ae336e45e58ff">~SysIndexCallback</a>() {}</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="comment">  /** Callback method</span></div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;<span class="comment">  @param mtr current mini-transaction</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;<span class="comment">  @param pcur persistent cursor. */</span></div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> operator()(<a class="code" href="structmtr__t.html">mtr_t</a> *mtr, <a class="code" href="structbtr__pcur__t.html">btr_pcur_t</a> *pcur) noexcept = 0;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;};</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;<span class="comment">/** Get the computed value by supplying the base column values.</span></div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;<span class="comment">@param[in,out]  row             the data row</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;<span class="comment">@param[in]      col             virtual column</span></div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;<span class="comment">@param[in]      index           index on the virtual column</span></div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;<span class="comment">@param[in,out]  local_heap      heap memory for processing large data etc.</span></div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;<span class="comment">@param[in,out]  heap            memory heap that copies the actual index row</span></div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;<span class="comment">@param[in]      ifield          index field</span></div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;<span class="comment">@param[in]      thd             MySQL thread handle</span></div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;<span class="comment">@param[in,out]  mysql_table     mysql table object</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="comment">@param[in]      old_table       during ALTER TABLE, this is the old table</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;<span class="comment">                                or NULL.</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;<span class="comment">@param[in]      parent_update   update vector for the parent row</span></div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;<span class="comment">@param[in]      foreign         foreign key information</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;<span class="comment">@return the field filled with computed value, or NULL if just want</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;<span class="comment">to store the value in passed in &quot;my_rec&quot; */</span></div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;<a class="code" href="structdfield__t.html">dfield_t</a> *<a class="code" href="row0mysql_8h.html#a804107c92175fccf9f254cb1cc8bc6eb">innobase_get_computed_value</a>(</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keyword">const</span> <a class="code" href="structdtuple__t.html">dtuple_t</a> *row, <span class="keyword">const</span> <a class="code" href="structdict__v__col__t.html">dict_v_col_t</a> *col, <span class="keyword">const</span> <a class="code" href="structdict__index__t.html">dict_index_t</a> *index,</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> **local_heap, <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *heap, <span class="keyword">const</span> <a class="code" href="structdict__field__t.html">dict_field_t</a> *ifield,</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="classTHD.html">THD</a> *thd, <a class="code" href="structTABLE.html">TABLE</a> *mysql_table, <span class="keyword">const</span> <a class="code" href="structdict__table__t.html">dict_table_t</a> *old_table,</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <a class="code" href="structupd__t.html">upd_t</a> *parent_update, <a class="code" href="structdict__foreign__t.html">dict_foreign_t</a> *foreign);</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;<span class="comment">/** Parse out multi-values from a MySQL record</span></div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;<span class="comment">@param[in]      mysql_table     MySQL table structure</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment">@param[in]      f_idx           field index of the multi-value column</span></div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">@param[in,out]  dfield          field structure to store parsed multi-value</span></div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">@param[in,out]  value           nullptr or the multi-value structure</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">                                to store the parsed values</span></div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">@param[in]      old_val         old value if exists</span></div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="comment">@param[in]      comp            true if InnoDB table uses compact row format</span></div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="comment">@param[in,out]  heap            memory heap */</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a4433eb5af20fe6340bcb7cf90eb707e8">innobase_get_multi_value</a>(<span class="keyword">const</span> <a class="code" href="structTABLE.html">TABLE</a> *mysql_table, ulint f_idx,</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                              <a class="code" href="structdfield__t.html">dfield_t</a> *dfield, <a class="code" href="structmulti__value__data.html">multi_value_data</a> *<a class="code" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>,</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                              <a class="code" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> old_val, ulint comp, <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *heap);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="comment">/** Get the computed value by supplying the base column values.</span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="comment">@param[in,out]  table   the table whose virtual column template to be built */</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#adf88a8288da3a422b13cd1f411915b8d">innobase_init_vc_templ</a>(<a class="code" href="structdict__table__t.html">dict_table_t</a> *table);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="comment">/** Change dbname and table name in table-&gt;vc_templ.</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="comment">@param[in,out]  table   the table whose virtual column template</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="comment">dbname and tbname to be renamed. */</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a0f1fc4fbdcb42d35611570ebaa4c4c2d">innobase_rename_vc_templ</a>(<a class="code" href="structdict__table__t.html">dict_table_t</a> *table);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a4de2bed680026ecb123a8e2e920888d6">  988</a></span>&#160;<span class="preprocessor">#define ROW_PREBUILT_FETCH_MAGIC_N 465765687</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div><div class="line"><a name="l00990"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#aaae9fe805ac2602b979a4ef78c78187e">  990</a></span>&#160;<span class="preprocessor">#define ROW_MYSQL_WHOLE_ROW 0</span></div><div class="line"><a name="l00991"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a2ca457a067b7c94e6f476f421742ef98">  991</a></span>&#160;<span class="preprocessor">#define ROW_MYSQL_REC_FIELDS 1</span></div><div class="line"><a name="l00992"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a733252763fb9a3a85d5978368bf9efd5">  992</a></span>&#160;<span class="preprocessor">#define ROW_MYSQL_NO_TEMPLATE 2</span></div><div class="line"><a name="l00993"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a6cbef0461177ab33828603e9a93c2186">  993</a></span>&#160;<span class="preprocessor">#define ROW_MYSQL_DUMMY_TEMPLATE \</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="preprocessor">  3 </span><span class="comment">/* dummy template used in    \</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="comment">    row_scan_and_check_index */</span><span class="preprocessor"></span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="comment">/* Values for hint_need_to_fetch_extra_cols */</span></div><div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a4fffc68a5995fe660bb449c87803fde0">  998</a></span>&#160;<span class="preprocessor">#define ROW_RETRIEVE_PRIMARY_KEY 1</span></div><div class="line"><a name="l00999"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a92f8f9da0bf123fab6d8cabe85d7efef">  999</a></span>&#160;<span class="preprocessor">#define ROW_RETRIEVE_ALL_COLS 2</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">/* Values for row_read_type */</span></div><div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#aaca3190403f35781189c2fb9cb746a41"> 1002</a></span>&#160;<span class="preprocessor">#define ROW_READ_WITH_LOCKS 0</span></div><div class="line"><a name="l01003"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a9b287429ef56df89935576caf8d7fba2"> 1003</a></span>&#160;<span class="preprocessor">#define ROW_READ_TRY_SEMI_CONSISTENT 1</span></div><div class="line"><a name="l01004"></a><span class="lineno"><a class="line" href="row0mysql_8h.html#a5d5bb4edba012ec30d23199136ff837c"> 1004</a></span>&#160;<span class="preprocessor">#define ROW_READ_DID_SEMI_CONSISTENT 2</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;<span class="preprocessor">#ifdef UNIV_DEBUG</span></div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment">/** Wait for the background drop list to become empty. */</span></div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="keywordtype">void</span> <a class="code" href="row0mysql_8h.html#a582c4657713d641261231e39606a6632">row_wait_for_background_drop_list_empty</a>();</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* UNIV_DEBUG */</span><span class="preprocessor"></span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* !UNIV_HOTBACKUP */</span><span class="preprocessor"></span></div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* row0mysql.h */</span><span class="preprocessor"></span></div><div class="ttc" id="structrow__prebuilt__t_html_affb3504add5a29b9352f5f7a70da89e9"><div class="ttname"><a href="structrow__prebuilt__t.html#affb3504add5a29b9352f5f7a70da89e9">row_prebuilt_t::sel_graph</a></div><div class="ttdeci">que_fork_t * sel_graph</div><div class="ttdoc">dummy query graph used in selects </div><div class="ttdef"><b>Definition:</b> row0mysql.h:665</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a0f54b68eb4f1a5349eef999f88a9967f"><div class="ttname"><a href="structrow__prebuilt__t.html#a0f54b68eb4f1a5349eef999f88a9967f">row_prebuilt_t::upd_node</a></div><div class="ttdeci">upd_node_t * upd_node</div><div class="ttdoc">Innobase SQL update node used to perform updates and deletes. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:652</div></div>
<div class="ttc" id="row0mysql_8h_html_ab4ba615104c2e46302972bcc8b681659"><div class="ttname"><a href="row0mysql_8h.html#ab4ba615104c2e46302972bcc8b681659">row_mysql_parallel_select_count_star</a></div><div class="ttdeci">dberr_t row_mysql_parallel_select_count_star(trx_t *trx, std::vector&lt; dict_index_t *&gt; &amp;indexes, size_t max_threads, ulint *n_rows)</div><div class="ttdoc">Read the total number of records in a consistent view. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:4403</div></div>
<div class="ttc" id="mysqlimport_8cc_html_a8dee86d04ccae709059c8c923826ac9c"><div class="ttname"><a href="mysqlimport_8cc.html#a8dee86d04ccae709059c8c923826ac9c">replace</a></div><div class="ttdeci">static bool replace</div><div class="ttdef"><b>Definition:</b> mysqlimport.cc:65</div></div>
<div class="ttc" id="row0mysql_8h_html_a0f1fc4fbdcb42d35611570ebaa4c4c2d"><div class="ttname"><a href="row0mysql_8h.html#a0f1fc4fbdcb42d35611570ebaa4c4c2d">innobase_rename_vc_templ</a></div><div class="ttdeci">void innobase_rename_vc_templ(dict_table_t *table)</div><div class="ttdoc">Change dbname and table name in table-&gt;vc_templ. </div><div class="ttdef"><b>Definition:</b> ha_innodb.cc:22575</div></div>
<div class="ttc" id="row0mysql_8h_html_af53c21c35fddcca0fd44cbeb7ff8b50a"><div class="ttname"><a href="row0mysql_8h.html#af53c21c35fddcca0fd44cbeb7ff8b50a">row_prebuild_sel_graph</a></div><div class="ttdeci">void row_prebuild_sel_graph(row_prebuilt_t *prebuilt)</div><div class="ttdoc">Builds a dummy query graph used in selects. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:1715</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a551a6896bb6da7d979e6fb20decf18ba"><div class="ttname"><a href="structrow__prebuilt__t.html#a551a6896bb6da7d979e6fb20decf18ba">row_prebuilt_t::n_template</a></div><div class="ttdeci">unsigned n_template</div><div class="ttdoc">number of elements in the template </div><div class="ttdef"><b>Definition:</b> row0mysql.h:589</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a6fccb5d041d43311811a1709d0990098"><div class="ttname"><a href="structrow__prebuilt__t.html#a6fccb5d041d43311811a1709d0990098">row_prebuilt_t::m_lob_undo</a></div><div class="ttdeci">lob::undo_vers_t m_lob_undo</div><div class="ttdoc">Undo information for LOB mvcc. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:883</div></div>
<div class="ttc" id="rem0types_8h_html"><div class="ttname"><a href="rem0types_8h.html">rem0types.h</a></div><div class="ttdoc">Record manager global types. </div></div>
<div class="ttc" id="my__inttypes_8h_html_a22152088aba12c47e916b7f0ffee0f51"><div class="ttname"><a href="my__inttypes_8h.html#a22152088aba12c47e916b7f0ffee0f51">ulonglong</a></div><div class="ttdeci">unsigned long long int ulonglong</div><div class="ttdef"><b>Definition:</b> my_inttypes.h:55</div></div>
<div class="ttc" id="sess0sess_8h_html"><div class="ttname"><a href="sess0sess_8h.html">sess0sess.h</a></div><div class="ttdoc">InnoDB session state tracker. </div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a0023b94f5a14f5412d5d6bfc17b1ebc6"><div class="ttname"><a href="structrow__prebuilt__t.html#a0023b94f5a14f5412d5d6bfc17b1ebc6">row_prebuilt_t::m_read_virtual_key</a></div><div class="ttdeci">bool m_read_virtual_key</div><div class="ttdoc">Return materialized key for secondary index scan. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:860</div></div>
<div class="ttc" id="data0type_8h_html"><div class="ttname"><a href="data0type_8h.html">data0type.h</a></div><div class="ttdoc">Data types. </div></div>
<div class="ttc" id="row0mysql_8h_html_a8245e81dae34e65f7ca5e1f23bc0f7a5"><div class="ttname"><a href="row0mysql_8h.html#a8245e81dae34e65f7ca5e1f23bc0f7a5">row_discard_tablespace_for_mysql</a></div><div class="ttdeci">dberr_t row_discard_tablespace_for_mysql(const char *name, trx_t *trx)</div><div class="ttdoc">Discards the tablespace of a table which stored in an .ibd file. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:3572</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a4c89af37d9fae7808f7c368b649803db"><div class="ttname"><a href="structrow__prebuilt__t.html#a4c89af37d9fae7808f7c368b649803db">row_prebuilt_t::m_is_reading_range</a></div><div class="ttdeci">bool m_is_reading_range</div><div class="ttdoc">Set to true iff we are inside read_range_first() or read_range_next() </div><div class="ttdef"><b>Definition:</b> row0mysql.h:682</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a4218e8b9331e26a43e2507663d59bdc1"><div class="ttname"><a href="structrow__prebuilt__t.html#a4218e8b9331e26a43e2507663d59bdc1">row_prebuilt_t::null_bitmap_len</a></div><div class="ttdeci">unsigned null_bitmap_len</div><div class="ttdoc">number of bytes in the SQL NULL bitmap at the start of a row in the MySQL format </div><div class="ttdef"><b>Definition:</b> row0mysql.h:591</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a0568bf55e0cd59e39cbf5264e0107a04"><div class="ttname"><a href="structrow__prebuilt__t.html#a0568bf55e0cd59e39cbf5264e0107a04">row_prebuilt_t::used_in_HANDLER</a></div><div class="ttdeci">unsigned used_in_HANDLER</div><div class="ttdoc">TRUE if we have been using this handle in a MySQL HANDLER low level index cursor command: then we mus...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:578</div></div>
<div class="ttc" id="structSysIndexCallback_html_aebd673294e9a2e7fb31ae336e45e58ff"><div class="ttname"><a href="structSysIndexCallback.html#aebd673294e9a2e7fb31ae336e45e58ff">SysIndexCallback::~SysIndexCallback</a></div><div class="ttdeci">virtual ~SysIndexCallback()</div><div class="ttdef"><b>Definition:</b> row0mysql.h:937</div></div>
<div class="ttc" id="row0mysql_8h_html_a2077d2da88d11b20ac6f8a82afdbe8c7"><div class="ttname"><a href="row0mysql_8h.html#a2077d2da88d11b20ac6f8a82afdbe8c7">row_create_prebuilt</a></div><div class="ttdeci">row_prebuilt_t * row_create_prebuilt(dict_table_t *table, ulint mysql_row_len)</div><div class="ttdoc">Create a prebuilt struct for a MySQL table handle. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:768</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ae46537393407eb4071c703343586d22a"><div class="ttname"><a href="structrow__prebuilt__t.html#ae46537393407eb4071c703343586d22a">row_prebuilt_t::ins_graph</a></div><div class="ttdeci">que_fork_t * ins_graph</div><div class="ttdoc">Innobase SQL query graph used in inserts. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:656</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_ac479dbdadcfa9968c518e60cef9f23bf"><div class="ttname"><a href="structmysql__row__templ__t.html#ac479dbdadcfa9968c518e60cef9f23bf">mysql_row_templ_t::type</a></div><div class="ttdeci">ulint type</div><div class="ttdoc">column type in Innobase mtype numbers DATA_CHAR... </div><div class="ttdef"><b>Definition:</b> row0mysql.h:514</div></div>
<div class="ttc" id="row0mysql_8h_html_a6dfc1fa1f633372837de49c897317d9d"><div class="ttname"><a href="row0mysql_8h.html#a6dfc1fa1f633372837de49c897317d9d">row_get_background_drop_list_len_low</a></div><div class="ttdeci">ulint row_get_background_drop_list_len_low(void)</div><div class="ttdoc">Get the background drop list length. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:3263</div></div>
<div class="ttc" id="row0mysql_8h_html_a4a713b033aaeeb2c1e11ed9277156afb"><div class="ttname"><a href="row0mysql_8h.html#a4a713b033aaeeb2c1e11ed9277156afb">row_scan_index_for_mysql</a></div><div class="ttdeci">dberr_t row_scan_index_for_mysql(row_prebuilt_t *prebuilt, dict_index_t *index, size_t n_threads, bool check_keys, ulint *n_rows)</div><div class="ttdoc">Scans an index for either COUNT(*) or CHECK TABLE. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:4639</div></div>
<div class="ttc" id="gis0type_8h_html"><div class="ttname"><a href="gis0type_8h.html">gis0type.h</a></div><div class="ttdoc">R-tree header file. </div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a3575fdf719e32dbff61fde9061d8ad94"><div class="ttname"><a href="structrow__prebuilt__t.html#a3575fdf719e32dbff61fde9061d8ad94">row_prebuilt_t::get_lob_undo</a></div><div class="ttdeci">lob::undo_vers_t * get_lob_undo()</div><div class="ttdef"><b>Definition:</b> row0mysql.h:885</div></div>
<div class="ttc" id="lob0undo_8h_html"><div class="ttname"><a href="lob0undo_8h.html">lob0undo.h</a></div><div class="ttdoc">Undo logging small changes to BLOBs. </div></div>
<div class="ttc" id="ha__prototypes_8h_html"><div class="ttname"><a href="ha__prototypes_8h.html">ha_prototypes.h</a></div><div class="ttdoc">Prototypes for global functions in ha_innodb.cc that are called by InnoDB C code. ...</div></div>
<div class="ttc" id="structlob_1_1undo__vers__t_html_adf565ff4efa0cd62aabf273aa57e66c1"><div class="ttname"><a href="structlob_1_1undo__vers__t.html#adf565ff4efa0cd62aabf273aa57e66c1">lob::undo_vers_t::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Empty the collected LOB undo information from cache. </div><div class="ttdef"><b>Definition:</b> lob0undo.h:186</div></div>
<div class="ttc" id="db0err_8h_html"><div class="ttname"><a href="db0err_8h.html">db0err.h</a></div><div class="ttdoc">Global error codes for the database. </div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a6646ec8dded9b73f2ed89f14177fbbcd"><div class="ttname"><a href="structrow__prebuilt__t.html#a6646ec8dded9b73f2ed89f14177fbbcd">row_prebuilt_t::autoinc_increment</a></div><div class="ttdeci">ulonglong autoinc_increment</div><div class="ttdoc">The increment step of the auto increment column. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:807</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_ac798be418c35074e58afc44389e75cb9"><div class="ttname"><a href="structmysql__row__templ__t.html#ac798be418c35074e58afc44389e75cb9">mysql_row_templ_t::mysql_col_len</a></div><div class="ttdeci">ulint mysql_col_len</div><div class="ttdoc">length of the column in the MySQL row format </div><div class="ttdef"><b>Definition:</b> row0mysql.h:507</div></div>
<div class="ttc" id="data0type_8h_html_a7a1bf08468f4acdff62d24adee4063f0"><div class="ttname"><a href="data0type_8h.html#a7a1bf08468f4acdff62d24adee4063f0">DATA_ROW_ID_LEN</a></div><div class="ttdeci">#define DATA_ROW_ID_LEN</div><div class="ttdef"><b>Definition:</b> data0type.h:174</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aab5cce8840b85e71067495da833ff57e"><div class="ttname"><a href="structrow__prebuilt__t.html#aab5cce8840b85e71067495da833ff57e">row_prebuilt_t::m_temp_read_shared</a></div><div class="ttdeci">bool m_temp_read_shared</div><div class="ttdoc">Whether this is a temporary(intrinsic) table read to keep the position for this MySQL TABLE object...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:864</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_a93bf1086644e690c95a4ae9f9ec16e82"><div class="ttname"><a href="structmysql__row__templ__t.html#a93bf1086644e690c95a4ae9f9ec16e82">mysql_row_templ_t::mbmaxlen</a></div><div class="ttdeci">ulint mbmaxlen</div><div class="ttdoc">maximum length of a char, in bytes, or zero if not a char type </div><div class="ttdef"><b>Definition:</b> row0mysql.h:530</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_a768413dd7c5884860b0871cca2d19bd8"><div class="ttname"><a href="structmysql__row__templ__t.html#a768413dd7c5884860b0871cca2d19bd8">mysql_row_templ_t::mysql_type</a></div><div class="ttdeci">ulint mysql_type</div><div class="ttdoc">MySQL type code; this is always &lt; 256. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:516</div></div>
<div class="ttc" id="my__inttypes_8h_html"><div class="ttname"><a href="my__inttypes_8h.html">my_inttypes.h</a></div><div class="ttdoc">Some integer typedefs for easier portability. </div></div>
<div class="ttc" id="structtrx__t_html"><div class="ttname"><a href="structtrx__t.html">trx_t</a></div><div class="ttdef"><b>Definition:</b> trx0trx.h:833</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a05fe59b7101e2d8df0b534618b591511"><div class="ttname"><a href="structrow__prebuilt__t.html#a05fe59b7101e2d8df0b534618b591511">row_prebuilt_t::srch_key_val2</a></div><div class="ttdeci">byte * srch_key_val2</div><div class="ttdoc">buffer used in converting search key values from MySQL format to InnoDB format. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:846</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a52df69f729020848513251fb4b80a8bd"><div class="ttname"><a href="structrow__prebuilt__t.html#a52df69f729020848513251fb4b80a8bd">row_prebuilt_t::m_no_prefetch</a></div><div class="ttdeci">bool m_no_prefetch</div><div class="ttdoc">Disable prefetch. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:851</div></div>
<div class="ttc" id="row0mysql_8h_html_a52d2afe42e64dd4f8a236625002f927f"><div class="ttname"><a href="row0mysql_8h.html#a52d2afe42e64dd4f8a236625002f927f">row_mysql_unlock_data_dictionary</a></div><div class="ttdeci">void row_mysql_unlock_data_dictionary(trx_t *trx)</div><div class="ttdoc">Unlocks the data dictionary exclusive lock. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2741</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_a1819e5f3486a5ff14632049534dd2ea3"><div class="ttname"><a href="structmysql__row__templ__t.html#a1819e5f3486a5ff14632049534dd2ea3">mysql_row_templ_t::mysql_null_byte_offset</a></div><div class="ttdeci">ulint mysql_null_byte_offset</div><div class="ttdoc">MySQL NULL bit byte offset in a MySQL record. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:510</div></div>
<div class="ttc" id="row0mysql_8h_html_abc4dae09a8cd6401ca7873c441506ad4"><div class="ttname"><a href="row0mysql_8h.html#abc4dae09a8cd6401ca7873c441506ad4">row_update_prebuilt_trx</a></div><div class="ttdeci">void row_update_prebuilt_trx(row_prebuilt_t *prebuilt, trx_t *trx)</div><div class="ttdoc">Updates the transaction pointers in query graphs stored in the prebuilt struct. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:999</div></div>
<div class="ttc" id="row0mysql_8h_html_a4df8be867d4161cfc494945bc1a96c02"><div class="ttname"><a href="row0mysql_8h.html#a4df8be867d4161cfc494945bc1a96c02">row_prebuilt_free</a></div><div class="ttdeci">void row_prebuilt_free(row_prebuilt_t *prebuilt, ibool dict_locked)</div><div class="ttdoc">Free a prebuilt struct for a MySQL table handle. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:926</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_afa6cf19178262078ea73dd92941a88ca"><div class="ttname"><a href="structrow__prebuilt__t.html#afa6cf19178262078ea73dd92941a88ca">row_prebuilt_t::template_type</a></div><div class="ttdeci">unsigned template_type</div><div class="ttdoc">ROW_MYSQL_WHOLE_ROW, ROW_MYSQL_REC_FIELDS, ROW_MYSQL_DUMMY_TEMPLATE, or ROW_MYSQL_NO_TEMPLATE. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:585</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a9aee3ea62900f0e551a8e8d0bb5bc2b0"><div class="ttname"><a href="structrow__prebuilt__t.html#a9aee3ea62900f0e551a8e8d0bb5bc2b0">row_prebuilt_t::m_stop_tuple</a></div><div class="ttdeci">dtuple_t * m_stop_tuple</div><div class="ttdoc">prebuilt dtuple used in selects where the end of range is known </div><div class="ttdef"><b>Definition:</b> row0mysql.h:670</div></div>
<div class="ttc" id="lock0types_8h_html"><div class="ttname"><a href="lock0types_8h.html">lock0types.h</a></div><div class="ttdoc">The transaction lock system global types. </div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a5a53bf10140469ab155bace892faa519"><div class="ttname"><a href="structrow__prebuilt__t.html#a5a53bf10140469ab155bace892faa519">row_prebuilt_t::on_duplicate_key_update</a></div><div class="ttdeci">unsigned on_duplicate_key_update</div><div class="ttdoc">1 if extra(HA_EXTRA_INSERT_WITH_UPDATE) was requested, which happens when ON DUPLICATE KEY UPDATE cla...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:615</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aa177d7d5264d91df66db86414dfa7da8"><div class="ttname"><a href="structrow__prebuilt__t.html#aa177d7d5264d91df66db86414dfa7da8">row_prebuilt_t::trx</a></div><div class="ttdeci">trx_t * trx</div><div class="ttdoc">current transaction handle </div><div class="ttdef"><b>Definition:</b> row0mysql.h:558</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_afeb88835f509e12ea05929f410f4df0a"><div class="ttname"><a href="structrow__prebuilt__t.html#afeb88835f509e12ea05929f410f4df0a">row_prebuilt_t::index</a></div><div class="ttdeci">dict_index_t * index</div><div class="ttdoc">current index for a search, if any </div><div class="ttdef"><b>Definition:</b> row0mysql.h:556</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a2656fbd8b2cf6d356622f37bace7444a"><div class="ttname"><a href="structrow__prebuilt__t.html#a2656fbd8b2cf6d356622f37bace7444a">row_prebuilt_t::mysql_prefix_len</a></div><div class="ttdeci">ulint mysql_prefix_len</div><div class="ttdoc">byte offset of the end of the last requested column </div><div class="ttdef"><b>Definition:</b> row0mysql.h:771</div></div>
<div class="ttc" id="row0mysql_8h_html_a839d22e4c1b1565757bf4ef00be574b2"><div class="ttname"><a href="row0mysql_8h.html#a839d22e4c1b1565757bf4ef00be574b2">row_table_load_foreign_constraints</a></div><div class="ttdeci">dberr_t row_table_load_foreign_constraints(trx_t *trx, const char *name, const dd::Table *dd_table)</div><div class="ttdoc">Loads foreign key constraints for the table being created. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:3062</div></div>
<div class="ttc" id="namespacestdx_1_1io_html_a2c9b563b772005f7960909d0d12186f5"><div class="ttname"><a href="namespacestdx_1_1io.html#a2c9b563b772005f7960909d0d12186f5">stdx::io::mode</a></div><div class="ttdeci">mode</div><div class="ttdef"><b>Definition:</b> file_handle.h:59</div></div>
<div class="ttc" id="row0mysql_8h_html_ab4f85269e2cc82e21646b79cc2dc173e"><div class="ttname"><a href="row0mysql_8h.html#ab4f85269e2cc82e21646b79cc2dc173e">row_rollback_on_timeout</a></div><div class="ttdeci">ibool row_rollback_on_timeout</div><div class="ttdoc">Provide optional 4.x backwards compatibility for 5.0 and above. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:92</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a2ab1fb978fc37f85f0f278ec6c09180d"><div class="ttname"><a href="structrow__prebuilt__t.html#a2ab1fb978fc37f85f0f278ec6c09180d">row_prebuilt_t::fts_doc_id</a></div><div class="ttdeci">doc_id_t fts_doc_id</div><div class="ttdef"><b>Definition:</b> row0mysql.h:706</div></div>
<div class="ttc" id="lock0types_8h_html_ab5c6ab6fca939782acb38f91e297d41c"><div class="ttname"><a href="lock0types_8h.html#ab5c6ab6fca939782acb38f91e297d41c">select_mode</a></div><div class="ttdeci">select_mode</div><div class="ttdef"><b>Definition:</b> lock0types.h:44</div></div>
<div class="ttc" id="structdict__table__t_html"><div class="ttname"><a href="structdict__table__t.html">dict_table_t</a></div><div class="ttdoc">Data structure for a database table. </div><div class="ttdef"><b>Definition:</b> dict0mem.h:1532</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a23328500b0f9834d0baddce5d3bbbc48"><div class="ttname"><a href="structrow__prebuilt__t.html#a23328500b0f9834d0baddce5d3bbbc48">row_prebuilt_t::hint_need_to_fetch_extra_cols</a></div><div class="ttdeci">ulint hint_need_to_fetch_extra_cols</div><div class="ttdoc">normally this is set to 0; if this is set to ROW_RETRIEVE_PRIMARY_KEY, then we should at least retrie...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:643</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a666323e0b2127c47e743adf5ba2bef94"><div class="ttname"><a href="structrow__prebuilt__t.html#a666323e0b2127c47e743adf5ba2bef94">row_prebuilt_t::templ_contains_blob</a></div><div class="ttdeci">unsigned templ_contains_blob</div><div class="ttdoc">TRUE if the template contains a column with DATA_LARGE_MTYPE( get_innobase_type_from_mysql_type()) is...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:599</div></div>
<div class="ttc" id="structins__node__t_html"><div class="ttname"><a href="structins__node__t.html">ins_node_t</a></div><div class="ttdef"><b>Definition:</b> row0ins.h:169</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a19c2a8205446e84d2e64f80088a7846c"><div class="ttname"><a href="structrow__prebuilt__t.html#a19c2a8205446e84d2e64f80088a7846c">row_prebuilt_t::table</a></div><div class="ttdeci">dict_table_t * table</div><div class="ttdoc">Innobase table handle. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:555</div></div>
<div class="ttc" id="row0mysql_8h_html_a20dc6aac868e2d8fa6f20d6be48bfe88"><div class="ttname"><a href="row0mysql_8h.html#a20dc6aac868e2d8fa6f20d6be48bfe88">row_mysql_store_blob_ref</a></div><div class="ttdeci">void row_mysql_store_blob_ref(byte *dest, ulint col_len, const void *data, ulint len)</div><div class="ttdoc">Stores a reference to a BLOB in the MySQL format. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:209</div></div>
<div class="ttc" id="row0mysql_8h_html_abc467cf94e74e702af01b05c0ab50dfd"><div class="ttname"><a href="row0mysql_8h.html#abc467cf94e74e702af01b05c0ab50dfd">row_mysql_close</a></div><div class="ttdeci">void row_mysql_close(void)</div><div class="ttdoc">Close this module. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:4841</div></div>
<div class="ttc" id="sql__cmd_8h_html"><div class="ttname"><a href="sql__cmd_8h.html">sql_cmd.h</a></div><div class="ttdoc">Representation of an SQL command. </div></div>
<div class="ttc" id="row0mysql_8h_html_ae21f67e2c50c468cd86ff1994cfcc4eb"><div class="ttname"><a href="row0mysql_8h.html#ae21f67e2c50c468cd86ff1994cfcc4eb">row_mysql_init</a></div><div class="ttdeci">void row_mysql_init(void)</div><div class="ttdoc">Initialize this module. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:4832</div></div>
<div class="ttc" id="row0mysql_8h_html_a97973c5e85665a3c87fa5ce9fba81ad1"><div class="ttname"><a href="row0mysql_8h.html#a97973c5e85665a3c87fa5ce9fba81ad1">row_lock_table_autoinc_for_mysql</a></div><div class="ttdeci">dberr_t row_lock_table_autoinc_for_mysql(row_prebuilt_t *prebuilt)</div><div class="ttdoc">Sets an AUTO_INC type lock on the table mentioned in prebuilt. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:1138</div></div>
<div class="ttc" id="classinnodb__session__t_html"><div class="ttname"><a href="classinnodb__session__t.html">innodb_session_t</a></div><div class="ttdef"><b>Definition:</b> sess0sess.h:70</div></div>
<div class="ttc" id="row0mysql_8h_html_ae515965f60cbbdfbcc86b93de96b7ac0"><div class="ttname"><a href="row0mysql_8h.html#ae515965f60cbbdfbcc86b93de96b7ac0">row_lock_table</a></div><div class="ttdeci">dberr_t row_lock_table(row_prebuilt_t *prebuilt)</div><div class="ttdoc">Sets a table lock on the table mentioned in prebuilt. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:1208</div></div>
<div class="ttc" id="structdict__foreign__t_html"><div class="ttname"><a href="structdict__foreign__t.html">dict_foreign_t</a></div><div class="ttdoc">Data structure for a foreign key constraint; an example: FOREIGN KEY (A, B) REFERENCES TABLE2 (C...</div><div class="ttdef"><b>Definition:</b> dict0mem.h:1299</div></div>
<div class="ttc" id="classhandler_html"><div class="ttname"><a href="classhandler.html">handler</a></div><div class="ttdoc">The handler class is the interface for dynamically loadable storage engines. </div><div class="ttdef"><b>Definition:</b> handler.h:4032</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ac2b2027e0ebc1de5d4d1d4c85ec90ffea6b4eac0f20f2925aefe876a0ef28bc3a"><div class="ttname"><a href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea6b4eac0f20f2925aefe876a0ef28bc3a">row_prebuilt_t::LOCK_COUNT</a></div><div class="ttdef"><b>Definition:</b> row0mysql.h:746</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_ac19c295e2d9d60b8f696e80d80e74dd9"><div class="ttname"><a href="structmysql__row__templ__t.html#ac19c295e2d9d60b8f696e80d80e74dd9">mysql_row_templ_t::col_no</a></div><div class="ttdeci">ulint col_no</div><div class="ttdoc">column number of the column </div><div class="ttdef"><b>Definition:</b> row0mysql.h:491</div></div>
<div class="ttc" id="namespacebuf_html"><div class="ttname"><a href="namespacebuf.html">buf</a></div><div class="ttdef"><b>Definition:</b> buf0block_hint.cc:29</div></div>
<div class="ttc" id="classrow__prebuilt__t_1_1row__is__reading__range__guard__t_html"><div class="ttname"><a href="classrow__prebuilt__t_1_1row__is__reading__range__guard__t.html">row_prebuilt_t::row_is_reading_range_guard_t</a></div><div class="ttdef"><b>Definition:</b> row0mysql.h:687</div></div>
<div class="ttc" id="row0mysql_8h_html_a718f8e7546be839381ea8202ef05829d"><div class="ttname"><a href="row0mysql_8h.html#a718f8e7546be839381ea8202ef05829d">row_unlock_for_mysql</a></div><div class="ttdeci">void row_unlock_for_mysql(row_prebuilt_t *prebuilt, ibool has_latches_on_recs)</div><div class="ttdoc">This can only be used when this session is using a READ COMMITTED or READ UNCOMMITTED isolation level...</div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2496</div></div>
<div class="ttc" id="structmem__block__info__t_html"><div class="ttname"><a href="structmem__block__info__t.html">mem_block_info_t</a></div><div class="ttdoc">The info structure stored at the beginning of a heap block. </div><div class="ttdef"><b>Definition:</b> mem0mem.h:349</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a3cb2c828efad5ccf81c3165c79269f80"><div class="ttname"><a href="structrow__prebuilt__t.html#a3cb2c828efad5ccf81c3165c79269f80">row_prebuilt_t::innodb_api</a></div><div class="ttdeci">unsigned innodb_api</div><div class="ttdoc">whether this is a InnoDB API query </div><div class="ttdef"><b>Definition:</b> row0mysql.h:825</div></div>
<div class="ttc" id="row0mysql_8h_html_a339ab44cc995d8e712168cfd6492ebb6"><div class="ttname"><a href="row0mysql_8h.html#a339ab44cc995d8e712168cfd6492ebb6">row_mysql_store_geometry</a></div><div class="ttdeci">void row_mysql_store_geometry(byte *dest, ulint dest_len, const byte *src, ulint src_len)</div><div class="ttdoc">Converts InnoDB geometry data format to MySQL data format. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:242</div></div>
<div class="ttc" id="row0mysql_8h_html_ab49dbf38a4ddf491457abedf3dbbcced"><div class="ttname"><a href="row0mysql_8h.html#ab49dbf38a4ddf491457abedf3dbbcced">row_mysql_pad_col</a></div><div class="ttdeci">void row_mysql_pad_col(ulint mbminlen, byte *pad, ulint len)</div><div class="ttdoc">Pad a column with spaces. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:335</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_ab252702f0e4dadca3d1e37735167a432"><div class="ttname"><a href="structmysql__row__templ__t.html#ab252702f0e4dadca3d1e37735167a432">mysql_row_templ_t::mysql_null_bit_mask</a></div><div class="ttdeci">ulint mysql_null_bit_mask</div><div class="ttdoc">bit mask to get the NULL bit, zero if column cannot be NULL </div><div class="ttdef"><b>Definition:</b> row0mysql.h:512</div></div>
<div class="ttc" id="structbtr__pcur__t_html"><div class="ttname"><a href="structbtr__pcur__t.html">btr_pcur_t</a></div><div class="ttdef"><b>Definition:</b> btr0pcur.h:178</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a201878b5e5c37cf830f1b18489f78393"><div class="ttname"><a href="structrow__prebuilt__t.html#a201878b5e5c37cf830f1b18489f78393">row_prebuilt_t::replace</a></div><div class="ttdeci">unsigned replace</div><div class="ttdoc">1 if extra(HA_EXTRA_WRITE_CAN_REPLACE) was requested, which happen when REPLACE is done instead of re...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:619</div></div>
<div class="ttc" id="row0mysql_8h_html_aef3cdc48561a5a83494d78b826f57558"><div class="ttname"><a href="row0mysql_8h.html#aef3cdc48561a5a83494d78b826f57558">row_mysql_store_true_var_len</a></div><div class="ttdeci">byte * row_mysql_store_true_var_len(byte *dest, ulint len, ulint lenlen)</div><div class="ttdoc">Stores a &gt;= 5.0.3 format true VARCHAR length to dest, in the MySQL row format. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:157</div></div>
<div class="ttc" id="data0data_8h_html"><div class="ttname"><a href="data0data_8h.html">data0data.h</a></div><div class="ttdoc">SQL data field and tuple. </div></div>
<div class="ttc" id="row0mysql_8h_html_a0f6345d9ac683f774e6aa72c02f34bef"><div class="ttname"><a href="row0mysql_8h.html#a0f6345d9ac683f774e6aa72c02f34bef">row_table_got_default_clust_index</a></div><div class="ttdeci">ibool row_table_got_default_clust_index(const dict_table_t *table)</div><div class="ttdoc">Checks if a table is such that we automatically created a clustered index on it (on row id)...</div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2687</div></div>
<div class="ttc" id="structTABLE_html"><div class="ttname"><a href="structTABLE.html">TABLE</a></div><div class="ttdef"><b>Definition:</b> table.h:1363</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ac59950f1aed60deccf5ba6a917afc357"><div class="ttname"><a href="structrow__prebuilt__t.html#ac59950f1aed60deccf5ba6a917afc357">row_prebuilt_t::index_usable</a></div><div class="ttdeci">unsigned index_usable</div><div class="ttdoc">caches the value of index-&gt;is_usable(trx) </div><div class="ttdef"><b>Definition:</b> row0mysql.h:570</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a7d0dfee13cc2dd7f8603d873d0155d41"><div class="ttname"><a href="structrow__prebuilt__t.html#a7d0dfee13cc2dd7f8603d873d0155d41">row_prebuilt_t::in_fts_query</a></div><div class="ttdeci">bool in_fts_query</div><div class="ttdoc">Whether we are in a FTS query. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:801</div></div>
<div class="ttc" id="structque__fork__t_html"><div class="ttname"><a href="structque__fork__t.html">que_fork_t</a></div><div class="ttdef"><b>Definition:</b> que0que.h:310</div></div>
<div class="ttc" id="structtrx__savept__t_html"><div class="ttname"><a href="structtrx__savept__t.html">trx_savept_t</a></div><div class="ttdoc">Transaction savepoint. </div><div class="ttdef"><b>Definition:</b> trx0types.h:154</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a60da953051fdf0e7b7aefe39e1ed693a"><div class="ttname"><a href="structrow__prebuilt__t.html#a60da953051fdf0e7b7aefe39e1ed693a">row_prebuilt_t::pcur</a></div><div class="ttdeci">btr_pcur_t * pcur</div><div class="ttdoc">persistent cursor used in selects and updates </div><div class="ttdef"><b>Definition:</b> row0mysql.h:661</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_abe150692e31319648de2d426edb3d251"><div class="ttname"><a href="structmysql__row__templ__t.html#abe150692e31319648de2d426edb3d251">mysql_row_templ_t::is_virtual</a></div><div class="ttdeci">ulint is_virtual</div><div class="ttdoc">if a column is a virtual column </div><div class="ttdef"><b>Definition:</b> row0mysql.h:535</div></div>
<div class="ttc" id="structmysql__row__templ__t_html"><div class="ttname"><a href="structmysql__row__templ__t.html">mysql_row_templ_t</a></div><div class="ttdef"><b>Definition:</b> row0mysql.h:490</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a77c5191fecd39b05fc04e456c37f975b"><div class="ttname"><a href="structrow__prebuilt__t.html#a77c5191fecd39b05fc04e456c37f975b">row_prebuilt_t::m_mysql_handler</a></div><div class="ttdeci">ha_innobase * m_mysql_handler</div><div class="ttdoc">The MySQL handler object. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:874</div></div>
<div class="ttc" id="que0types_8h_html"><div class="ttname"><a href="que0types_8h.html">que0types.h</a></div><div class="ttdoc">Query graph global types. </div></div>
<div class="ttc" id="fts0fts_8h_html"><div class="ttname"><a href="fts0fts_8h.html">fts0fts.h</a></div><div class="ttdoc">Full text search header file. </div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a3db8627d81df1a7a0c08668e575457a8"><div class="ttname"><a href="structrow__prebuilt__t.html#a3db8627d81df1a7a0c08668e575457a8">row_prebuilt_t::clust_pcur</a></div><div class="ttdeci">btr_pcur_t * clust_pcur</div><div class="ttdoc">persistent cursor used in some selects and updates </div><div class="ttdef"><b>Definition:</b> row0mysql.h:663</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a930a910f8de38274b71e4dcc79888496"><div class="ttname"><a href="structrow__prebuilt__t.html#a930a910f8de38274b71e4dcc79888496">row_prebuilt_t::mysql_row_len</a></div><div class="ttdeci">ulint mysql_row_len</div><div class="ttdoc">length in bytes of a row in the MySQL format </div><div class="ttdef"><b>Definition:</b> row0mysql.h:773</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a2110e245f510fe5703437190bdf7c9e1"><div class="ttname"><a href="structrow__prebuilt__t.html#a2110e245f510fe5703437190bdf7c9e1">row_prebuilt_t::search_tuple</a></div><div class="ttdeci">dtuple_t * search_tuple</div><div class="ttdoc">prebuilt dtuple used in selects </div><div class="ttdef"><b>Definition:</b> row0mysql.h:667</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_ae5485694bfc553336f47ff226b65b768"><div class="ttname"><a href="structmysql__row__templ__t.html#ae5485694bfc553336f47ff226b65b768">mysql_row_templ_t::mysql_mvidx_len</a></div><div class="ttdeci">ulint mysql_mvidx_len</div><div class="ttdoc">index length on multi-value array </div><div class="ttdef"><b>Definition:</b> row0mysql.h:509</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_af7f5941dae2c19607f27f16c94dad626"><div class="ttname"><a href="structrow__prebuilt__t.html#af7f5941dae2c19607f27f16c94dad626">row_prebuilt_t::fts_doc_id_in_read_set</a></div><div class="ttdeci">bool fts_doc_id_in_read_set</div><div class="ttdoc">true if table has externally defined FTS_DOC_ID coulmn. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:802</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ad936db2921893119b95f7e33727f2d2a"><div class="ttname"><a href="structrow__prebuilt__t.html#ad936db2921893119b95f7e33727f2d2a">row_prebuilt_t::magic_n</a></div><div class="ttdeci">ulint magic_n</div><div class="ttdoc">this magic number is set to ROW_PREBUILT_ALLOCATED when created, or ROW_PREBUILT_FREED when the struc...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:551</div></div>
<div class="ttc" id="ut0bool__scope__guard_8h_html"><div class="ttname"><a href="ut0bool__scope__guard_8h.html">ut0bool_scope_guard.h</a></div><div class="ttdoc">The ut_bool_scope_guard class which sets boolean to true for the duration of scope. </div></div>
<div class="ttc" id="myisamlog_8cc_html_ae9175a148fe52c327ca1a8970b3d9994"><div class="ttname"><a href="myisamlog_8cc.html#ae9175a148fe52c327ca1a8970b3d9994">filepath</a></div><div class="ttdeci">static const char * filepath</div><div class="ttdef"><b>Definition:</b> myisamlog.cc:93</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a92235489f79f74ad55cd4d0f6051a34f"><div class="ttname"><a href="structrow__prebuilt__t.html#a92235489f79f74ad55cd4d0f6051a34f">row_prebuilt_t::allow_duplicates</a></div><div class="ttdeci">bool allow_duplicates()</div><div class="ttdoc">Determines if the query is REPLACE or ON DUPLICATE KEY UPDATE in which case duplicate values should b...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:899</div></div>
<div class="ttc" id="classrow__prebuilt__t_1_1row__is__reading__range__guard__t_html_a302ffa84569357dd3406774e495bfd68"><div class="ttname"><a href="classrow__prebuilt__t_1_1row__is__reading__range__guard__t.html#a302ffa84569357dd3406774e495bfd68">row_prebuilt_t::row_is_reading_range_guard_t::row_is_reading_range_guard_t</a></div><div class="ttdeci">row_is_reading_range_guard_t(row_prebuilt_t &amp;prebuilt)</div><div class="ttdef"><b>Definition:</b> row0mysql.h:689</div></div>
<div class="ttc" id="row0mysql_8h_html_a1d2ab62d21a1e71f5fe72fa2833886d0"><div class="ttname"><a href="row0mysql_8h.html#a1d2ab62d21a1e71f5fe72fa2833886d0">row_mysql_lock_table</a></div><div class="ttdeci">dberr_t row_mysql_lock_table(trx_t *trx, dict_table_t *table, enum lock_mode mode, const char *op_info)</div><div class="ttdoc">Sets an exclusive lock on a table. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:3627</div></div>
<div class="ttc" id="row0mysql_8h_html_a7e4d8785f33bba16fa5126d6c5f22d4c"><div class="ttname"><a href="row0mysql_8h.html#a7e4d8785f33bba16fa5126d6c5f22d4c">row_mysql_freeze_data_dictionary_func</a></div><div class="ttdeci">void row_mysql_freeze_data_dictionary_func(trx_t *trx, const char *file, ulint line)</div><div class="ttdoc">Locks the data dictionary in shared mode from modifications, for performing foreign key check...</div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2702</div></div>
<div class="ttc" id="structrow__prebuilt__t_html"><div class="ttname"><a href="structrow__prebuilt__t.html">row_prebuilt_t</a></div><div class="ttdoc">A struct for (sometimes lazily) prebuilt structures in an Innobase table handle used within MySQL; th...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:550</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a17529dba84ae95ff25d3288cd032a373"><div class="ttname"><a href="structrow__prebuilt__t.html#a17529dba84ae95ff25d3288cd032a373">row_prebuilt_t::mv_data</a></div><div class="ttdeci">multi_value_data * mv_data</div><div class="ttdef"><b>Definition:</b> row0mysql.h:640</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a4081417afcdbd59f9e107423a812e528"><div class="ttname"><a href="structrow__prebuilt__t.html#a4081417afcdbd59f9e107423a812e528">row_prebuilt_t::templ_contains_fixed_point</a></div><div class="ttdeci">unsigned templ_contains_fixed_point</div><div class="ttdoc">TRUE if the template contains a column with DATA_POINT. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:606</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ad849b52ec988d5c989838523993998aa"><div class="ttname"><a href="structrow__prebuilt__t.html#ad849b52ec988d5c989838523993998aa">row_prebuilt_t::clust_ref</a></div><div class="ttdeci">dtuple_t * clust_ref</div><div class="ttdoc">prebuilt dtuple used in sel/upd/del </div><div class="ttdef"><b>Definition:</b> row0mysql.h:712</div></div>
<div class="ttc" id="mysql_8cc_html_adfa69ae672499b1037123a1f17c5552b"><div class="ttname"><a href="mysql_8cc.html#adfa69ae672499b1037123a1f17c5552b">index</a></div><div class="ttdeci">char * index(const char *, int c)</div><div class="ttdef"><b>Definition:</b> mysql.cc:2928</div></div>
<div class="ttc" id="fts0fts_8h_html_a380910af8d69503a3e3dcbf6d809a3b6"><div class="ttname"><a href="fts0fts_8h.html#a380910af8d69503a3e3dcbf6d809a3b6">doc_id_t</a></div><div class="ttdeci">ib_uint64_t doc_id_t</div><div class="ttdoc">Document id type. </div><div class="ttdef"><b>Definition:</b> fts0fts.h:76</div></div>
<div class="ttc" id="dict0types_8h_html"><div class="ttname"><a href="dict0types_8h.html">dict0types.h</a></div><div class="ttdoc">Data dictionary global types. </div></div>
<div class="ttc" id="row0mysql_8h_html_a67d58a8e363e9102b25e95a73b5013e1"><div class="ttname"><a href="row0mysql_8h.html#a67d58a8e363e9102b25e95a73b5013e1">row_mysql_read_true_varchar</a></div><div class="ttdeci">const byte * row_mysql_read_true_varchar(ulint *len, const byte *field, ulint lenlen)</div><div class="ttdoc">Reads a &gt;= 5.0.3 format true VARCHAR length, in the MySQL row format, and returns a pointer to the da...</div><div class="ttdef"><b>Definition:</b> row0mysql.cc:182</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_afa1114f766781ead5174ff03d9bfcaac"><div class="ttname"><a href="structrow__prebuilt__t.html#afa1114f766781ead5174ff03d9bfcaac">row_prebuilt_t::heap</a></div><div class="ttdeci">mem_heap_t * heap</div><div class="ttdoc">memory heap from which these auxiliary structures are allocated when needed </div><div class="ttdef"><b>Definition:</b> row0mysql.h:627</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aa04b6f41e35d2507a6c6e2581576c736"><div class="ttname"><a href="structrow__prebuilt__t.html#aa04b6f41e35d2507a6c6e2581576c736">row_prebuilt_t::idx_cond</a></div><div class="ttdeci">bool idx_cond</div><div class="ttdoc">True if index condition pushdown is used, false otherwise. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:820</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a9a3aca3ac08088406e83cd47adb824a4"><div class="ttname"><a href="structrow__prebuilt__t.html#a9a3aca3ac08088406e83cd47adb824a4">row_prebuilt_t::upd_graph</a></div><div class="ttdeci">que_fork_t * upd_graph</div><div class="ttdoc">Innobase SQL query graph used in updates or deletes. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:659</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a1744b97833f84182ee4fce419c7d313e"><div class="ttname"><a href="structrow__prebuilt__t.html#a1744b97833f84182ee4fce419c7d313e">row_prebuilt_t::session</a></div><div class="ttdeci">innodb_session_t * session</div><div class="ttdoc">InnoDB session handler. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:842</div></div>
<div class="ttc" id="row0mysql_8h_html_acab8f9c5ec102ef82d02ca4a42058613"><div class="ttname"><a href="row0mysql_8h.html#acab8f9c5ec102ef82d02ca4a42058613">row_mysql_handle_errors</a></div><div class="ttdeci">bool row_mysql_handle_errors(dberr_t *new_err, trx_t *trx, que_thr_t *thr, trx_savept_t *savept)</div><div class="ttdoc">Handles user errors and lock waits detected by the database engine. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:647</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aba5cce943b6a4e391ff798b06daa28bf"><div class="ttname"><a href="structrow__prebuilt__t.html#aba5cce943b6a4e391ff798b06daa28bf">row_prebuilt_t::init_search_tuples_types</a></div><div class="ttdeci">void init_search_tuples_types()</div><div class="ttdoc">Initializes search_tuple and m_stop_tuple shape so they match the index. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:912</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ac9b8a8253f89dfc60a13fa38c11e3224"><div class="ttname"><a href="structrow__prebuilt__t.html#ac9b8a8253f89dfc60a13fa38c11e3224">row_prebuilt_t::get_is_reading_range_guard</a></div><div class="ttdeci">row_is_reading_range_guard_t get_is_reading_range_guard()</div><div class="ttdef"><b>Definition:</b> row0mysql.h:693</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_a3ba7fec423ea3788802a3d8251a1003d"><div class="ttname"><a href="structmysql__row__templ__t.html#a3ba7fec423ea3788802a3d8251a1003d">mysql_row_templ_t::mysql_col_offset</a></div><div class="ttdeci">ulint mysql_col_offset</div><div class="ttdoc">offset of the column in the MySQL row format </div><div class="ttdef"><b>Definition:</b> row0mysql.h:505</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a7e4c9ae8172b3f861eb0be68b1c47ea4"><div class="ttname"><a href="structrow__prebuilt__t.html#a7e4c9ae8172b3f861eb0be68b1c47ea4">row_prebuilt_t::no_read_locking</a></div><div class="ttdeci">bool no_read_locking</div><div class="ttdoc">true, if server has called ha_extra(HA_EXTRA_NO_READ_LOCKING) </div><div class="ttdef"><b>Definition:</b> row0mysql.h:854</div></div>
<div class="ttc" id="rem0types_8h_html_a92caeffe2dc2fbe825a54aef9a163435"><div class="ttname"><a href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a></div><div class="ttdeci">byte rec_t</div><div class="ttdef"><b>Definition:</b> rem0types.h:39</div></div>
<div class="ttc" id="structdtuple__t_html"><div class="ttname"><a href="structdtuple__t.html">dtuple_t</a></div><div class="ttdoc">Structure for an SQL data tuple of fields (logical record) </div><div class="ttdef"><b>Definition:</b> data0data.h:711</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a6b853f8cb36486a637e6f58ad95b458c"><div class="ttname"><a href="structrow__prebuilt__t.html#a6b853f8cb36486a637e6f58ad95b458c">row_prebuilt_t::row_read_type</a></div><div class="ttdeci">ulint row_read_type</div><div class="ttdoc">ROW_READ_WITH_LOCKS if row locks should be the obtained for records under an UPDATE or DELETE cursor...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:717</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a633f4db03c18e781fe73864afb32fd4a"><div class="ttname"><a href="structrow__prebuilt__t.html#a633f4db03c18e781fe73864afb32fd4a">row_prebuilt_t::n_fetch_cached</a></div><div class="ttdeci">ulint n_fetch_cached</div><div class="ttdoc">number of not yet fetched rows in fetch_cache </div><div class="ttdef"><b>Definition:</b> row0mysql.h:795</div></div>
<div class="ttc" id="row0mysql_8h_html_a39bcfac5ee8727a8014f31bb691835bf"><div class="ttname"><a href="row0mysql_8h.html#a39bcfac5ee8727a8014f31bb691835bf">row_mysql_store_col_in_innobase_format</a></div><div class="ttdeci">byte * row_mysql_store_col_in_innobase_format(dfield_t *dfield, byte *buf, ibool row_format_col, const byte *mysql_data, ulint col_len, ulint comp)</div><div class="ttdoc">Stores a non-SQL-NULL field given in the MySQL format in the InnoDB format. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:372</div></div>
<div class="ttc" id="db0err_8h_html_a6fdd08971b32ee513b20967238f1654d"><div class="ttname"><a href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a></div><div class="ttdeci">dberr_t</div><div class="ttdef"><b>Definition:</b> db0err.h:38</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a43240b420d9f085748947946f2393799"><div class="ttname"><a href="structrow__prebuilt__t.html#a43240b420d9f085748947946f2393799">row_prebuilt_t::ins_sel_stmt</a></div><div class="ttdeci">bool ins_sel_stmt</div><div class="ttdoc">if true then ins_sel_statement. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:840</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_a442109e6891d8706afed6ee4f2906a4d"><div class="ttname"><a href="structmysql__row__templ__t.html#a442109e6891d8706afed6ee4f2906a4d">mysql_row_templ_t::rec_field_no</a></div><div class="ttdeci">ulint rec_field_no</div><div class="ttdoc">field number of the column in an Innobase record in the current index; not defined if template_type i...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:492</div></div>
<div class="ttc" id="my__compiler_8h_html"><div class="ttname"><a href="my__compiler_8h.html">my_compiler.h</a></div><div class="ttdoc">Header for compiler-dependent features. </div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ad3028cf172035fc3ab1c4e5f74fda0dd"><div class="ttname"><a href="structrow__prebuilt__t.html#ad3028cf172035fc3ab1c4e5f74fda0dd">row_prebuilt_t::m_end_range</a></div><div class="ttdeci">bool m_end_range</div><div class="ttdoc">True if exceeded the end_range while filling the prefetch cache. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:880</div></div>
<div class="ttc" id="classut_1_1bool__scope__guard__t_html"><div class="ttname"><a href="classut_1_1bool__scope__guard__t.html">ut::bool_scope_guard_t</a></div><div class="ttdoc">A RAII-style class, which sets a given boolean to true in constructor, and to false in destructor...</div><div class="ttdef"><b>Definition:</b> ut0bool_scope_guard.h:38</div></div>
<div class="ttc" id="row0mysql_8h_html_ab68a3cb9ee7d37fab278a31bed1dfff4"><div class="ttname"><a href="row0mysql_8h.html#ab68a3cb9ee7d37fab278a31bed1dfff4">row_is_mysql_tmp_table_name</a></div><div class="ttdeci">bool row_is_mysql_tmp_table_name(const char *name)</div><div class="ttdoc">Checks if a table name contains the string &quot;/#sql&quot; which denotes temporary tables in MySQL...</div><div class="ttdef"><b>Definition:</b> row0mysql.cc:4181</div></div>
<div class="ttc" id="row0types_8h_html"><div class="ttname"><a href="row0types_8h.html">row0types.h</a></div><div class="ttdoc">Row operation global types. </div></div>
<div class="ttc" id="structdict__index__t_html_aadc400b65cb57fe80dd86e3b21d6d027"><div class="ttname"><a href="structdict__index__t.html#aadc400b65cb57fe80dd86e3b21d6d027">dict_index_t::n_fields</a></div><div class="ttdeci">unsigned n_fields</div><div class="ttdoc">number of fields in the index </div><div class="ttdef"><b>Definition:</b> dict0mem.h:932</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a33ba7f40688b0b0acd0e46ce459eb134"><div class="ttname"><a href="structrow__prebuilt__t.html#a33ba7f40688b0b0acd0e46ce459eb134">row_prebuilt_t::select_lock_type</a></div><div class="ttdeci">ulint select_lock_type</div><div class="ttdoc">LOCK_NONE, LOCK_S, or LOCK_X. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:714</div></div>
<div class="ttc" id="row0mysql_8h_html_a2f65888198aa6b7e36c4777670a6511a"><div class="ttname"><a href="row0mysql_8h.html#a2f65888198aa6b7e36c4777670a6511a">row_create_index_for_mysql</a></div><div class="ttdeci">dberr_t row_create_index_for_mysql(dict_index_t *index, trx_t *trx, const ulint *field_lengths, dict_table_t *handler)</div><div class="ttdoc">Does an index creation operation for MySQL. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2901</div></div>
<div class="ttc" id="structdict__field__t_html"><div class="ttname"><a href="structdict__field__t.html">dict_field_t</a></div><div class="ttdoc">Data structure for a field in an index. </div><div class="ttdef"><b>Definition:</b> dict0mem.h:725</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a38c818b53352ba1e88d517b9e2d74c44"><div class="ttname"><a href="structrow__prebuilt__t.html#a38c818b53352ba1e88d517b9e2d74c44">row_prebuilt_t::autoinc_offset</a></div><div class="ttdeci">ulonglong autoinc_offset</div><div class="ttdoc">The offset passed to get_auto_increment() by MySQL. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:811</div></div>
<div class="ttc" id="structque__thr__t_html"><div class="ttname"><a href="structque__thr__t.html">que_thr_t</a></div><div class="ttdef"><b>Definition:</b> que0que.h:251</div></div>
<div class="ttc" id="uca-dump_8cc_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> uca-dump.cc:29</div></div>
<div class="ttc" id="sslopt-case_8h_html_ae00b773898ac853cec38cdf7a08b8e89"><div class="ttname"><a href="sslopt-case_8h.html#ae00b773898ac853cec38cdf7a08b8e89">name</a></div><div class="ttdeci">case opt name</div><div class="ttdef"><b>Definition:</b> sslopt-case.h:32</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a9f9ef76992b0b772c92df797bb0b1f01"><div class="ttname"><a href="structrow__prebuilt__t.html#a9f9ef76992b0b772c92df797bb0b1f01">row_prebuilt_t::autoinc_error</a></div><div class="ttdeci">dberr_t autoinc_error</div><div class="ttdoc">The actual error code encountered while trying to init or read the autoinc value from the table...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:814</div></div>
<div class="ttc" id="classha__innobase_html"><div class="ttname"><a href="classha__innobase.html">ha_innobase</a></div><div class="ttdoc">The class defining a handle to an InnoDB table. </div><div class="ttdef"><b>Definition:</b> ha_innodb.h:79</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a1004d8c54485ba370f756c48f26d93a7"><div class="ttname"><a href="structrow__prebuilt__t.html#a1004d8c54485ba370f756c48f26d93a7">row_prebuilt_t::sql_stat_start</a></div><div class="ttdeci">unsigned sql_stat_start</div><div class="ttdoc">TRUE when we start processing of an SQL statement: we may have to set an intention lock on the table...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:559</div></div>
<div class="ttc" id="row0mysql_8h_html_a4433eb5af20fe6340bcb7cf90eb707e8"><div class="ttname"><a href="row0mysql_8h.html#a4433eb5af20fe6340bcb7cf90eb707e8">innobase_get_multi_value</a></div><div class="ttdeci">void innobase_get_multi_value(const TABLE *mysql_table, ulint f_idx, dfield_t *dfield, multi_value_data *value, uint old_val, ulint comp, mem_heap_t *heap)</div><div class="ttdoc">Parse out multi-values from a MySQL record. </div><div class="ttdef"><b>Definition:</b> ha_innodb.cc:8464</div></div>
<div class="ttc" id="namespaceut_html"><div class="ttname"><a href="namespaceut.html">ut</a></div><div class="ttdef"><b>Definition:</b> ut0bool_scope_guard.h:34</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aace90681d96b49e946dcade7a36f935a"><div class="ttname"><a href="structrow__prebuilt__t.html#aace90681d96b49e946dcade7a36f935a">row_prebuilt_t::innodb_api_rec</a></div><div class="ttdeci">const rec_t * innodb_api_rec</div><div class="ttdoc">InnoDB API search result. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:827</div></div>
<div class="ttc" id="structdfield__t_html"><div class="ttname"><a href="structdfield__t.html">dfield_t</a></div><div class="ttdoc">Structure for an SQL data field. </div><div class="ttdef"><b>Definition:</b> data0data.h:639</div></div>
<div class="ttc" id="row0mysql_8h_html_a8620fa8adfb9905c63a514215abfda3b"><div class="ttname"><a href="row0mysql_8h.html#a8620fa8adfb9905c63a514215abfda3b">row_update_for_mysql</a></div><div class="ttdeci">dberr_t row_update_for_mysql(const byte *mysql_rec, row_prebuilt_t *prebuilt)</div><div class="ttdoc">Does an update or delete of a row for MySQL. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2437</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a9219653973849987e00efd71c57cd9b5"><div class="ttname"><a href="structrow__prebuilt__t.html#a9219653973849987e00efd71c57cd9b5">row_prebuilt_t::n_rows_fetched</a></div><div class="ttdeci">ulint n_rows_fetched</div><div class="ttdoc">number of rows fetched after positioning the current cursor </div><div class="ttdef"><b>Definition:</b> row0mysql.h:775</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aec305f742e5262b09eeaad0e64066d0c"><div class="ttname"><a href="structrow__prebuilt__t.html#aec305f742e5262b09eeaad0e64066d0c">row_prebuilt_t::autoinc_last_value</a></div><div class="ttdeci">ulonglong autoinc_last_value</div><div class="ttdoc">last value of AUTO-INC interval </div><div class="ttdef"><b>Definition:</b> row0mysql.h:805</div></div>
<div class="ttc" id="btr0pcur_8h_html"><div class="ttname"><a href="btr0pcur_8h.html">btr0pcur.h</a></div><div class="ttdoc">The index tree persistent cursor. </div></div>
<div class="ttc" id="row0mysql_8h_html_af1a5fb0e358cd24a524b652aedae95df"><div class="ttname"><a href="row0mysql_8h.html#af1a5fb0e358cd24a524b652aedae95df">row_drop_tablespace</a></div><div class="ttdeci">dberr_t row_drop_tablespace(space_id_t space_id, const char *filepath)</div><div class="ttdoc">Drop a tablespace as part of dropping or renaming a table. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:3755</div></div>
<div class="ttc" id="trx0types_8h_html"><div class="ttname"><a href="trx0types_8h.html">trx0types.h</a></div><div class="ttdoc">Transaction system global type definitions. </div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a7f020430b4ec6fdd33b90bc1a811f6f3"><div class="ttname"><a href="structrow__prebuilt__t.html#a7f020430b4ec6fdd33b90bc1a811f6f3">row_prebuilt_t::old_vers_heap</a></div><div class="ttdeci">mem_heap_t * old_vers_heap</div><div class="ttdoc">memory heap where a previous version is built in consistent read </div><div class="ttdef"><b>Definition:</b> row0mysql.h:799</div></div>
<div class="ttc" id="row0mysql_8h_html_a0c9fd2dd5c65ba125f85324dcbaccafa"><div class="ttname"><a href="row0mysql_8h.html#a0c9fd2dd5c65ba125f85324dcbaccafa">row_drop_table_for_mysql</a></div><div class="ttdeci">dberr_t row_drop_table_for_mysql(const char *name, trx_t *trx, bool nonatomic, dict_table_t *handler=nullptr)</div><div class="ttdoc">Drop a table for MySQL. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:3791</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a814aaed869d2837566608d19e792282a"><div class="ttname"><a href="structrow__prebuilt__t.html#a814aaed869d2837566608d19e792282a">row_prebuilt_t::is_reading_range</a></div><div class="ttdeci">bool is_reading_range() const</div><div class="ttdef"><b>Definition:</b> row0mysql.h:685</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a1c2065738ddab0fa703271b13a4ca646"><div class="ttname"><a href="structrow__prebuilt__t.html#a1c2065738ddab0fa703271b13a4ca646">row_prebuilt_t::m_fts_limit</a></div><div class="ttdeci">ulonglong m_fts_limit</div><div class="ttdoc">limit value to avoid fts result overflow </div><div class="ttdef"><b>Definition:</b> row0mysql.h:877</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_afb60c90691de407b971c3b0c89099a24"><div class="ttname"><a href="structmysql__row__templ__t.html#afb60c90691de407b971c3b0c89099a24">mysql_row_templ_t::icp_rec_field_no</a></div><div class="ttdeci">ulint icp_rec_field_no</div><div class="ttdoc">field number of the column in an Innobase record in the current index; only defined for columns that ...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:500</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a6554190844ba613c0afafb9a47b23bad"><div class="ttname"><a href="structrow__prebuilt__t.html#a6554190844ba613c0afafb9a47b23bad">row_prebuilt_t::cursor_heap</a></div><div class="ttdeci">mem_heap_t * cursor_heap</div><div class="ttdoc">memory heap from which innodb_api_buf is allocated per session </div><div class="ttdef"><b>Definition:</b> row0mysql.h:630</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_acbde6d071d3ef240bbaed7f13b35d578"><div class="ttname"><a href="structrow__prebuilt__t.html#acbde6d071d3ef240bbaed7f13b35d578">row_prebuilt_t::rtr_info</a></div><div class="ttdeci">rtr_info_t * rtr_info</div><div class="ttdoc">R-tree Search Info. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:834</div></div>
<div class="ttc" id="row0mysql_8h_html_a76dea37487279b91e3fa7f3a8ab60b9d"><div class="ttname"><a href="row0mysql_8h.html#a76dea37487279b91e3fa7f3a8ab60b9d">row_create_update_node_for_mysql</a></div><div class="ttdeci">upd_node_t * row_create_update_node_for_mysql(dict_table_t *table, mem_heap_t *heap)</div><div class="ttdoc">Creates an query graph node of &amp;#39;update&amp;#39; type to be used in the MySQL interface. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:1734</div></div>
<div class="ttc" id="row0mysql_8h_html_adf88a8288da3a422b13cd1f411915b8d"><div class="ttname"><a href="row0mysql_8h.html#adf88a8288da3a422b13cd1f411915b8d">innobase_init_vc_templ</a></div><div class="ttdeci">void innobase_init_vc_templ(dict_table_t *table)</div><div class="ttdoc">Get the computed value by supplying the base column values. </div><div class="ttdef"><b>Definition:</b> ha_innodb.cc:22542</div></div>
<div class="ttc" id="row0mysql_8h_html_a35ae038317f5cd0a302d1a9a36f6456c"><div class="ttname"><a href="row0mysql_8h.html#a35ae038317f5cd0a302d1a9a36f6456c">row_create_table_for_mysql</a></div><div class="ttdeci">dberr_t row_create_table_for_mysql(dict_table_t *table, const char *compression, trx_t *trx)</div><div class="ttdoc">Creates a table for MySQL. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2761</div></div>
<div class="ttc" id="mem0mem_8h_html"><div class="ttname"><a href="mem0mem_8h.html">mem0mem.h</a></div><div class="ttdoc">The memory management. </div></div>
<div class="ttc" id="api0api_8h_html_a02e9c11b4a9783f4b0b89fcf060f8f28"><div class="ttname"><a href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a></div><div class="ttdeci">uint32 space_id_t</div><div class="ttdoc">Tablespace identifier. </div><div class="ttdef"><b>Definition:</b> api0api.h:59</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_a482f3caa01299f55e62d9332ddf371c2"><div class="ttname"><a href="structmysql__row__templ__t.html#a482f3caa01299f55e62d9332ddf371c2">mysql_row_templ_t::is_unsigned</a></div><div class="ttdeci">ulint is_unsigned</div><div class="ttdoc">if a column type is an integer type and this field is != 0, then it is an unsigned integer type ...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:532</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a9b39ca1bc8d5bdac980014d4d9e50eaa"><div class="ttname"><a href="structrow__prebuilt__t.html#a9b39ca1bc8d5bdac980014d4d9e50eaa">row_prebuilt_t::m_stop_tuple_found</a></div><div class="ttdeci">bool m_stop_tuple_found</div><div class="ttdoc">Set to true in row_search_mvcc when a row matching exactly the length and value of stop_tuple was fou...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:678</div></div>
<div class="ttc" id="row0mysql_8h_html_a4f24f5a86f55dc13fe2488a0d5709065"><div class="ttname"><a href="row0mysql_8h.html#a4f24f5a86f55dc13fe2488a0d5709065">row_update_cascade_for_mysql</a></div><div class="ttdeci">dberr_t row_update_cascade_for_mysql(que_thr_t *thr, upd_node_t *node, dict_table_t *table)</div><div class="ttdoc">Does a cascaded delete or set null in a foreign key operation. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2595</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ac5dc0d652fc8519e1b8e6c8c82d42509"><div class="ttname"><a href="structrow__prebuilt__t.html#ac5dc0d652fc8519e1b8e6c8c82d42509">row_prebuilt_t::innodb_api_buf</a></div><div class="ttdeci">void * innodb_api_buf</div><div class="ttdoc">Buffer holding copy of the physical Innodb API search record. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:828</div></div>
<div class="ttc" id="ut0dbg_8h_html_a17113dab7f37e298e889ac8818ab13d0"><div class="ttname"><a href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a></div><div class="ttdeci">#define ut_ad(EXPR)</div><div class="ttdoc">Debug assertion. </div><div class="ttdef"><b>Definition:</b> ut0dbg.h:66</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aa2406d22fe6361a563ec8b4e9b010287"><div class="ttname"><a href="structrow__prebuilt__t.html#aa2406d22fe6361a563ec8b4e9b010287">row_prebuilt_t::read_just_key</a></div><div class="ttdeci">unsigned read_just_key</div><div class="ttdoc">set to 1 when MySQL calls ha_innobase::extra with the argument HA_EXTRA_KEYREAD; it is enough to read...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:572</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a93437253882fa8d53a3b576a4633fc94"><div class="ttname"><a href="structrow__prebuilt__t.html#a93437253882fa8d53a3b576a4633fc94">row_prebuilt_t::srch_key_val1</a></div><div class="ttdeci">byte * srch_key_val1</div><div class="ttdoc">buffer used in converting search key values from MySQL format to InnoDB format. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:843</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ab6b52068ec945cf852151523434a786a"><div class="ttname"><a href="structrow__prebuilt__t.html#ab6b52068ec945cf852151523434a786a">row_prebuilt_t::keep_other_fields_on_keyread</a></div><div class="ttdeci">ibool keep_other_fields_on_keyread</div><div class="ttdoc">when using fetch cache with HA_EXTRA_KEYREAD, don&amp;#39;t overwrite other fields in mysql row row buffer...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:789</div></div>
<div class="ttc" id="row0mysql_8h_html_a6fd97fed053708c04235dcea9b8ab66a"><div class="ttname"><a href="row0mysql_8h.html#a6fd97fed053708c04235dcea9b8ab66a">row_get_prebuilt_update_vector</a></div><div class="ttdeci">upd_t * row_get_prebuilt_update_vector(row_prebuilt_t *prebuilt)</div><div class="ttdoc">Gets pointer to a prebuilt update vector used in updates. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:1779</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_acb289fd0cfc819e10b769745a9c0f02d"><div class="ttname"><a href="structrow__prebuilt__t.html#acb289fd0cfc819e10b769745a9c0f02d">row_prebuilt_t::init_tuple_types</a></div><div class="ttdeci">void init_tuple_types(dtuple_t *tuple)</div><div class="ttdoc">A helper function for init_search_tuples_types() which prepares the shape of the tuple to match the i...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:905</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aefd747a430fb3aa32a2db04cebf345b6"><div class="ttname"><a href="structrow__prebuilt__t.html#aefd747a430fb3aa32a2db04cebf345b6">row_prebuilt_t::srch_key_val_len</a></div><div class="ttdeci">uint srch_key_val_len</div><div class="ttdoc">Size of search key. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:849</div></div>
<div class="ttc" id="trx0types_8h_html_a91afca43a639c098efe14a9069a1d4ec"><div class="ttname"><a href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a></div><div class="ttdeci">ib_id_t trx_id_t</div><div class="ttdoc">Transaction identifier (DB_TRX_ID, DATA_TRX_ID) </div><div class="ttdef"><b>Definition:</b> trx0types.h:144</div></div>
<div class="ttc" id="structrtr__info_html"><div class="ttname"><a href="structrtr__info.html">rtr_info</a></div><div class="ttdoc">Vectors holding the matching internal pages/nodes and leaf records. </div><div class="ttdef"><b>Definition:</b> gis0type.h:108</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a1b397e188f2d0d2ebc9af03578617d35"><div class="ttname"><a href="structrow__prebuilt__t.html#a1b397e188f2d0d2ebc9af03578617d35">row_prebuilt_t::default_rec</a></div><div class="ttdeci">const byte * default_rec</div><div class="ttdoc">the default values of all columns (a &quot;default row&quot;) in MySQL format </div><div class="ttdef"><b>Definition:</b> row0mysql.h:641</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a4d7c9cc595e33ade9ceeb4a1f14a9d76"><div class="ttname"><a href="structrow__prebuilt__t.html#a4d7c9cc595e33ade9ceeb4a1f14a9d76">row_prebuilt_t::ins_node</a></div><div class="ttdeci">ins_node_t * ins_node</div><div class="ttdoc">Innobase SQL insert node used to perform inserts to the table. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:633</div></div>
<div class="ttc" id="row0mysql_8h_html_abe764d19e8fa209770dc9ab530c0d20c"><div class="ttname"><a href="row0mysql_8h.html#abe764d19e8fa209770dc9ab530c0d20c">row_rename_table_for_mysql</a></div><div class="ttdeci">dberr_t row_rename_table_for_mysql(const char *old_name, const char *new_name, const dd::Table *dd_table, trx_t *trx, bool replay)</div><div class="ttdoc">Renames a table for MySQL. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:4193</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_affc0a986a1cfa9c1af8d0c881d326f4b"><div class="ttname"><a href="structrow__prebuilt__t.html#affc0a986a1cfa9c1af8d0c881d326f4b">row_prebuilt_t::magic_n2</a></div><div class="ttdeci">ulint magic_n2</div><div class="ttdoc">this should be the same as magic_n </div><div class="ttdef"><b>Definition:</b> row0mysql.h:837</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a6a85744d402aac8d6bd38de0d637ef4d"><div class="ttname"><a href="structrow__prebuilt__t.html#a6a85744d402aac8d6bd38de0d637ef4d">row_prebuilt_t::idx_cond_n_cols</a></div><div class="ttdeci">ulint idx_cond_n_cols</div><div class="ttdoc">Number of fields in idx_cond_cols. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:822</div></div>
<div class="ttc" id="structupd__node__t_html"><div class="ttname"><a href="structupd__node__t.html">upd_node_t</a></div><div class="ttdef"><b>Definition:</b> row0upd.h:683</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_a9d775bbea8571f214e72d993213559a6"><div class="ttname"><a href="structmysql__row__templ__t.html#a9d775bbea8571f214e72d993213559a6">mysql_row_templ_t::mysql_length_bytes</a></div><div class="ttdeci">ulint mysql_length_bytes</div><div class="ttdoc">if mysql_type == DATA_MYSQL_TRUE_VARCHAR, this tells whether we should use 1 or 2 bytes to store the ...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:518</div></div>
<div class="ttc" id="structmulti__value__data_html"><div class="ttname"><a href="structmulti__value__data.html">multi_value_data</a></div><div class="ttdoc">Structure to hold number of multiple values. </div><div class="ttdef"><b>Definition:</b> data0data.h:418</div></div>
<div class="ttc" id="structdict__v__col__t_html"><div class="ttname"><a href="structdict__v__col__t.html">dict_v_col_t</a></div><div class="ttdoc">Data structure for a virtual column in a table. </div><div class="ttdef"><b>Definition:</b> dict0mem.h:649</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a1c6d4199f7e00754ecdf315dab81c0a9"><div class="ttname"><a href="structrow__prebuilt__t.html#a1c6d4199f7e00754ecdf315dab81c0a9">row_prebuilt_t::lob_undo_reset</a></div><div class="ttdeci">void lob_undo_reset()</div><div class="ttdef"><b>Definition:</b> row0mysql.h:887</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a0079ca440c8a887b00c656ca73c767c6"><div class="ttname"><a href="structrow__prebuilt__t.html#a0079ca440c8a887b00c656ca73c767c6">row_prebuilt_t::trx_id</a></div><div class="ttdeci">trx_id_t trx_id</div><div class="ttdoc">The table-&gt;def_trx_id when ins_graph was built. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:654</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aa1085ad273bb47a95631ac73a16a9a22"><div class="ttname"><a href="structrow__prebuilt__t.html#aa1085ad273bb47a95631ac73a16a9a22">row_prebuilt_t::ins_upd_rec_buff</a></div><div class="ttdeci">byte * ins_upd_rec_buff</div><div class="ttdoc">buffer for storing data converted to the Innobase format from the MySQL format </div><div class="ttdef"><b>Definition:</b> row0mysql.h:637</div></div>
<div class="ttc" id="row0mysql_8h_html_a804107c92175fccf9f254cb1cc8bc6eb"><div class="ttname"><a href="row0mysql_8h.html#a804107c92175fccf9f254cb1cc8bc6eb">innobase_get_computed_value</a></div><div class="ttdeci">dfield_t * innobase_get_computed_value(const dtuple_t *row, const dict_v_col_t *col, const dict_index_t *index, mem_heap_t **local_heap, mem_heap_t *heap, const dict_field_t *ifield, THD *thd, TABLE *mysql_table, const dict_table_t *old_table, upd_t *parent_update, dict_foreign_t *foreign)</div><div class="ttdoc">Get the computed value by supplying the base column values. </div><div class="ttdef"><b>Definition:</b> ha_innodb.cc:22634</div></div>
<div class="ttc" id="row0mysql_8h_html_aecbd77993a110bbd72e598f164679610"><div class="ttname"><a href="row0mysql_8h.html#aecbd77993a110bbd72e598f164679610">row_delete_all_rows</a></div><div class="ttdeci">void row_delete_all_rows(dict_table_t *table)</div><div class="ttdoc">Delete all rows for the given table by freeing/truncating indexes. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2448</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a94506e9f10462650bfa377f9414cf7db"><div class="ttname"><a href="structrow__prebuilt__t.html#a94506e9f10462650bfa377f9414cf7db">row_prebuilt_t::need_to_access_clustered</a></div><div class="ttdeci">unsigned need_to_access_clustered</div><div class="ttdoc">if we are fetching columns through a secondary index and at least one column is not in the secondary ...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:594</div></div>
<div class="ttc" id="row0mysql_8h_html_a036114d0f31d5447c04d4fa4ae921957"><div class="ttname"><a href="row0mysql_8h.html#a036114d0f31d5447c04d4fa4ae921957">row_mysql_lock_data_dictionary_func</a></div><div class="ttdeci">void row_mysql_lock_data_dictionary_func(trx_t *trx, const char *file, ulint line)</div><div class="ttdoc">Locks the data dictionary exclusively for performing a table create or other data dictionary modifica...</div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2726</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_abd76361eda548fa2e2f8d80d66d08612"><div class="ttname"><a href="structrow__prebuilt__t.html#abd76361eda548fa2e2f8d80d66d08612">row_prebuilt_t::clust_index_was_generated</a></div><div class="ttdeci">unsigned clust_index_was_generated</div><div class="ttdoc">if the user did not define a primary key in MySQL, then Innobase automatically generated a clustered ...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:563</div></div>
<div class="ttc" id="row0mysql_8h_html_ac2b2a77134cae6e2993264cb6dc7e656"><div class="ttname"><a href="row0mysql_8h.html#ac2b2a77134cae6e2993264cb6dc7e656">row_import_tablespace_for_mysql</a></div><div class="ttdeci">dberr_t row_import_tablespace_for_mysql(dict_table_t *table, row_prebuilt_t *prebuilt)</div><div class="ttdoc">Imports a tablespace. </div></div>
<div class="ttc" id="structmysql__row__templ__t_html_a86d621d0e796dbc785e32dfabfae6fa2"><div class="ttname"><a href="structmysql__row__templ__t.html#a86d621d0e796dbc785e32dfabfae6fa2">mysql_row_templ_t::mbminlen</a></div><div class="ttdeci">ulint mbminlen</div><div class="ttdoc">minimum length of a char, in bytes, or zero if not a char type </div><div class="ttdef"><b>Definition:</b> row0mysql.h:528</div></div>
<div class="ttc" id="namespacefile_html"><div class="ttname"><a href="namespacefile.html">file</a></div><div class="ttdef"><b>Definition:</b> os0file.h:85</div></div>
<div class="ttc" id="row0mysql_8h_html_a582c4657713d641261231e39606a6632"><div class="ttname"><a href="row0mysql_8h.html#a582c4657713d641261231e39606a6632">row_wait_for_background_drop_list_empty</a></div><div class="ttdeci">void row_wait_for_background_drop_list_empty()</div><div class="ttdoc">Wait for the background drop list to become empty. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:125</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a8befaa7c077a4d5a0c3e673b09c4c361"><div class="ttname"><a href="structrow__prebuilt__t.html#a8befaa7c077a4d5a0c3e673b09c4c361">row_prebuilt_t::fetch_direction</a></div><div class="ttdeci">ulint fetch_direction</div><div class="ttdoc">ROW_SEL_NEXT or ROW_SEL_PREV. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:777</div></div>
<div class="ttc" id="classTable_html"><div class="ttname"><a href="classTable.html">Table</a></div><div class="ttdef"><b>Definition:</b> test_sql_stmt.cc:150</div></div>
<div class="ttc" id="structSysIndexCallback_html"><div class="ttname"><a href="structSysIndexCallback.html">SysIndexCallback</a></div><div class="ttdoc">Callback for row_mysql_sys_index_iterate() </div><div class="ttdef"><b>Definition:</b> row0mysql.h:936</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_aace40b23405c2228c6407cfce4b52806"><div class="ttname"><a href="structrow__prebuilt__t.html#aace40b23405c2228c6407cfce4b52806">row_prebuilt_t::m_mysql_table</a></div><div class="ttdeci">TABLE * m_mysql_table</div><div class="ttdoc">The MySQL table object. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:871</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a4b2bf20a06ef44d9114b5a7667f028c2"><div class="ttname"><a href="structrow__prebuilt__t.html#a4b2bf20a06ef44d9114b5a7667f028c2">row_prebuilt_t::blob_heap</a></div><div class="ttdeci">mem_heap_t * blob_heap</div><div class="ttdoc">in SELECTS BLOB fields are copied to this heap </div><div class="ttdef"><b>Definition:</b> row0mysql.h:797</div></div>
<div class="ttc" id="persisted__variable_8cc_html_a211d620ef86d6a09b1d29b51b6e44f06"><div class="ttname"><a href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a></div><div class="ttdeci">const string value(&quot;\alue\)</div></div>
<div class="ttc" id="row0mysql_8h_html_a89f6163775028ffd6859b8af7406e156"><div class="ttname"><a href="row0mysql_8h.html#a89f6163775028ffd6859b8af7406e156">row_mysql_prebuilt_free_blob_heap</a></div><div class="ttdeci">void row_mysql_prebuilt_free_blob_heap(row_prebuilt_t *prebuilt)</div><div class="ttdoc">Frees the blob heap in prebuilt when no longer needed. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:143</div></div>
<div class="ttc" id="namespacedd_html"><div class="ttname"><a href="namespacedd.html">dd</a></div><div class="ttdoc">The version of the current data dictionary table definitions. </div><div class="ttdef"><b>Definition:</b> dictionary_client.h:40</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ad87f0f28e6b9c4a5e152eedf0e63bf1f"><div class="ttname"><a href="structrow__prebuilt__t.html#ad87f0f28e6b9c4a5e152eedf0e63bf1f">row_prebuilt_t::clear_search_tuples</a></div><div class="ttdeci">void clear_search_tuples()</div><div class="ttdoc">Resets both search_tuple and m_stop_tuple. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:918</div></div>
<div class="ttc" id="row0mysql_8h_html_a6a28f83469c6b32e975f7227d5f23fce"><div class="ttname"><a href="row0mysql_8h.html#a6a28f83469c6b32e975f7227d5f23fce">row_mysql_unfreeze_data_dictionary</a></div><div class="ttdeci">void row_mysql_unfreeze_data_dictionary(trx_t *trx)</div><div class="ttdoc">Unlocks the data dictionary shared lock. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:2712</div></div>
<div class="ttc" id="structlob_1_1undo__vers__t_html"><div class="ttname"><a href="structlob_1_1undo__vers__t.html">lob::undo_vers_t</a></div><div class="ttdoc">The list of modifications to be applied on LOBs to get older versions. </div><div class="ttdef"><b>Definition:</b> lob0undo.h:144</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a25c5641e4244b609f7e89f11069239e5"><div class="ttname"><a href="structrow__prebuilt__t.html#a25c5641e4244b609f7e89f11069239e5">row_prebuilt_t::mysql_template</a></div><div class="ttdeci">mysql_row_templ_t * mysql_template</div><div class="ttdoc">template used to transform rows fast between MySQL and Innobase formats; memory for this template is ...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:623</div></div>
<div class="ttc" id="libmysql_2authentication__win_2common_8h_html_a0c8186d9b9b7880309c27230bbb5e69d"><div class="ttname"><a href="libmysql_2authentication__win_2common_8h.html#a0c8186d9b9b7880309c27230bbb5e69d">byte</a></div><div class="ttdeci">unsigned char byte</div><div class="ttdoc">Blob class. </div><div class="ttdef"><b>Definition:</b> common.h:159</div></div>
<div class="ttc" id="row0mysql_8h_html_adbabec476ae3e4e35d865d8d4dafdb8c"><div class="ttname"><a href="row0mysql_8h.html#adbabec476ae3e4e35d865d8d4dafdb8c">MYSQL_FETCH_CACHE_SIZE</a></div><div class="ttdeci">#define MYSQL_FETCH_CACHE_SIZE</div><div class="ttdef"><b>Definition:</b> row0mysql.h:540</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_ac3bffae1710133ed1bc033fa4f97b019"><div class="ttname"><a href="structmysql__row__templ__t.html#ac3bffae1710133ed1bc033fa4f97b019">mysql_row_templ_t::is_multi_val</a></div><div class="ttdeci">ulint is_multi_val</div><div class="ttdoc">if a column is a Multi-Value Array virtual column </div><div class="ttdef"><b>Definition:</b> row0mysql.h:536</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ac2b2027e0ebc1de5d4d1d4c85ec90ffea8f5793157d7a1abdcb2e0ee2a066ad8f"><div class="ttname"><a href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea8f5793157d7a1abdcb2e0ee2a066ad8f">row_prebuilt_t::LOCK_CLUST_PCUR</a></div><div class="ttdef"><b>Definition:</b> row0mysql.h:745</div></div>
<div class="ttc" id="structmtr__t_html"><div class="ttname"><a href="structmtr__t.html">mtr_t</a></div><div class="ttdoc">Mini-transaction handle and buffer. </div><div class="ttdef"><b>Definition:</b> mtr0mtr.h:169</div></div>
<div class="ttc" id="row0mysql_8h_html_a938e619a35bdb74056d1c79894717c87"><div class="ttname"><a href="row0mysql_8h.html#a938e619a35bdb74056d1c79894717c87">row_drop_database_for_mysql</a></div><div class="ttdeci">dberr_t row_drop_database_for_mysql(const char *name, trx_t *trx, ulint *found)</div><div class="ttdoc">Drop a database for MySQL. </div></div>
<div class="ttc" id="lock0types_8h_html_acff05fa7dd69832a04f93b92db1e0013"><div class="ttname"><a href="lock0types_8h.html#acff05fa7dd69832a04f93b92db1e0013">lock_mode</a></div><div class="ttdeci">lock_mode</div><div class="ttdef"><b>Definition:</b> lock0types.h:51</div></div>
<div class="ttc" id="data0data_8cc_html_adf8d43ed0e1bee3b08641f1e7c950d7a"><div class="ttname"><a href="data0data_8cc.html#adf8d43ed0e1bee3b08641f1e7c950d7a">dtuple_set_n_fields</a></div><div class="ttdeci">void dtuple_set_n_fields(dtuple_t *tuple, ulint n_fields)</div><div class="ttdoc">Sets number of fields used in a tuple. </div><div class="ttdef"><b>Definition:</b> data0data.cc:95</div></div>
<div class="ttc" id="classdd_1_1Table_html"><div class="ttname"><a href="classdd_1_1Table.html">dd::Table</a></div><div class="ttdef"><b>Definition:</b> table.h:46</div></div>
<div class="ttc" id="row0mysql_8h_html_a9aba346714fc4ffbeae8bcc4afa44d0e"><div class="ttname"><a href="row0mysql_8h.html#a9aba346714fc4ffbeae8bcc4afa44d0e">row_mysql_read_blob_ref</a></div><div class="ttdeci">const byte * row_mysql_read_blob_ref(ulint *len, const byte *ref, ulint col_len)</div><div class="ttdoc">Reads a reference to a BLOB in the MySQL format. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:230</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a3cac51144487afc9db0e5d11239acc82"><div class="ttname"><a href="structrow__prebuilt__t.html#a3cac51144487afc9db0e5d11239acc82">row_prebuilt_t::innodb_api_rec_size</a></div><div class="ttdeci">ulint innodb_api_rec_size</div><div class="ttdoc">Size of the Innodb API record. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:830</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_ad9636c6362a6d6f00c0fb61050d9a655"><div class="ttname"><a href="structmysql__row__templ__t.html#ad9636c6362a6d6f00c0fb61050d9a655">mysql_row_templ_t::clust_rec_field_no</a></div><div class="ttdeci">ulint clust_rec_field_no</div><div class="ttdoc">field number of the column in an Innobase record in the clustered index; not defined if template_type...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:496</div></div>
<div class="ttc" id="dict0dict_8cc_html_a93cb9582603ebbc3a03d6c69829399c8"><div class="ttname"><a href="dict0dict_8cc.html#a93cb9582603ebbc3a03d6c69829399c8">dict_index_copy_types</a></div><div class="ttdeci">void dict_index_copy_types(dtuple_t *tuple, const dict_index_t *index, ulint n_fields)</div><div class="ttdoc">Copies types of fields contained in index to tuple. </div><div class="ttdef"><b>Definition:</b> dict0dict.cc:2807</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ad1a497bcd529e69f9b9ca11de686cc72"><div class="ttname"><a href="structrow__prebuilt__t.html#ad1a497bcd529e69f9b9ca11de686cc72">row_prebuilt_t::fetch_cache_first</a></div><div class="ttdeci">ulint fetch_cache_first</div><div class="ttdoc">position of the first not yet fetched row in fetch_cache </div><div class="ttdef"><b>Definition:</b> row0mysql.h:793</div></div>
<div class="ttc" id="row0mysql_8h_html_af7f50b6679233652ac7103e2f257ee1d"><div class="ttname"><a href="row0mysql_8h.html#af7f50b6679233652ac7103e2f257ee1d">row_insert_for_mysql</a></div><div class="ttdeci">dberr_t row_insert_for_mysql(const byte *mysql_rec, row_prebuilt_t *prebuilt)</div><div class="ttdoc">Does an insert for MySQL. </div><div class="ttdef"><b>Definition:</b> row0mysql.cc:1704</div></div>
<div class="ttc" id="classTHD_html"><div class="ttname"><a href="classTHD.html">THD</a></div><div class="ttdoc">For each client connection we create a separate thread with THD serving as a thread/connection descri...</div><div class="ttdef"><b>Definition:</b> sql_class.h:803</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_ac2b2027e0ebc1de5d4d1d4c85ec90ffea0472245d9ec4774acf79a72404a112fe"><div class="ttname"><a href="structrow__prebuilt__t.html#ac2b2027e0ebc1de5d4d1d4c85ec90ffea0472245d9ec4774acf79a72404a112fe">row_prebuilt_t::LOCK_PCUR</a></div><div class="ttdef"><b>Definition:</b> row0mysql.h:744</div></div>
<div class="ttc" id="structupd__t_html"><div class="ttname"><a href="structupd__t.html">upd_t</a></div><div class="ttdef"><b>Definition:</b> row0upd.h:580</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a33f76320461a701fba502789894bf298"><div class="ttname"><a href="structrow__prebuilt__t.html#a33f76320461a701fba502789894bf298">row_prebuilt_t::no_autoinc_locking</a></div><div class="ttdeci">bool no_autoinc_locking</div><div class="ttdoc">true, if we were asked to skip AUTOINC locking for the table. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:857</div></div>
<div class="ttc" id="structrow__prebuilt__t_html_a57de8f1def7443aa6a94c903f7b24aa7"><div class="ttname"><a href="structrow__prebuilt__t.html#a57de8f1def7443aa6a94c903f7b24aa7">row_prebuilt_t::m_temp_tree_modified</a></div><div class="ttdeci">bool m_temp_tree_modified</div><div class="ttdoc">Whether tree modifying operation happened on a temporary (intrinsic) table index tree. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:868</div></div>
<div class="ttc" id="structmysql__row__templ__t_html_afe8a740829cbd839b0df78584b453cfd"><div class="ttname"><a href="structmysql__row__templ__t.html#afe8a740829cbd839b0df78584b453cfd">mysql_row_templ_t::charset</a></div><div class="ttdeci">ulint charset</div><div class="ttdoc">MySQL charset-collation code of the column, or zero. </div><div class="ttdef"><b>Definition:</b> row0mysql.h:526</div></div>
<div class="ttc" id="row0mysql_8h_html_a9a01c40d68e34107930e001e71df4401"><div class="ttname"><a href="row0mysql_8h.html#a9a01c40d68e34107930e001e71df4401">row_drop_tables_for_mysql_in_background</a></div><div class="ttdeci">ulint row_drop_tables_for_mysql_in_background(void)</div><div class="ttdoc">The master thread in srv0srv.cc calls this regularly to drop tables which we must drop in background ...</div><div class="ttdef"><b>Definition:</b> row0mysql.cc:3167</div></div>
<div class="ttc" id="structdict__index__t_html"><div class="ttname"><a href="structdict__index__t.html">dict_index_t</a></div><div class="ttdoc">Data structure for an index. </div><div class="ttdef"><b>Definition:</b> dict0mem.h:886</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="row0mysql_8h.html">row0mysql.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
