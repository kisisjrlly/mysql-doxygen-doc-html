<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/que0que.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('que0que_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">que0que.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="que0que_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*****************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">Copyright (c) 1996, 2020, Oracle and/or its affiliates. All Rights Reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">This program is free software; you can redistribute it and/or modify it under</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">the terms of the GNU General Public License, version 2.0, as published by the</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">Free Software Foundation.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">This program is also distributed with certain software (including but not</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">limited to OpenSSL) that is licensed under separate terms, as designated in a</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">particular file or component or in included license documentation. The authors</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">of MySQL hereby grant you an additional permission to link the program and</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">your derivative works with the separately licensed software that they have</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">included with MySQL.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">FOR A PARTICULAR PURPOSE. See the GNU General Public License, version 2.0,</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">for more details.</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">You should have received a copy of the GNU General Public License along with</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">this program; if not, write to the Free Software Foundation, Inc.,</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">51 Franklin St, Fifth Floor, Boston, MA 02110-1301  USA</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">*****************************************************************************/</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/** @file include/que0que.h</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> Query graph</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> Created 5/27/1996 Heikki Tuuri</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *******************************************************/</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#ifndef que0que_h</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#define que0que_h</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="data0data_8h.html">data0data.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dict0types_8h.html">dict0types.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pars0types_8h.html">pars0types.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="que0types_8h.html">que0types.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="row0types_8h.html">row0types.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="srv0srv_8h.html">srv0srv.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trx0roll_8h.html">trx0roll.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trx0trx_8h.html">trx0trx.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;univ.i&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="usr0types_8h.html">usr0types.h</a>&quot;</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">/** Mutex protecting the query threads. */</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">extern</span> ib_mutex_t <a class="code" href="que0que_8h.html#a9ed823ebec368c4a8bc1cf480d731043">que_thr_mutex</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/** Creates a query graph fork node.</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> @return own: fork node */</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<a class="code" href="structque__fork__t.html">que_fork_t</a> *<a class="code" href="que0que_8h.html#a5a460a3de4baf40b2b158b4969ac3659">que_fork_create</a>(</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="structque__fork__t.html">que_t</a> *graph,       <span class="comment">/*!&lt; in: graph, if NULL then this</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">                        fork node is assumed to be the</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">                        graph root */</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *parent, <span class="comment">/*!&lt; in: parent node */</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    ulint fork_type,    <span class="comment">/*!&lt; in: fork type */</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *heap);  <span class="comment">/*!&lt; in: memory heap where created */</span><span class="comment"></span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">/** Gets the first thr in a fork. */</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<a class="code" href="structque__thr__t.html">que_thr_t</a> *<a class="code" href="que0que_8h.html#a31de919212a3e0dabdb5f5057fa41c24">que_fork_get_first_thr</a>(<a class="code" href="structque__fork__t.html">que_fork_t</a> *fork); <span class="comment">/*!&lt; in: query fork */</span><span class="comment"></span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/** Gets the child node of the first thr in a fork. */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="que0que_8h.html#a6f3db5f78351ae50cfa923d743f9fd7d">que_fork_get_child</a>(<a class="code" href="structque__fork__t.html">que_fork_t</a> *fork); <span class="comment">/*!&lt; in: query fork */</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/** Sets the parent of a graph node.</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">@param[in]      node    graph node</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">@param[in]      parent  parent */</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#af88924fbf508f74115da885ed7e5bb77">que_node_set_parent</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node, <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *parent);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">/** Creates a query graph thread node.</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">@param[in]      parent          parent node, i.e., a fork node</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">@param[in]      heap            memory heap where created</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">@param[in]      prebuilt        row prebuilt structure</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">@return own: query thread node */</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<a class="code" href="structque__thr__t.html">que_thr_t</a> *<a class="code" href="que0que_8h.html#a6971290c3e2c1c4facec13185d8b5757">que_thr_create</a>(<a class="code" href="structque__fork__t.html">que_fork_t</a> *parent, <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *heap,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                          <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *prebuilt);<span class="comment"></span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">/** Frees a query graph, but not the heap where it was created. Does not free</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"> explicit cursor declarations, they are freed in que_graph_free. */</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#a007dfc7a252c50177a025e2106f6053c">que_graph_free_recursive</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: query graph node */</span><span class="comment"></span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">/** Frees a query graph. */</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#a8b97f2b24596d569a3e02e16dbc60550">que_graph_free</a>(<a class="code" href="structque__fork__t.html">que_t</a> *graph); <span class="comment">/*!&lt; in: query graph; we assume that the</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">                                   memory heap where this graph was created is</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">                                   private to this graph: if not, then use</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">                                   que_graph_free_recursive and free the heap</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">                                   afterwards! */</span><span class="comment"></span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">/** Stops a query thread if graph or trx is in a state requiring it. The</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"> conditions are tested in the order (1) graph, (2) trx.</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"> Caller must hold the trx mutex.</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"> @param[in,out]   thr   query thread</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"> @return true if stopped */</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="que0que_8h.html#ac299d26a96497f98066e0d9327e0b0ec">que_thr_stop</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a> *thr);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">/** Moves a thread from another state to the QUE_THR_RUNNING state. Increments</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"> the n_active_thrs counters of the query graph and transaction. */</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#a0b113272c7b5adce6d6c2c23df06cd1f">que_thr_move_to_run_state_for_mysql</a>(</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="structque__thr__t.html">que_thr_t</a> *thr, <span class="comment">/*!&lt; in: an query thread */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="structtrx__t.html">trx_t</a> *trx);    <span class="comment">/*!&lt; in: transaction */</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/** A patch for MySQL used to &#39;stop&#39; a dummy query thread used in MySQL</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment"> select, when there is no error or lock wait.</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">@param[in] thr Query thread</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">@param[in] trx Transaction */</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#a54b1571190231078521f29da16ba096a">que_thr_stop_for_mysql_no_error</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a> *thr, <a class="code" href="structtrx__t.html">trx_t</a> *trx);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">/** A patch for MySQL used to &#39;stop&#39; a dummy query thread used in MySQL. The</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"> query thread is stopped and made inactive, except in the case where</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"> it was put to the lock wait state in lock0lock.cc, but the lock has already</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"> been granted or the transaction chosen as a victim in deadlock resolution. */</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#a68d4bcd1e20618ca9549bbd156d3d1cb">que_thr_stop_for_mysql</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a> *thr); <span class="comment">/*!&lt; in: query thread */</span><span class="comment"></span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/** Run a query thread. Handles lock waits. */</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#a680cc5106abf03a84bc73ab25eaec91a">que_run_threads</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a> *thr); <span class="comment">/*!&lt; in: query thread */</span><span class="comment"></span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">/** Moves a suspended query thread to the QUE_THR_RUNNING state and release</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"> a worker thread to execute it. This function should be used to end</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"> the wait state of a query thread waiting for a lock or a stored procedure</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"> completion.</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"> @return query thread instance of thread to wakeup or NULL */</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<a class="code" href="structque__thr__t.html">que_thr_t</a> *<a class="code" href="que0que_8h.html#a99bcbdf76361fa3ba40253adee256235">que_thr_end_lock_wait</a>(<a class="code" href="structtrx__t.html">trx_t</a> *trx); <span class="comment">/*!&lt; in: transaction in the</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">                                              QUE_THR_LOCK_WAIT state */</span><span class="comment"></span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/** Starts execution of a command in a query fork. Picks a query thread which</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"> is not in the QUE_THR_RUNNING state and moves it to that state. If none</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"> can be chosen, a situation which may arise in parallelized fetches, NULL</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"> is returned.</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"> @return a query thread of the graph moved to QUE_THR_RUNNING state, or</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"> NULL; the query thread should be executed by que_run_threads by the</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> caller */</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<a class="code" href="structque__thr__t.html">que_thr_t</a> *<a class="code" href="que0que_8h.html#acf30435e59f2ebf079c39aab8b75de66">que_fork_start_command</a>(<a class="code" href="structque__fork__t.html">que_fork_t</a> *fork); <span class="comment">/*!&lt; in: a query fork */</span><span class="comment"></span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">/** Gets the trx of a query thread. */</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="que0que_8h.html#a8a52bb487c54522cbb437ee19563c990">thr_get_trx</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a> *thr); <span class="comment">/*!&lt; in: query thread */</span><span class="comment"></span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">/** Determines if this thread is rolling back an incomplete transaction</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"> in crash recovery.</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> @return true if thr is rolling back an incomplete transaction in crash</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> recovery */</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;ibool <a class="code" href="que0que_8h.html#a878e9cb52736ec5cbde135e7699b8bf8">thr_is_recv</a>(<span class="keyword">const</span> <a class="code" href="structque__thr__t.html">que_thr_t</a> *thr); <span class="comment">/*!&lt; in: query thread */</span><span class="comment"></span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">/** Gets the type of a graph node. */</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;ulint <a class="code" href="que0que_8h.html#a583f8b76adbd4b916f35289b2d1bc6ce">que_node_get_type</a>(<span class="keyword">const</span> <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: graph node */</span><span class="comment"></span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">/** Gets pointer to the value data type field of a graph node. */</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<a class="code" href="structdtype__t.html">dtype_t</a> *<a class="code" href="que0que_8h.html#ad08266f127e451456e2882c2de74197b">que_node_get_data_type</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: graph node */</span><span class="comment"></span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">/** Gets pointer to the value dfield of a graph node. */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<a class="code" href="structdfield__t.html">dfield_t</a> *<a class="code" href="que0que_8h.html#a86c901c7f62e56f3c10b357fcf62fb3f">que_node_get_val</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: graph node */</span><span class="comment"></span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">/** Gets the value buffer size of a graph node.</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"> @return val buffer size, not defined if val.data == NULL in node */</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;ulint <a class="code" href="que0que_8h.html#a772a955537d31cf553f8413986ccaad3">que_node_get_val_buf_size</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: graph node */</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">/** Sets the value buffer size of a graph node.</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">@param[in]      node    graph node</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">@param[in]      size    size */</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#a50ac1bf0309950e062eb4edc345397bf">que_node_set_val_buf_size</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node, ulint size);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">/** Gets the next list node in a list of query graph nodes. */</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="que0que_8h.html#ae4d5701507aba55e090f2255375f60f8">que_node_get_next</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: node in a list */</span><span class="comment"></span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">/** Gets the parent node of a query graph node.</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"> @return parent node or NULL */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="que0que_8h.html#aedbe8206a381aae9733cc98bb809403d">que_node_get_parent</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: node */</span><span class="comment"></span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">/** Get the first containing loop node (e.g. while_node_t or for_node_t) for the</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment"> given node, or NULL if the node is not within a loop.</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment"> @return containing loop node, or NULL. */</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="que0que_8h.html#a74faa07e0ae046282059ad7caf6b7e7c">que_node_get_containing_loop_node</a>(</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: node */</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">/** Catenates a query graph node to a list of them, possible empty list.</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">@param[in]      node_list       node list, or NULL</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">@param[in]      node            node</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">@return one-way list of nodes */</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="que0que_8h.html#a524a6033ecddbb12f6cce95e79285dd0">que_node_list_add_last</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node_list, <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">/*************************************************************************</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">Get the last node from the list.*/</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="que0que_8h.html#a2271577847577d707d0227cc5bb7eafb">que_node_list_get_last</a>(</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">/* out: node last node from list.*/</span></div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node_list); <span class="comment">/* in: node list, or NULL */</span><span class="comment"></span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">/** Gets a query graph node list length.</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"> @return length, for NULL list 0 */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;ulint <a class="code" href="que0que_8h.html#a6c8c1d4c1f8b65edd4e5cd9c7b86fd17">que_node_list_get_len</a>(</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node_list); <span class="comment">/*!&lt; in: node list, or NULL */</span><span class="comment"></span></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">/** Checks if graph, trx, or session is in a state where the query thread should</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> be stopped.</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"> @return true if should be stopped; NOTE that if the peek is made</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> without reserving the trx_t::mutex, then another peek with the mutex</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> reserved is necessary before deciding the actual stopping */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;ibool <a class="code" href="que0que_8h.html#a99c6a223ab62908329ef4cedc9029192">que_thr_peek_stop</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a> *thr); <span class="comment">/*!&lt; in: query thread */</span><span class="comment"></span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">/** Returns TRUE if the query graph is for a SELECT statement.</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"> @return true if a select */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;UNIV_INLINE</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;ibool <a class="code" href="que0que_8h.html#ade079995eb4121b97e5a588f53806ab0">que_graph_is_select</a>(<a class="code" href="structque__fork__t.html">que_t</a> *graph); <span class="comment">/*!&lt; in: graph */</span><span class="comment"></span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/** Prints info of an SQL query graph node. */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#aeb90e40bb8f2a15e43350a932101a2c2">que_node_print_info</a>(<a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *node); <span class="comment">/*!&lt; in: query graph node */</span><span class="comment"></span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/** Evaluate the given SQL</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"> @return error code or DB_SUCCESS */</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="que0que_8h.html#a4c4a66b54d1242f493b96b27e2c049c5">que_eval_sql</a>(<a class="code" href="structpars__info__t.html">pars_info_t</a> *<a class="code" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>, <span class="comment">/*!&lt; in: info struct, or NULL */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                     <span class="keyword">const</span> <span class="keywordtype">char</span> *sql,   <span class="comment">/*!&lt; in: SQL string */</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                     ibool reserve_dict_mutex,<span class="comment"></span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">                     /*!&lt; in: if TRUE, acquire/release</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">                     dict_sys-&gt;mutex around call to pars_sql. */</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                     <a class="code" href="structtrx__t.html">trx_t</a> *trx); <span class="comment">/*!&lt; in: trx */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">/** Round robin scheduler.</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"> @return a query thread of the graph moved to QUE_THR_RUNNING state, or</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"> NULL; the query thread should be executed by que_run_threads by the</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"> caller */</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<a class="code" href="structque__thr__t.html">que_thr_t</a> *<a class="code" href="que0que_8h.html#a04eee3d0d397c72abf54ed5428137d45">que_fork_scheduler_round_robin</a>(</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="structque__fork__t.html">que_fork_t</a> *fork, <span class="comment">/*!&lt; in: a query fork */</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="structque__thr__t.html">que_thr_t</a> *thr);  <span class="comment">/*!&lt; in: current pos */</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">/** Initialise the query sub-system. */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#a75dbe14d306359add3af3830e78c0de6">que_init</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">/** Close the query sub-system. */</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keywordtype">void</span> <a class="code" href="que0que_8h.html#ad4c8d6a29ac61b809665d40af253f323">que_close</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">/** Query thread states */</span></div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043">  226</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043">que_thr_state_t</a> {</div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a719e9354f4b3cdd87b660857d2946797">  227</a></span>&#160;  <a class="code" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a719e9354f4b3cdd87b660857d2946797">QUE_THR_RUNNING</a>,</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043acafa09f296487148ac3f408394a9fd75">  228</a></span>&#160;  <a class="code" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043acafa09f296487148ac3f408394a9fd75">QUE_THR_PROCEDURE_WAIT</a>,<span class="comment"></span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">  /** in selects this means that the thread is at the end of its</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">  result set (or start, in case of a scroll cursor); in other</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">  statements, this means the thread has done its task */</span></div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043aaf2d20bd2c7cac15e8e0a554523b0885">  232</a></span>&#160;  <a class="code" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043aaf2d20bd2c7cac15e8e0a554523b0885">QUE_THR_COMPLETED</a>,</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a6ec29d45c7d0851a4ef190cd4e87856f">  233</a></span>&#160;  <a class="code" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a6ec29d45c7d0851a4ef190cd4e87856f">QUE_THR_COMMAND_WAIT</a>,</div><div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043aa4ea4d46aa19cff0cb6c308562ed793b">  234</a></span>&#160;  <a class="code" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043aa4ea4d46aa19cff0cb6c308562ed793b">QUE_THR_LOCK_WAIT</a>,</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a7d5bc79632b3617365df0d66967f7b77">  235</a></span>&#160;  <a class="code" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a7d5bc79632b3617365df0d66967f7b77">QUE_THR_SUSPENDED</a></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;};</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">/** Query thread lock states */</span></div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7">  239</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7">que_thr_lock_t</a> {</div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a0c2e57e510fd0307213d9537f31505b6">  240</a></span>&#160;  <a class="code" href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a0c2e57e510fd0307213d9537f31505b6">QUE_THR_LOCK_NOLOCK</a>,</div><div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a30b582854b8c9c1435ff7ddac979184c">  241</a></span>&#160;  <a class="code" href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a30b582854b8c9c1435ff7ddac979184c">QUE_THR_LOCK_ROW</a>,</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a273d63e60853e59cdffce429a80f808d">  242</a></span>&#160;  <a class="code" href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a273d63e60853e59cdffce429a80f808d">QUE_THR_LOCK_TABLE</a></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;};</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">/** From where the cursor position is counted */</span></div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcdd">  246</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcdd">que_cur_t</a> { <a class="code" href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcddaf11e7e65398f491fe8efe25087f282e5">QUE_CUR_NOT_DEFINED</a>, <a class="code" href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcdda32de4864dd7a30dd10ff27a0977bb0a7">QUE_CUR_START</a>, <a class="code" href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcdda558d7c46d72e9add1147470f620055bd">QUE_CUR_END</a> };</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">/* Query graph query thread node: the fields are protected by the</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">trx_t::mutex with the exceptions named below */</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="structque__thr__t.html">  251</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structque__thr__t.html">que_thr_t</a> {</div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="structque__thr__t.html#a83d20c69d72f9d051d10783fd53d8d99">  252</a></span>&#160;  <a class="code" href="structque__common__t.html">que_common_t</a> <a class="code" href="structque__thr__t.html#a83d20c69d72f9d051d10783fd53d8d99">common</a>;   <span class="comment">/*!&lt; type: QUE_NODE_THR */</span></div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="structque__thr__t.html#ac49a5447bb552717cb874b9d3f46a2b6">  253</a></span>&#160;  ulint <a class="code" href="structque__thr__t.html#ac49a5447bb552717cb874b9d3f46a2b6">magic_n</a>;         <span class="comment">/*!&lt; magic number to catch memory</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">                         corruption */</span></div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="structque__thr__t.html#aa14f975225c01dbe79a2d3152ce41ac6">  255</a></span>&#160;  <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="structque__thr__t.html#aa14f975225c01dbe79a2d3152ce41ac6">child</a>;     <span class="comment">/*!&lt; graph child node */</span></div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="structque__thr__t.html#a2ab164d5dfdabc19d6fc2f150246c5e8">  256</a></span>&#160;  <a class="code" href="structque__fork__t.html">que_t</a> *<a class="code" href="structque__thr__t.html#a2ab164d5dfdabc19d6fc2f150246c5e8">graph</a>;          <span class="comment">/*!&lt; graph where this node belongs */</span></div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="structque__thr__t.html#aaea8346d784a705833daf00999c926fe">  257</a></span>&#160;  <a class="code" href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043">que_thr_state_t</a> <a class="code" href="structque__thr__t.html#aaea8346d784a705833daf00999c926fe">state</a>; <span class="comment">/*!&lt; state of the query thread */</span></div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="structque__thr__t.html#a02429aba8eb9d0cada17b1c17fae0250">  258</a></span>&#160;  ibool <a class="code" href="structque__thr__t.html#a02429aba8eb9d0cada17b1c17fae0250">is_active</a>;       <span class="comment">/*!&lt; TRUE if the thread has been set</span></div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">                         to the run state in</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">                         que_thr_move_to_run_state, but not</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">                         deactivated in</span></div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">                         que_thr_dec_reference_count */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">/*------------------------------*/</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <span class="comment">/* The following fields are private to the OS thread executing the</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">  query thread, and are not protected by any mutex: */</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="structque__thr__t.html#a9e291f95bb00c8906bb9afde43b8d53f">  267</a></span>&#160;  <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="structque__thr__t.html#a9e291f95bb00c8906bb9afde43b8d53f">run_node</a>;  <span class="comment">/*!&lt; pointer to the node where the</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">                         subgraph down from this node is</span></div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">                         currently executed */</span></div><div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="structque__thr__t.html#a4c65fa73ec41afecb650ada4483774aa">  270</a></span>&#160;  <a class="code" href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a> *<a class="code" href="structque__thr__t.html#a4c65fa73ec41afecb650ada4483774aa">prev_node</a>; <span class="comment">/*!&lt; pointer to the node from which</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">                         the control came */</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="structque__thr__t.html#af5d11881906d75471d2a4842f69ffe51">  272</a></span>&#160;  ulint <a class="code" href="structque__thr__t.html#af5d11881906d75471d2a4842f69ffe51">resource</a>;        <span class="comment">/*!&lt; resource usage of the query thread</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">                         thus far */</span></div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="structque__thr__t.html#a41722365344cddfd949115760196c309">  274</a></span>&#160;  ulint <a class="code" href="structque__thr__t.html#a41722365344cddfd949115760196c309">lock_state</a>;      <span class="comment">/*!&lt; lock state of thread (table or</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">                         row) */</span></div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">  /** The thread slot in the lock_sys-&gt;waiting_threads array protected by</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">  lock_sys-&gt;wait_mutex when writing to it, and also by trx-&gt;mutex when changing</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">  from null to non-null.</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  While reading, one can either hold the lock_sys-&gt;wait_mutex, or hold the</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  trx-&gt;mutex and a proof that no one has woken the trx yet,</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">  so the slot is either still null (if trx hadn&#39;t yet started the sleep), or</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">  already non-null (if it already started sleep), but definitely not</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">  changing from null to non-null (as it requires trx-&gt;mutex) nor</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">  changing from non-null to null (as it happens after wake up). */</span></div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="structque__thr__t.html#a7ba8e36e38940ce5c9869d0e97d23e99">  286</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structsrv__slot__t.html">srv_slot_t</a> *<a class="code" href="structque__thr__t.html#a7ba8e36e38940ce5c9869d0e97d23e99">slot</a>;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">/*------------------------------*/</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">/* The following fields are links for the various lists that</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">  this type can be on. */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <a class="code" href="innodb__utility_8h.html#a496a8f8646bff5c74c18ee0c04134b6d">UT_LIST_NODE_T</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a>)</div><div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="structque__thr__t.html#afe1afda734affd2891ed22734f89f208">  291</a></span>&#160;  <a class="code" href="structque__thr__t.html#afe1afda734affd2891ed22734f89f208">thrs</a>; <span class="comment">/*!&lt; list of thread nodes of the fork</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">        node */</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <a class="code" href="innodb__utility_8h.html#a496a8f8646bff5c74c18ee0c04134b6d">UT_LIST_NODE_T</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a>)</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="structque__thr__t.html#ad0e9e94433705a1bd889042829182ab3">  294</a></span>&#160;  <a class="code" href="structque__thr__t.html#ad0e9e94433705a1bd889042829182ab3">trx_thrs</a>; <span class="comment">/*!&lt; lists of threads in wait list of</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">            the trx */</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="innodb__utility_8h.html#a496a8f8646bff5c74c18ee0c04134b6d">UT_LIST_NODE_T</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a>)</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="structque__thr__t.html#aeb33fd091cd1254840181940f87a7337">  297</a></span>&#160;  <a class="code" href="structque__thr__t.html#aeb33fd091cd1254840181940f87a7337">queue</a>;                    <span class="comment">/*!&lt; list of runnable thread nodes in</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">                            the server task queue */</span></div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structque__thr__t.html#afd6d0f9697b25e0273bc95028ff41533">  299</a></span>&#160;  ulint <a class="code" href="structque__thr__t.html#afd6d0f9697b25e0273bc95028ff41533">fk_cascade_depth</a>;   <span class="comment">/*!&lt; maximum cascading call depth</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">                          supported for foreign key constraint</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">                          related delete/updates */</span></div><div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="structque__thr__t.html#a4af8d63475931561405d348cae839fde">  302</a></span>&#160;  <a class="code" href="structrow__prebuilt__t.html">row_prebuilt_t</a> *<a class="code" href="structque__thr__t.html#a4af8d63475931561405d348cae839fde">prebuilt</a>; <span class="comment">/*!&lt; prebuilt structure processed by</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">                            the query thread */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;};</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="que0que_8h.html#adbbc0ca7953c20237dc4049ad085f30e">  306</a></span>&#160;<span class="preprocessor">#define QUE_THR_MAGIC_N 8476583</span></div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="que0que_8h.html#a598e9557d20e2402cdfdb9d99b65b045">  307</a></span>&#160;<span class="preprocessor">#define QUE_THR_MAGIC_FREED 123461526</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">/* Query graph fork node: its fields are protected by the query thread mutex */</span></div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structque__fork__t.html">  310</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structque__fork__t.html">que_fork_t</a> {</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a246abb802b2df911eea8998b2b27bdd5">  311</a></span>&#160;  <a class="code" href="structque__common__t.html">que_common_t</a> <a class="code" href="structque__fork__t.html#a246abb802b2df911eea8998b2b27bdd5">common</a>; <span class="comment">/*!&lt; type: QUE_NODE_FORK */</span></div><div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a47cc433429bce38e6169c2a3bede55e3">  312</a></span>&#160;  <a class="code" href="structque__fork__t.html">que_t</a> *<a class="code" href="structque__fork__t.html#a47cc433429bce38e6169c2a3bede55e3">graph</a>;        <span class="comment">/*!&lt; query graph of this node */</span></div><div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a0d6e5c0bafe538827dedaf0205d92da0">  313</a></span>&#160;  ulint <a class="code" href="structque__fork__t.html#a0d6e5c0bafe538827dedaf0205d92da0">fork_type</a>;     <span class="comment">/*!&lt; fork type */</span></div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a271ccafc8523db3e3f54015893ab689e">  314</a></span>&#160;  ulint <a class="code" href="structque__fork__t.html#a271ccafc8523db3e3f54015893ab689e">n_active_thrs</a>; <span class="comment">/*!&lt; if this is the root of a graph, the</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">                       number query threads that have been</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">                       started in que_thr_move_to_run_state</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">                       but for which que_thr_dec_refer_count</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">                       has not yet been called */</span></div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a7286de64b1013fe5f7f7079da21ed28b">  319</a></span>&#160;  <a class="code" href="structtrx__t.html">trx_t</a> *<a class="code" href="structque__fork__t.html#a7286de64b1013fe5f7f7079da21ed28b">trx</a>;          <span class="comment">/*!&lt; transaction: this is set only in</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">                       the root node */</span></div><div class="line"><a name="l00321"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a2b9dcd49fd33cd704540386d0e120774">  321</a></span>&#160;  ulint <a class="code" href="structque__fork__t.html#a2b9dcd49fd33cd704540386d0e120774">state</a>;         <span class="comment">/*!&lt; state of the fork node */</span></div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a80268e42b4ef1c6941be89f419b40954">  322</a></span>&#160;  <a class="code" href="structque__thr__t.html">que_thr_t</a> *<a class="code" href="structque__fork__t.html#a80268e42b4ef1c6941be89f419b40954">caller</a>;   <span class="comment">/*!&lt; pointer to a possible calling query</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">                       thread */</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="innodb__utility_8h.html#af8087cee2d41561b30b9d1903cebfb3d">UT_LIST_BASE_NODE_T</a>(<a class="code" href="structque__thr__t.html">que_thr_t</a>)</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a1ec2dfbefe303b061c5cf378ea5e1411">  325</a></span>&#160;  <a class="code" href="structque__thr__t.html#afe1afda734affd2891ed22734f89f208">thrs</a>; <span class="comment">/*!&lt; list of query threads */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">/*------------------------------*/</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="comment">/* The fields in this section are defined only in the root node */</span></div><div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a39b384bf83bd92ea973ef58d5f625a48">  328</a></span>&#160;  <a class="code" href="structsym__tab__t.html">sym_tab_t</a> *sym_tab; <span class="comment">/*!&lt; symbol table of the query,</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">                      generated by the parser, or NULL</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">                      if the graph was created &#39;by hand&#39; */</span></div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a99252a7cbfe9b4cfbc3ed8c152edfb2e">  331</a></span>&#160;  <a class="code" href="structpars__info__t.html">pars_info_t</a> *<a class="code" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>;  <span class="comment">/*!&lt; info struct, or NULL */</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">/* The following cur_... fields are relevant only in a select graph */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a68a973ac0e20ec649552e21dfdfb3bb9">  334</a></span>&#160;  ulint cur_end;             <span class="comment">/*!&lt; QUE_CUR_NOT_DEFINED, QUE_CUR_START,</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">                             QUE_CUR_END */</span></div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="structque__fork__t.html#ab54d52eab5bfd26b41ea7aba1961de60">  336</a></span>&#160;  ulint cur_pos;             <span class="comment">/*!&lt; if there are n rows in the result</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">                             set, values 0 and n + 1 mean before</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">                             first row, or after last row, depending</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">                             on cur_end; values 1...n mean a row</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">                             index */</span></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a6b6c4a15514b448ebb494d683abbc195">  341</a></span>&#160;  ibool cur_on_row;          <span class="comment">/*!&lt; TRUE if cursor is on a row, i.e.,</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">                             it is not before the first row or</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">                             after the last row */</span></div><div class="line"><a name="l00344"></a><span class="lineno"><a class="line" href="structque__fork__t.html#acec8954801bdb71debc25205cc4b5fc0">  344</a></span>&#160;  <a class="code" href="structsel__node__t.html">sel_node_t</a> *last_sel_node; <span class="comment">/*!&lt; last executed select node, or NULL</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">                             if none */</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="innodb__utility_8h.html#a496a8f8646bff5c74c18ee0c04134b6d">UT_LIST_NODE_T</a>(<a class="code" href="structque__fork__t.html">que_fork_t</a>)</div><div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="structque__fork__t.html#a734872fed96bae4cb510475855cfb26c">  347</a></span>&#160;  graphs; <span class="comment">/*!&lt; list of query graphs of a session</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">          or a stored procedure */</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <span class="comment">/*------------------------------*/</span></div><div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="structque__fork__t.html#af7d43c253def4f5407bba930e1d99196">  350</a></span>&#160;  <a class="code" href="structmem__block__info__t.html">mem_heap_t</a> *heap; <span class="comment">/*!&lt; memory heap where the fork was</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">                    created */</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;};</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/* Query fork (or graph) types */</span></div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="que0que_8h.html#a98b1430a89a606e579287ddf8cb1d5b1">  355</a></span>&#160;<span class="preprocessor">#define QUE_FORK_SELECT_NON_SCROLL 1 </span><span class="comment">/* forward-only cursor */</span><span class="preprocessor"></span></div><div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="que0que_8h.html#a6d1950d9db098ca67f0b5b533f707294">  356</a></span>&#160;<span class="preprocessor">#define QUE_FORK_SELECT_SCROLL 2     </span><span class="comment">/* scrollable cursor */</span><span class="preprocessor"></span></div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="que0que_8h.html#a352ed511f15b3aef4ab305ccc0d3536c">  357</a></span>&#160;<span class="preprocessor">#define QUE_FORK_INSERT 3</span></div><div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="que0que_8h.html#a3e0acd7dd4f365f6c0b654a403f0bc0a">  358</a></span>&#160;<span class="preprocessor">#define QUE_FORK_UPDATE 4</span></div><div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="que0que_8h.html#ae09ef176e582dbc44f16d6826471d909">  359</a></span>&#160;<span class="preprocessor">#define QUE_FORK_ROLLBACK 5</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">/* This is really the undo graph used in rollback,</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">no signal-sending roll_node in this graph */</span></div><div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="que0que_8h.html#a4a30d2d6885fb749e04eee1f6281429b">  362</a></span>&#160;<span class="preprocessor">#define QUE_FORK_PURGE 6</span></div><div class="line"><a name="l00363"></a><span class="lineno"><a class="line" href="que0que_8h.html#aaa2c5ed9963e686d7ef5199c0fce1a79">  363</a></span>&#160;<span class="preprocessor">#define QUE_FORK_EXECUTE 7</span></div><div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="que0que_8h.html#a50b0854e5bfb23e58e7be76ec5b74969">  364</a></span>&#160;<span class="preprocessor">#define QUE_FORK_PROCEDURE 8</span></div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="que0que_8h.html#a8adacf7cb6b56976cb30920e9cbd859f">  365</a></span>&#160;<span class="preprocessor">#define QUE_FORK_PROCEDURE_CALL 9</span></div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="que0que_8h.html#a7ea1cdd6aea95acb8a9aa6654ace9657">  366</a></span>&#160;<span class="preprocessor">#define QUE_FORK_MYSQL_INTERFACE 10</span></div><div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="que0que_8h.html#a413086408eb5b6a0c8cd9d60aa46bc1d">  367</a></span>&#160;<span class="preprocessor">#define QUE_FORK_RECOVERY 11</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">/* Query fork (or graph) states */</span></div><div class="line"><a name="l00370"></a><span class="lineno"><a class="line" href="que0que_8h.html#a297861eda2da47922293d7cefe515e47">  370</a></span>&#160;<span class="preprocessor">#define QUE_FORK_ACTIVE 1</span></div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="que0que_8h.html#afd71eb2356ac8f06489691fbfd19d3a1">  371</a></span>&#160;<span class="preprocessor">#define QUE_FORK_COMMAND_WAIT 2</span></div><div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="que0que_8h.html#a5445b80b49f59139345f17b50d183422">  372</a></span>&#160;<span class="preprocessor">#define QUE_FORK_INVALID 3</span></div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="que0que_8h.html#ab5208b72f3c380901fdd341ba87cdd0a">  373</a></span>&#160;<span class="preprocessor">#define QUE_FORK_BEING_FREED 4</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">/* Flag which is ORed to control structure statement node types */</span></div><div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="que0que_8h.html#a677fcf53e88664d141dd234f8ecb852d">  376</a></span>&#160;<span class="preprocessor">#define QUE_NODE_CONTROL_STAT 1024</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">/* Query graph node types */</span></div><div class="line"><a name="l00379"></a><span class="lineno"><a class="line" href="que0que_8h.html#a37ce71cfcc4dc0949da76995bd7da342">  379</a></span>&#160;<span class="preprocessor">#define QUE_NODE_LOCK 1</span></div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="que0que_8h.html#a3edaba59d2bc425fb61ab54941d2157d">  380</a></span>&#160;<span class="preprocessor">#define QUE_NODE_INSERT 2</span></div><div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="que0que_8h.html#a69eb386581aa1d4054eb827aa69c6161">  381</a></span>&#160;<span class="preprocessor">#define QUE_NODE_UPDATE 4</span></div><div class="line"><a name="l00382"></a><span class="lineno"><a class="line" href="que0que_8h.html#af8c46a5b1492f585a4861a94f79895f2">  382</a></span>&#160;<span class="preprocessor">#define QUE_NODE_CURSOR 5</span></div><div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa15e735ab5a30bb3ff1590b74d27f847">  383</a></span>&#160;<span class="preprocessor">#define QUE_NODE_SELECT 6</span></div><div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="que0que_8h.html#ae8e7897e245345e0f23214bbe58c1e9c">  384</a></span>&#160;<span class="preprocessor">#define QUE_NODE_AGGREGATE 7</span></div><div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="que0que_8h.html#ae031594a83094358d1b4f7a7ba220bea">  385</a></span>&#160;<span class="preprocessor">#define QUE_NODE_FORK 8</span></div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="que0que_8h.html#aa9f2abd577c161c6b33def184c93753d">  386</a></span>&#160;<span class="preprocessor">#define QUE_NODE_THR 9</span></div><div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="que0que_8h.html#a8244b53a8c6490c5300f61cdad3f2920">  387</a></span>&#160;<span class="preprocessor">#define QUE_NODE_UNDO 10</span></div><div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="que0que_8h.html#a3ad3ccaecbedf9a2d82a6316b3b841e8">  388</a></span>&#160;<span class="preprocessor">#define QUE_NODE_COMMIT 11</span></div><div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="que0que_8h.html#ac5fbae3e650afa39e0e2d856cb8d80e5">  389</a></span>&#160;<span class="preprocessor">#define QUE_NODE_ROLLBACK 12</span></div><div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="que0que_8h.html#a8e9b0712d47e94b37d42a558be1a9404">  390</a></span>&#160;<span class="preprocessor">#define QUE_NODE_PURGE 13</span></div><div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="que0que_8h.html#a6efea43b25bf0d4751389c99ff9b4aad">  391</a></span>&#160;<span class="preprocessor">#define QUE_NODE_SYMBOL 14</span></div><div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="que0que_8h.html#a46887251e68016bfac80520abeda7b7b">  392</a></span>&#160;<span class="preprocessor">#define QUE_NODE_RES_WORD 15</span></div><div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="que0que_8h.html#a1e7562c715be48daa9c470cdc9ba4669">  393</a></span>&#160;<span class="preprocessor">#define QUE_NODE_FUNC 16</span></div><div class="line"><a name="l00394"></a><span class="lineno"><a class="line" href="que0que_8h.html#a39385f11febd4dfb3d0e862fb166389d">  394</a></span>&#160;<span class="preprocessor">#define QUE_NODE_ORDER 17</span></div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="que0que_8h.html#a3cef8ec115323ce9cf45608e1bb20681">  395</a></span>&#160;<span class="preprocessor">#define QUE_NODE_PROC (18 + QUE_NODE_CONTROL_STAT)</span></div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="que0que_8h.html#a38d87bd501650700749dbd098a15d664">  396</a></span>&#160;<span class="preprocessor">#define QUE_NODE_IF (19 + QUE_NODE_CONTROL_STAT)</span></div><div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="que0que_8h.html#a4af661c85b1c456d1c9394c53885d50d">  397</a></span>&#160;<span class="preprocessor">#define QUE_NODE_WHILE (20 + QUE_NODE_CONTROL_STAT)</span></div><div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="que0que_8h.html#addbe2d7a5078496e131efb3d4c57a50c">  398</a></span>&#160;<span class="preprocessor">#define QUE_NODE_ASSIGNMENT 21</span></div><div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="que0que_8h.html#a1d2c6683e7123046e32d816860e10e9a">  399</a></span>&#160;<span class="preprocessor">#define QUE_NODE_FETCH 22</span></div><div class="line"><a name="l00400"></a><span class="lineno"><a class="line" href="que0que_8h.html#abfcd5b6b6143a1732e84b5f4b1e811a8">  400</a></span>&#160;<span class="preprocessor">#define QUE_NODE_OPEN 23</span></div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="que0que_8h.html#ac25b469ca925608a640dd44e210579b6">  401</a></span>&#160;<span class="preprocessor">#define QUE_NODE_COL_ASSIGNMENT 24</span></div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="que0que_8h.html#ac12a9f415253a828af50bde06698d11e">  402</a></span>&#160;<span class="preprocessor">#define QUE_NODE_FOR (25 + QUE_NODE_CONTROL_STAT)</span></div><div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="que0que_8h.html#a44d55758b349b077058e7fa81b6f322d">  403</a></span>&#160;<span class="preprocessor">#define QUE_NODE_RETURN 26</span></div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="que0que_8h.html#ad5b537c26e5e72aa8f89560af2bb3f67">  404</a></span>&#160;<span class="preprocessor">#define QUE_NODE_ELSIF 27</span></div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="que0que_8h.html#a559b769be86a8ecb4200adfba2eea2ed">  405</a></span>&#160;<span class="preprocessor">#define QUE_NODE_CALL 28</span></div><div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="que0que_8h.html#a4bd3c5460a26be56b3eaa9922c914dc3">  406</a></span>&#160;<span class="preprocessor">#define QUE_NODE_EXIT 29</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="preprocessor">#include &quot;que0que.ic&quot;</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="que0que_8h_html_aeb90e40bb8f2a15e43350a932101a2c2"><div class="ttname"><a href="que0que_8h.html#aeb90e40bb8f2a15e43350a932101a2c2">que_node_print_info</a></div><div class="ttdeci">void que_node_print_info(que_node_t *node)</div><div class="ttdoc">Prints info of an SQL query graph node. </div></div>
<div class="ttc" id="que0que_8h_html_a225fd1a8cf0681af299cce36f7fabcdda32de4864dd7a30dd10ff27a0977bb0a7"><div class="ttname"><a href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcdda32de4864dd7a30dd10ff27a0977bb0a7">QUE_CUR_START</a></div><div class="ttdef"><b>Definition:</b> que0que.h:246</div></div>
<div class="ttc" id="que0que_8h_html_ad4c8d6a29ac61b809665d40af253f323"><div class="ttname"><a href="que0que_8h.html#ad4c8d6a29ac61b809665d40af253f323">que_close</a></div><div class="ttdeci">void que_close(void)</div><div class="ttdoc">Close the query sub-system. </div><div class="ttdef"><b>Definition:</b> que0que.cc:1083</div></div>
<div class="ttc" id="que0que_8h_html_a0b113272c7b5adce6d6c2c23df06cd1f"><div class="ttname"><a href="que0que_8h.html#a0b113272c7b5adce6d6c2c23df06cd1f">que_thr_move_to_run_state_for_mysql</a></div><div class="ttdeci">void que_thr_move_to_run_state_for_mysql(que_thr_t *thr, trx_t *trx)</div><div class="ttdoc">Moves a thread from another state to the QUE_THR_RUNNING state. </div><div class="ttdef"><b>Definition:</b> que0que.cc:723</div></div>
<div class="ttc" id="structque__fork__t_html_a0d6e5c0bafe538827dedaf0205d92da0"><div class="ttname"><a href="structque__fork__t.html#a0d6e5c0bafe538827dedaf0205d92da0">que_fork_t::fork_type</a></div><div class="ttdeci">ulint fork_type</div><div class="ttdoc">fork type </div><div class="ttdef"><b>Definition:</b> que0que.h:313</div></div>
<div class="ttc" id="structque__fork__t_html_a271ccafc8523db3e3f54015893ab689e"><div class="ttname"><a href="structque__fork__t.html#a271ccafc8523db3e3f54015893ab689e">que_fork_t::n_active_thrs</a></div><div class="ttdeci">ulint n_active_thrs</div><div class="ttdoc">if this is the root of a graph, the number query threads that have been started in que_thr_move_to_ru...</div><div class="ttdef"><b>Definition:</b> que0que.h:314</div></div>
<div class="ttc" id="que0que_8h_html_aa1c2d757c47f173a0caae2e502795043aaf2d20bd2c7cac15e8e0a554523b0885"><div class="ttname"><a href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043aaf2d20bd2c7cac15e8e0a554523b0885">QUE_THR_COMPLETED</a></div><div class="ttdoc">in selects this means that the thread is at the end of its result set (or start, in case of a scroll ...</div><div class="ttdef"><b>Definition:</b> que0que.h:232</div></div>
<div class="ttc" id="que0que_8h_html_a772a955537d31cf553f8413986ccaad3"><div class="ttname"><a href="que0que_8h.html#a772a955537d31cf553f8413986ccaad3">que_node_get_val_buf_size</a></div><div class="ttdeci">UNIV_INLINE ulint que_node_get_val_buf_size(que_node_t *node)</div><div class="ttdoc">Gets the value buffer size of a graph node. </div></div>
<div class="ttc" id="que0que_8h_html_a68d4bcd1e20618ca9549bbd156d3d1cb"><div class="ttname"><a href="que0que_8h.html#a68d4bcd1e20618ca9549bbd156d3d1cb">que_thr_stop_for_mysql</a></div><div class="ttdeci">void que_thr_stop_for_mysql(que_thr_t *thr)</div><div class="ttdoc">A patch for MySQL used to &amp;#39;stop&amp;#39; a dummy query thread used in MySQL. </div><div class="ttdef"><b>Definition:</b> que0que.cc:685</div></div>
<div class="ttc" id="que0que_8h_html_a6f3db5f78351ae50cfa923d743f9fd7d"><div class="ttname"><a href="que0que_8h.html#a6f3db5f78351ae50cfa923d743f9fd7d">que_fork_get_child</a></div><div class="ttdeci">UNIV_INLINE que_node_t * que_fork_get_child(que_fork_t *fork)</div><div class="ttdoc">Gets the child node of the first thr in a fork. </div></div>
<div class="ttc" id="que0que_8h_html_a524a6033ecddbb12f6cce95e79285dd0"><div class="ttname"><a href="que0que_8h.html#a524a6033ecddbb12f6cce95e79285dd0">que_node_list_add_last</a></div><div class="ttdeci">UNIV_INLINE que_node_t * que_node_list_add_last(que_node_t *node_list, que_node_t *node)</div><div class="ttdoc">Catenates a query graph node to a list of them, possible empty list. </div></div>
<div class="ttc" id="que0que_8h_html_acf30435e59f2ebf079c39aab8b75de66"><div class="ttname"><a href="que0que_8h.html#acf30435e59f2ebf079c39aab8b75de66">que_fork_start_command</a></div><div class="ttdeci">que_thr_t * que_fork_start_command(que_fork_t *fork)</div><div class="ttdoc">Starts execution of a command in a query fork. </div><div class="ttdef"><b>Definition:</b> que0que.cc:277</div></div>
<div class="ttc" id="structtrx__t_html"><div class="ttname"><a href="structtrx__t.html">trx_t</a></div><div class="ttdef"><b>Definition:</b> trx0trx.h:833</div></div>
<div class="ttc" id="que0que_8h_html_a9ed823ebec368c4a8bc1cf480d731043"><div class="ttname"><a href="que0que_8h.html#a9ed823ebec368c4a8bc1cf480d731043">que_thr_mutex</a></div><div class="ttdeci">ib_mutex_t que_thr_mutex</div><div class="ttdoc">Mutex protecting the query threads. </div></div>
<div class="ttc" id="que0que_8h_html_a50ac1bf0309950e062eb4edc345397bf"><div class="ttname"><a href="que0que_8h.html#a50ac1bf0309950e062eb4edc345397bf">que_node_set_val_buf_size</a></div><div class="ttdeci">UNIV_INLINE void que_node_set_val_buf_size(que_node_t *node, ulint size)</div><div class="ttdoc">Sets the value buffer size of a graph node. </div></div>
<div class="ttc" id="structque__thr__t_html_a02429aba8eb9d0cada17b1c17fae0250"><div class="ttname"><a href="structque__thr__t.html#a02429aba8eb9d0cada17b1c17fae0250">que_thr_t::is_active</a></div><div class="ttdeci">ibool is_active</div><div class="ttdoc">TRUE if the thread has been set to the run state in que_thr_move_to_run_state, but not deactivated in...</div><div class="ttdef"><b>Definition:</b> que0que.h:258</div></div>
<div class="ttc" id="structsym__tab__t_html"><div class="ttname"><a href="structsym__tab__t.html">sym_tab_t</a></div><div class="ttdoc">Symbol table. </div><div class="ttdef"><b>Definition:</b> pars0sym.h:200</div></div>
<div class="ttc" id="structque__thr__t_html_ad0e9e94433705a1bd889042829182ab3"><div class="ttname"><a href="structque__thr__t.html#ad0e9e94433705a1bd889042829182ab3">que_thr_t::trx_thrs</a></div><div class="ttdeci">trx_thrs</div><div class="ttdoc">lists of threads in wait list of the trx </div><div class="ttdef"><b>Definition:</b> que0que.h:294</div></div>
<div class="ttc" id="structque__thr__t_html_aeb33fd091cd1254840181940f87a7337"><div class="ttname"><a href="structque__thr__t.html#aeb33fd091cd1254840181940f87a7337">que_thr_t::queue</a></div><div class="ttdeci">queue</div><div class="ttdoc">list of runnable thread nodes in the server task queue </div><div class="ttdef"><b>Definition:</b> que0que.h:297</div></div>
<div class="ttc" id="structque__fork__t_html_a2b9dcd49fd33cd704540386d0e120774"><div class="ttname"><a href="structque__fork__t.html#a2b9dcd49fd33cd704540386d0e120774">que_fork_t::state</a></div><div class="ttdeci">ulint state</div><div class="ttdoc">state of the fork node </div><div class="ttdef"><b>Definition:</b> que0que.h:321</div></div>
<div class="ttc" id="structque__thr__t_html_a4af8d63475931561405d348cae839fde"><div class="ttname"><a href="structque__thr__t.html#a4af8d63475931561405d348cae839fde">que_thr_t::prebuilt</a></div><div class="ttdeci">row_prebuilt_t * prebuilt</div><div class="ttdoc">prebuilt structure processed by the query thread </div><div class="ttdef"><b>Definition:</b> que0que.h:302</div></div>
<div class="ttc" id="que0que_8h_html_a54b1571190231078521f29da16ba096a"><div class="ttname"><a href="que0que_8h.html#a54b1571190231078521f29da16ba096a">que_thr_stop_for_mysql_no_error</a></div><div class="ttdeci">void que_thr_stop_for_mysql_no_error(que_thr_t *thr, trx_t *trx)</div><div class="ttdoc">A patch for MySQL used to &amp;#39;stop&amp;#39; a dummy query thread used in MySQL select, when there is no error or...</div><div class="ttdef"><b>Definition:</b> que0que.cc:744</div></div>
<div class="ttc" id="que0que_8h_html_a74faa07e0ae046282059ad7caf6b7e7c"><div class="ttname"><a href="que0que_8h.html#a74faa07e0ae046282059ad7caf6b7e7c">que_node_get_containing_loop_node</a></div><div class="ttdeci">que_node_t * que_node_get_containing_loop_node(que_node_t *node)</div><div class="ttdoc">Get the first containing loop node (e.g. </div><div class="ttdef"><b>Definition:</b> que0que.cc:762</div></div>
<div class="ttc" id="que0que_8h_html_ad14a8632c8c2e095acee09f1b51f96f7a0c2e57e510fd0307213d9537f31505b6"><div class="ttname"><a href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a0c2e57e510fd0307213d9537f31505b6">QUE_THR_LOCK_NOLOCK</a></div><div class="ttdef"><b>Definition:</b> que0que.h:240</div></div>
<div class="ttc" id="structmem__block__info__t_html"><div class="ttname"><a href="structmem__block__info__t.html">mem_block_info_t</a></div><div class="ttdoc">The info structure stored at the beginning of a heap block. </div><div class="ttdef"><b>Definition:</b> mem0mem.h:349</div></div>
<div class="ttc" id="trx0roll_8h_html"><div class="ttname"><a href="trx0roll_8h.html">trx0roll.h</a></div><div class="ttdoc">Transaction rollback. </div></div>
<div class="ttc" id="que0que_8h_html_a99bcbdf76361fa3ba40253adee256235"><div class="ttname"><a href="que0que_8h.html#a99bcbdf76361fa3ba40253adee256235">que_thr_end_lock_wait</a></div><div class="ttdeci">que_thr_t * que_thr_end_lock_wait(trx_t *trx)</div><div class="ttdoc">Moves a suspended query thread to the QUE_THR_RUNNING state and release a worker thread to execute it...</div><div class="ttdef"><b>Definition:</b> que0que.cc:190</div></div>
<div class="ttc" id="data0data_8h_html"><div class="ttname"><a href="data0data_8h.html">data0data.h</a></div><div class="ttdoc">SQL data field and tuple. </div></div>
<div class="ttc" id="structque__fork__t_html"><div class="ttname"><a href="structque__fork__t.html">que_fork_t</a></div><div class="ttdef"><b>Definition:</b> que0que.h:310</div></div>
<div class="ttc" id="que0que_8h_html_aa1c2d757c47f173a0caae2e502795043"><div class="ttname"><a href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043">que_thr_state_t</a></div><div class="ttdeci">que_thr_state_t</div><div class="ttdoc">Query thread states. </div><div class="ttdef"><b>Definition:</b> que0que.h:226</div></div>
<div class="ttc" id="que0que_8h_html_ade079995eb4121b97e5a588f53806ab0"><div class="ttname"><a href="que0que_8h.html#ade079995eb4121b97e5a588f53806ab0">que_graph_is_select</a></div><div class="ttdeci">UNIV_INLINE ibool que_graph_is_select(que_t *graph)</div><div class="ttdoc">Returns TRUE if the query graph is for a SELECT statement. </div></div>
<div class="ttc" id="que0que_8h_html_a8b97f2b24596d569a3e02e16dbc60550"><div class="ttname"><a href="que0que_8h.html#a8b97f2b24596d569a3e02e16dbc60550">que_graph_free</a></div><div class="ttdeci">void que_graph_free(que_t *graph)</div><div class="ttdoc">Frees a query graph. </div><div class="ttdef"><b>Definition:</b> que0que.cc:507</div></div>
<div class="ttc" id="srv0srv_8h_html"><div class="ttname"><a href="srv0srv_8h.html">srv0srv.h</a></div><div class="ttdoc">The server main program. </div></div>
<div class="ttc" id="pars0types_8h_html"><div class="ttname"><a href="pars0types_8h.html">pars0types.h</a></div><div class="ttdoc">SQL parser global types. </div></div>
<div class="ttc" id="que0types_8h_html"><div class="ttname"><a href="que0types_8h.html">que0types.h</a></div><div class="ttdoc">Query graph global types. </div></div>
<div class="ttc" id="que0que_8h_html_aa1c2d757c47f173a0caae2e502795043aa4ea4d46aa19cff0cb6c308562ed793b"><div class="ttname"><a href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043aa4ea4d46aa19cff0cb6c308562ed793b">QUE_THR_LOCK_WAIT</a></div><div class="ttdef"><b>Definition:</b> que0que.h:234</div></div>
<div class="ttc" id="structque__fork__t_html_a80268e42b4ef1c6941be89f419b40954"><div class="ttname"><a href="structque__fork__t.html#a80268e42b4ef1c6941be89f419b40954">que_fork_t::caller</a></div><div class="ttdeci">que_thr_t * caller</div><div class="ttdoc">pointer to a possible calling query thread </div><div class="ttdef"><b>Definition:</b> que0que.h:322</div></div>
<div class="ttc" id="structque__thr__t_html_a9e291f95bb00c8906bb9afde43b8d53f"><div class="ttname"><a href="structque__thr__t.html#a9e291f95bb00c8906bb9afde43b8d53f">que_thr_t::run_node</a></div><div class="ttdeci">que_node_t * run_node</div><div class="ttdoc">pointer to the node where the subgraph down from this node is currently executed </div><div class="ttdef"><b>Definition:</b> que0que.h:267</div></div>
<div class="ttc" id="que0que_8h_html_a6c8c1d4c1f8b65edd4e5cd9c7b86fd17"><div class="ttname"><a href="que0que_8h.html#a6c8c1d4c1f8b65edd4e5cd9c7b86fd17">que_node_list_get_len</a></div><div class="ttdeci">UNIV_INLINE ulint que_node_list_get_len(que_node_t *node_list)</div><div class="ttdoc">Gets a query graph node list length. </div></div>
<div class="ttc" id="structque__thr__t_html_afd6d0f9697b25e0273bc95028ff41533"><div class="ttname"><a href="structque__thr__t.html#afd6d0f9697b25e0273bc95028ff41533">que_thr_t::fk_cascade_depth</a></div><div class="ttdeci">ulint fk_cascade_depth</div><div class="ttdoc">maximum cascading call depth supported for foreign key constraint related delete/updates ...</div><div class="ttdef"><b>Definition:</b> que0que.h:299</div></div>
<div class="ttc" id="que0que_8h_html_ad14a8632c8c2e095acee09f1b51f96f7"><div class="ttname"><a href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7">que_thr_lock_t</a></div><div class="ttdeci">que_thr_lock_t</div><div class="ttdoc">Query thread lock states. </div><div class="ttdef"><b>Definition:</b> que0que.h:239</div></div>
<div class="ttc" id="que0que_8h_html_aa1c2d757c47f173a0caae2e502795043a7d5bc79632b3617365df0d66967f7b77"><div class="ttname"><a href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a7d5bc79632b3617365df0d66967f7b77">QUE_THR_SUSPENDED</a></div><div class="ttdef"><b>Definition:</b> que0que.h:235</div></div>
<div class="ttc" id="que0que_8h_html_a225fd1a8cf0681af299cce36f7fabcddaf11e7e65398f491fe8efe25087f282e5"><div class="ttname"><a href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcddaf11e7e65398f491fe8efe25087f282e5">QUE_CUR_NOT_DEFINED</a></div><div class="ttdef"><b>Definition:</b> que0que.h:246</div></div>
<div class="ttc" id="structrow__prebuilt__t_html"><div class="ttname"><a href="structrow__prebuilt__t.html">row_prebuilt_t</a></div><div class="ttdoc">A struct for (sometimes lazily) prebuilt structures in an Innobase table handle used within MySQL; th...</div><div class="ttdef"><b>Definition:</b> row0mysql.h:550</div></div>
<div class="ttc" id="que0que_8h_html_a99c6a223ab62908329ef4cedc9029192"><div class="ttname"><a href="que0que_8h.html#a99c6a223ab62908329ef4cedc9029192">que_thr_peek_stop</a></div><div class="ttdeci">UNIV_INLINE ibool que_thr_peek_stop(que_thr_t *thr)</div><div class="ttdoc">Checks if graph, trx, or session is in a state where the query thread should be stopped. </div></div>
<div class="ttc" id="dict0types_8h_html"><div class="ttname"><a href="dict0types_8h.html">dict0types.h</a></div><div class="ttdoc">Data dictionary global types. </div></div>
<div class="ttc" id="que0que_8h_html_aa1c2d757c47f173a0caae2e502795043a719e9354f4b3cdd87b660857d2946797"><div class="ttname"><a href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a719e9354f4b3cdd87b660857d2946797">QUE_THR_RUNNING</a></div><div class="ttdef"><b>Definition:</b> que0que.h:227</div></div>
<div class="ttc" id="que0que_8h_html_ad08266f127e451456e2882c2de74197b"><div class="ttname"><a href="que0que_8h.html#ad08266f127e451456e2882c2de74197b">que_node_get_data_type</a></div><div class="ttdeci">UNIV_INLINE dtype_t * que_node_get_data_type(que_node_t *node)</div><div class="ttdoc">Gets pointer to the value data type field of a graph node. </div></div>
<div class="ttc" id="structpars__info__t_html"><div class="ttname"><a href="structpars__info__t.html">pars_info_t</a></div><div class="ttdoc">Extra information supplied for pars_sql(). </div><div class="ttdef"><b>Definition:</b> pars0pars.h:450</div></div>
<div class="ttc" id="structque__fork__t_html_a7286de64b1013fe5f7f7079da21ed28b"><div class="ttname"><a href="structque__fork__t.html#a7286de64b1013fe5f7f7079da21ed28b">que_fork_t::trx</a></div><div class="ttdeci">trx_t * trx</div><div class="ttdoc">transaction: this is set only in the root node </div><div class="ttdef"><b>Definition:</b> que0que.h:319</div></div>
<div class="ttc" id="structque__thr__t_html_a41722365344cddfd949115760196c309"><div class="ttname"><a href="structque__thr__t.html#a41722365344cddfd949115760196c309">que_thr_t::lock_state</a></div><div class="ttdeci">ulint lock_state</div><div class="ttdoc">lock state of thread (table or row) </div><div class="ttdef"><b>Definition:</b> que0que.h:274</div></div>
<div class="ttc" id="que0que_8h_html_ad14a8632c8c2e095acee09f1b51f96f7a30b582854b8c9c1435ff7ddac979184c"><div class="ttname"><a href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a30b582854b8c9c1435ff7ddac979184c">QUE_THR_LOCK_ROW</a></div><div class="ttdef"><b>Definition:</b> que0que.h:241</div></div>
<div class="ttc" id="que0que_8h_html_af88924fbf508f74115da885ed7e5bb77"><div class="ttname"><a href="que0que_8h.html#af88924fbf508f74115da885ed7e5bb77">que_node_set_parent</a></div><div class="ttdeci">UNIV_INLINE void que_node_set_parent(que_node_t *node, que_node_t *parent)</div><div class="ttdoc">Sets the parent of a graph node. </div></div>
<div class="ttc" id="db0err_8h_html_a6fdd08971b32ee513b20967238f1654d"><div class="ttname"><a href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a></div><div class="ttdeci">dberr_t</div><div class="ttdef"><b>Definition:</b> db0err.h:38</div></div>
<div class="ttc" id="row0types_8h_html"><div class="ttname"><a href="row0types_8h.html">row0types.h</a></div><div class="ttdoc">Row operation global types. </div></div>
<div class="ttc" id="que0que_8h_html_a225fd1a8cf0681af299cce36f7fabcdd"><div class="ttname"><a href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcdd">que_cur_t</a></div><div class="ttdeci">que_cur_t</div><div class="ttdoc">From where the cursor position is counted. </div><div class="ttdef"><b>Definition:</b> que0que.h:246</div></div>
<div class="ttc" id="structque__thr__t_html"><div class="ttname"><a href="structque__thr__t.html">que_thr_t</a></div><div class="ttdef"><b>Definition:</b> que0que.h:251</div></div>
<div class="ttc" id="que0que_8h_html_a225fd1a8cf0681af299cce36f7fabcdda558d7c46d72e9add1147470f620055bd"><div class="ttname"><a href="que0que_8h.html#a225fd1a8cf0681af299cce36f7fabcdda558d7c46d72e9add1147470f620055bd">QUE_CUR_END</a></div><div class="ttdef"><b>Definition:</b> que0que.h:246</div></div>
<div class="ttc" id="structque__thr__t_html_a83d20c69d72f9d051d10783fd53d8d99"><div class="ttname"><a href="structque__thr__t.html#a83d20c69d72f9d051d10783fd53d8d99">que_thr_t::common</a></div><div class="ttdeci">que_common_t common</div><div class="ttdoc">type: QUE_NODE_THR </div><div class="ttdef"><b>Definition:</b> que0que.h:252</div></div>
<div class="ttc" id="structdfield__t_html"><div class="ttname"><a href="structdfield__t.html">dfield_t</a></div><div class="ttdoc">Structure for an SQL data field. </div><div class="ttdef"><b>Definition:</b> data0data.h:639</div></div>
<div class="ttc" id="que0que_8h_html_a680cc5106abf03a84bc73ab25eaec91a"><div class="ttname"><a href="que0que_8h.html#a680cc5106abf03a84bc73ab25eaec91a">que_run_threads</a></div><div class="ttdeci">void que_run_threads(que_thr_t *thr)</div><div class="ttdoc">Run a query thread. </div><div class="ttdef"><b>Definition:</b> que0que.cc:994</div></div>
<div class="ttc" id="que0que_8h_html_aa1c2d757c47f173a0caae2e502795043acafa09f296487148ac3f408394a9fd75"><div class="ttname"><a href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043acafa09f296487148ac3f408394a9fd75">QUE_THR_PROCEDURE_WAIT</a></div><div class="ttdef"><b>Definition:</b> que0que.h:228</div></div>
<div class="ttc" id="que0que_8h_html_a75dbe14d306359add3af3830e78c0de6"><div class="ttname"><a href="que0que_8h.html#a75dbe14d306359add3af3830e78c0de6">que_init</a></div><div class="ttdeci">void que_init(void)</div><div class="ttdoc">Initialise the query sub-system. </div><div class="ttdef"><b>Definition:</b> que0que.cc:1079</div></div>
<div class="ttc" id="que0que_8h_html_a31de919212a3e0dabdb5f5057fa41c24"><div class="ttname"><a href="que0que_8h.html#a31de919212a3e0dabdb5f5057fa41c24">que_fork_get_first_thr</a></div><div class="ttdeci">UNIV_INLINE que_thr_t * que_fork_get_first_thr(que_fork_t *fork)</div><div class="ttdoc">Gets the first thr in a fork. </div></div>
<div class="ttc" id="structdtype__t_html"><div class="ttname"><a href="structdtype__t.html">dtype_t</a></div><div class="ttdef"><b>Definition:</b> data0type.h:497</div></div>
<div class="ttc" id="que0types_8h_html_a3509f9b5d79a0b309f8250593e46ed00"><div class="ttname"><a href="que0types_8h.html#a3509f9b5d79a0b309f8250593e46ed00">que_node_t</a></div><div class="ttdeci">void que_node_t</div><div class="ttdef"><b>Definition:</b> que0types.h:40</div></div>
<div class="ttc" id="que0que_8h_html_a2271577847577d707d0227cc5bb7eafb"><div class="ttname"><a href="que0que_8h.html#a2271577847577d707d0227cc5bb7eafb">que_node_list_get_last</a></div><div class="ttdeci">UNIV_INLINE que_node_t * que_node_list_get_last(que_node_t *node_list)</div></div>
<div class="ttc" id="structque__common__t_html"><div class="ttname"><a href="structque__common__t.html">que_common_t</a></div><div class="ttdef"><b>Definition:</b> que0types.h:50</div></div>
<div class="ttc" id="structsel__node__t_html"><div class="ttname"><a href="structsel__node__t.html">sel_node_t</a></div><div class="ttdoc">Select statement node. </div><div class="ttdef"><b>Definition:</b> row0sel.h:341</div></div>
<div class="ttc" id="que0que_8h_html_a583f8b76adbd4b916f35289b2d1bc6ce"><div class="ttname"><a href="que0que_8h.html#a583f8b76adbd4b916f35289b2d1bc6ce">que_node_get_type</a></div><div class="ttdeci">UNIV_INLINE ulint que_node_get_type(const que_node_t *node)</div><div class="ttdoc">Gets the type of a graph node. </div></div>
<div class="ttc" id="que0que_8h_html_a6971290c3e2c1c4facec13185d8b5757"><div class="ttname"><a href="que0que_8h.html#a6971290c3e2c1c4facec13185d8b5757">que_thr_create</a></div><div class="ttdeci">que_thr_t * que_thr_create(que_fork_t *parent, mem_heap_t *heap, row_prebuilt_t *prebuilt)</div><div class="ttdoc">Creates a query graph thread node. </div><div class="ttdef"><b>Definition:</b> que0que.cc:157</div></div>
<div class="ttc" id="innodb__utility_8h_html_af8087cee2d41561b30b9d1903cebfb3d"><div class="ttname"><a href="innodb__utility_8h.html#af8087cee2d41561b30b9d1903cebfb3d">UT_LIST_BASE_NODE_T</a></div><div class="ttdeci">#define UT_LIST_BASE_NODE_T(TYPE)</div><div class="ttdef"><b>Definition:</b> innodb_utility.h:47</div></div>
<div class="ttc" id="que0que_8h_html_aedbe8206a381aae9733cc98bb809403d"><div class="ttname"><a href="que0que_8h.html#aedbe8206a381aae9733cc98bb809403d">que_node_get_parent</a></div><div class="ttdeci">UNIV_INLINE que_node_t * que_node_get_parent(que_node_t *node)</div><div class="ttdoc">Gets the parent node of a query graph node. </div></div>
<div class="ttc" id="que0que_8h_html_a4c4a66b54d1242f493b96b27e2c049c5"><div class="ttname"><a href="que0que_8h.html#a4c4a66b54d1242f493b96b27e2c049c5">que_eval_sql</a></div><div class="ttdeci">dberr_t que_eval_sql(pars_info_t *info, const char *sql, ibool reserve_dict_mutex, trx_t *trx)</div><div class="ttdoc">Evaluate the given SQL. </div><div class="ttdef"><b>Definition:</b> que0que.cc:1041</div></div>
<div class="ttc" id="que0que_8h_html_a04eee3d0d397c72abf54ed5428137d45"><div class="ttname"><a href="que0que_8h.html#a04eee3d0d397c72abf54ed5428137d45">que_fork_scheduler_round_robin</a></div><div class="ttdeci">que_thr_t * que_fork_scheduler_round_robin(que_fork_t *fork, que_thr_t *thr)</div><div class="ttdoc">Round robin scheduler. </div><div class="ttdef"><b>Definition:</b> que0que.cc:233</div></div>
<div class="ttc" id="structque__thr__t_html_aa14f975225c01dbe79a2d3152ce41ac6"><div class="ttname"><a href="structque__thr__t.html#aa14f975225c01dbe79a2d3152ce41ac6">que_thr_t::child</a></div><div class="ttdeci">que_node_t * child</div><div class="ttdoc">graph child node </div><div class="ttdef"><b>Definition:</b> que0que.h:255</div></div>
<div class="ttc" id="que0que_8h_html_a007dfc7a252c50177a025e2106f6053c"><div class="ttname"><a href="que0que_8h.html#a007dfc7a252c50177a025e2106f6053c">que_graph_free_recursive</a></div><div class="ttdeci">void que_graph_free_recursive(que_node_t *node)</div><div class="ttdoc">Frees a query graph, but not the heap where it was created. </div><div class="ttdef"><b>Definition:</b> que0que.cc:364</div></div>
<div class="ttc" id="usr0types_8h_html"><div class="ttname"><a href="usr0types_8h.html">usr0types.h</a></div><div class="ttdoc">Users and sessions global types. </div></div>
<div class="ttc" id="que0que_8h_html_a878e9cb52736ec5cbde135e7699b8bf8"><div class="ttname"><a href="que0que_8h.html#a878e9cb52736ec5cbde135e7699b8bf8">thr_is_recv</a></div><div class="ttdeci">UNIV_INLINE ibool thr_is_recv(const que_thr_t *thr)</div><div class="ttdoc">Determines if this thread is rolling back an incomplete transaction in crash recovery. </div></div>
<div class="ttc" id="structque__thr__t_html_a4c65fa73ec41afecb650ada4483774aa"><div class="ttname"><a href="structque__thr__t.html#a4c65fa73ec41afecb650ada4483774aa">que_thr_t::prev_node</a></div><div class="ttdeci">que_node_t * prev_node</div><div class="ttdoc">pointer to the node from which the control came </div><div class="ttdef"><b>Definition:</b> que0que.h:270</div></div>
<div class="ttc" id="que0que_8h_html_a8a52bb487c54522cbb437ee19563c990"><div class="ttname"><a href="que0que_8h.html#a8a52bb487c54522cbb437ee19563c990">thr_get_trx</a></div><div class="ttdeci">UNIV_INLINE trx_t * thr_get_trx(que_thr_t *thr)</div><div class="ttdoc">Gets the trx of a query thread. </div></div>
<div class="ttc" id="que0que_8h_html_aa1c2d757c47f173a0caae2e502795043a6ec29d45c7d0851a4ef190cd4e87856f"><div class="ttname"><a href="que0que_8h.html#aa1c2d757c47f173a0caae2e502795043a6ec29d45c7d0851a4ef190cd4e87856f">QUE_THR_COMMAND_WAIT</a></div><div class="ttdef"><b>Definition:</b> que0que.h:233</div></div>
<div class="ttc" id="trx0trx_8h_html"><div class="ttname"><a href="trx0trx_8h.html">trx0trx.h</a></div><div class="ttdoc">The transaction. </div></div>
<div class="ttc" id="structque__thr__t_html_a2ab164d5dfdabc19d6fc2f150246c5e8"><div class="ttname"><a href="structque__thr__t.html#a2ab164d5dfdabc19d6fc2f150246c5e8">que_thr_t::graph</a></div><div class="ttdeci">que_t * graph</div><div class="ttdoc">graph where this node belongs </div><div class="ttdef"><b>Definition:</b> que0que.h:256</div></div>
<div class="ttc" id="mysql__ssl__rsa__setup_8cc_html_a5f4e2d00e13f7f971e3fbce0dee76947"><div class="ttname"><a href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a></div><div class="ttdeci">Log info(cout, &quot;NOTE&quot;)</div></div>
<div class="ttc" id="que0que_8h_html_ad14a8632c8c2e095acee09f1b51f96f7a273d63e60853e59cdffce429a80f808d"><div class="ttname"><a href="que0que_8h.html#ad14a8632c8c2e095acee09f1b51f96f7a273d63e60853e59cdffce429a80f808d">QUE_THR_LOCK_TABLE</a></div><div class="ttdef"><b>Definition:</b> que0que.h:242</div></div>
<div class="ttc" id="structque__thr__t_html_a7ba8e36e38940ce5c9869d0e97d23e99"><div class="ttname"><a href="structque__thr__t.html#a7ba8e36e38940ce5c9869d0e97d23e99">que_thr_t::slot</a></div><div class="ttdeci">struct srv_slot_t * slot</div><div class="ttdoc">The thread slot in the lock_sys-&gt;waiting_threads array protected by lock_sys-&gt;wait_mutex when writing...</div><div class="ttdef"><b>Definition:</b> que0que.h:286</div></div>
<div class="ttc" id="structque__thr__t_html_afe1afda734affd2891ed22734f89f208"><div class="ttname"><a href="structque__thr__t.html#afe1afda734affd2891ed22734f89f208">que_thr_t::thrs</a></div><div class="ttdeci">thrs</div><div class="ttdoc">list of thread nodes of the fork node </div><div class="ttdef"><b>Definition:</b> que0que.h:291</div></div>
<div class="ttc" id="que0que_8h_html_a86c901c7f62e56f3c10b357fcf62fb3f"><div class="ttname"><a href="que0que_8h.html#a86c901c7f62e56f3c10b357fcf62fb3f">que_node_get_val</a></div><div class="ttdeci">UNIV_INLINE dfield_t * que_node_get_val(que_node_t *node)</div><div class="ttdoc">Gets pointer to the value dfield of a graph node. </div></div>
<div class="ttc" id="que0que_8h_html_a5a460a3de4baf40b2b158b4969ac3659"><div class="ttname"><a href="que0que_8h.html#a5a460a3de4baf40b2b158b4969ac3659">que_fork_create</a></div><div class="ttdeci">que_fork_t * que_fork_create(que_t *graph, que_node_t *parent, ulint fork_type, mem_heap_t *heap)</div><div class="ttdoc">Creates a query graph fork node. </div><div class="ttdef"><b>Definition:</b> que0que.cc:121</div></div>
<div class="ttc" id="que0que_8h_html_ae4d5701507aba55e090f2255375f60f8"><div class="ttname"><a href="que0que_8h.html#ae4d5701507aba55e090f2255375f60f8">que_node_get_next</a></div><div class="ttdeci">UNIV_INLINE que_node_t * que_node_get_next(que_node_t *node)</div><div class="ttdoc">Gets the next list node in a list of query graph nodes. </div></div>
<div class="ttc" id="structque__thr__t_html_aaea8346d784a705833daf00999c926fe"><div class="ttname"><a href="structque__thr__t.html#aaea8346d784a705833daf00999c926fe">que_thr_t::state</a></div><div class="ttdeci">que_thr_state_t state</div><div class="ttdoc">state of the query thread </div><div class="ttdef"><b>Definition:</b> que0que.h:257</div></div>
<div class="ttc" id="structque__fork__t_html_a246abb802b2df911eea8998b2b27bdd5"><div class="ttname"><a href="structque__fork__t.html#a246abb802b2df911eea8998b2b27bdd5">que_fork_t::common</a></div><div class="ttdeci">que_common_t common</div><div class="ttdoc">type: QUE_NODE_FORK </div><div class="ttdef"><b>Definition:</b> que0que.h:311</div></div>
<div class="ttc" id="innodb__utility_8h_html_a496a8f8646bff5c74c18ee0c04134b6d"><div class="ttname"><a href="innodb__utility_8h.html#a496a8f8646bff5c74c18ee0c04134b6d">UT_LIST_NODE_T</a></div><div class="ttdeci">#define UT_LIST_NODE_T(TYPE)</div><div class="ttdef"><b>Definition:</b> innodb_utility.h:40</div></div>
<div class="ttc" id="structque__fork__t_html_a47cc433429bce38e6169c2a3bede55e3"><div class="ttname"><a href="structque__fork__t.html#a47cc433429bce38e6169c2a3bede55e3">que_fork_t::graph</a></div><div class="ttdeci">que_t * graph</div><div class="ttdoc">query graph of this node </div><div class="ttdef"><b>Definition:</b> que0que.h:312</div></div>
<div class="ttc" id="structsrv__slot__t_html"><div class="ttname"><a href="structsrv__slot__t.html">srv_slot_t</a></div><div class="ttdoc">Thread slot in the thread table. </div><div class="ttdef"><b>Definition:</b> srv0srv.h:1190</div></div>
<div class="ttc" id="structque__thr__t_html_ac49a5447bb552717cb874b9d3f46a2b6"><div class="ttname"><a href="structque__thr__t.html#ac49a5447bb552717cb874b9d3f46a2b6">que_thr_t::magic_n</a></div><div class="ttdeci">ulint magic_n</div><div class="ttdoc">magic number to catch memory corruption </div><div class="ttdef"><b>Definition:</b> que0que.h:253</div></div>
<div class="ttc" id="structque__thr__t_html_af5d11881906d75471d2a4842f69ffe51"><div class="ttname"><a href="structque__thr__t.html#af5d11881906d75471d2a4842f69ffe51">que_thr_t::resource</a></div><div class="ttdeci">ulint resource</div><div class="ttdoc">resource usage of the query thread thus far </div><div class="ttdef"><b>Definition:</b> que0que.h:272</div></div>
<div class="ttc" id="que0que_8h_html_ac299d26a96497f98066e0d9327e0b0ec"><div class="ttname"><a href="que0que_8h.html#ac299d26a96497f98066e0d9327e0b0ec">que_thr_stop</a></div><div class="ttdeci">bool que_thr_stop(que_thr_t *thr)</div><div class="ttdoc">Stops a query thread if graph or trx is in a state requiring it. </div><div class="ttdef"><b>Definition:</b> que0que.cc:592</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="que0que_8h.html">que0que.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
