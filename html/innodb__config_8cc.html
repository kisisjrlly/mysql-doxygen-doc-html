<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: plugin/innodb_memcached/innodb_memcache/src/innodb_config.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('innodb__config_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">innodb_config.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>InnoDB Memcached configurations.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="my__compiler_8h_source.html">my_compiler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="innodb__api_8h_source.html">innodb_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="innodb__cb__api_8h_source.html">innodb_cb_api.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="innodb__config_8h_source.html">innodb_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="innodb__utility_8h_source.html">innodb_utility.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5f793df3939f093ceb7b6e18f665d829"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#a5f793df3939f093ceb7b6e18f665d829">my_strdupl</a> (const char *str, int len)</td></tr>
<tr class="memdesc:a5f793df3939f093ceb7b6e18f665d829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a NUL-terminated copy of a nonterminated string.  <a href="#a5f793df3939f093ceb7b6e18f665d829">More...</a><br /></td></tr>
<tr class="separator:a5f793df3939f093ceb7b6e18f665d829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada00a6ed7198e787ddf3246d780e01eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#ada00a6ed7198e787ddf3246d780e01eb">innodb_config_free</a> (<a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *item)</td></tr>
<tr class="memdesc:ada00a6ed7198e787ddf3246d780e01eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function frees meta info structures.  <a href="#ada00a6ed7198e787ddf3246d780e01eb">More...</a><br /></td></tr>
<tr class="separator:ada00a6ed7198e787ddf3246d780e01eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c7ca703a650f83e972e5fd64ecb980"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#a95c7ca703a650f83e972e5fd64ecb980">innodb_config_parse_value_col</a> (<a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *item, char *str, int len)</td></tr>
<tr class="memdesc:a95c7ca703a650f83e972e5fd64ecb980"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function parses possible multiple column name separated by ",", ";" or " " in the input "str" for the memcached "value" field.  <a href="#a95c7ca703a650f83e972e5fd64ecb980">More...</a><br /></td></tr>
<tr class="separator:a95c7ca703a650f83e972e5fd64ecb980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc898014151ea3f31fe30e7fee04523e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#adc898014151ea3f31fe30e7fee04523e">innodb_read_cache_policy</a> (<a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *item, void *thd)</td></tr>
<tr class="memdesc:adc898014151ea3f31fe30e7fee04523e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens the cache_policy configuration table, and find the table and column info that used for memcached data.  <a href="#adc898014151ea3f31fe30e7fee04523e">More...</a><br /></td></tr>
<tr class="separator:adc898014151ea3f31fe30e7fee04523e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023d6dad9301750e80294260aa1551af"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#a023d6dad9301750e80294260aa1551af">innodb_read_config_option</a> (<a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *item, void *thd)</td></tr>
<tr class="memdesc:a023d6dad9301750e80294260aa1551af"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens the config_options configuration table, and find the table and column info that used for memcached data.  <a href="#a023d6dad9301750e80294260aa1551af">More...</a><br /></td></tr>
<tr class="separator:a023d6dad9301750e80294260aa1551af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6780ee35d5934021abbe6b078b5cad8f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#a6780ee35d5934021abbe6b078b5cad8f">innodb_config_add_item</a> (<a class="el" href="api0api_8h.html#a8ae8552302a54a2bce6791bef1e767ed">ib_tpl_t</a> tpl, <a class="el" href="structhash__table__t.html">hash_table_t</a> *eng_meta_hash, void *thd)</td></tr>
<tr class="memdesc:a6780ee35d5934021abbe6b078b5cad8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens the "containers" configuration table, and find the table and column info that used for memcached data, and instantiates meta_cfg_info_t structure for such metadata.  <a href="#a6780ee35d5934021abbe6b078b5cad8f">More...</a><br /></td></tr>
<tr class="separator:a6780ee35d5934021abbe6b078b5cad8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55fe1dc6eac2e0c58c71b74a15ffe43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#ab55fe1dc6eac2e0c58c71b74a15ffe43">innodb_config_meta_hash_init</a> (<a class="el" href="structhash__table__t.html">hash_table_t</a> *meta_hash, void *thd)</td></tr>
<tr class="memdesc:ab55fe1dc6eac2e0c58c71b74a15ffe43"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens the "containers" table, reads in all rows and instantiates the metadata hash table.  <a href="#ab55fe1dc6eac2e0c58c71b74a15ffe43">More...</a><br /></td></tr>
<tr class="separator:ab55fe1dc6eac2e0c58c71b74a15ffe43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71edfdcaf3b54e70a5c694ae5e694fbf"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#a71edfdcaf3b54e70a5c694ae5e694fbf">innodb_config_container</a> (const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, size_t name_len, <a class="el" href="structhash__table__t.html">hash_table_t</a> *meta_hash, void *thd)</td></tr>
<tr class="memdesc:a71edfdcaf3b54e70a5c694ae5e694fbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens the "containers" configuration table, and find the table and column info that used for memcached data.  <a href="#a71edfdcaf3b54e70a5c694ae5e694fbf">More...</a><br /></td></tr>
<tr class="separator:a71edfdcaf3b54e70a5c694ae5e694fbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1fe43bf52e2001ae95f5b3a3050898"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="api0api_8h.html#a203b634ff259263231ac9db93a4c3f6b">ib_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#a7b1fe43bf52e2001ae95f5b3a3050898">innodb_config_value_col_verify</a> (const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, <a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *meta_info, <a class="el" href="structib__col__meta__t.html">ib_col_meta_t</a> *col_meta, int col_id, <a class="el" href="innodb__config_8h.html#ad7b06b3398a9c1c93a0e69069ff0010e">meta_column_t</a> *col_verify)</td></tr>
<tr class="memdesc:a7b1fe43bf52e2001ae95f5b3a3050898"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function verifies "value" column(s) specified by configure table are of the correct type.  <a href="#a7b1fe43bf52e2001ae95f5b3a3050898">More...</a><br /></td></tr>
<tr class="separator:a7b1fe43bf52e2001ae95f5b3a3050898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79561ca335f292c97f1d2939313ecf32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="api0api_8h.html#a203b634ff259263231ac9db93a4c3f6b">ib_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#a79561ca335f292c97f1d2939313ecf32">innodb_verify_low</a> (<a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *<a class="el" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>, <a class="el" href="api0api_8h.html#a3333fc779af756d937f0518f60175a4e">ib_crsr_t</a> crsr, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> runtime)</td></tr>
<tr class="memdesc:a79561ca335f292c97f1d2939313ecf32"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function verifies the table configuration information on an opened table, and fills in columns used for memcached functionalities (cas, exp etc.)  <a href="#a79561ca335f292c97f1d2939313ecf32">More...</a><br /></td></tr>
<tr class="separator:a79561ca335f292c97f1d2939313ecf32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3027d46fe82c319a6f9518fad3f84af9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#a3027d46fe82c319a6f9518fad3f84af9">innodb_verify</a> (<a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *<a class="el" href="mysql__ssl__rsa__setup_8cc.html#a5f4e2d00e13f7f971e3fbce0dee76947">info</a>, void *thd)</td></tr>
<tr class="memdesc:a3027d46fe82c319a6f9518fad3f84af9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function verifies the table configuration information, and fills in columns used for memcached functionalities (cas, exp etc.)  <a href="#a3027d46fe82c319a6f9518fad3f84af9">More...</a><br /></td></tr>
<tr class="separator:a3027d46fe82c319a6f9518fad3f84af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac06d326bd1b37cbfcbfd3becd9cab607"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#ac06d326bd1b37cbfcbfd3becd9cab607">innodb_config</a> (const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, size_t name_len, <a class="el" href="structhash__table__t.html">hash_table_t</a> **meta_hash)</td></tr>
<tr class="memdesc:ac06d326bd1b37cbfcbfd3becd9cab607"><td class="mdescLeft">&#160;</td><td class="mdescRight">If the hash table (meta_hash) is NULL, then initialise the hash table with data in the configure tables.  <a href="#ac06d326bd1b37cbfcbfd3becd9cab607">More...</a><br /></td></tr>
<tr class="separator:ac06d326bd1b37cbfcbfd3becd9cab607"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae027b676af6253ef5f8c0195f9f637a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__config_8h.html#a153ab74c583ae32a4d396da1c7e68f27">option_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="innodb__config_8cc.html#ae027b676af6253ef5f8c0195f9f637a4">config_option_names</a> []</td></tr>
<tr class="memdesc:ae027b676af6253ef5f8c0195f9f637a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure options enum IDs, their "names" and their default value.  <a href="#ae027b676af6253ef5f8c0195f9f637a4">More...</a><br /></td></tr>
<tr class="separator:ae027b676af6253ef5f8c0195f9f637a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>InnoDB Memcached configurations. </p>
<p>Created 04/12/2011 Jimmy Yang </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac06d326bd1b37cbfcbfd3becd9cab607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac06d326bd1b37cbfcbfd3becd9cab607">&#9670;&nbsp;</a></span>innodb_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a>* innodb_config </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>name_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhash__table__t.html">hash_table_t</a> **&#160;</td>
          <td class="paramname"><em>meta_hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If the hash table (meta_hash) is NULL, then initialise the hash table with data in the configure tables. </p>
<p>This function opens the default configuration table, and find the table and column info that used for InnoDB Memcached, and set up InnoDB Memcached's meta_cfg_info_t structure.</p>
<p>And return the "default" item. If there is no setting named "default" then use the first row in the table. This is currently only used at the engine initialization time. If the hash table (meta_hash) is created, then look for the meta-data based on specified configuration name parameter. If such metadata does not exist in the hash table, then add such metadata into hash table. </p><dl class="section return"><dt>Returns</dt><dd>meta_cfg_info_t* structure if configure option found, otherwise NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>in: config option name </td></tr>
    <tr><td class="paramname">name_len</td><td>in: name length </td></tr>
    <tr><td class="paramname">meta_hash</td><td>in/out: engine hash table. If NULL, it will be created and initialized </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6780ee35d5934021abbe6b078b5cad8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6780ee35d5934021abbe6b078b5cad8f">&#9670;&nbsp;</a></span>innodb_config_add_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a>* innodb_config_add_item </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a8ae8552302a54a2bce6791bef1e767ed">ib_tpl_t</a>&#160;</td>
          <td class="paramname"><em>tpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhash__table__t.html">hash_table_t</a> *&#160;</td>
          <td class="paramname"><em>eng_meta_hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function opens the "containers" configuration table, and find the table and column info that used for memcached data, and instantiates meta_cfg_info_t structure for such metadata. </p>
<dl class="section return"><dt>Returns</dt><dd>instantiated configure info item if everything works out fine, callers are responsible to free the memory returned by this function </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tpl</td><td>in: container row we are fetching row from </td></tr>
    <tr><td class="paramname">eng_meta_hash</td><td>in/out: hash table to insert the row </td></tr>
    <tr><td class="paramname">thd</td><td>in/out: MySQL THD </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a71edfdcaf3b54e70a5c694ae5e694fbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71edfdcaf3b54e70a5c694ae5e694fbf">&#9670;&nbsp;</a></span>innodb_config_container()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a>* innodb_config_container </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>name_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhash__table__t.html">hash_table_t</a> *&#160;</td>
          <td class="paramname"><em>meta_hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function opens the "containers" configuration table, and find the table and column info that used for memcached data. </p>
<dl class="section return"><dt>Returns</dt><dd>true if everything works out fine </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>in: option name to look for </td></tr>
    <tr><td class="paramname">name_len</td><td>in: option name length </td></tr>
    <tr><td class="paramname">meta_hash</td><td>in: engine hash table </td></tr>
    <tr><td class="paramname">thd</td><td>in/out: MySQL THD </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ada00a6ed7198e787ddf3246d780e01eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada00a6ed7198e787ddf3246d780e01eb">&#9670;&nbsp;</a></span>innodb_config_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void innodb_config_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function frees meta info structures. </p>
<p>This function frees meta info structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">item</td><td>in: meta info structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab55fe1dc6eac2e0c58c71b74a15ffe43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab55fe1dc6eac2e0c58c71b74a15ffe43">&#9670;&nbsp;</a></span>innodb_config_meta_hash_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a>* innodb_config_meta_hash_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhash__table__t.html">hash_table_t</a> *&#160;</td>
          <td class="paramname"><em>meta_hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function opens the "containers" table, reads in all rows and instantiates the metadata hash table. </p>
<dl class="section return"><dt>Returns</dt><dd>the default configuration setting (whose mapping name is "default") </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">meta_hash</td><td>in/out: InnoDB Memcached engine </td></tr>
    <tr><td class="paramname">thd</td><td>in/out: MySQL THD </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95c7ca703a650f83e972e5fd64ecb980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c7ca703a650f83e972e5fd64ecb980">&#9670;&nbsp;</a></span>innodb_config_parse_value_col()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> innodb_config_parse_value_col </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function parses possible multiple column name separated by ",", ";" or " " in the input "str" for the memcached "value" field. </p>
<dl class="section return"><dt>Returns</dt><dd>true if everything works out fine </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">item</td><td>in: meta info structure </td></tr>
    <tr><td class="paramname">str</td><td>in: column name(s) string </td></tr>
    <tr><td class="paramname">len</td><td>in: length of above string </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7b1fe43bf52e2001ae95f5b3a3050898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1fe43bf52e2001ae95f5b3a3050898">&#9670;&nbsp;</a></span>innodb_config_value_col_verify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="api0api_8h.html#a203b634ff259263231ac9db93a4c3f6b">ib_err_t</a> innodb_config_value_col_verify </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td>
          <td class="paramname"><em>meta_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structib__col__meta__t.html">ib_col_meta_t</a> *&#160;</td>
          <td class="paramname"><em>col_meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__config_8h.html#ad7b06b3398a9c1c93a0e69069ff0010e">meta_column_t</a> *&#160;</td>
          <td class="paramname"><em>col_verify</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function verifies "value" column(s) specified by configure table are of the correct type. </p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS if everything is verified </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>in: column name </td></tr>
    <tr><td class="paramname">meta_info</td><td>in: meta info structure </td></tr>
    <tr><td class="paramname">col_meta</td><td>in: column metadata </td></tr>
    <tr><td class="paramname">col_id</td><td>in: column ID </td></tr>
    <tr><td class="paramname">col_verify</td><td>in: verify structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adc898014151ea3f31fe30e7fee04523e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc898014151ea3f31fe30e7fee04523e">&#9670;&nbsp;</a></span>innodb_read_cache_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> innodb_read_cache_policy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function opens the cache_policy configuration table, and find the table and column info that used for memcached data. </p>
<dl class="section return"><dt>Returns</dt><dd>true if everything works out fine </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">item</td><td>in: meta info structure </td></tr>
    <tr><td class="paramname">thd</td><td>in/out: MySQL THD </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a023d6dad9301750e80294260aa1551af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a023d6dad9301750e80294260aa1551af">&#9670;&nbsp;</a></span>innodb_read_config_option()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> innodb_read_config_option </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function opens the config_options configuration table, and find the table and column info that used for memcached data. </p>
<dl class="section return"><dt>Returns</dt><dd>true if everything works out fine </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">item</td><td>in: meta info structure </td></tr>
    <tr><td class="paramname">thd</td><td>in/out: MySQL THD </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3027d46fe82c319a6f9518fad3f84af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3027d46fe82c319a6f9518fad3f84af9">&#9670;&nbsp;</a></span>innodb_verify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> innodb_verify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>thd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function verifies the table configuration information, and fills in columns used for memcached functionalities (cas, exp etc.) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>meta info structure </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thd</td><td>MySQL THD </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if everything works out fine </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>in: meta info structure </td></tr>
    <tr><td class="paramname">thd</td><td>in/out: MySQL THD </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a79561ca335f292c97f1d2939313ecf32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79561ca335f292c97f1d2939313ecf32">&#9670;&nbsp;</a></span>innodb_verify_low()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="api0api_8h.html#a203b634ff259263231ac9db93a4c3f6b">ib_err_t</a> innodb_verify_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__config_8h.html#a2367f2619af29e6e98bc0b2bf8b89f44">meta_cfg_info_t</a> *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a3333fc779af756d937f0518f60175a4e">ib_crsr_t</a>&#160;</td>
          <td class="paramname"><em>crsr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>runtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function verifies the table configuration information on an opened table, and fills in columns used for memcached functionalities (cas, exp etc.) </p>
<dl class="section return"><dt>Returns</dt><dd>true if everything works out fine </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>in/out: meta info structure </td></tr>
    <tr><td class="paramname">crsr</td><td>in: crsr </td></tr>
    <tr><td class="paramname">runtime</td><td>in: verify at the runtime </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f793df3939f093ceb7b6e18f665d829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f793df3939f093ceb7b6e18f665d829">&#9670;&nbsp;</a></span>my_strdupl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static char* my_strdupl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes a NUL-terminated copy of a nonterminated string. </p>
<dl class="section return"><dt>Returns</dt><dd>own: a copy of the string, must be deallocated by caller </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>in: string to be copied </td></tr>
    <tr><td class="paramname">len</td><td>in: length of str, in bytes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae027b676af6253ef5f8c0195f9f637a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae027b676af6253ef5f8c0195f9f637a4">&#9670;&nbsp;</a></span>config_option_names</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__config_8h.html#a153ab74c583ae32a4d396da1c7e68f27">option_t</a> config_option_names[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    {<a class="code" href="innodb__config_8h.html#a6c053117f3882e03c12de10d58d36e20a5194362decf03e2684844a9826574abc">OPTION_ID_COL_SEP</a>, <a class="code" href="innodb__config_8h.html#a32649d96d10d5312ef4c8bfe476dbb3c">COLUMN_SEPARATOR</a>, {<span class="stringliteral">&quot;|&quot;</span>, 1}},</div><div class="line">    {<a class="code" href="innodb__config_8h.html#a6c053117f3882e03c12de10d58d36e20aa0d95564e8e491fd34f7fd5064f6a5fb">OPTION_ID_TBL_MAP_SEP</a>, <a class="code" href="innodb__config_8h.html#a9df0380e30f8946115c30685768ee204">TABLE_MAP_SEPARATOR</a>, {<span class="stringliteral">&quot;.&quot;</span>, 1}}}</div><div class="ttc" id="innodb__config_8h_html_a32649d96d10d5312ef4c8bfe476dbb3c"><div class="ttname"><a href="innodb__config_8h.html#a32649d96d10d5312ef4c8bfe476dbb3c">COLUMN_SEPARATOR</a></div><div class="ttdeci">#define COLUMN_SEPARATOR</div><div class="ttdoc">The &quot;names&quot; in the &quot;config_option&quot; table to identify possible config options. </div><div class="ttdef"><b>Definition:</b> innodb_config.h:158</div></div>
<div class="ttc" id="innodb__config_8h_html_a9df0380e30f8946115c30685768ee204"><div class="ttname"><a href="innodb__config_8h.html#a9df0380e30f8946115c30685768ee204">TABLE_MAP_SEPARATOR</a></div><div class="ttdeci">#define TABLE_MAP_SEPARATOR</div><div class="ttdef"><b>Definition:</b> innodb_config.h:159</div></div>
<div class="ttc" id="innodb__config_8h_html_a6c053117f3882e03c12de10d58d36e20a5194362decf03e2684844a9826574abc"><div class="ttname"><a href="innodb__config_8h.html#a6c053117f3882e03c12de10d58d36e20a5194362decf03e2684844a9826574abc">OPTION_ID_COL_SEP</a></div><div class="ttdoc">ID for character(s) separating multiple column mapping. </div><div class="ttdef"><b>Definition:</b> innodb_config.h:163</div></div>
<div class="ttc" id="innodb__config_8h_html_a6c053117f3882e03c12de10d58d36e20aa0d95564e8e491fd34f7fd5064f6a5fb"><div class="ttname"><a href="innodb__config_8h.html#a6c053117f3882e03c12de10d58d36e20aa0d95564e8e491fd34f7fd5064f6a5fb">OPTION_ID_TBL_MAP_SEP</a></div><div class="ttdoc">ID for character(s) separating table map name and key. </div><div class="ttdef"><b>Definition:</b> innodb_config.h:165</div></div>
</div><!-- fragment -->
<p>Configure options enum IDs, their "names" and their default value. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b4c3aec6cd8f28418150dce663061cfa.html">plugin</a></li><li class="navelem"><a class="el" href="dir_75f487b2efaae217b3d011b02f98b420.html">innodb_memcached</a></li><li class="navelem"><a class="el" href="dir_9489325f668497807529aab24c9b3639.html">innodb_memcache</a></li><li class="navelem"><a class="el" href="dir_060d23af4736ca7904a17abb784b93c4.html">src</a></li><li class="navelem"><a class="el" href="innodb__config_8cc.html">innodb_config.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
