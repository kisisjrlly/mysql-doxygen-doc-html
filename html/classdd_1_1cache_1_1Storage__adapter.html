<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: dd::cache::Storage_adapter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classdd_1_1cache_1_1Storage__adapter.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classdd_1_1cache_1_1Storage__adapter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dd::cache::Storage_adapter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handling of access to persistent storage.  
 <a href="classdd_1_1cache_1_1Storage__adapter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="storage__adapter_8h_source.html">storage_adapter.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acf6a954fe49d5cab0285c928be462f06"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:acf6a954fe49d5cab0285c928be462f06"><td class="memTemplItemLeft" align="right" valign="top">size_t&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#acf6a954fe49d5cab0285c928be462f06">core_size</a> ()</td></tr>
<tr class="memdesc:acf6a954fe49d5cab0285c928be462f06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of core objects in a registry partition.  <a href="#acf6a954fe49d5cab0285c928be462f06">More...</a><br /></td></tr>
<tr class="separator:acf6a954fe49d5cab0285c928be462f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74888e2b771274387994fef7e0651d09"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a74888e2b771274387994fef7e0651d09"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacedd.html#a0b4cee5d24960e48c74e25ae29222757">Object_id</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a74888e2b771274387994fef7e0651d09">core_get_id</a> (const typename T::Name_key &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="memdesc:a74888e2b771274387994fef7e0651d09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a dictionary object id from core storage.  <a href="#a74888e2b771274387994fef7e0651d09">More...</a><br /></td></tr>
<tr class="separator:a74888e2b771274387994fef7e0651d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16343a67bf9dc1b981b3b277ac8c00f6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a16343a67bf9dc1b981b3b277ac8c00f6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a16343a67bf9dc1b981b3b277ac8c00f6">core_update</a> (const T *)</td></tr>
<tr class="memdesc:a16343a67bf9dc1b981b3b277ac8c00f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the dd object in the core registry.  <a href="#a16343a67bf9dc1b981b3b277ac8c00f6">More...</a><br /></td></tr>
<tr class="separator:a16343a67bf9dc1b981b3b277ac8c00f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af82a411acf863bb026f5996417c41519"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#af82a411acf863bb026f5996417c41519">core_update</a> (const <a class="el" href="classdd_1_1Tablespace.html">dd::Tablespace</a> *new_tsp)</td></tr>
<tr class="memdesc:af82a411acf863bb026f5996417c41519"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overload of core_update for dd::Tablespace.  <a href="#af82a411acf863bb026f5996417c41519">More...</a><br /></td></tr>
<tr class="separator:af82a411acf863bb026f5996417c41519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3350e408273bf07048d05916c2b4e51"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ad3350e408273bf07048d05916c2b4e51"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#ad3350e408273bf07048d05916c2b4e51">core_drop</a> (<a class="el" href="classTHD.html">THD</a> *thd, const T *object)</td></tr>
<tr class="memdesc:ad3350e408273bf07048d05916c2b4e51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop a dictionary object from core storage.  <a href="#ad3350e408273bf07048d05916c2b4e51">More...</a><br /></td></tr>
<tr class="separator:ad3350e408273bf07048d05916c2b4e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6141a5c2be2d87fa712fa84fc4c32954"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a6141a5c2be2d87fa712fa84fc4c32954"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a6141a5c2be2d87fa712fa84fc4c32954">core_store</a> (<a class="el" href="classTHD.html">THD</a> *thd, T *object)</td></tr>
<tr class="memdesc:a6141a5c2be2d87fa712fa84fc4c32954"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a dictionary object to core storage.  <a href="#a6141a5c2be2d87fa712fa84fc4c32954">More...</a><br /></td></tr>
<tr class="separator:a6141a5c2be2d87fa712fa84fc4c32954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91852949312d91584ab8a2e222e6f20a"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a91852949312d91584ab8a2e222e6f20a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a91852949312d91584ab8a2e222e6f20a">core_sync</a> (<a class="el" href="classTHD.html">THD</a> *thd, const typename T::Name_key &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, const T *object)</td></tr>
<tr class="memdesc:a91852949312d91584ab8a2e222e6f20a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync a dictionary object from persistent to core storage.  <a href="#a91852949312d91584ab8a2e222e6f20a">More...</a><br /></td></tr>
<tr class="separator:a91852949312d91584ab8a2e222e6f20a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a555475400f296eeffa1a05c636533034"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a555475400f296eeffa1a05c636533034">erase_all</a> ()</td></tr>
<tr class="memdesc:a555475400f296eeffa1a05c636533034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove and delete all elements and objects from core storage.  <a href="#a555475400f296eeffa1a05c636533034">More...</a><br /></td></tr>
<tr class="separator:a555475400f296eeffa1a05c636533034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad61de1f2a5496b3d2bc115a774e8390d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#ad61de1f2a5496b3d2bc115a774e8390d">dump</a> ()</td></tr>
<tr class="memdesc:ad61de1f2a5496b3d2bc115a774e8390d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump the contents of the core storage.  <a href="#ad61de1f2a5496b3d2bc115a774e8390d">More...</a><br /></td></tr>
<tr class="separator:ad61de1f2a5496b3d2bc115a774e8390d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19e04a01e5821d88db83104340c2e9b2"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a19e04a01e5821d88db83104340c2e9b2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a19e04a01e5821d88db83104340c2e9b2">core_get</a> (const <a class="el" href="classdd_1_1Table__stat.html#afa64ee583f8b849daad7d23abbd75ffb">Table_stat::Name_key</a> &amp;, const <a class="el" href="classdd_1_1Table__stat.html">Table_stat</a> **)</td></tr>
<tr class="separator:a19e04a01e5821d88db83104340c2e9b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522eafece9fa89eb8f5601fbc7878110"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a522eafece9fa89eb8f5601fbc7878110"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a522eafece9fa89eb8f5601fbc7878110">core_get</a> (const <a class="el" href="classdd_1_1Index__stat.html#ab1b2d6cbd8f55182eabe5dfb650a93ba">Index_stat::Name_key</a> &amp;, const <a class="el" href="classdd_1_1Index__stat.html">Index_stat</a> **)</td></tr>
<tr class="separator:a522eafece9fa89eb8f5601fbc7878110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031610b060e763527f38bf1408b61f7d"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a031610b060e763527f38bf1408b61f7d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a031610b060e763527f38bf1408b61f7d">core_drop</a> (<a class="el" href="classTHD.html">THD</a> *, const <a class="el" href="classdd_1_1Table__stat.html">Table_stat</a> *)</td></tr>
<tr class="separator:a031610b060e763527f38bf1408b61f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a688d69a1375ef1469afcafb78f7549d2"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a688d69a1375ef1469afcafb78f7549d2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a688d69a1375ef1469afcafb78f7549d2">core_drop</a> (<a class="el" href="classTHD.html">THD</a> *, const <a class="el" href="classdd_1_1Index__stat.html">Index_stat</a> *)</td></tr>
<tr class="separator:a688d69a1375ef1469afcafb78f7549d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ddc63f2bbcb08875820e443c27bf5c5"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a1ddc63f2bbcb08875820e443c27bf5c5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a1ddc63f2bbcb08875820e443c27bf5c5">core_store</a> (<a class="el" href="classTHD.html">THD</a> *, <a class="el" href="classdd_1_1Table__stat.html">Table_stat</a> *)</td></tr>
<tr class="separator:a1ddc63f2bbcb08875820e443c27bf5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b2462da62067aef7fc9724cb1c196aa"><td class="memTemplParams" colspan="2">template&lt;&gt; </td></tr>
<tr class="memitem:a9b2462da62067aef7fc9724cb1c196aa"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a9b2462da62067aef7fc9724cb1c196aa">core_store</a> (<a class="el" href="classTHD.html">THD</a> *, <a class="el" href="classdd_1_1Index__stat.html">Index_stat</a> *)</td></tr>
<tr class="separator:a9b2462da62067aef7fc9724cb1c196aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3b87099c0d00cfad9c6cae7053a3657d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classdd_1_1cache_1_1Storage__adapter.html">Storage_adapter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a3b87099c0d00cfad9c6cae7053a3657d">instance</a> ()</td></tr>
<tr class="separator:a3b87099c0d00cfad9c6cae7053a3657d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f91ea654d3cb66558a75c931dd9c75"><td class="memTemplParams" colspan="2">template&lt;typename K , typename T &gt; </td></tr>
<tr class="memitem:a26f91ea654d3cb66558a75c931dd9c75"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a26f91ea654d3cb66558a75c931dd9c75">get</a> (<a class="el" href="classTHD.html">THD</a> *thd, const K &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="sql_2handler_8h.html#a9eca5571cb03b2bea1246c948d9244fb">enum_tx_isolation</a> isolation, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> bypass_core_registry, const T **object)</td></tr>
<tr class="memdesc:a26f91ea654d3cb66558a75c931dd9c75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a dictionary object from persistent storage.  <a href="#a26f91ea654d3cb66558a75c931dd9c75">More...</a><br /></td></tr>
<tr class="separator:a26f91ea654d3cb66558a75c931dd9c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6163654cd7eb7cbd94756e773f18efad"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a6163654cd7eb7cbd94756e773f18efad"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a6163654cd7eb7cbd94756e773f18efad">drop</a> (<a class="el" href="classTHD.html">THD</a> *thd, const T *object)</td></tr>
<tr class="memdesc:a6163654cd7eb7cbd94756e773f18efad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drop a dictionary object from persistent storage.  <a href="#a6163654cd7eb7cbd94756e773f18efad">More...</a><br /></td></tr>
<tr class="separator:a6163654cd7eb7cbd94756e773f18efad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c324d27a40d39f2043d4d95e832e18"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a57c324d27a40d39f2043d4d95e832e18"><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a57c324d27a40d39f2043d4d95e832e18">store</a> (<a class="el" href="classTHD.html">THD</a> *thd, T *object)</td></tr>
<tr class="memdesc:a57c324d27a40d39f2043d4d95e832e18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a dictionary object to persistent storage.  <a href="#a57c324d27a40d39f2043d4d95e832e18">More...</a><br /></td></tr>
<tr class="separator:a57c324d27a40d39f2043d4d95e832e18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a455dfb77af99c31f8dcc70addcab0d19"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a455dfb77af99c31f8dcc70addcab0d19"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespacedd.html#a0b4cee5d24960e48c74e25ae29222757">Object_id</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a455dfb77af99c31f8dcc70addcab0d19">next_oid</a> ()</td></tr>
<tr class="memdesc:a455dfb77af99c31f8dcc70addcab0d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a new object id for a registry partition.  <a href="#a455dfb77af99c31f8dcc70addcab0d19">More...</a><br /></td></tr>
<tr class="separator:a455dfb77af99c31f8dcc70addcab0d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3b814e98142047ff81a2ca99587f08"><td class="memTemplParams" colspan="2">template&lt;typename K , typename T &gt; </td></tr>
<tr class="memitem:a5b3b814e98142047ff81a2ca99587f08"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a5b3b814e98142047ff81a2ca99587f08">core_get</a> (const K &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, const T **object)</td></tr>
<tr class="memdesc:a5b3b814e98142047ff81a2ca99587f08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a dictionary object from core storage.  <a href="#a5b3b814e98142047ff81a2ca99587f08">More...</a><br /></td></tr>
<tr class="separator:a5b3b814e98142047ff81a2ca99587f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5a7e78f49b97e4a0c97b50f7ad072b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#adc5a7e78f49b97e4a0c97b50f7ad072b">Storage_adapter</a> ()</td></tr>
<tr class="separator:adc5a7e78f49b97e4a0c97b50f7ad072b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7b3ab4f8832d9eced2df7ff934f3ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a8f7b3ab4f8832d9eced2df7ff934f3ba">~Storage_adapter</a> ()</td></tr>
<tr class="separator:a8f7b3ab4f8832d9eced2df7ff934f3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aad9c9e77183adb31717b4b4a4ec092ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdd_1_1cache_1_1Object__registry.html">Object_registry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#aad9c9e77183adb31717b4b4a4ec092ca">m_core_registry</a></td></tr>
<tr class="separator:aad9c9e77183adb31717b4b4a4ec092ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab139e05934571b3a899351e3e6b7d5be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#ab139e05934571b3a899351e3e6b7d5be">m_lock</a></td></tr>
<tr class="separator:ab139e05934571b3a899351e3e6b7d5be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a549fac5103598dc1ecab90c6963c0aa0"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="namespacedd.html#a0b4cee5d24960e48c74e25ae29222757">Object_id</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#a549fac5103598dc1ecab90c6963c0aa0">FIRST_OID</a> = 10001</td></tr>
<tr class="memdesc:a549fac5103598dc1ecab90c6963c0aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use an id not starting at 1 to make it easy to recognize ids generated before objects are stored persistently.  <a href="#a549fac5103598dc1ecab90c6963c0aa0">More...</a><br /></td></tr>
<tr class="separator:a549fac5103598dc1ecab90c6963c0aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10a19622d550cf71d554c393ee9170b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#ad10a19622d550cf71d554c393ee9170b">s_use_fake_storage</a> = <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a></td></tr>
<tr class="separator:ad10a19622d550cf71d554c393ee9170b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:afd0a2e0cf06fed20f50a6a83e1229f36"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html#afd0a2e0cf06fed20f50a6a83e1229f36">dd_cache_unittest::CacheStorageTest</a></td></tr>
<tr class="separator:afd0a2e0cf06fed20f50a6a83e1229f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handling of access to persistent storage. </p>
<p>This class provides static template functions that manipulates an object on persistent storage based on the submitted key and object type. There is also an object registry instance to keep the core DD objects that are needed to handle cache misses for table meta data. The storage adapter owns the objects in the core registry. When adding objects to the registry using core_store(), the storage adapter will clone the object and take ownership of the clone. When retrieving objects from the registry using core_get(), a clone of the object will be returned, and this is therefore owned by the caller. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="adc5a7e78f49b97e4a0c97b50f7ad072b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc5a7e78f49b97e4a0c97b50f7ad072b">&#9670;&nbsp;</a></span>Storage_adapter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dd::cache::Storage_adapter::Storage_adapter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f7b3ab4f8832d9eced2df7ff934f3ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7b3ab4f8832d9eced2df7ff934f3ba">&#9670;&nbsp;</a></span>~Storage_adapter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dd::cache::Storage_adapter::~Storage_adapter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad3350e408273bf07048d05916c2b4e51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3350e408273bf07048d05916c2b4e51">&#9670;&nbsp;</a></span>core_drop() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Drop a dictionary object from core storage. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">object</td><td>Object to be dropped. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a031610b060e763527f38bf1408b61f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a031610b060e763527f38bf1408b61f7d">&#9670;&nbsp;</a></span>core_drop() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Table__stat.html">Table_stat</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a688d69a1375ef1469afcafb78f7549d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a688d69a1375ef1469afcafb78f7549d2">&#9670;&nbsp;</a></span>core_drop() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Index__stat.html">Index_stat</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5b3b814e98142047ff81a2ca99587f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b3b814e98142047ff81a2ca99587f08">&#9670;&nbsp;</a></span>core_get() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template void dd::cache::Storage_adapter::core_get </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T **&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a dictionary object from core storage. </p>
<p>A clone of the registry object will be returned, owned by the caller.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">K</td><td>Key type. </td></tr>
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">key</td><td>Key for which to get the object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object</td><td>Object retrieved, possibly nullptr if not present. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a19e04a01e5821d88db83104340c2e9b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19e04a01e5821d88db83104340c2e9b2">&#9670;&nbsp;</a></span>core_get() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Table__stat.html#afa64ee583f8b849daad7d23abbd75ffb">Table_stat::Name_key</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Table__stat.html">Table_stat</a> **&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a522eafece9fa89eb8f5601fbc7878110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a522eafece9fa89eb8f5601fbc7878110">&#9670;&nbsp;</a></span>core_get() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_get </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Index__stat.html#ab1b2d6cbd8f55182eabe5dfb650a93ba">Index_stat::Name_key</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Index__stat.html">Index_stat</a> **&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a74888e2b771274387994fef7e0651d09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74888e2b771274387994fef7e0651d09">&#9670;&nbsp;</a></span>core_get_id()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="namespacedd.html#a0b4cee5d24960e48c74e25ae29222757">Object_id</a> dd::cache::Storage_adapter::core_get_id&lt; <a class="el" href="classdd_1_1Tablespace.html">Tablespace</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const typename T::Name_key &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a dictionary object id from core storage. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Name key for which to get the object id. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Object id, INVALID_OBJECT_ID if the object is not present. </dd></dl>

</div>
</div>
<a id="acf6a954fe49d5cab0285c928be462f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf6a954fe49d5cab0285c928be462f06">&#9670;&nbsp;</a></span>core_size()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template size_t dd::cache::Storage_adapter::core_size&lt; <a class="el" href="classdd_1_1Tablespace.html">Tablespace</a> &gt; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of core objects in a registry partition. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of elements. </dd></dl>

</div>
</div>
<a id="a6141a5c2be2d87fa712fa84fc4c32954"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6141a5c2be2d87fa712fa84fc4c32954">&#9670;&nbsp;</a></span>core_store() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store a dictionary object to core storage. </p>
<p>A clone of the submitted object will be added to the core storage. The caller is still the owner of the submitted objecct.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">object</td><td>Object to be stored. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1ddc63f2bbcb08875820e443c27bf5c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ddc63f2bbcb08875820e443c27bf5c5">&#9670;&nbsp;</a></span>core_store() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdd_1_1Table__stat.html">Table_stat</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b2462da62067aef7fc9724cb1c196aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b2462da62067aef7fc9724cb1c196aa">&#9670;&nbsp;</a></span>core_store() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdd_1_1Index__stat.html">Index_stat</a> *&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91852949312d91584ab8a2e222e6f20a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91852949312d91584ab8a2e222e6f20a">&#9670;&nbsp;</a></span>core_sync()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> dd::cache::Storage_adapter::core_sync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const typename T::Name_key &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sync a dictionary object from persistent to core storage. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">key</td><td>Key for object to get from persistent storage. </td></tr>
    <tr><td class="paramname">object</td><td>Object to drop from the core registry. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a16343a67bf9dc1b981b3b277ac8c00f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16343a67bf9dc1b981b3b277ac8c00f6">&#9670;&nbsp;</a></span>core_update() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_update </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the dd object in the core registry. </p>
<p>This is a noop unless this member function is overloaded for a given type. See below. </p>

</div>
</div>
<a id="af82a411acf863bb026f5996417c41519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af82a411acf863bb026f5996417c41519">&#9670;&nbsp;</a></span>core_update() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::core_update </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Tablespace.html">dd::Tablespace</a> *&#160;</td>
          <td class="paramname"><em>new_tsp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overload of core_update for dd::Tablespace. </p>
<p>Currently the core registry can only be updated for the DD tablespace when encrypting it. A clone of the dd::Tablespace object passed in is stored in the registry.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_tsp</td><td>the new dd::Tablespace object to keep in the core registry. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6163654cd7eb7cbd94756e773f18efad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6163654cd7eb7cbd94756e773f18efad">&#9670;&nbsp;</a></span>drop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> dd::cache::Storage_adapter::drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Drop a dictionary object from persistent storage. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">object</td><td>Object to be dropped.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>No error. </td></tr>
    <tr><td class="paramname">true</td><td>Error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad61de1f2a5496b3d2bc115a774e8390d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad61de1f2a5496b3d2bc115a774e8390d">&#9670;&nbsp;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump the contents of the core storage. </p>

</div>
</div>
<a id="a555475400f296eeffa1a05c636533034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a555475400f296eeffa1a05c636533034">&#9670;&nbsp;</a></span>erase_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dd::cache::Storage_adapter::erase_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove and delete all elements and objects from core storage. </p>

</div>
</div>
<a id="a26f91ea654d3cb66558a75c931dd9c75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f91ea654d3cb66558a75c931dd9c75">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename K , typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> dd::cache::Storage_adapter::get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sql_2handler_8h.html#a9eca5571cb03b2bea1246c948d9244fb">enum_tx_isolation</a>&#160;</td>
          <td class="paramname"><em>isolation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>bypass_core_registry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T **&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a dictionary object from persistent storage. </p>
<p>Create an access key based on the submitted key, and find the record from the appropriate table. Restore the record into a new dictionary object.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">K</td><td>Key type. </td></tr>
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">key</td><td>Key for which to get the object. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">isolation</td><td>Isolation level. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">bypass_core_registry</td><td>If set to true, get the object from the DD tables. Needed during DD bootstrap. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">object</td><td>Object retrieved, possibly NULL if not present.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>No error. </td></tr>
    <tr><td class="paramname">true</td><td>Error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b87099c0d00cfad9c6cae7053a3657d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b87099c0d00cfad9c6cae7053a3657d">&#9670;&nbsp;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html">Storage_adapter</a> * dd::cache::Storage_adapter::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a455dfb77af99c31f8dcc70addcab0d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a455dfb77af99c31f8dcc70addcab0d19">&#9670;&nbsp;</a></span>next_oid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="namespacedd.html#a0b4cee5d24960e48c74e25ae29222757">Object_id</a> dd::cache::Storage_adapter::next_oid&lt; <a class="el" href="classdd_1_1Tablespace.html">Tablespace</a> &gt; </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a new object id for a registry partition. </p>
<p>Simulate an auto increment column. Used when the server is starting, while the scaffolding is being built.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Object registry partition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Next object id to be used. </dd></dl>

</div>
</div>
<a id="a57c324d27a40d39f2043d4d95e832e18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c324d27a40d39f2043d4d95e832e18">&#9670;&nbsp;</a></span>store()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> dd::cache::Storage_adapter::store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store a dictionary object to persistent storage. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">object</td><td>Object to be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>No error. </td></tr>
    <tr><td class="paramname">true</td><td>Error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="afd0a2e0cf06fed20f50a6a83e1229f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd0a2e0cf06fed20f50a6a83e1229f36">&#9670;&nbsp;</a></span>dd_cache_unittest::CacheStorageTest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class dd_cache_unittest::CacheStorageTest</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a549fac5103598dc1ecab90c6963c0aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a549fac5103598dc1ecab90c6963c0aa0">&#9670;&nbsp;</a></span>FIRST_OID</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespacedd.html#a0b4cee5d24960e48c74e25ae29222757">Object_id</a> dd::cache::Storage_adapter::FIRST_OID = 10001</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use an id not starting at 1 to make it easy to recognize ids generated before objects are stored persistently. </p>

</div>
</div>
<a id="aad9c9e77183adb31717b4b4a4ec092ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad9c9e77183adb31717b4b4a4ec092ca">&#9670;&nbsp;</a></span>m_core_registry</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdd_1_1cache_1_1Object__registry.html">Object_registry</a> dd::cache::Storage_adapter::m_core_registry</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab139e05934571b3a899351e3e6b7d5be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab139e05934571b3a899351e3e6b7d5be">&#9670;&nbsp;</a></span>m_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> dd::cache::Storage_adapter::m_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad10a19622d550cf71d554c393ee9170b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad10a19622d550cf71d554c393ee9170b">&#9670;&nbsp;</a></span>s_use_fake_storage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> dd::cache::Storage_adapter::s_use_fake_storage = <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#a65e9886d74aaee76545e83dd09011727">false</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/dd/impl/cache/<a class="el" href="storage__adapter_8h_source.html">storage_adapter.h</a></li>
<li>sql/dd/impl/cache/<a class="el" href="storage__adapter_8cc.html">storage_adapter.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedd.html">dd</a></li><li class="navelem"><a class="el" href="namespacedd_1_1cache.html">cache</a></li><li class="navelem"><a class="el" href="classdd_1_1cache_1_1Storage__adapter.html">Storage_adapter</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
