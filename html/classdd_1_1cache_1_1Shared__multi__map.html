<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: dd::cache::Shared_multi_map&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classdd_1_1cache_1_1Shared__multi__map.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classdd_1_1cache_1_1Shared__multi__map-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dd::cache::Shared_multi_map&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementation of a shared set of maps for a given object type.  
 <a href="classdd_1_1cache_1_1Shared__multi__map.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cache__element_8h_source.html">cache_element.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dd::cache::Shared_multi_map&lt; T &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdd_1_1cache_1_1Shared__multi__map.png" usemap="#dd::cache::Shared_5Fmulti_5Fmap_3C_20T_20_3E_map" alt=""/>
  <map id="dd::cache::Shared_5Fmulti_5Fmap_3C_20T_20_3E_map" name="dd::cache::Shared_5Fmulti_5Fmap_3C_20T_20_3E_map">
<area href="classdd_1_1cache_1_1Multi__map__base.html" title="Implementation of a set of maps for a given object type. " alt="dd::cache::Multi_map_base&lt; T &gt;" shape="rect" coords="0,0,207,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map_1_1Autolocker.html">Autolocker</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac8aabcf4d98e234266485d7daa898c7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#ac8aabcf4d98e234266485d7daa898c7b">Shared_multi_map</a> ()</td></tr>
<tr class="memdesc:ac8aabcf4d98e234266485d7daa898c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the mutex and condition variable.  <a href="#ac8aabcf4d98e234266485d7daa898c7b">More...</a><br /></td></tr>
<tr class="separator:ac8aabcf4d98e234266485d7daa898c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a543fe987fc8285bc25a635d965644a62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a543fe987fc8285bc25a635d965644a62">~Shared_multi_map</a> ()</td></tr>
<tr class="memdesc:a543fe987fc8285bc25a635d965644a62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the mutex and condition variable.  <a href="#a543fe987fc8285bc25a635d965644a62">More...</a><br /></td></tr>
<tr class="separator:a543fe987fc8285bc25a635d965644a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64eabccdbdad7ccc4e993643145e1519"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a64eabccdbdad7ccc4e993643145e1519">shutdown</a> ()</td></tr>
<tr class="memdesc:a64eabccdbdad7ccc4e993643145e1519"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the shared map.  <a href="#a64eabccdbdad7ccc4e993643145e1519">More...</a><br /></td></tr>
<tr class="separator:a64eabccdbdad7ccc4e993643145e1519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50acdbb432e8f1d361ecb831fa3a1e8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a50acdbb432e8f1d361ecb831fa3a1e8b">reset</a> (<a class="el" href="classTHD.html">THD</a> *thd)</td></tr>
<tr class="memdesc:a50acdbb432e8f1d361ecb831fa3a1e8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the shared map.  <a href="#a50acdbb432e8f1d361ecb831fa3a1e8b">More...</a><br /></td></tr>
<tr class="separator:a50acdbb432e8f1d361ecb831fa3a1e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f9603fc171edfdfde8f90cb3df52f3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a8f9603fc171edfdfde8f90cb3df52f3d">set_capacity</a> (size_t capacity)</td></tr>
<tr class="memdesc:a8f9603fc171edfdfde8f90cb3df52f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set capacity of the shared map.  <a href="#a8f9603fc171edfdfde8f90cb3df52f3d">More...</a><br /></td></tr>
<tr class="separator:a8f9603fc171edfdfde8f90cb3df52f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3119a1302666d7c29051d220a37fa192"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:a3119a1302666d7c29051d220a37fa192"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a3119a1302666d7c29051d220a37fa192">available</a> (const K &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="memdesc:a3119a1302666d7c29051d220a37fa192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an element with the given key is available.  <a href="#a3119a1302666d7c29051d220a37fa192">More...</a><br /></td></tr>
<tr class="separator:a3119a1302666d7c29051d220a37fa192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d10b67fde69397730905e4d7c7411a"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:a14d10b67fde69397730905e4d7c7411a"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a14d10b67fde69397730905e4d7c7411a">get</a> (const K &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; **element)</td></tr>
<tr class="memdesc:a14d10b67fde69397730905e4d7c7411a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a wrapper element from the map handling the given key type.  <a href="#a14d10b67fde69397730905e4d7c7411a">More...</a><br /></td></tr>
<tr class="separator:a14d10b67fde69397730905e4d7c7411a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9aff9992c01595bd665cd123ace578"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:aed9aff9992c01595bd665cd123ace578"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#aed9aff9992c01595bd665cd123ace578">put</a> (const K *<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>, const T *object, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; **element)</td></tr>
<tr class="memdesc:aed9aff9992c01595bd665cd123ace578"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put a new object and element wrapper into the map.  <a href="#aed9aff9992c01595bd665cd123ace578">More...</a><br /></td></tr>
<tr class="separator:aed9aff9992c01595bd665cd123ace578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d42474083840d11cf22c096fc88403b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a9d42474083840d11cf22c096fc88403b">release</a> (<a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *element)</td></tr>
<tr class="memdesc:a9d42474083840d11cf22c096fc88403b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release one element.  <a href="#a9d42474083840d11cf22c096fc88403b">More...</a><br /></td></tr>
<tr class="separator:a9d42474083840d11cf22c096fc88403b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99e8531e2d4e8bae815b416f8e5a615d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a99e8531e2d4e8bae815b416f8e5a615d">drop</a> (<a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *element)</td></tr>
<tr class="memdesc:a99e8531e2d4e8bae815b416f8e5a615d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an element from the map.  <a href="#a99e8531e2d4e8bae815b416f8e5a615d">More...</a><br /></td></tr>
<tr class="separator:a99e8531e2d4e8bae815b416f8e5a615d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847129b6846aeb5f148a34917f437fed"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:a847129b6846aeb5f148a34917f437fed"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a847129b6846aeb5f148a34917f437fed">drop_if_present</a> (const K &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="memdesc:a847129b6846aeb5f148a34917f437fed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an object corresponding to the key from the map if exists.  <a href="#a847129b6846aeb5f148a34917f437fed">More...</a><br /></td></tr>
<tr class="separator:a847129b6846aeb5f148a34917f437fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a49f3ada8ed714af88066fc58dfd3fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a5a49f3ada8ed714af88066fc58dfd3fc">replace</a> (<a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *element, const T *object)</td></tr>
<tr class="memdesc:a5a49f3ada8ed714af88066fc58dfd3fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace the object and re-generate the keys for an element.  <a href="#a5a49f3ada8ed714af88066fc58dfd3fc">More...</a><br /></td></tr>
<tr class="separator:a5a49f3ada8ed714af88066fc58dfd3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9cadf06d1c9e60215f27b77998f569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#adf9cadf06d1c9e60215f27b77998f569">dump</a> () const</td></tr>
<tr class="memdesc:adf9cadf06d1c9e60215f27b77998f569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug dump of the shared multi map to stderr.  <a href="#adf9cadf06d1c9e60215f27b77998f569">More...</a><br /></td></tr>
<tr class="separator:adf9cadf06d1c9e60215f27b77998f569"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a06b70bca2f797effcb5c6eb99e7b6f45"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:a06b70bca2f797effcb5c6eb99e7b6f45"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classdd_1_1cache_1_1Element__map.html">Element_map</a>&lt; K, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a06b70bca2f797effcb5c6eb99e7b6f45">m_map</a> ()</td></tr>
<tr class="memdesc:a06b70bca2f797effcb5c6eb99e7b6f45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template helper function getting the element map.  <a href="#a06b70bca2f797effcb5c6eb99e7b6f45">More...</a><br /></td></tr>
<tr class="separator:a06b70bca2f797effcb5c6eb99e7b6f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a038c9179a66d374da050a3cadac790ff"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:a038c9179a66d374da050a3cadac790ff"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="classdd_1_1cache_1_1Element__map.html">Element_map</a>&lt; K, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a038c9179a66d374da050a3cadac790ff">m_map</a> () const</td></tr>
<tr class="separator:a038c9179a66d374da050a3cadac790ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a709aad36ee9b15ded0fb21213a0f49da"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:a709aad36ee9b15ded0fb21213a0f49da"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a709aad36ee9b15ded0fb21213a0f49da">use_if_present</a> (const K &amp;<a class="el" href="mi__test2_8cc.html#a30b3e7be7739a55bdf3f9c82becb1903">key</a>)</td></tr>
<tr class="memdesc:a709aad36ee9b15ded0fb21213a0f49da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template function to find an element and mark it as used.  <a href="#a709aad36ee9b15ded0fb21213a0f49da">More...</a><br /></td></tr>
<tr class="separator:a709aad36ee9b15ded0fb21213a0f49da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dfadf34a019f15a6c3b4f42ba954c2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a2dfadf34a019f15a6c3b4f42ba954c2b">remove</a> (<a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *element, <a class="el" href="classdd_1_1cache_1_1Shared__multi__map_1_1Autolocker.html">Autolocker</a> *lock)</td></tr>
<tr class="memdesc:a2dfadf34a019f15a6c3b4f42ba954c2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an element from the map.  <a href="#a2dfadf34a019f15a6c3b4f42ba954c2b">More...</a><br /></td></tr>
<tr class="separator:a2dfadf34a019f15a6c3b4f42ba954c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d25cc841f1134b9c6619b5c3b838a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a04d25cc841f1134b9c6619b5c3b838a9">map_capacity_exceeded</a> () const</td></tr>
<tr class="memdesc:a04d25cc841f1134b9c6619b5c3b838a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current map capacity is exceeded.  <a href="#a04d25cc841f1134b9c6619b5c3b838a9">More...</a><br /></td></tr>
<tr class="separator:a04d25cc841f1134b9c6619b5c3b838a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeedc10b6b48536b1bc55d48ab8553d05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#aeedc10b6b48536b1bc55d48ab8553d05">pool_capacity_exceeded</a> () const</td></tr>
<tr class="memdesc:aeedc10b6b48536b1bc55d48ab8553d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the pool capacity is exceeded.  <a href="#aeedc10b6b48536b1bc55d48ab8553d05">More...</a><br /></td></tr>
<tr class="separator:aeedc10b6b48536b1bc55d48ab8553d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c92d944918bca9dc65113ee837409eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a2c92d944918bca9dc65113ee837409eb">rectify_free_list</a> (<a class="el" href="classdd_1_1cache_1_1Shared__multi__map_1_1Autolocker.html">Autolocker</a> *lock)</td></tr>
<tr class="memdesc:a2c92d944918bca9dc65113ee837409eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to evict unused elements from the free list until the cache capacity is not exceeded.  <a href="#a2c92d944918bca9dc65113ee837409eb">More...</a><br /></td></tr>
<tr class="separator:a2c92d944918bca9dc65113ee837409eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa941086ebe8f62e64af97c435ec95feb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#aa941086ebe8f62e64af97c435ec95feb">evict_all_unused</a> (<a class="el" href="classdd_1_1cache_1_1Shared__multi__map_1_1Autolocker.html">Autolocker</a> *lock)</td></tr>
<tr class="memdesc:aa941086ebe8f62e64af97c435ec95feb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to evict all unused elements from the free list and the cache.  <a href="#aa941086ebe8f62e64af97c435ec95feb">More...</a><br /></td></tr>
<tr class="separator:aa941086ebe8f62e64af97c435ec95feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a1d3621a4c0e3dea77784b05fb97de890"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a1d3621a4c0e3dea77784b05fb97de890">m_lock</a></td></tr>
<tr class="memdesc:a1d3621a4c0e3dea77784b05fb97de890"><td class="mdescLeft">&#160;</td><td class="mdescRight">We need a mutex to lock this instance for thread safety, as well as a condition variable for synchronizing handling of cache misses.  <a href="#a1d3621a4c0e3dea77784b05fb97de890">More...</a><br /></td></tr>
<tr class="separator:a1d3621a4c0e3dea77784b05fb97de890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae848aa7dbb8fccfcbb91ede2ff0663d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__cond__t.html">mysql_cond_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#ae848aa7dbb8fccfcbb91ede2ff0663d3">m_miss_handled</a></td></tr>
<tr class="separator:ae848aa7dbb8fccfcbb91ede2ff0663d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb954f4cbc36b6bb2906cfddaef34a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdd_1_1cache_1_1Free__list.html">Free_list</a>&lt; <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a5fb954f4cbc36b6bb2906cfddaef34a5">m_free_list</a></td></tr>
<tr class="separator:a5fb954f4cbc36b6bb2906cfddaef34a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a59b474b344dc51bb02574635239129"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a0a59b474b344dc51bb02574635239129">m_element_pool</a></td></tr>
<tr class="separator:a0a59b474b344dc51bb02574635239129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198484360b3d9050a08e26fde66271cf"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a198484360b3d9050a08e26fde66271cf">m_capacity</a></td></tr>
<tr class="separator:a198484360b3d9050a08e26fde66271cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a1cddd7cc86c3eceb91e1af1130b293b8"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html#a1cddd7cc86c3eceb91e1af1130b293b8">initial_capacity</a> = 256</td></tr>
<tr class="separator:a1cddd7cc86c3eceb91e1af1130b293b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classdd_1_1cache_1_1Multi__map__base"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classdd_1_1cache_1_1Multi__map__base')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classdd_1_1cache_1_1Multi__map__base.html">dd::cache::Multi_map_base&lt; T &gt;</a></td></tr>
<tr class="memitem:af770b9983aa44440c8853ffdc145b160 inherit pub_types_classdd_1_1cache_1_1Multi__map__base"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classdd_1_1cache_1_1Element__map.html">Element_map</a>&lt; const T *, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; &gt;::<a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#af770b9983aa44440c8853ffdc145b160">Const_iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#af770b9983aa44440c8853ffdc145b160">Const_iterator</a></td></tr>
<tr class="separator:af770b9983aa44440c8853ffdc145b160 inherit pub_types_classdd_1_1cache_1_1Multi__map__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8576bf7da55606c8863cc9e22d4139d inherit pub_types_classdd_1_1cache_1_1Multi__map__base"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classdd_1_1cache_1_1Element__map.html">Element_map</a>&lt; const T *, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; &gt;::<a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#af8576bf7da55606c8863cc9e22d4139d">Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#af8576bf7da55606c8863cc9e22d4139d">Iterator</a></td></tr>
<tr class="separator:af8576bf7da55606c8863cc9e22d4139d inherit pub_types_classdd_1_1cache_1_1Multi__map__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classdd_1_1cache_1_1Multi__map__base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classdd_1_1cache_1_1Multi__map__base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classdd_1_1cache_1_1Multi__map__base.html">dd::cache::Multi_map_base&lt; T &gt;</a></td></tr>
<tr class="memitem:a65c3dc6636996b574bc49e6d05626591 inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:a65c3dc6636996b574bc49e6d05626591 inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classdd_1_1cache_1_1Element__map.html">Element_map</a>&lt; K, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#a65c3dc6636996b574bc49e6d05626591">m_map</a> ()</td></tr>
<tr class="memdesc:a65c3dc6636996b574bc49e6d05626591 inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template function to get an element map.  <a href="classdd_1_1cache_1_1Multi__map__base.html#a65c3dc6636996b574bc49e6d05626591">More...</a><br /></td></tr>
<tr class="separator:a65c3dc6636996b574bc49e6d05626591 inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc5a0c33e532ff6274b9fa77ae3304b inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memTemplParams" colspan="2">template&lt;typename K &gt; </td></tr>
<tr class="memitem:aacc5a0c33e532ff6274b9fa77ae3304b inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="classdd_1_1cache_1_1Element__map.html">Element_map</a>&lt; K, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; &gt; *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#aacc5a0c33e532ff6274b9fa77ae3304b">m_map</a> () const</td></tr>
<tr class="separator:aacc5a0c33e532ff6274b9fa77ae3304b inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaaf7e47dad3fbb284d9fe00d73fc06c inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#aeaaf7e47dad3fbb284d9fe00d73fc06c">remove_single_element</a> (<a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *element)</td></tr>
<tr class="memdesc:aeaaf7e47dad3fbb284d9fe00d73fc06c inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to remove the mapping of a single element, without deleting the element itself.  <a href="classdd_1_1cache_1_1Multi__map__base.html#aeaaf7e47dad3fbb284d9fe00d73fc06c">More...</a><br /></td></tr>
<tr class="separator:aeaaf7e47dad3fbb284d9fe00d73fc06c inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc05dd69c6ac9946d152ea3136507055 inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#adc05dd69c6ac9946d152ea3136507055">add_single_element</a> (<a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *element)</td></tr>
<tr class="memdesc:adc05dd69c6ac9946d152ea3136507055 inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to add a single element.  <a href="classdd_1_1cache_1_1Multi__map__base.html#adc05dd69c6ac9946d152ea3136507055">More...</a><br /></td></tr>
<tr class="separator:adc05dd69c6ac9946d152ea3136507055 inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaee4085ec7c75f371d9e797a7272c13f inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdd_1_1cache_1_1Multi__map__base.html#aaee4085ec7c75f371d9e797a7272c13f">dump</a> () const</td></tr>
<tr class="memdesc:aaee4085ec7c75f371d9e797a7272c13f inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug dump of the multi map base to stderr.  <a href="classdd_1_1cache_1_1Multi__map__base.html#aaee4085ec7c75f371d9e797a7272c13f">More...</a><br /></td></tr>
<tr class="separator:aaee4085ec7c75f371d9e797a7272c13f inherit pro_methods_classdd_1_1cache_1_1Multi__map__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class dd::cache::Shared_multi_map&lt; T &gt;</h3>

<p>Implementation of a shared set of maps for a given object type. </p>
<p>The implementation is an extension of the Multi_map_base, and adds support for:</p>
<ul>
<li>Locking and thread synchronization.</li>
<li>Broadcasting a miss which has been handled.</li>
<li>Tracking object usage.</li>
<li>Managing the free list.</li>
<li>Tracking cache misses.</li>
<li>Maintaining a pool of allocated cache elements.</li>
<li>Deleting objects and elements after releasing the mutex.</li>
</ul>
<p>The pool of vacant cache elements is used to avoid deleting and allocating memory. We keep a pool of up to 'max_connections' elements. When a new element is needed, we first try to get one from the pool. If that does not succeed, a new element is allocated dynamically. In this case, the allocation will happen while the mutex is locked.</p>
<p>When an element and object are to be removed from the shared map and deleted, the size of the pool decides whether the element should be added to the pool or not. If it is not added to the pool, it is signed up for being deleted by the Autolocker. The element's object is always signed up for being deleted, it is never reused even if the corresponding element is added to the pool. The Autolocker is used for two purposes:</p>
<ol type="1">
<li>To ensure that the mutex is locked and unlocked correctly.</li>
<li>To delete unused elements and objects outside the scope where the mutex is locked.</li>
</ol>
<p>When the Autolocker is deleted, it will first unlock the mutex, then it will iterate over the elements and objects and delete them.</p>
<dl class="section note"><dt>Note</dt><dd>The multi map provides support for tracking cache misses, but does not handle the miss. The miss must be handled by the user of the multi map.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Dictionary object type. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac8aabcf4d98e234266485d7daa898c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8aabcf4d98e234266485d7daa898c7b">&#9670;&nbsp;</a></span>Shared_multi_map()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::<a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">Shared_multi_map</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the mutex and condition variable. </p>
<p>Set initial map capacity. </p>

</div>
</div>
<a id="a543fe987fc8285bc25a635d965644a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a543fe987fc8285bc25a635d965644a62">&#9670;&nbsp;</a></span>~Shared_multi_map()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::~<a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">Shared_multi_map</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy the mutex and condition variable. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3119a1302666d7c29051d220a37fa192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3119a1302666d7c29051d220a37fa192">&#9670;&nbsp;</a></span>available()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<div class="memtemplate">
template&lt;typename K &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::available </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if an element with the given key is available. </p>

</div>
</div>
<a id="a99e8531e2d4e8bae815b416f8e5a615d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99e8531e2d4e8bae815b416f8e5a615d">&#9670;&nbsp;</a></span>drop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::drop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete an element from the map. </p>
<p>This function will remove the element from all maps, using remove(), and delete the object pointed to. This means that all keys associated with the element will be removed from the maps, and the cache element wrapper will be deleted. The object may not be accessed after calling this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>Element pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a847129b6846aeb5f148a34917f437fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a847129b6846aeb5f148a34917f437fed">&#9670;&nbsp;</a></span>drop_if_present()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<div class="memtemplate">
template&lt;typename K &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::drop_if_present&lt; <a class="el" href="classdd_1_1Resource__group.html#afe39c489dd23fce375b94a54d4b4503e">Resource_group::Id_key</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete an object corresponding to the key from the map if exists. </p>
<p>This function will find the element corresponding to the key if it exists. After that it will remove the element from all maps, using remove(), and delete the object pointed to. This means that all keys associated with the element will be removed from the maps, and the cache element wrapper will be deleted.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">K</td><td>Key type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to be checked. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adf9cadf06d1c9e60215f27b77998f569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf9cadf06d1c9e60215f27b77998f569">&#9670;&nbsp;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::dump </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Debug dump of the shared multi map to stderr. </p>

</div>
</div>
<a id="aa941086ebe8f62e64af97c435ec95feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa941086ebe8f62e64af97c435ec95feb">&#9670;&nbsp;</a></span>evict_all_unused()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::evict_all_unused </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map_1_1Autolocker.html">Autolocker</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to evict all unused elements from the free list and the cache. </p>
<p>Used during e.g. shutdown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>Autolocker to use for signing up for auto delete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a14d10b67fde69397730905e4d7c7411a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d10b67fde69397730905e4d7c7411a">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<div class="memtemplate">
template&lt;typename K &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::get&lt; <a class="el" href="classdd_1_1Resource__group.html#a33465cd515c4e1d1c0aa190385d0703c">Resource_group::Aux_key</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; **&#160;</td>
          <td class="paramname"><em>element</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a wrapper element from the map handling the given key type. </p>
<p>If the wrapped object is present, mark it as used and return it. If the object is in the process of being loaded, wait for loading to be completed. If the object is not present, and not being loaded, mark it as missed and return.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">K</td><td>Key type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">key</td><td>Key to use for looking up the object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">element</td><td>Wrapper element pointer, if present, either immediately or after a cache miss handled by another thread. NULL if awakened after a miss handled by another thread, which was unable to load the object from elsewhere. NULL if the object is not present, and no other thread is missing it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>If the object is missed, and this thread must handle the miss. </td></tr>
    <tr><td class="paramname">false</td><td>Otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a06b70bca2f797effcb5c6eb99e7b6f45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b70bca2f797effcb5c6eb99e7b6f45">&#9670;&nbsp;</a></span>m_map() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<div class="memtemplate">
template&lt;typename K &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdd_1_1cache_1_1Element__map.html">Element_map</a>&lt;K, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt;T&gt; &gt;* <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::m_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template helper function getting the element map. </p>
<p>Const and non-const variants.</p>
<dl class="section note"><dt>Note</dt><dd>Slightly weird syntax is needed to help the parser to resolve this correctly.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">K</td><td>Key type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The element map handling keys of type K. </dd></dl>

</div>
</div>
<a id="a038c9179a66d374da050a3cadac790ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a038c9179a66d374da050a3cadac790ff">&#9670;&nbsp;</a></span>m_map() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<div class="memtemplate">
template&lt;typename K &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classdd_1_1cache_1_1Element__map.html">Element_map</a>&lt;K, <a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt;T&gt; &gt;* <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::m_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a04d25cc841f1134b9c6619b5c3b838a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04d25cc841f1134b9c6619b5c3b838a9">&#9670;&nbsp;</a></span>map_capacity_exceeded()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::map_capacity_exceeded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the current map capacity is exceeded. </p>
<dl class="section return"><dt>Returns</dt><dd>true If the cache capacity is exceeded. false If there is additional capacity in the cache. </dd></dl>

</div>
</div>
<a id="aeedc10b6b48536b1bc55d48ab8553d05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeedc10b6b48536b1bc55d48ab8553d05">&#9670;&nbsp;</a></span>pool_capacity_exceeded()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::pool_capacity_exceeded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the pool capacity is exceeded. </p>
<p>We keep enough elements to let all connections have a cache miss at the same time without needing to allocate a new element, i.e., we use 'max_connections' as the pool capacity.</p>
<dl class="section return"><dt>Returns</dt><dd>true If the pool capacity is exceeded. false If there is additional capacity for vacant elements. </dd></dl>

</div>
</div>
<a id="aed9aff9992c01595bd665cd123ace578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed9aff9992c01595bd665cd123ace578">&#9670;&nbsp;</a></span>put()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<div class="memtemplate">
template&lt;typename K &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">template void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::put&lt; <a class="el" href="classdd_1_1Resource__group.html#a33465cd515c4e1d1c0aa190385d0703c">Resource_group::Aux_key</a> &gt; </td>
          <td>(</td>
          <td class="paramtype">const K *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; **&#160;</td>
          <td class="paramname"><em>element</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put a new object and element wrapper into the map. </p>
<p>The new object may be NULL if it does not exist in the DD tables. In that case, we must still update the missing set and broadcast, if necessary, because other threads may be waiting. Then, the element returned is also NULL.</p>
<p>Otherwise, we check that the actual object instance is not present in the map, then all the keys are generated based on the new object. The keys that are missed are removed from the missed set, and then we verify that all keys are either present or absent.</p>
<p>If no keys are present, it means we must add the new object. We remove the least recently used objects, if cache capacity is exceeded, and add the new object to the reverse map. We also mark the object as being used. The element wrapper of the new object is returned.</p>
<p>If all keys are present, we return the wrapper element already present and delete the newly read object.</p>
<p>Finally, if at least one key was missed, we broadcast that the miss has been handled.</p>
<dl class="section note"><dt>Note</dt><dd>This function will delete the newly read object if an object with the same keys is already present.</dd>
<dd>
The function may add a new object which is not registered as being missed, i.e., without a preceding cache miss In this case, the submitted key is NULL.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">K</td><td>Key type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">key</td><td>Key used when loading the object. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">object</td><td>New object to be added. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">element</td><td>Element wrapper: NULL if the new object is NULL, otherwise the wrapper of the newly read object or the existing object with the same keys. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c92d944918bca9dc65113ee837409eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c92d944918bca9dc65113ee837409eb">&#9670;&nbsp;</a></span>rectify_free_list()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::rectify_free_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map_1_1Autolocker.html">Autolocker</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to evict unused elements from the free list until the cache capacity is not exceeded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>Autolocker to use for signing up for auto delete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d42474083840d11cf22c096fc88403b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d42474083840d11cf22c096fc88403b">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release one element. </p>
<p>The element must be present and in use. If the element becomes unused, it is added to the free list, which is then rectified to enforce its capacity constraints.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>Element pointer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2dfadf34a019f15a6c3b4f42ba954c2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dfadf34a019f15a6c3b4f42ba954c2b">&#9670;&nbsp;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map_1_1Autolocker.html">Autolocker</a> *&#160;</td>
          <td class="paramname"><em>lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove an element from the map. </p>
<p>This function will remove the element from the multi map. This means that all keys associated with the element will be removed from the maps, and the cache element wrapper will be deleted. The object itself is not deleted. It is up to the outer layer to decide what to do with the object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>Element to be removed. </td></tr>
    <tr><td class="paramname">lock</td><td>Autolocker to use for signing up for auto delete. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a49f3ada8ed714af88066fc58dfd3fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a49f3ada8ed714af88066fc58dfd3fc">&#9670;&nbsp;</a></span>replace()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::replace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; *&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace the object and re-generate the keys for an element. </p>
<p>The element must be present and in use. The keys by which it is hashed are removed from the internal maps. The new keys are generated, and the element, with its new keys, is added to the maps again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>Element for which new keys should be generated. </td></tr>
    <tr><td class="paramname">object</td><td>New object to replace the old one. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a50acdbb432e8f1d361ecb831fa3a1e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50acdbb432e8f1d361ecb831fa3a1e8b">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the shared map. </p>
<p>Locks and deletes all objects present, but keeps the element pool and the capacity setting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Failure, e.g. timeout from metadata lock acquisition. </td></tr>
    <tr><td class="paramname">false</td><td>Otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8f9603fc171edfdfde8f90cb3df52f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f9603fc171edfdfde8f90cb3df52f3d">&#9670;&nbsp;</a></span>set_capacity()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::set_capacity </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set capacity of the shared map. </p>

</div>
</div>
<a id="a64eabccdbdad7ccc4e993643145e1519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64eabccdbdad7ccc4e993643145e1519">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown the shared map. </p>
<p>Delete all objects present. </p>

</div>
</div>
<a id="a709aad36ee9b15ded0fb21213a0f49da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a709aad36ee9b15ded0fb21213a0f49da">&#9670;&nbsp;</a></span>use_if_present()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<div class="memtemplate">
template&lt;typename K &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt; T &gt; * <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::use_if_present </td>
          <td>(</td>
          <td class="paramtype">const K &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template function to find an element and mark it as used. </p>
<p>The function looks up the appropriate element map. If the key is present in the map, the element is marked as being used and returned. If the element was in the free list, it is removed from the list.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">K</td><td>Key type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to use for looking up the element.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Element found associated with the key, if present, otherwise NULL. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1cddd7cc86c3eceb91e1af1130b293b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cddd7cc86c3eceb91e1af1130b293b8">&#9670;&nbsp;</a></span>initial_capacity</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::initial_capacity = 256</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a198484360b3d9050a08e26fde66271cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a198484360b3d9050a08e26fde66271cf">&#9670;&nbsp;</a></span>m_capacity</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::m_capacity</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a59b474b344dc51bb02574635239129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a59b474b344dc51bb02574635239129">&#9670;&nbsp;</a></span>m_element_pool</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt;T&gt; *&gt; <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::m_element_pool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5fb954f4cbc36b6bb2906cfddaef34a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb954f4cbc36b6bb2906cfddaef34a5">&#9670;&nbsp;</a></span>m_free_list</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdd_1_1cache_1_1Free__list.html">Free_list</a>&lt;<a class="el" href="classdd_1_1cache_1_1Cache__element.html">Cache_element</a>&lt;T&gt; &gt; <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::m_free_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1d3621a4c0e3dea77784b05fb97de890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3621a4c0e3dea77784b05fb97de890">&#9670;&nbsp;</a></span>m_lock</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__mutex__t.html">mysql_mutex_t</a> <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::m_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We need a mutex to lock this instance for thread safety, as well as a condition variable for synchronizing handling of cache misses. </p>
<p>We provide a set of operations for using these variables. </p>

</div>
</div>
<a id="ae848aa7dbb8fccfcbb91ede2ff0663d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae848aa7dbb8fccfcbb91ede2ff0663d3">&#9670;&nbsp;</a></span>m_miss_handled</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__cond__t.html">mysql_cond_t</a> <a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">dd::cache::Shared_multi_map</a>&lt; T &gt;::m_miss_handled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/dd/impl/cache/<a class="el" href="cache__element_8h_source.html">cache_element.h</a></li>
<li>sql/dd/impl/cache/<a class="el" href="shared__multi__map_8h_source.html">shared_multi_map.h</a></li>
<li>sql/dd/impl/cache/<a class="el" href="shared__multi__map_8cc.html">shared_multi_map.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedd.html">dd</a></li><li class="navelem"><a class="el" href="namespacedd_1_1cache.html">cache</a></li><li class="navelem"><a class="el" href="classdd_1_1cache_1_1Shared__multi__map.html">Shared_multi_map</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
