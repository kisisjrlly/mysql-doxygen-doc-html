<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/dict0load.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dict0load_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dict0load.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Loads to the memory cache database object definitions from dictionary tables.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="btr0types_8h_source.html">btr0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fil0fil_8h_source.html">fil0fil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mem0mem_8h_source.html">mem0mem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br />
<code>#include &quot;univ.i&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0byte_8h_source.html">ut0byte.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0new_8h_source.html">ut0new.h</a>&quot;</code><br />
<code>#include &lt;deque&gt;</code><br />
</div>
<p><a href="dict0load_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structspace__compare.html">space_compare</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af57ce26e15eb361d548cf4ce630f8b95"><td class="memItemLeft" align="right" valign="top">typedef std::deque&lt; const char *, <a class="el" href="classut__allocator.html">ut_allocator</a>&lt; const char * &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#af57ce26e15eb361d548cf4ce630f8b95">dict_names_t</a></td></tr>
<tr class="memdesc:af57ce26e15eb361d548cf4ce630f8b95"><td class="mdescLeft">&#160;</td><td class="mdescRight">A stack of table names related through foreign key constraints.  <a href="#af57ce26e15eb361d548cf4ce630f8b95">More...</a><br /></td></tr>
<tr class="separator:af57ce26e15eb361d548cf4ce630f8b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392e687513b8c1c56aed9cddc7bc07db"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#a392e687513b8c1c56aed9cddc7bc07db">missing_sys_tblsp_t</a> = <a class="el" href="suite__stubs_8h.html#ad287d8e71b971be7d1c8998b3284340c">std::set</a>&lt; <a class="el" href="structfil__space__t.html">fil_space_t</a> *, <a class="el" href="structspace__compare.html">space_compare</a> &gt;</td></tr>
<tr class="separator:a392e687513b8c1c56aed9cddc7bc07db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a7eec73bf89d9692ec12708a88ad862aa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aa">dict_system_id_t</a> { <br />
&#160;&#160;<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaac26d8d198a9629e0615a6210bc25a1e4">SYS_TABLES</a> = 0, 
<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaa222895863d187899afc410da1bc9d93c">SYS_INDEXES</a>, 
<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaaedecf4dd5266ba39ba10a1b28c2f5732">SYS_COLUMNS</a>, 
<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaaac5dd865d09f4728af97216daf3be3ec">SYS_FIELDS</a>, 
<br />
&#160;&#160;<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaa8235ebc676d3eb41a1c1b69435d15c91">SYS_FOREIGN</a>, 
<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaa684276399e6f21dd91c5e9c7e4359688">SYS_FOREIGN_COLS</a>, 
<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaaa24ebb024c55b963e2938b80ad34b12d">SYS_TABLESPACES</a>, 
<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaab0bd430f25f79f9230db5e4e56024de2">SYS_DATAFILES</a>, 
<br />
&#160;&#160;<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaa14e42daf585f3b6665b857d90e968e4d">SYS_VIRTUAL</a>, 
<a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aaa79662da7757921eb169f9cb649761d9f">SYS_NUM_SYSTEM_TABLES</a>
<br />
 }<tr class="memdesc:a7eec73bf89d9692ec12708a88ad862aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">enum that defines all system table IDs.  <a href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aa">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a7eec73bf89d9692ec12708a88ad862aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9fec93ae4fed092920b2813abf7286"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#a3f9fec93ae4fed092920b2813abf7286">dict_table_info_t</a> { <a class="el" href="dict0load_8h.html#a3f9fec93ae4fed092920b2813abf7286a274880f997de17830b8db34b0f780f01">DICT_TABLE_LOAD_FROM_RECORD</a> = 0, 
<a class="el" href="dict0load_8h.html#a3f9fec93ae4fed092920b2813abf7286ad784ff2e87a930163c9594c72fa805c0">DICT_TABLE_LOAD_FROM_CACHE</a> = 1
 }<tr class="memdesc:a3f9fec93ae4fed092920b2813abf7286"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status bit for dict_process_sys_tables_rec_and_mtr_commit()  <a href="dict0load_8h.html#a3f9fec93ae4fed092920b2813abf7286">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a3f9fec93ae4fed092920b2813abf7286"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afb3ed1aa223bacbe6036686ef457449b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#afb3ed1aa223bacbe6036686ef457449b">dict_get_first_table_name_in_db</a> (const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>)</td></tr>
<tr class="memdesc:afb3ed1aa223bacbe6036686ef457449b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the first table name in the given database.  <a href="#afb3ed1aa223bacbe6036686ef457449b">More...</a><br /></td></tr>
<tr class="separator:afb3ed1aa223bacbe6036686ef457449b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39ffd634d96943c98d9933397438262"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#ab39ffd634d96943c98d9933397438262">dict_get_first_path</a> (ulint space_id)</td></tr>
<tr class="memdesc:ab39ffd634d96943c98d9933397438262"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the first filepath from SYS_DATAFILES for a given space_id.  <a href="#ab39ffd634d96943c98d9933397438262">More...</a><br /></td></tr>
<tr class="separator:ab39ffd634d96943c98d9933397438262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae671fe98fe282b5858f0ba55180784c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#ae671fe98fe282b5858f0ba55180784c5">dict_get_and_save_data_dir_path</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> dict_mutex_own)</td></tr>
<tr class="memdesc:ae671fe98fe282b5858f0ba55180784c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make sure the data_dir_path is saved in dict_table_t if DATA DIRECTORY was used.  <a href="#ae671fe98fe282b5858f0ba55180784c5">More...</a><br /></td></tr>
<tr class="separator:ae671fe98fe282b5858f0ba55180784c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8f5be7c644cd41331fc960ff8cae85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#acb8f5be7c644cd41331fc960ff8cae85">dict_get_and_save_space_name</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> dict_mutex_own)</td></tr>
<tr class="memdesc:acb8f5be7c644cd41331fc960ff8cae85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make sure the tablespace name is saved in dict_table_t if the table uses a general tablespace.  <a href="#acb8f5be7c644cd41331fc960ff8cae85">More...</a><br /></td></tr>
<tr class="separator:acb8f5be7c644cd41331fc960ff8cae85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf3fa761cefb2530279fb15d0e32da7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#aadf3fa761cefb2530279fb15d0e32da7">dict_load_table</a> (const char *<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="xcom__statistics_8cc.html#afd08bcda689c1ad6fcda7be4ce030489">cached</a>, <a class="el" href="dict0types_8h.html#a83692d2bec02fe094d1df8f4346e35fa">dict_err_ignore_t</a> ignore_err)</td></tr>
<tr class="memdesc:aadf3fa761cefb2530279fb15d0e32da7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads a table definition and also all its index definitions, and also the cluster definition if the table is a member in a cluster.  <a href="#aadf3fa761cefb2530279fb15d0e32da7">More...</a><br /></td></tr>
<tr class="separator:aadf3fa761cefb2530279fb15d0e32da7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86adf4bbc9ec47f3e030ec966fcf7302"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#a86adf4bbc9ec47f3e030ec966fcf7302">dict_load_sys_table</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table)</td></tr>
<tr class="memdesc:a86adf4bbc9ec47f3e030ec966fcf7302"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when the database is booted.  <a href="#a86adf4bbc9ec47f3e030ec966fcf7302">More...</a><br /></td></tr>
<tr class="separator:a86adf4bbc9ec47f3e030ec966fcf7302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d509cd2cdfa1ff4b05ea01da4cf1370"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#a1d509cd2cdfa1ff4b05ea01da4cf1370">dict_load_foreigns</a> (const char *table_name, const char **col_names, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_recursive, <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> check_charsets, <a class="el" href="dict0types_8h.html#a83692d2bec02fe094d1df8f4346e35fa">dict_err_ignore_t</a> ignore_err, <a class="el" href="dict0load_8h.html#af57ce26e15eb361d548cf4ce630f8b95">dict_names_t</a> &amp;fk_tables)</td></tr>
<tr class="memdesc:a1d509cd2cdfa1ff4b05ea01da4cf1370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads foreign key constraints where the table is either the foreign key holder or where the table is referenced by a foreign key.  <a href="#a1d509cd2cdfa1ff4b05ea01da4cf1370">More...</a><br /></td></tr>
<tr class="separator:a1d509cd2cdfa1ff4b05ea01da4cf1370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59fbd26e43bc9b9293c5d281829c09ff"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#a59fbd26e43bc9b9293c5d281829c09ff">dict_startscan_system</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *pcur, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr, <a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aa">dict_system_id_t</a> system_id)</td></tr>
<tr class="memdesc:a59fbd26e43bc9b9293c5d281829c09ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function opens a system table, and return the first record.  <a href="#a59fbd26e43bc9b9293c5d281829c09ff">More...</a><br /></td></tr>
<tr class="separator:a59fbd26e43bc9b9293c5d281829c09ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3666514ea7ab0b419a797336b12202a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#ab3666514ea7ab0b419a797336b12202a">dict_getnext_system</a> (<a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *pcur, <a class="el" href="structmtr__t.html">mtr_t</a> *mtr)</td></tr>
<tr class="memdesc:ab3666514ea7ab0b419a797336b12202a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function get the next system table record as we scan the table.  <a href="#ab3666514ea7ab0b419a797336b12202a">More...</a><br /></td></tr>
<tr class="separator:ab3666514ea7ab0b419a797336b12202a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefec5ebcb34d7a1949d660f855b5f46"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#afefec5ebcb34d7a1949d660f855b5f46">dict_process_sys_tablespaces</a> (<a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *rec, <a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> *space, const char **<a class="el" href="persisted__variable_8cc.html#a02b8247840db27f85191d734d51598fa">name</a>, uint32_t *<a class="el" href="mi__test1_8cc.html#a6eec09a91807e20d7b3d6ef3da594067">flags</a>)</td></tr>
<tr class="memdesc:afefec5ebcb34d7a1949d660f855b5f46"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function parses a SYS_TABLESPACES record, extracts necessary information from the record and returns to caller.  <a href="#afefec5ebcb34d7a1949d660f855b5f46">More...</a><br /></td></tr>
<tr class="separator:afefec5ebcb34d7a1949d660f855b5f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e0abe14511326201373982f934921e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#a95e0abe14511326201373982f934921e">dict_load_tablespace</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *heap, <a class="el" href="dict0types_8h.html#a83692d2bec02fe094d1df8f4346e35fa">dict_err_ignore_t</a> ignore_err)</td></tr>
<tr class="memdesc:a95e0abe14511326201373982f934921e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a tablespace for dict_load_table_one()  <a href="#a95e0abe14511326201373982f934921e">More...</a><br /></td></tr>
<tr class="separator:a95e0abe14511326201373982f934921e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef10ceaac559e6e20818f3e4ecea48f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#aaef10ceaac559e6e20818f3e4ecea48f">dict_save_data_dir_path</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, char *<a class="el" href="myisamlog_8cc.html#ae9175a148fe52c327ca1a8970b3d9994">filepath</a>)</td></tr>
<tr class="memdesc:aaef10ceaac559e6e20818f3e4ecea48f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Using the table-&gt;heap, copy the null-terminated filepath into table-&gt;data_dir_path.  <a href="#aaef10ceaac559e6e20818f3e4ecea48f">More...</a><br /></td></tr>
<tr class="separator:aaef10ceaac559e6e20818f3e4ecea48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1261ac18cc6749b03a0e165fa6323c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#ad1261ac18cc6749b03a0e165fa6323c4">dict_load_tablespaces_for_upgrade</a> ()</td></tr>
<tr class="memdesc:ad1261ac18cc6749b03a0e165fa6323c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load all tablespaces during upgrade.  <a href="#ad1261ac18cc6749b03a0e165fa6323c4">More...</a><br /></td></tr>
<tr class="separator:ad1261ac18cc6749b03a0e165fa6323c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae9777bdd5ef70d77646149d30e6cdcc5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#ae9777bdd5ef70d77646149d30e6cdcc5">SYSTEM_TABLE_NAME</a> []</td></tr>
<tr class="memdesc:ae9777bdd5ef70d77646149d30e6cdcc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Following are the InnoDB system tables.  <a href="#ae9777bdd5ef70d77646149d30e6cdcc5">More...</a><br /></td></tr>
<tr class="separator:ae9777bdd5ef70d77646149d30e6cdcc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a519b12c6aa72591d16be695305165"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dict0load_8h.html#a392e687513b8c1c56aed9cddc7bc07db">missing_sys_tblsp_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#aa1a519b12c6aa72591d16be695305165">missing_spaces</a></td></tr>
<tr class="separator:aa1a519b12c6aa72591d16be695305165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2af78ecc22c7c6c688b0ab6733fd140"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0load_8h.html#aa2af78ecc22c7c6c688b0ab6733fd140">has_discarded_tablespaces</a></td></tr>
<tr class="memdesc:aa2af78ecc22c7c6c688b0ab6733fd140"><td class="mdescLeft">&#160;</td><td class="mdescRight">This bool denotes if we found a Table or Partition with discarded Tablespace during load of SYS_TABLES (in dict_check_sys_tables).  <a href="#aa2af78ecc22c7c6c688b0ab6733fd140">More...</a><br /></td></tr>
<tr class="separator:aa2af78ecc22c7c6c688b0ab6733fd140"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Loads to the memory cache database object definitions from dictionary tables. </p>
<p>Created 4/24/1996 Heikki Tuuri </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="af57ce26e15eb361d548cf4ce630f8b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af57ce26e15eb361d548cf4ce630f8b95">&#9670;&nbsp;</a></span>dict_names_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::deque&lt;const char *, <a class="el" href="classut__allocator.html">ut_allocator</a>&lt;const char *&gt; &gt; <a class="el" href="dict0load_8h.html#af57ce26e15eb361d548cf4ce630f8b95">dict_names_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A stack of table names related through foreign key constraints. </p>

</div>
</div>
<a id="a392e687513b8c1c56aed9cddc7bc07db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392e687513b8c1c56aed9cddc7bc07db">&#9670;&nbsp;</a></span>missing_sys_tblsp_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="dict0load_8h.html#a392e687513b8c1c56aed9cddc7bc07db">missing_sys_tblsp_t</a> =  <a class="el" href="suite__stubs_8h.html#ad287d8e71b971be7d1c8998b3284340c">std::set</a>&lt;<a class="el" href="structfil__space__t.html">fil_space_t</a> *, <a class="el" href="structspace__compare.html">space_compare</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a7eec73bf89d9692ec12708a88ad862aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eec73bf89d9692ec12708a88ad862aa">&#9670;&nbsp;</a></span>dict_system_id_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aa">dict_system_id_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>enum that defines all system table IDs. </p>
<dl class="section see"><dt>See also</dt><dd>SYSTEM_TABLE_NAME[] </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaac26d8d198a9629e0615a6210bc25a1e4"></a>SYS_TABLES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaa222895863d187899afc410da1bc9d93c"></a>SYS_INDEXES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaaedecf4dd5266ba39ba10a1b28c2f5732"></a>SYS_COLUMNS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaaac5dd865d09f4728af97216daf3be3ec"></a>SYS_FIELDS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaa8235ebc676d3eb41a1c1b69435d15c91"></a>SYS_FOREIGN&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaa684276399e6f21dd91c5e9c7e4359688"></a>SYS_FOREIGN_COLS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaaa24ebb024c55b963e2938b80ad34b12d"></a>SYS_TABLESPACES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaab0bd430f25f79f9230db5e4e56024de2"></a>SYS_DATAFILES&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaa14e42daf585f3b6665b857d90e968e4d"></a>SYS_VIRTUAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a7eec73bf89d9692ec12708a88ad862aaa79662da7757921eb169f9cb649761d9f"></a>SYS_NUM_SYSTEM_TABLES&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a3f9fec93ae4fed092920b2813abf7286"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f9fec93ae4fed092920b2813abf7286">&#9670;&nbsp;</a></span>dict_table_info_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="dict0load_8h.html#a3f9fec93ae4fed092920b2813abf7286">dict_table_info_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status bit for dict_process_sys_tables_rec_and_mtr_commit() </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3f9fec93ae4fed092920b2813abf7286a274880f997de17830b8db34b0f780f01"></a>DICT_TABLE_LOAD_FROM_RECORD&#160;</td><td class="fielddoc"><p>Directly populate a dict_table_t structure with information from a SYS_TABLES record. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3f9fec93ae4fed092920b2813abf7286ad784ff2e87a930163c9594c72fa805c0"></a>DICT_TABLE_LOAD_FROM_CACHE&#160;</td><td class="fielddoc"><p>Check first whether dict_table_t is in the cache, if so, return it. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae671fe98fe282b5858f0ba55180784c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae671fe98fe282b5858f0ba55180784c5">&#9670;&nbsp;</a></span>dict_get_and_save_data_dir_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_get_and_save_data_dir_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>dict_mutex_own</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make sure the data_dir_path is saved in dict_table_t if DATA DIRECTORY was used. </p>
<p>Try to read it from the fil_system first, then from SYS_DATAFILES. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dict_mutex_own</td><td>true if dict_sys-&gt;mutex is owned already </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acb8f5be7c644cd41331fc960ff8cae85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb8f5be7c644cd41331fc960ff8cae85">&#9670;&nbsp;</a></span>dict_get_and_save_space_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_get_and_save_space_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>dict_mutex_own</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make sure the tablespace name is saved in dict_table_t if the table uses a general tablespace. </p>
<p>Try to read it from the fil_system_t first, then from SYS_TABLESPACES. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>Table object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dict_mutex_own</td><td>true if dict_sys-&gt;mutex is owned already </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab39ffd634d96943c98d9933397438262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab39ffd634d96943c98d9933397438262">&#9670;&nbsp;</a></span>dict_get_first_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dict_get_first_path </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the first filepath from SYS_DATAFILES for a given space_id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">space_id</td><td>Tablespace ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>First filepath (caller must invoke ut_free() on it) </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>if no SYS_DATAFILES entry was found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afb3ed1aa223bacbe6036686ef457449b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb3ed1aa223bacbe6036686ef457449b">&#9670;&nbsp;</a></span>dict_get_first_table_name_in_db()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* dict_get_first_table_name_in_db </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the first table name in the given database. </p>
<dl class="section return"><dt>Returns</dt><dd>own: table name, NULL if does not exist; the caller must free the memory in the string! in: database name which ends to '/'</dd>
<dd>
own: table name, NULL if does not exist; the caller must free the memory in the string! </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>in: database name which ends in '/' </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3666514ea7ab0b419a797336b12202a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3666514ea7ab0b419a797336b12202a">&#9670;&nbsp;</a></span>dict_getnext_system()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a>* dict_getnext_system </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>pcur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function get the next system table record as we scan the table. </p>
<dl class="section return"><dt>Returns</dt><dd>the record if found, NULL if end of scan. in: the mini-transaction</dd></dl>
<p>This function get the next system table record as we scan the table.</p>
<dl class="section return"><dt>Returns</dt><dd>the next record if found, NULL if end of scan </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcur</td><td>in/out: persistent cursor to the record </td></tr>
    <tr><td class="paramname">mtr</td><td>in: the mini-transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1d509cd2cdfa1ff4b05ea01da4cf1370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d509cd2cdfa1ff4b05ea01da4cf1370">&#9670;&nbsp;</a></span>dict_load_foreigns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> dict_load_foreigns </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>table_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>col_names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>check_recursive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>check_charsets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dict0types_8h.html#a83692d2bec02fe094d1df8f4346e35fa">dict_err_ignore_t</a>&#160;</td>
          <td class="paramname"><em>ignore_err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dict0load_8h.html#af57ce26e15eb361d548cf4ce630f8b95">dict_names_t</a> &amp;&#160;</td>
          <td class="paramname"><em>fk_tables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads foreign key constraints where the table is either the foreign key holder or where the table is referenced by a foreign key. </p>
<p>Adds these constraints to the data dictionary.</p>
<p>The foreign key constraint is loaded only if the referenced table is also in the dictionary cache. If the referenced table is not in dictionary cache, then it is added to the output parameter (fk_tables).</p>
<dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table_name</td><td>in: table name </td></tr>
    <tr><td class="paramname">col_names</td><td>in: column names, or NULL to use table-&gt;col_names </td></tr>
    <tr><td class="paramname">check_recursive</td><td>in: Whether to check recursive load of tables chained by FK </td></tr>
    <tr><td class="paramname">check_charsets</td><td>in: whether to check charset compatibility </td></tr>
    <tr><td class="paramname">ignore_err</td><td>in: error to be ignored </td></tr>
    <tr><td class="paramname">fk_tables</td><td>out: stack of table names which must be loaded subsequently to load all the foreign key constraints. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a86adf4bbc9ec47f3e030ec966fcf7302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86adf4bbc9ec47f3e030ec966fcf7302">&#9670;&nbsp;</a></span>dict_load_sys_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_load_sys_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called when the database is booted. </p>
<p>Loads system table index definitions except for the clustered index which is added to the dictionary cache at booting before calling this function. in: system table</p>
<p>Loads system table index definitions except for the clustered index which is added to the dictionary cache at booting before calling this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: system table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aadf3fa761cefb2530279fb15d0e32da7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf3fa761cefb2530279fb15d0e32da7">&#9670;&nbsp;</a></span>dict_load_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__table__t.html">dict_table_t</a>* dict_load_table </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>cached</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dict0types_8h.html#a83692d2bec02fe094d1df8f4346e35fa">dict_err_ignore_t</a>&#160;</td>
          <td class="paramname"><em>ignore_err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads a table definition and also all its index definitions, and also the cluster definition if the table is a member in a cluster. </p>
<p>Also loads all foreign key constraints where the foreign key is in the table or where a foreign key references columns in this table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Table name in the dbname/tablename format </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cached</td><td>true=add to cache, false=do not </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ignore_err</td><td>Error to be ignored when loading table and its index definition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>table, NULL if does not exist; if the table is stored in an .ibd file, but the file does not exist, then we set the ibd_file_missing flag in the table object we return. </dd></dl>

</div>
</div>
<a id="a95e0abe14511326201373982f934921e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e0abe14511326201373982f934921e">&#9670;&nbsp;</a></span>dict_load_tablespace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_load_tablespace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dict0types_8h.html#a83692d2bec02fe094d1df8f4346e35fa">dict_err_ignore_t</a>&#160;</td>
          <td class="paramname"><em>ignore_err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a tablespace for dict_load_table_one() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">table</td><td>A table that refers to the tablespace to open </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">heap</td><td>A memory heap </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ignore_err</td><td>Whether to ignore an error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1261ac18cc6749b03a0e165fa6323c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1261ac18cc6749b03a0e165fa6323c4">&#9670;&nbsp;</a></span>dict_load_tablespaces_for_upgrade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_load_tablespaces_for_upgrade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load all tablespaces during upgrade. </p>

</div>
</div>
<a id="afefec5ebcb34d7a1949d660f855b5f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afefec5ebcb34d7a1949d660f855b5f46">&#9670;&nbsp;</a></span>dict_process_sys_tablespaces()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* dict_process_sys_tablespaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mem0mem_8h.html#a29a10a74bdb0acc8a530dd6ec3c8538a">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="api0api_8h.html#a02e9c11b4a9783f4b0b89fcf060f8f28">space_id_t</a> *&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function parses a SYS_TABLESPACES record, extracts necessary information from the record and returns to caller. </p>
<dl class="section return"><dt>Returns</dt><dd>error message, or NULL on success out: tablespace flags</dd>
<dd>
error message, or NULL on success </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heap</td><td>in/out: heap memory </td></tr>
    <tr><td class="paramname">rec</td><td>in: current SYS_TABLESPACES rec </td></tr>
    <tr><td class="paramname">space</td><td>out: space id </td></tr>
    <tr><td class="paramname">name</td><td>out: tablespace name </td></tr>
    <tr><td class="paramname">flags</td><td>out: tablespace flags </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaef10ceaac559e6e20818f3e4ecea48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef10ceaac559e6e20818f3e4ecea48f">&#9670;&nbsp;</a></span>dict_save_data_dir_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_save_data_dir_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filepath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Using the table-&gt;heap, copy the null-terminated filepath into table-&gt;data_dir_path. </p>
<p>The data directory path is derived from the filepath by stripping the the table-&gt;name.m_name component suffix. If the filepath is not of the correct form (".../db/table.ibd"), then table-&gt;data_dir_path will remain nullptr. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">table</td><td>table instance </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">filepath</td><td>filepath of tablespace </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59fbd26e43bc9b9293c5d281829c09ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59fbd26e43bc9b9293c5d281829c09ff">&#9670;&nbsp;</a></span>dict_startscan_system()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="rem0types_8h.html#a92caeffe2dc2fbe825a54aef9a163435">rec_t</a>* dict_startscan_system </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtr__pcur__t.html">btr_pcur_t</a> *&#160;</td>
          <td class="paramname"><em>pcur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dict0load_8h.html#a7eec73bf89d9692ec12708a88ad862aa">dict_system_id_t</a>&#160;</td>
          <td class="paramname"><em>system_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function opens a system table, and return the first record. </p>
<dl class="section return"><dt>Returns</dt><dd>first record of the system table in: which system table to open</dd></dl>
<p>This function opens a system table, and return the first record.</p>
<dl class="section return"><dt>Returns</dt><dd>first record of the system table </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcur</td><td>out: persistent cursor to the record </td></tr>
    <tr><td class="paramname">mtr</td><td>in: the mini-transaction </td></tr>
    <tr><td class="paramname">system_id</td><td>in: which system table to open </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa2af78ecc22c7c6c688b0ab6733fd140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2af78ecc22c7c6c688b0ab6733fd140">&#9670;&nbsp;</a></span>has_discarded_tablespaces</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> has_discarded_tablespaces</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This bool denotes if we found a Table or Partition with discarded Tablespace during load of SYS_TABLES (in dict_check_sys_tables). </p>
<p>We use it to stop upgrade from 5.7 to 8.0 if there are discarded Tablespaces. </p>

</div>
</div>
<a id="aa1a519b12c6aa72591d16be695305165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a519b12c6aa72591d16be695305165">&#9670;&nbsp;</a></span>missing_spaces</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dict0load_8h.html#a392e687513b8c1c56aed9cddc7bc07db">missing_sys_tblsp_t</a> missing_spaces</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae9777bdd5ef70d77646149d30e6cdcc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9777bdd5ef70d77646149d30e6cdcc5">&#9670;&nbsp;</a></span>SYSTEM_TABLE_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* SYSTEM_TABLE_NAME[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Following are the InnoDB system tables. </p>
<p>The positions in this array are referenced by enum dict_system_table_id. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="dict0load_8h.html">dict0load.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
