<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: sql/default_values.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('default__values_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">default_values.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="default__values_8h_source.html">sql/default_values.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &quot;<a class="el" href="my__alloc_8h_source.html">my_alloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__base_8h_source.html">my_base.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__compare_8h_source.html">my_compare.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__macros_8h_source.html">my_macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__pointer__arithmetic_8h_source.html">my_pointer_arithmetic.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mysql__com_8h_source.html">mysql_com.h</a>&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="create__field_8h_source.html">sql/create_field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="properties_8h_source.html">sql/dd/properties.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="string__type_8h_source.html">sql/dd/string_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2dd_2types_2column_8h_source.html">sql/dd/types/column.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2dd_2types_2table_8h_source.html">sql/dd/types/table.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dd__table__share_8h_source.html">sql/dd_table_share.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2field_8h_source.html">sql/field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srid_8h_source.html">sql/gis/srid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2handler_8h_source.html">sql/handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="item_8h_source.html">sql/item.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__decimal_8h_source.html">sql/my_decimal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__class_8h_source.html">sql/sql_class.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__list_8h_source.html">sql/sql_list.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sql_2table_8h_source.html">sql/table.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aebc0a81eb5b7f98f0f08690058dc155d"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="default__values_8cc.html#aebc0a81eb5b7f98f0f08690058dc155d">column_pack_length</a> (const <a class="el" href="classdd_1_1Column.html">dd::Column</a> &amp;col_obj)</td></tr>
<tr class="memdesc:aebc0a81eb5b7f98f0f08690058dc155d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the length of the in-memory representation of the column from its dd::Column object.  <a href="#aebc0a81eb5b7f98f0f08690058dc155d">More...</a><br /></td></tr>
<tr class="separator:aebc0a81eb5b7f98f0f08690058dc155d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cabea7336cfb28390c82a3b0e38aa9d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="default__values_8cc.html#a4cabea7336cfb28390c82a3b0e38aa9d">find_record_length</a> (const <a class="el" href="classdd_1_1Table.html">dd::Table</a> &amp;table, size_t min_length, <a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *share)</td></tr>
<tr class="memdesc:a4cabea7336cfb28390c82a3b0e38aa9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the required length of an empty record.  <a href="#a4cabea7336cfb28390c82a3b0e38aa9d">More...</a><br /></td></tr>
<tr class="separator:a4cabea7336cfb28390c82a3b0e38aa9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a3cd459123a3d933e529402e4d1ac0a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="default__values_8cc.html#a0a3cd459123a3d933e529402e4d1ac0a">set_pack_record_and_unused_preamble_bits</a> (<a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> pack_record, <a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> preamble_bits, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *default_values)</td></tr>
<tr class="memdesc:a0a3cd459123a3d933e529402e4d1ac0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the unused bits in the preamble of a default value buffer.  <a href="#a0a3cd459123a3d933e529402e4d1ac0a">More...</a><br /></td></tr>
<tr class="separator:a0a3cd459123a3d933e529402e4d1ac0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b8dfc57b2cc1ac9960c2f7bd066041a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="default__values_8cc.html#a0b8dfc57b2cc1ac9960c2f7bd066041a">max_pack_length</a> (const <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classCreate__field.html">Create_field</a> &gt; &amp;create_fields)</td></tr>
<tr class="memdesc:a0b8dfc57b2cc1ac9960c2f7bd066041a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the largest field among a list of create fields.  <a href="#a0b8dfc57b2cc1ac9960c2f7bd066041a">More...</a><br /></td></tr>
<tr class="separator:a0b8dfc57b2cc1ac9960c2f7bd066041a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014ef6a3a83ed574bfe09e75a73a2bb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="default__values_8cc.html#a014ef6a3a83ed574bfe09e75a73a2bb1">prepare_default_value</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *buf, <a class="el" href="structTABLE.html">TABLE</a> *table, const <a class="el" href="classCreate__field.html">Create_field</a> &amp;field, <a class="el" href="classdd_1_1Column.html">dd::Column</a> *col_obj)</td></tr>
<tr class="memdesc:a014ef6a3a83ed574bfe09e75a73a2bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the default value of a single column.  <a href="#a014ef6a3a83ed574bfe09e75a73a2bb1">More...</a><br /></td></tr>
<tr class="separator:a014ef6a3a83ed574bfe09e75a73a2bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9581fa7f6bd2a99a9b65e5697dd4e5f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="default__values_8cc.html#aa9581fa7f6bd2a99a9b65e5697dd4e5f">prepare_default_value_buffer_and_table_share</a> (<a class="el" href="classTHD.html">THD</a> *thd, const <a class="el" href="classdd_1_1Table.html">dd::Table</a> &amp;table, <a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *share)</td></tr>
<tr class="memdesc:aa9581fa7f6bd2a99a9b65e5697dd4e5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the default value buffer for an empty record.  <a href="#aa9581fa7f6bd2a99a9b65e5697dd4e5f">More...</a><br /></td></tr>
<tr class="separator:aa9581fa7f6bd2a99a9b65e5697dd4e5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aebc0a81eb5b7f98f0f08690058dc155d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc0a81eb5b7f98f0f08690058dc155d">&#9670;&nbsp;</a></span>column_pack_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static size_t column_pack_length </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Column.html">dd::Column</a> &amp;&#160;</td>
          <td class="paramname"><em>col_obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the length of the in-memory representation of the column from its dd::Column object. </p>
<p>This function calculates the amount of memory necessary to store values of the submitted column. The function is used when preparing the default values for the columns of a table, and for determining the size of an empty record for the table which the column is a part of.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">col_obj</td><td>The column object for which we calculate the in-memory length.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>In-memory length of values of the submitted column. </dd></dl>

</div>
</div>
<a id="a4cabea7336cfb28390c82a3b0e38aa9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cabea7336cfb28390c82a3b0e38aa9d">&#9670;&nbsp;</a></span>find_record_length()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> find_record_length </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Table.html">dd::Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>min_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *&#160;</td>
          <td class="paramname"><em>share</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the required length of an empty record. </p>
<p>This function iterates over the columns of the table, finds the required number of null bits and leftover bits, and adds up the total length of an empty record. Various length related fields in the table share parameter are assigned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">table</td><td>A single table, with column data members. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">min_length</td><td>The minimum length of a record. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">share</td><td>Table share with various length fields assigned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Failure. </td></tr>
    <tr><td class="paramname">false</td><td>Success. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0b8dfc57b2cc1ac9960c2f7bd066041a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b8dfc57b2cc1ac9960c2f7bd066041a">&#9670;&nbsp;</a></span>max_pack_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t max_pack_length </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classList.html">List</a>&lt; <a class="el" href="classCreate__field.html">Create_field</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>create_fields</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the largest field among a list of create fields. </p>
<p>Iterates over the list of create fields and find the largest one, i.e. the field with largest pack length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">create_fields</td><td>List of create fields. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of the largest field, as number of bytes. </dd></dl>

</div>
</div>
<a id="a014ef6a3a83ed574bfe09e75a73a2bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a014ef6a3a83ed574bfe09e75a73a2bb1">&#9670;&nbsp;</a></span>prepare_default_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> prepare_default_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE.html">TABLE</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCreate__field.html">Create_field</a> &amp;&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classdd_1_1Column.html">dd::Column</a> *&#160;</td>
          <td class="paramname"><em>col_obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare the default value of a single column. </p>
<p>This function creates a fake field using the submitted fake table object, which also has assigned a fake table share. The field is create in order to use existing code to store the default value. The value is stored into the submitted buffer, which has been allocated in advance (and will be deleted afterwards). The fake table and share are required by the field infrastructure.</p>
<p>After storing the default value into the buffer, the value is read back and copied into the column object's default value field. For bit fields with leftover bits in the preamble, these bits are copied and appended onto the default value as the last byte.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">buf</td><td>Buffer to store the default value into. The buffer size must be at least two bytes. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">table</td><td>Fake table to use when storing the default value. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">field</td><td>Create_field corresponding to the column object. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">col_obj</td><td>Column for which to prepare the default value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Failure. </td></tr>
    <tr><td class="paramname">false</td><td>Success. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa9581fa7f6bd2a99a9b65e5697dd4e5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9581fa7f6bd2a99a9b65e5697dd4e5f">&#9670;&nbsp;</a></span>prepare_default_value_buffer_and_table_share()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> prepare_default_value_buffer_and_table_share </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdd_1_1Table.html">dd::Table</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTABLE__SHARE.html">TABLE_SHARE</a> *&#160;</td>
          <td class="paramname"><em>share</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare the default value buffer for an empty record. </p>
<p>This function prepares the buffer based on the objects retrieved from the data dictionary. The function will scan the columns of the submitted table objects and calculate the length of the record, the number of null bits, etc. The empty buffer is allocated, and all bits are set to 0, including used null bits, the actual field values, etc. Afterwards, the unused bits in the preamble, up to the next full byte border, are set to 1. Finally, the buffer is assigned to the 'TABLE_SHARE::default_values' field.</p>
<dl class="section note"><dt>Note</dt><dd>This function does not fill in the actual default values, it just allocates and prepares the buffer.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">table</td><td>Table for which the default value buffer should be prepared. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">share</td><td>Table share for the table. The default value buffer is assigned to the appropriate table share field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Failure. </td></tr>
    <tr><td class="paramname">false</td><td>Success. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0a3cd459123a3d933e529402e4d1ac0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a3cd459123a3d933e529402e4d1ac0a">&#9670;&nbsp;</a></span>set_pack_record_and_unused_preamble_bits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void set_pack_record_and_unused_preamble_bits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>pack_record</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&#160;</td>
          <td class="paramname"><em>preamble_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>default_values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the unused bits in the preamble of a default value buffer. </p>
<p>This function will set the unused bits, after the preamble bits and up to the first byte border, to 1. It will also set the 'pack record' bit (the first bit in the preamble).</p>
<p>The number of null bits here is assumed to include the number of bit field bits that do not fit into a whole byte (i.e., number of bits modulo 8) for storage engines that store bits like this in the preamble.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">pack_record</td><td>If the HA_OPTION_PACK_RECORD is set. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">preamble_bits</td><td>Number of null bits and leftover bits. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">default_values</td><td>The default value buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li><li class="navelem"><a class="el" href="default__values_8cc.html">default_values.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
