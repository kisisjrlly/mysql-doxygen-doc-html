<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: Rpl_channel_filters Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classRpl__channel__filters.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classRpl__channel__filters-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Rpl_channel_filters Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The class is a container for all the per-channel filters, both a map of Rpl_filter objects and a list of Rpl_pfs_filter objects.  
 <a href="classRpl__channel__filters.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="rpl__msr_8h_source.html">rpl_msr.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab5ee088a1a73f17a96cfb7be06fb9af0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRpl__filter.html">Rpl_filter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#ab5ee088a1a73f17a96cfb7be06fb9af0">create_filter</a> (const char *channel_name)</td></tr>
<tr class="memdesc:ab5ee088a1a73f17a96cfb7be06fb9af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new replication filter and add it into a filter map.  <a href="#ab5ee088a1a73f17a96cfb7be06fb9af0">More...</a><br /></td></tr>
<tr class="separator:ab5ee088a1a73f17a96cfb7be06fb9af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ca1dbaa077f37234a3bf62c2b275e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a76ca1dbaa077f37234a3bf62c2b275e6">delete_filter</a> (<a class="el" href="classRpl__filter.html">Rpl_filter</a> *<a class="el" href="rpl__filter_8h.html#a3f879c85163d8cba29b9fda197df4a44">rpl_filter</a>)</td></tr>
<tr class="memdesc:a76ca1dbaa077f37234a3bf62c2b275e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the replication filter from the filter map.  <a href="#a76ca1dbaa077f37234a3bf62c2b275e6">More...</a><br /></td></tr>
<tr class="separator:a76ca1dbaa077f37234a3bf62c2b275e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a875bbd40a295d99adde7eaf87b86a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a7a875bbd40a295d99adde7eaf87b86a2">discard_all_unattached_filters</a> ()</td></tr>
<tr class="memdesc:a7a875bbd40a295d99adde7eaf87b86a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard all replication filters if they are not attached to channels.  <a href="#a7a875bbd40a295d99adde7eaf87b86a2">More...</a><br /></td></tr>
<tr class="separator:a7a875bbd40a295d99adde7eaf87b86a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a210bf6730f67c7ded18268d1e6f801"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a7a210bf6730f67c7ded18268d1e6f801">discard_group_replication_filters</a> ()</td></tr>
<tr class="memdesc:a7a210bf6730f67c7ded18268d1e6f801"><td class="mdescLeft">&#160;</td><td class="mdescRight">discard filters on group replication channels.  <a href="#a7a210bf6730f67c7ded18268d1e6f801">More...</a><br /></td></tr>
<tr class="separator:a7a210bf6730f67c7ded18268d1e6f801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d3ebdffa2a941e1c4dce000a846d0f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRpl__filter.html">Rpl_filter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a1d3ebdffa2a941e1c4dce000a846d0f7">get_channel_filter</a> (const char *channel_name)</td></tr>
<tr class="memdesc:a1d3ebdffa2a941e1c4dce000a846d0f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a replication filter of a channel.  <a href="#a1d3ebdffa2a941e1c4dce000a846d0f7">More...</a><br /></td></tr>
<tr class="separator:a1d3ebdffa2a941e1c4dce000a846d0f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f98889b9fb41fa5a85146d5dc1bc67f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a4f98889b9fb41fa5a85146d5dc1bc67f">reset_pfs_view</a> ()</td></tr>
<tr class="memdesc:a4f98889b9fb41fa5a85146d5dc1bc67f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This member function is called everytime a filter is created or deleted, or its filter rules are changed.  <a href="#a4f98889b9fb41fa5a85146d5dc1bc67f">More...</a><br /></td></tr>
<tr class="separator:a4f98889b9fb41fa5a85146d5dc1bc67f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107e285b8ee1ddf51c556ad8d8397f9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRpl__pfs__filter.html">Rpl_pfs_filter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a107e285b8ee1ddf51c556ad8d8397f9a">get_filter_at_pos</a> (<a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> <a class="el" href="do__ctype_8cc.html#ab5ad9aa3d3e725ca44ebfa85e0b1020d">pos</a>)</td></tr>
<tr class="memdesc:a107e285b8ee1ddf51c556ad8d8397f9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used only by replication performance schema indices to get the replication filter at the position 'pos' from the rpl_pfs_filter_vec vector.  <a href="#a107e285b8ee1ddf51c556ad8d8397f9a">More...</a><br /></td></tr>
<tr class="separator:a107e285b8ee1ddf51c556ad8d8397f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4ee2a265109fa3f05e22c19d16fda6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a0d4ee2a265109fa3f05e22c19d16fda6">get_filter_count</a> ()</td></tr>
<tr class="memdesc:a0d4ee2a265109fa3f05e22c19d16fda6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used only by replication performance schema indices to get the count of replication filters from the rpl_pfs_filter_vec vector.  <a href="#a0d4ee2a265109fa3f05e22c19d16fda6">More...</a><br /></td></tr>
<tr class="separator:a0d4ee2a265109fa3f05e22c19d16fda6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7c826054c0591bab3a6789d70dc833"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a9b7c826054c0591bab3a6789d70dc833">build_do_and_ignore_table_hashes</a> ()</td></tr>
<tr class="memdesc:a9b7c826054c0591bab3a6789d70dc833"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverse the filter map, build do_table and ignore_table rules to hashes for every filter.  <a href="#a9b7c826054c0591bab3a6789d70dc833">More...</a><br /></td></tr>
<tr class="separator:a9b7c826054c0591bab3a6789d70dc833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94660c40f01f852baf4dcce018e523ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a94660c40f01f852baf4dcce018e523ed">Rpl_channel_filters</a> ()</td></tr>
<tr class="separator:a94660c40f01f852baf4dcce018e523ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec1fefc4f582b96e0a4b21a0097ffbb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#adec1fefc4f582b96e0a4b21a0097ffbb">~Rpl_channel_filters</a> ()</td></tr>
<tr class="separator:adec1fefc4f582b96e0a4b21a0097ffbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65449bb48bea7694b1c154ff6be23aab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a65449bb48bea7694b1c154ff6be23aab">clean_up</a> ()</td></tr>
<tr class="memdesc:a65449bb48bea7694b1c154ff6be23aab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Traverse the filter map and free all filters.  <a href="#a65449bb48bea7694b1c154ff6be23aab">More...</a><br /></td></tr>
<tr class="separator:a65449bb48bea7694b1c154ff6be23aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b5fecbe6623d0c84a3368079b2f493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#ae2b5fecbe6623d0c84a3368079b2f493">wrlock</a> ()</td></tr>
<tr class="memdesc:ae2b5fecbe6623d0c84a3368079b2f493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire the write lock.  <a href="#ae2b5fecbe6623d0c84a3368079b2f493">More...</a><br /></td></tr>
<tr class="separator:ae2b5fecbe6623d0c84a3368079b2f493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe3b8ce3c3bd0458d3173bfd7dd630b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#afe3b8ce3c3bd0458d3173bfd7dd630b9">rdlock</a> ()</td></tr>
<tr class="memdesc:afe3b8ce3c3bd0458d3173bfd7dd630b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire the read lock.  <a href="#afe3b8ce3c3bd0458d3173bfd7dd630b9">More...</a><br /></td></tr>
<tr class="separator:afe3b8ce3c3bd0458d3173bfd7dd630b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65cc11ba01970a11b6dda348f403c6f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a65cc11ba01970a11b6dda348f403c6f7">unlock</a> ()</td></tr>
<tr class="memdesc:a65cc11ba01970a11b6dda348f403c6f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the lock (whether it is a write or read lock).  <a href="#a65cc11ba01970a11b6dda348f403c6f7">More...</a><br /></td></tr>
<tr class="separator:a65cc11ba01970a11b6dda348f403c6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aac2b5aa249e3c5cb25a88aee8deff22f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rpl__msr_8h.html#abc8fd5a4160846175c7e6b43bb9899a4">filter_map</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#aac2b5aa249e3c5cb25a88aee8deff22f">channel_to_filter</a></td></tr>
<tr class="separator:aac2b5aa249e3c5cb25a88aee8deff22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b596e0467c82b771e50d6b51bdb1471"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classRpl__pfs__filter.html">Rpl_pfs_filter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a4b596e0467c82b771e50d6b51bdb1471">rpl_pfs_filter_vec</a></td></tr>
<tr class="separator:a4b596e0467c82b771e50d6b51bdb1471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b337676a9ea631e9df4e0c7845bee26"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRpl__channel__filters.html#a0b337676a9ea631e9df4e0c7845bee26">m_channel_to_filter_lock</a></td></tr>
<tr class="separator:a0b337676a9ea631e9df4e0c7845bee26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class is a container for all the per-channel filters, both a map of Rpl_filter objects and a list of Rpl_pfs_filter objects. </p>
<p>It maintains a filter map which maps a replication filter to a channel name. Which is needed, because replication channels are not created and channel_map is not filled in when these global and per-channel replication filters are evaluated with current code frame. In theory, after instantiating all channels from the repository and throwing all the warnings about the filters configured for non-existent channels, we can forget about its global object rpl_channel_filters and rely only on the global and per channel Rpl_filter objects. But to avoid holding the channel_map.rdlock() when quering P_S.replication_applier_filters table, we keep the rpl_channel_filters. So that we just need to hold the small rpl_channel_filters.rdlock() when quering P_S.replication_applier_filters table. Many operations (RESET SLAVE [FOR CHANNEL], START SLAVE, INIT SLAVE, END SLAVE, CHANGE MASTER TO, FLUSH RELAY LOGS, START CHANNEL, PURGE CHANNEL, and so on) hold the channel_map.wrlock().</p>
<p>There is one instance, rpl_channel_filters, created globally for Multisource channel filters. The rpl_channel_filters is created when the server is started, destroyed when the server is stopped. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a94660c40f01f852baf4dcce018e523ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94660c40f01f852baf4dcce018e523ed">&#9670;&nbsp;</a></span>Rpl_channel_filters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Rpl_channel_filters::Rpl_channel_filters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adec1fefc4f582b96e0a4b21a0097ffbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adec1fefc4f582b96e0a4b21a0097ffbb">&#9670;&nbsp;</a></span>~Rpl_channel_filters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Rpl_channel_filters::~Rpl_channel_filters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9b7c826054c0591bab3a6789d70dc833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b7c826054c0591bab3a6789d70dc833">&#9670;&nbsp;</a></span>build_do_and_ignore_table_hashes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> Rpl_channel_filters::build_do_and_ignore_table_hashes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Traverse the filter map, build do_table and ignore_table rules to hashes for every filter. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>OK </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a65449bb48bea7694b1c154ff6be23aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65449bb48bea7694b1c154ff6be23aab">&#9670;&nbsp;</a></span>clean_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Rpl_channel_filters::clean_up </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Traverse the filter map and free all filters. </p>
<p>Delete all objects in the rpl_pfs_filter_vec vector and then clear the vector. </p>

</div>
</div>
<a id="ab5ee088a1a73f17a96cfb7be06fb9af0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ee088a1a73f17a96cfb7be06fb9af0">&#9670;&nbsp;</a></span>create_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRpl__filter.html">Rpl_filter</a> * Rpl_channel_filters::create_filter </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new replication filter and add it into a filter map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel_name</td><td>A name of a channel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Rpl_filter</td><td>A pointer to a replication filter, or NULL if we failed to add it into fiter_map. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a76ca1dbaa077f37234a3bf62c2b275e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76ca1dbaa077f37234a3bf62c2b275e6">&#9670;&nbsp;</a></span>delete_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Rpl_channel_filters::delete_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRpl__filter.html">Rpl_filter</a> *&#160;</td>
          <td class="paramname"><em>rpl_filter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the replication filter from the filter map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpl_filter</td><td>A pointer to point to a replication filter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7a875bbd40a295d99adde7eaf87b86a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a875bbd40a295d99adde7eaf87b86a2">&#9670;&nbsp;</a></span>discard_all_unattached_filters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Rpl_channel_filters::discard_all_unattached_filters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Discard all replication filters if they are not attached to channels. </p>

</div>
</div>
<a id="a7a210bf6730f67c7ded18268d1e6f801"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a210bf6730f67c7ded18268d1e6f801">&#9670;&nbsp;</a></span>discard_group_replication_filters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Rpl_channel_filters::discard_group_replication_filters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>discard filters on group replication channels. </p>

</div>
</div>
<a id="a1d3ebdffa2a941e1c4dce000a846d0f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d3ebdffa2a941e1c4dce000a846d0f7">&#9670;&nbsp;</a></span>get_channel_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRpl__filter.html">Rpl_filter</a> * Rpl_channel_filters::get_channel_filter </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>channel_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a replication filter of a channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel_name</td><td>A name of a channel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Rpl_filter</td><td>A pointer to a replication filter, or NULL if we failed to add a replication filter into fiter_map when creating it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a107e285b8ee1ddf51c556ad8d8397f9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107e285b8ee1ddf51c556ad8d8397f9a">&#9670;&nbsp;</a></span>get_filter_at_pos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRpl__pfs__filter.html">Rpl_pfs_filter</a> * Rpl_channel_filters::get_filter_at_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used only by replication performance schema indices to get the replication filter at the position 'pos' from the rpl_pfs_filter_vec vector. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pos</td><td>the index in the rpl_pfs_filter_vec vector.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Rpl_filter</td><td>A pointer to a Rpl_pfs_filter, or NULL if it arrived the end of the rpl_pfs_filter_vec. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0d4ee2a265109fa3f05e22c19d16fda6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d4ee2a265109fa3f05e22c19d16fda6">&#9670;&nbsp;</a></span>get_filter_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uca-dump_8cc.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> Rpl_channel_filters::get_filter_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used only by replication performance schema indices to get the count of replication filters from the rpl_pfs_filter_vec vector. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>count of the replication filters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe3b8ce3c3bd0458d3173bfd7dd630b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe3b8ce3c3bd0458d3173bfd7dd630b9">&#9670;&nbsp;</a></span>rdlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Rpl_channel_filters::rdlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquire the read lock. </p>

</div>
</div>
<a id="a4f98889b9fb41fa5a85146d5dc1bc67f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f98889b9fb41fa5a85146d5dc1bc67f">&#9670;&nbsp;</a></span>reset_pfs_view()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Rpl_channel_filters::reset_pfs_view </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This member function is called everytime a filter is created or deleted, or its filter rules are changed. </p>
<p>Once that happens the PFS view is recreated. </p>

</div>
</div>
<a id="a65cc11ba01970a11b6dda348f403c6f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65cc11ba01970a11b6dda348f403c6f7">&#9670;&nbsp;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Rpl_channel_filters::unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release the lock (whether it is a write or read lock). </p>

</div>
</div>
<a id="ae2b5fecbe6623d0c84a3368079b2f493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2b5fecbe6623d0c84a3368079b2f493">&#9670;&nbsp;</a></span>wrlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Rpl_channel_filters::wrlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquire the write lock. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aac2b5aa249e3c5cb25a88aee8deff22f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac2b5aa249e3c5cb25a88aee8deff22f">&#9670;&nbsp;</a></span>channel_to_filter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rpl__msr_8h.html#abc8fd5a4160846175c7e6b43bb9899a4">filter_map</a> Rpl_channel_filters::channel_to_filter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b337676a9ea631e9df4e0c7845bee26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b337676a9ea631e9df4e0c7845bee26">&#9670;&nbsp;</a></span>m_channel_to_filter_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCheckable__rwlock.html">Checkable_rwlock</a>* Rpl_channel_filters::m_channel_to_filter_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4b596e0467c82b771e50d6b51bdb1471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b596e0467c82b771e50d6b51bdb1471">&#9670;&nbsp;</a></span>rpl_pfs_filter_vec</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classRpl__pfs__filter.html">Rpl_pfs_filter</a>&gt; Rpl_channel_filters::rpl_pfs_filter_vec</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="rpl__msr_8h_source.html">rpl_msr.h</a></li>
<li>sql/<a class="el" href="rpl__msr_8cc.html">rpl_msr.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classRpl__channel__filters.html">Rpl_channel_filters</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
