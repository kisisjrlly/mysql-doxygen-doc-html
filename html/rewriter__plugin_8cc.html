<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: plugin/rewriter/rewriter_plugin.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rewriter__plugin_8cc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rewriter_plugin.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The plugin declaration part of the Rewriter plugin.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="rewriter__plugin_8h_source.html">plugin/rewriter/rewriter_plugin.h</a>&quot;</code><br />
<code>#include &quot;my_config.h&quot;</code><br />
<code>#include &lt;<a class="el" href="plugin__audit_8h_source.html">mysql/plugin_audit.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="mysql__thread_8h_source.html">mysql/psi/mysql_thread.h</a>&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;new&gt;</code><br />
<code>#include &lt;<a class="el" href="my__service_8h_source.html">mysql/components/my_service.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="log__builtins_8h_source.html">mysql/components/services/log_builtins.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="my__dbug_8h_source.html">my_dbug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__inttypes_8h_source.html">my_inttypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__psi__config_8h_source.html">my_psi_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="my__sys_8h_source.html">my_sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="psi_2mysql__rwlock_8h_source.html">mysql/psi/mysql_rwlock.h</a>&quot;</code><br />
<code>#include &quot;mysqld_error.h&quot;</code><br />
<code>#include &quot;<a class="el" href="rewriter_8h_source.html">plugin/rewriter/rewriter.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rule_8h_source.html">plugin/rewriter/rule.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="plugin_2rewriter_2services_8h_source.html">plugin/rewriter/services.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="template__utils_8h_source.html">template_utils.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9ee3f6f4a960987eb5bec3124929a31d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a9ee3f6f4a960987eb5bec3124929a31d">update_verbose</a> (<a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a>, <a class="el" href="structSYS__VAR.html">SYS_VAR</a> *, void *, const void *save)</td></tr>
<tr class="memdesc:a9ee3f6f4a960987eb5bec3124929a31d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updater function for the status variable ..._verbose.  <a href="#a9ee3f6f4a960987eb5bec3124929a31d">More...</a><br /></td></tr>
<tr class="separator:a9ee3f6f4a960987eb5bec3124929a31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626c59f9bcd0d6c753ff4bb978b6b3b2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a626c59f9bcd0d6c753ff4bb978b6b3b2">update_enabled</a> (<a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a>, <a class="el" href="structSYS__VAR.html">SYS_VAR</a> *, void *, const void *<a class="el" href="persisted__variable_8cc.html#a211d620ef86d6a09b1d29b51b6e44f06">value</a>)</td></tr>
<tr class="memdesc:a626c59f9bcd0d6c753ff4bb978b6b3b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updater function for the status variable ..._enabled.  <a href="#a626c59f9bcd0d6c753ff4bb978b6b3b2">More...</a><br /></td></tr>
<tr class="separator:a626c59f9bcd0d6c753ff4bb978b6b3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35df7b41be29c15eecac569a0f83da52"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a35df7b41be29c15eecac569a0f83da52">MYSQL_SYSVAR_INT</a> (<a class="el" href="myisampack_8cc.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a>, <a class="el" href="rewriter__plugin_8cc.html#a63938c5932020d224bd408f458bbcba5">sys_var_verbose</a>, <a class="el" href="include_2mysql_2plugin_8h.html#a7dead051c2c7c33dbaa005218430cf87">PLUGIN_VAR_NOCMDARG</a>, &quot;Tells &quot; PLUGIN_NAME &quot; how <a class="el" href="myisampack_8cc.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> it should be.&quot;, nullptr, <a class="el" href="rewriter__plugin_8cc.html#a9ee3f6f4a960987eb5bec3124929a31d">update_verbose</a>, 1, 0, 2, 1)</td></tr>
<tr class="separator:a35df7b41be29c15eecac569a0f83da52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024c43224c28c583e925cf1958684377"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a024c43224c28c583e925cf1958684377">MYSQL_SYSVAR_BOOL</a> (enabled, <a class="el" href="rewriter__plugin_8cc.html#a1678d5de362bfdfdaf889d9c9d0b2c23">sys_var_enabled</a>, <a class="el" href="include_2mysql_2plugin_8h.html#a7dead051c2c7c33dbaa005218430cf87">PLUGIN_VAR_NOCMDARG</a>, &quot;Whether queries should actually be rewritten.&quot;, nullptr, <a class="el" href="rewriter__plugin_8cc.html#a626c59f9bcd0d6c753ff4bb978b6b3b2">update_enabled</a>, 1)</td></tr>
<tr class="separator:a024c43224c28c583e925cf1958684377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadddd5028d79e24c9a8c358f59735ad3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="include_2mysql_2plugin_8h.html#a7faefa235bb2fd69928b9440a46f2eed">MYSQL_PLUGIN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#aadddd5028d79e24c9a8c358f59735ad3">get_rewriter_plugin_info</a> ()</td></tr>
<tr class="separator:aadddd5028d79e24c9a8c358f59735ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f4c90621d414b6347332766477164c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a17f4c90621d414b6347332766477164c">init_rewriter_psi_keys</a> ()</td></tr>
<tr class="separator:a17f4c90621d414b6347332766477164c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8134bdf32a5bc18ee04cf8db74f17f5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#ad8134bdf32a5bc18ee04cf8db74f17f5">reload</a> (<a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a> thd)</td></tr>
<tr class="memdesc:ad8134bdf32a5bc18ee04cf8db74f17f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reloads the rules into the in-memory table.  <a href="#ad8134bdf32a5bc18ee04cf8db74f17f5">More...</a><br /></td></tr>
<tr class="separator:ad8134bdf32a5bc18ee04cf8db74f17f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2ad743c28584209d631f98a445dba2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#aac2ad743c28584209d631f98a445dba2">lock_and_reload</a> (<a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a> thd)</td></tr>
<tr class="separator:aac2ad743c28584209d631f98a445dba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9facdf21f330254c4499a9d8e7e25c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#acd9facdf21f330254c4499a9d8e7e25c">refresh_rules_table</a> ()</td></tr>
<tr class="separator:acd9facdf21f330254c4499a9d8e7e25c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a2bf23d4fbd34b7ed022e9fcfc6ed1"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a90a2bf23d4fbd34b7ed022e9fcfc6ed1">shorten_query</a> (<a class="el" href="structMYSQL__LEX__STRING.html">MYSQL_LEX_STRING</a> <a class="el" href="myisam__ftdump_8cc.html#af26982218484ec3fdcb8f7d92e864a9b">query</a>)</td></tr>
<tr class="separator:a90a2bf23d4fbd34b7ed022e9fcfc6ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d7e9038f06b748182f5efe35d97922f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a6d7e9038f06b748182f5efe35d97922f">log_nonrewritten_query</a> (<a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a> thd, const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *digest_buf, <a class="el" href="structRewrite__result.html">Rewrite_result</a> <a class="el" href="structresult.html">result</a>)</td></tr>
<tr class="memdesc:a6d7e9038f06b748182f5efe35d97922f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a message in the log saying that the query did not get rewritten.  <a href="#a6d7e9038f06b748182f5efe35d97922f">More...</a><br /></td></tr>
<tr class="separator:a6d7e9038f06b748182f5efe35d97922f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4a5b120e6d32eb08aa93a5fbcca459eb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a4a5b120e6d32eb08aa93a5fbcca459eb">needs_initial_load</a></td></tr>
<tr class="memdesc:a4a5b120e6d32eb08aa93a5fbcca459eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">We handle recovery in a kind of lazy manner.  <a href="#a4a5b120e6d32eb08aa93a5fbcca459eb">More...</a><br /></td></tr>
<tr class="separator:a4a5b120e6d32eb08aa93a5fbcca459eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b710f1aef91c453be538e061d45b3f0"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a2b710f1aef91c453be538e061d45b3f0">MAX_QUERY_LENGTH_IN_LOG</a> = 100</td></tr>
<tr class="separator:a2b710f1aef91c453be538e061d45b3f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e4ff2443e522f4e560306dc6a9aebe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="include_2mysql_2plugin_8h.html#a7faefa235bb2fd69928b9440a46f2eed">MYSQL_PLUGIN</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a90e4ff2443e522f4e560306dc6a9aebe">plugin_info</a></td></tr>
<tr class="separator:a90e4ff2443e522f4e560306dc6a9aebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23bb4b0f4cf4d162538d673a8f46d88"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structmysql__rwlock__t.html">mysql_rwlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#ab23bb4b0f4cf4d162538d673a8f46d88">LOCK_table</a></td></tr>
<tr class="separator:ab23bb4b0f4cf4d162538d673a8f46d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c9cdfa1a886ccfad07ef0df1faf1692"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classRewriter.html">Rewriter</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a7c9cdfa1a886ccfad07ef0df1faf1692">rewriter</a></td></tr>
<tr class="separator:a7c9cdfa1a886ccfad07ef0df1faf1692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63938c5932020d224bd408f458bbcba5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a63938c5932020d224bd408f458bbcba5">sys_var_verbose</a></td></tr>
<tr class="memdesc:a63938c5932020d224bd408f458bbcba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verbose level.  <a href="#a63938c5932020d224bd408f458bbcba5">More...</a><br /></td></tr>
<tr class="separator:a63938c5932020d224bd408f458bbcba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1678d5de362bfdfdaf889d9c9d0b2c23"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a1678d5de362bfdfdaf889d9c9d0b2c23">sys_var_enabled</a></td></tr>
<tr class="memdesc:a1678d5de362bfdfdaf889d9c9d0b2c23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enabled.  <a href="#a1678d5de362bfdfdaf889d9c9d0b2c23">More...</a><br /></td></tr>
<tr class="separator:a1678d5de362bfdfdaf889d9c9d0b2c23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027aa4b5b77b449a4318db6ffbe5c833"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="include_2mysql_2components_2services_2registry_8h.html#a92aca688f9995edeeb2b93835350ced4">mysql_service_registry_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a027aa4b5b77b449a4318db6ffbe5c833">reg_srv</a> = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td></tr>
<tr class="separator:a027aa4b5b77b449a4318db6ffbe5c833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0fe6171c87da617d686a9aa087a404"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="log__builtins_8h.html#aa53b2d36ec1470bd41f6ac7f4017f05a">mysql_service_log_builtins_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#aec0fe6171c87da617d686a9aa087a404">log_bi</a> = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td></tr>
<tr class="memdesc:aec0fe6171c87da617d686a9aa087a404"><td class="mdescLeft">&#160;</td><td class="mdescRight">accessor built-ins  <a href="#aec0fe6171c87da617d686a9aa087a404">More...</a><br /></td></tr>
<tr class="separator:aec0fe6171c87da617d686a9aa087a404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5d512056e381a73fac6a53903cb97b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="log__builtins_8h.html#abce7c0ae1b2118befbe9a7682a70b200">mysql_service_log_builtins_string_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a2e5d512056e381a73fac6a53903cb97b">log_bs</a> = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td></tr>
<tr class="memdesc:a2e5d512056e381a73fac6a53903cb97b"><td class="mdescLeft">&#160;</td><td class="mdescRight">string built-ins  <a href="#a2e5d512056e381a73fac6a53903cb97b">More...</a><br /></td></tr>
<tr class="separator:a2e5d512056e381a73fac6a53903cb97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d998652d2623190ba9a89e54f96e27c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSYS__VAR.html">SYS_VAR</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a8d998652d2623190ba9a89e54f96e27c">rewriter_plugin_sys_vars</a> []</td></tr>
<tr class="separator:a8d998652d2623190ba9a89e54f96e27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace56a693fc183034a15c6a0682d99d52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__psi__abi__rwlock.html#ga7baeb029125a5397a970fef39b12cae2">PSI_rwlock_key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#ace56a693fc183034a15c6a0682d99d52">key_rwlock_LOCK_table_</a></td></tr>
<tr class="separator:ace56a693fc183034a15c6a0682d99d52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a695bdc0370ba3c96c9ebe1e87bb45bb6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__psi__abi__rwlock.html#ga7fc80b305b386d079cd2b84c6dbd02af">PSI_rwlock_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a695bdc0370ba3c96c9ebe1e87bb45bb6">all_rewrite_rwlocks</a> []</td></tr>
<tr class="separator:a695bdc0370ba3c96c9ebe1e87bb45bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Status variables for the plugin.</h2></td></tr>
<tr class="memitem:a0acf7475326cdcd31d690b72033de33a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a0acf7475326cdcd31d690b72033de33a">PLUGIN_NAME</a>&#160;&#160;&#160;&quot;Rewriter&quot;</td></tr>
<tr class="separator:a0acf7475326cdcd31d690b72033de33a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38504d0b0ebebc7fa7f81345b50e3459"><td class="memItemLeft" align="right" valign="top">static std::atomic&lt; long long &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a38504d0b0ebebc7fa7f81345b50e3459">status_var_number_rewritten_queries</a></td></tr>
<tr class="memdesc:a38504d0b0ebebc7fa7f81345b50e3459"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of queries that were rewritten.  <a href="#a38504d0b0ebebc7fa7f81345b50e3459">More...</a><br /></td></tr>
<tr class="separator:a38504d0b0ebebc7fa7f81345b50e3459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bd1b8f259bea448f11418558ff8154"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#aa6bd1b8f259bea448f11418558ff8154">status_var_reload_error</a></td></tr>
<tr class="memdesc:aa6bd1b8f259bea448f11418558ff8154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if there was an error during the last reload.  <a href="#aa6bd1b8f259bea448f11418558ff8154">More...</a><br /></td></tr>
<tr class="separator:aa6bd1b8f259bea448f11418558ff8154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423099b45c5e25451b9a605cb48022da"><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a423099b45c5e25451b9a605cb48022da">status_var_number_loaded_rules</a></td></tr>
<tr class="memdesc:a423099b45c5e25451b9a605cb48022da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of rules loaded in the in-memory table.  <a href="#a423099b45c5e25451b9a605cb48022da">More...</a><br /></td></tr>
<tr class="separator:a423099b45c5e25451b9a605cb48022da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21749f71e2955ce367aa030bafa6904f"><td class="memItemLeft" align="right" valign="top">static long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a21749f71e2955ce367aa030bafa6904f">status_var_number_reloads</a></td></tr>
<tr class="memdesc:a21749f71e2955ce367aa030bafa6904f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of times the in-memory table was reloaded.  <a href="#a21749f71e2955ce367aa030bafa6904f">More...</a><br /></td></tr>
<tr class="separator:a21749f71e2955ce367aa030bafa6904f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9509cb8036b0057c36bb38c24708cf3a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structSHOW__VAR.html">SHOW_VAR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a9509cb8036b0057c36bb38c24708cf3a">rewriter_plugin_status_vars</a> []</td></tr>
<tr class="separator:a9509cb8036b0057c36bb38c24708cf3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Plugin declaration.</h2></td></tr>
<tr class="memitem:ab990f46b55f061173b868ecf4616caa0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structst__mysql__audit.html">st_mysql_audit</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#ab990f46b55f061173b868ecf4616caa0">rewrite_query_descriptor</a></td></tr>
<tr class="separator:ab990f46b55f061173b868ecf4616caa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1910c0718f936e5e0a32d1cca7f65af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#ad1910c0718f936e5e0a32d1cca7f65af">mysql_declare_plugin_end</a></td></tr>
<tr class="separator:ad1910c0718f936e5e0a32d1cca7f65af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa14028940ee0a2562b38ed696ea9a8b8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#aa14028940ee0a2562b38ed696ea9a8b8">rewrite_query_notify</a> (<a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a> thd, <a class="el" href="plugin__audit_8h.html#af1f25e2a44004b2144680df4b544d20f">mysql_event_class_t</a> event_class, const void *event)</td></tr>
<tr class="memdesc:aa14028940ee0a2562b38ed696ea9a8b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point to the plugin.  <a href="#aa14028940ee0a2562b38ed696ea9a8b8">More...</a><br /></td></tr>
<tr class="separator:aa14028940ee0a2562b38ed696ea9a8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af306714a97ab38d3cd3d2d2cb16b2913"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#af306714a97ab38d3cd3d2d2cb16b2913">rewriter_plugin_init</a> (<a class="el" href="include_2mysql_2plugin_8h.html#a7faefa235bb2fd69928b9440a46f2eed">MYSQL_PLUGIN</a> <a class="el" href="sql__plugin__ref_8h.html#a4d9218008ee0d845dc260c4924264315">plugin_ref</a>)</td></tr>
<tr class="separator:af306714a97ab38d3cd3d2d2cb16b2913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a667135cbbf2e0f49b71dff9ce9f414b4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a667135cbbf2e0f49b71dff9ce9f414b4">rewriter_plugin_deinit</a> (void *)</td></tr>
<tr class="separator:a667135cbbf2e0f49b71dff9ce9f414b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7c2f3fe591d25fcd7981c172f21f6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rewriter__plugin_8cc.html#a8c7c2f3fe591d25fcd7981c172f21f6c">mysql_declare_plugin</a> (audit_log)</td></tr>
<tr class="separator:a8c7c2f3fe591d25fcd7981c172f21f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The plugin declaration part of the Rewriter plugin. </p>
<p>This file (alone) creates a post-parse query rewrite plugin. All of the functionality is brought in by including rewriter.h. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a0acf7475326cdcd31d690b72033de33a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0acf7475326cdcd31d690b72033de33a">&#9670;&nbsp;</a></span>PLUGIN_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLUGIN_NAME&#160;&#160;&#160;&quot;Rewriter&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aadddd5028d79e24c9a8c358f59735ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadddd5028d79e24c9a8c358f59735ad3">&#9670;&nbsp;</a></span>get_rewriter_plugin_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2mysql_2plugin_8h.html#a7faefa235bb2fd69928b9440a46f2eed">MYSQL_PLUGIN</a> get_rewriter_plugin_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a17f4c90621d414b6347332766477164c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f4c90621d414b6347332766477164c">&#9670;&nbsp;</a></span>init_rewriter_psi_keys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void init_rewriter_psi_keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aac2ad743c28584209d631f98a445dba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac2ad743c28584209d631f98a445dba2">&#9670;&nbsp;</a></span>lock_and_reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> lock_and_reload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a>&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d7e9038f06b748182f5efe35d97922f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d7e9038f06b748182f5efe35d97922f">&#9670;&nbsp;</a></span>log_nonrewritten_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void log_nonrewritten_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a>&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="my__inttypes_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> *&#160;</td>
          <td class="paramname"><em>digest_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRewrite__result.html">Rewrite_result</a>&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes a message in the log saying that the query did not get rewritten. </p>
<p>(Only if verbose level is high enough.) </p>

</div>
</div>
<a id="a8c7c2f3fe591d25fcd7981c172f21f6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7c2f3fe591d25fcd7981c172f21f6c">&#9670;&nbsp;</a></span>mysql_declare_plugin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mysql_declare_plugin </td>
          <td>(</td>
          <td class="paramtype">audit_log&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a024c43224c28c583e925cf1958684377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024c43224c28c583e925cf1958684377">&#9670;&nbsp;</a></span>MYSQL_SYSVAR_BOOL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static MYSQL_SYSVAR_BOOL </td>
          <td>(</td>
          <td class="paramtype">enabled&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rewriter__plugin_8cc.html#a1678d5de362bfdfdaf889d9c9d0b2c23">sys_var_enabled</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2mysql_2plugin_8h.html#a7dead051c2c7c33dbaa005218430cf87">PLUGIN_VAR_NOCMDARG</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Whether queries should actually be rewritten.&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rewriter__plugin_8cc.html#a626c59f9bcd0d6c753ff4bb978b6b3b2">update_enabled</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a35df7b41be29c15eecac569a0f83da52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35df7b41be29c15eecac569a0f83da52">&#9670;&nbsp;</a></span>MYSQL_SYSVAR_INT()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static MYSQL_SYSVAR_INT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="myisampack_8cc.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rewriter__plugin_8cc.html#a63938c5932020d224bd408f458bbcba5">sys_var_verbose</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2mysql_2plugin_8h.html#a7dead051c2c7c33dbaa005218430cf87">PLUGIN_VAR_NOCMDARG</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Tells &quot; PLUGIN_NAME &quot; how <a class="el" href="myisampack_8cc.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a> it should be.&quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rewriter__plugin_8cc.html#a9ee3f6f4a960987eb5bec3124929a31d">update_verbose</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acd9facdf21f330254c4499a9d8e7e25c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd9facdf21f330254c4499a9d8e7e25c">&#9670;&nbsp;</a></span>refresh_rules_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> refresh_rules_table </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad8134bdf32a5bc18ee04cf8db74f17f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8134bdf32a5bc18ee04cf8db74f17f5">&#9670;&nbsp;</a></span>reload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> reload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a>&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reloads the rules into the in-memory table. </p>
<p>This function assumes that the appropriate lock is already taken and doesn't concern itself with locks. </p>

</div>
</div>
<a id="aa14028940ee0a2562b38ed696ea9a8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa14028940ee0a2562b38ed696ea9a8b8">&#9670;&nbsp;</a></span>rewrite_query_notify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rewrite_query_notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a>&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plugin__audit_8h.html#af1f25e2a44004b2144680df4b544d20f">mysql_event_class_t</a>&#160;</td>
          <td class="paramname"><em>event_class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Entry point to the plugin. </p>
<p>The server calls this function after each parsed query when the plugin is active. The function extracts the digest of the query. If the digest matches an existing rewrite rule, it is executed. </p>

</div>
</div>
<a id="a667135cbbf2e0f49b71dff9ce9f414b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a667135cbbf2e0f49b71dff9ce9f414b4">&#9670;&nbsp;</a></span>rewriter_plugin_deinit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rewriter_plugin_deinit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af306714a97ab38d3cd3d2d2cb16b2913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af306714a97ab38d3cd3d2d2cb16b2913">&#9670;&nbsp;</a></span>rewriter_plugin_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rewriter_plugin_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="include_2mysql_2plugin_8h.html#a7faefa235bb2fd69928b9440a46f2eed">MYSQL_PLUGIN</a>&#160;</td>
          <td class="paramname"><em>plugin_ref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a90a2bf23d4fbd34b7ed022e9fcfc6ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a2bf23d4fbd34b7ed022e9fcfc6ed1">&#9670;&nbsp;</a></span>shorten_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static string shorten_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMYSQL__LEX__STRING.html">MYSQL_LEX_STRING</a>&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a626c59f9bcd0d6c753ff4bb978b6b3b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626c59f9bcd0d6c753ff4bb978b6b3b2">&#9670;&nbsp;</a></span>update_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_enabled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSYS__VAR.html">SYS_VAR</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updater function for the status variable ..._enabled. </p>

</div>
</div>
<a id="a9ee3f6f4a960987eb5bec3124929a31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ee3f6f4a960987eb5bec3124929a31d">&#9670;&nbsp;</a></span>update_verbose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void update_verbose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="replication_8h.html#a2466913ab4144372494c96b714a8a9e5">MYSQL_THD</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSYS__VAR.html">SYS_VAR</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>save</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updater function for the status variable ..._verbose. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a695bdc0370ba3c96c9ebe1e87bb45bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a695bdc0370ba3c96c9ebe1e87bb45bb6">&#9670;&nbsp;</a></span>all_rewrite_rwlocks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psi__abi__rwlock.html#ga7fc80b305b386d079cd2b84c6dbd02af">PSI_rwlock_info</a> all_rewrite_rwlocks[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {{&amp;<a class="code" href="rewriter__plugin_8cc.html#ace56a693fc183034a15c6a0682d99d52">key_rwlock_LOCK_table_</a>,</div><div class="line">                                                 <span class="stringliteral">&quot;LOCK_plugin_rewriter_table_&quot;</span>,</div><div class="line">                                                 0, 0, <a class="code" href="component__common_8h.html#a679b965465d040402db452656f4b4239">PSI_DOCUMENT_ME</a>}}</div><div class="ttc" id="rewriter__plugin_8cc_html_ace56a693fc183034a15c6a0682d99d52"><div class="ttname"><a href="rewriter__plugin_8cc.html#ace56a693fc183034a15c6a0682d99d52">key_rwlock_LOCK_table_</a></div><div class="ttdeci">PSI_rwlock_key key_rwlock_LOCK_table_</div><div class="ttdef"><b>Definition:</b> rewriter_plugin.cc:199</div></div>
<div class="ttc" id="component__common_8h_html_a679b965465d040402db452656f4b4239"><div class="ttname"><a href="component__common_8h.html#a679b965465d040402db452656f4b4239">PSI_DOCUMENT_ME</a></div><div class="ttdeci">#define PSI_DOCUMENT_ME</div><div class="ttdef"><b>Definition:</b> component_common.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace56a693fc183034a15c6a0682d99d52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace56a693fc183034a15c6a0682d99d52">&#9670;&nbsp;</a></span>key_rwlock_LOCK_table_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__psi__abi__rwlock.html#ga7baeb029125a5397a970fef39b12cae2">PSI_rwlock_key</a> key_rwlock_LOCK_table_</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab23bb4b0f4cf4d162538d673a8f46d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab23bb4b0f4cf4d162538d673a8f46d88">&#9670;&nbsp;</a></span>LOCK_table</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__rwlock__t.html">mysql_rwlock_t</a> LOCK_table</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aec0fe6171c87da617d686a9aa087a404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0fe6171c87da617d686a9aa087a404">&#9670;&nbsp;</a></span>log_bi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="log__builtins_8h.html#aa53b2d36ec1470bd41f6ac7f4017f05a">mysql_service_log_builtins_t</a>* log_bi = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>accessor built-ins </p>
<p>accessor built-ins </p>

</div>
</div>
<a id="a2e5d512056e381a73fac6a53903cb97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5d512056e381a73fac6a53903cb97b">&#9670;&nbsp;</a></span>log_bs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="log__builtins_8h.html#abce7c0ae1b2118befbe9a7682a70b200">mysql_service_log_builtins_string_t</a>* log_bs = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>string built-ins </p>

</div>
</div>
<a id="a2b710f1aef91c453be538e061d45b3f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b710f1aef91c453be538e061d45b3f0">&#9670;&nbsp;</a></span>MAX_QUERY_LENGTH_IN_LOG</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t MAX_QUERY_LENGTH_IN_LOG = 100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad1910c0718f936e5e0a32d1cca7f65af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1910c0718f936e5e0a32d1cca7f65af">&#9670;&nbsp;</a></span>mysql_declare_plugin_end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mysql_declare_plugin_end</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4a5b120e6d32eb08aa93a5fbcca459eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a5b120e6d32eb08aa93a5fbcca459eb">&#9670;&nbsp;</a></span>needs_initial_load</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> needs_initial_load</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We handle recovery in a kind of lazy manner. </p>
<p>If the server was shut down with this plugin installed, we should ideally load the rules into memory right on the spot in rewriter_plugin_init() as the server comes to. But this plugin is relying on transactions to do that and unfortunately the transaction log is not set up at this point. (It's set up about 200 lines further down in init_server_components() at the time of writing.) That's why we simply set this flag in rewriter_plugin_init() and reload in rewrite_query_post_parse() if it is set. </p>

</div>
</div>
<a id="a90e4ff2443e522f4e560306dc6a9aebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90e4ff2443e522f4e560306dc6a9aebe">&#9670;&nbsp;</a></span>plugin_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2mysql_2plugin_8h.html#a7faefa235bb2fd69928b9440a46f2eed">MYSQL_PLUGIN</a> plugin_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a027aa4b5b77b449a4318db6ffbe5c833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027aa4b5b77b449a4318db6ffbe5c833">&#9670;&nbsp;</a></span>reg_srv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="include_2mysql_2components_2services_2registry_8h.html#a92aca688f9995edeeb2b93835350ced4">mysql_service_registry_t</a>* reg_srv = <a class="el" href="auth__ldap__sasl__client_8cc.html#ae7bd12bd7c9e418a420087971d0a7e31">nullptr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab990f46b55f061173b868ecf4616caa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab990f46b55f061173b868ecf4616caa0">&#9670;&nbsp;</a></span>rewrite_query_descriptor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structst__mysql__audit.html">st_mysql_audit</a> rewrite_query_descriptor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    <a class="code" href="plugin__audit_8h.html#a0335b6e334faf5cf72b06d6ccceee328">MYSQL_AUDIT_INTERFACE_VERSION</a>, </div><div class="line">    <span class="keyword">nullptr</span>,                       </div><div class="line">    <a class="code" href="rewriter__plugin_8cc.html#aa14028940ee0a2562b38ed696ea9a8b8">rewrite_query_notify</a>,          </div><div class="line">    {</div><div class="line">        0,</div><div class="line">        0,</div><div class="line">        (<span class="keywordtype">unsigned</span> long)<a class="code" href="plugin__audit_8h.html#ab442bd3e14eb0ed81eb553214f09fb72">MYSQL_AUDIT_PARSE_ALL</a>,</div><div class="line">    } </div><div class="line">}</div><div class="ttc" id="plugin__audit_8h_html_ab442bd3e14eb0ed81eb553214f09fb72"><div class="ttname"><a href="plugin__audit_8h.html#ab442bd3e14eb0ed81eb553214f09fb72">MYSQL_AUDIT_PARSE_ALL</a></div><div class="ttdeci">#define MYSQL_AUDIT_PARSE_ALL</div><div class="ttdef"><b>Definition:</b> plugin_audit.h:199</div></div>
<div class="ttc" id="plugin__audit_8h_html_a0335b6e334faf5cf72b06d6ccceee328"><div class="ttname"><a href="plugin__audit_8h.html#a0335b6e334faf5cf72b06d6ccceee328">MYSQL_AUDIT_INTERFACE_VERSION</a></div><div class="ttdeci">#define MYSQL_AUDIT_INTERFACE_VERSION</div><div class="ttdef"><b>Definition:</b> plugin_audit.h:40</div></div>
<div class="ttc" id="rewriter__plugin_8cc_html_aa14028940ee0a2562b38ed696ea9a8b8"><div class="ttname"><a href="rewriter__plugin_8cc.html#aa14028940ee0a2562b38ed696ea9a8b8">rewrite_query_notify</a></div><div class="ttdeci">static int rewrite_query_notify(MYSQL_THD thd, mysql_event_class_t event_class, const void *event)</div><div class="ttdoc">Entry point to the plugin. </div><div class="ttdef"><b>Definition:</b> rewriter_plugin.cc:318</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c9cdfa1a886ccfad07ef0df1faf1692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c9cdfa1a886ccfad07ef0df1faf1692">&#9670;&nbsp;</a></span>rewriter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRewriter.html">Rewriter</a>* rewriter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9509cb8036b0057c36bb38c24708cf3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9509cb8036b0057c36bb38c24708cf3a">&#9670;&nbsp;</a></span>rewriter_plugin_status_vars</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSHOW__VAR.html">SHOW_VAR</a> rewriter_plugin_status_vars[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">    {<a class="code" href="rewriter__plugin_8cc.html#a0acf7475326cdcd31d690b72033de33a">PLUGIN_NAME</a> <span class="stringliteral">&quot;_number_rewritten_queries&quot;</span>,</div><div class="line">     <a class="code" href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a>&lt;<span class="keywordtype">char</span> *&gt;(&amp;<a class="code" href="rewriter__plugin_8cc.html#a38504d0b0ebebc7fa7f81345b50e3459">status_var_number_rewritten_queries</a>), <a class="code" href="status__var_8h.html#a31d330d2b4fd5e73a189ff69793f6f7dad0a37d0729bccf4bc41623994914bec5">SHOW_LONGLONG</a>,</div><div class="line">     <a class="code" href="status__var_8h.html#ac850811cccd60891a85a93a3929ce245aae7c9d822810b7de4173173e7267f883">SHOW_SCOPE_GLOBAL</a>},</div><div class="line">    {<a class="code" href="rewriter__plugin_8cc.html#a0acf7475326cdcd31d690b72033de33a">PLUGIN_NAME</a> <span class="stringliteral">&quot;_reload_error&quot;</span>,</div><div class="line">     <a class="code" href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a>&lt;<span class="keywordtype">char</span> *&gt;(&amp;<a class="code" href="rewriter__plugin_8cc.html#aa6bd1b8f259bea448f11418558ff8154">status_var_reload_error</a>), <a class="code" href="status__var_8h.html#a31d330d2b4fd5e73a189ff69793f6f7dab949c1dd3137b65415362fde48b38bd6">SHOW_BOOL</a>,</div><div class="line">     <a class="code" href="status__var_8h.html#ac850811cccd60891a85a93a3929ce245aae7c9d822810b7de4173173e7267f883">SHOW_SCOPE_GLOBAL</a>},</div><div class="line">    {<a class="code" href="rewriter__plugin_8cc.html#a0acf7475326cdcd31d690b72033de33a">PLUGIN_NAME</a> <span class="stringliteral">&quot;_number_loaded_rules&quot;</span>,</div><div class="line">     <a class="code" href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a>&lt;<span class="keywordtype">char</span> *&gt;(&amp;<a class="code" href="rewriter__plugin_8cc.html#a423099b45c5e25451b9a605cb48022da">status_var_number_loaded_rules</a>), <a class="code" href="status__var_8h.html#a31d330d2b4fd5e73a189ff69793f6f7dad23d900f88c5875d12173d2b8f55acad">SHOW_INT</a>,</div><div class="line">     <a class="code" href="status__var_8h.html#ac850811cccd60891a85a93a3929ce245aae7c9d822810b7de4173173e7267f883">SHOW_SCOPE_GLOBAL</a>},</div><div class="line">    {<a class="code" href="rewriter__plugin_8cc.html#a0acf7475326cdcd31d690b72033de33a">PLUGIN_NAME</a> <span class="stringliteral">&quot;_number_reloads&quot;</span>,</div><div class="line">     <a class="code" href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a>&lt;<span class="keywordtype">char</span> *&gt;(&amp;<a class="code" href="rewriter__plugin_8cc.html#a21749f71e2955ce367aa030bafa6904f">status_var_number_reloads</a>), <a class="code" href="status__var_8h.html#a31d330d2b4fd5e73a189ff69793f6f7dad0a37d0729bccf4bc41623994914bec5">SHOW_LONGLONG</a>,</div><div class="line">     <a class="code" href="status__var_8h.html#ac850811cccd60891a85a93a3929ce245aae7c9d822810b7de4173173e7267f883">SHOW_SCOPE_GLOBAL</a>},</div><div class="line">    {<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, <a class="code" href="status__var_8h.html#a31d330d2b4fd5e73a189ff69793f6f7dab949c1dd3137b65415362fde48b38bd6">SHOW_BOOL</a>, <a class="code" href="status__var_8h.html#ac850811cccd60891a85a93a3929ce245aae7c9d822810b7de4173173e7267f883">SHOW_SCOPE_GLOBAL</a>}}</div><div class="ttc" id="rewriter__plugin_8cc_html_a21749f71e2955ce367aa030bafa6904f"><div class="ttname"><a href="rewriter__plugin_8cc.html#a21749f71e2955ce367aa030bafa6904f">status_var_number_reloads</a></div><div class="ttdeci">static long long status_var_number_reloads</div><div class="ttdoc">Number of times the in-memory table was reloaded. </div><div class="ttdef"><b>Definition:</b> rewriter_plugin.cc:89</div></div>
<div class="ttc" id="template__utils_8h_html_abaa3204566f2da1d5876a24eb4f0e5cd"><div class="ttname"><a href="template__utils_8h.html#abaa3204566f2da1d5876a24eb4f0e5cd">pointer_cast</a></div><div class="ttdeci">T pointer_cast(void *p)</div><div class="ttdoc">Casts from one pointer type, to another, without using reinterpret_cast or C-style cast: foo f; bar *...</div><div class="ttdef"><b>Definition:</b> template_utils.h:73</div></div>
<div class="ttc" id="status__var_8h_html_a31d330d2b4fd5e73a189ff69793f6f7dad23d900f88c5875d12173d2b8f55acad"><div class="ttname"><a href="status__var_8h.html#a31d330d2b4fd5e73a189ff69793f6f7dad23d900f88c5875d12173d2b8f55acad">SHOW_INT</a></div><div class="ttdoc">shown as unsigned int </div><div class="ttdef"><b>Definition:</b> status_var.h:32</div></div>
<div class="ttc" id="rewriter__plugin_8cc_html_aa6bd1b8f259bea448f11418558ff8154"><div class="ttname"><a href="rewriter__plugin_8cc.html#aa6bd1b8f259bea448f11418558ff8154">status_var_reload_error</a></div><div class="ttdeci">static bool status_var_reload_error</div><div class="ttdoc">Indicates if there was an error during the last reload. </div><div class="ttdef"><b>Definition:</b> rewriter_plugin.cc:83</div></div>
<div class="ttc" id="rewriter__plugin_8cc_html_a0acf7475326cdcd31d690b72033de33a"><div class="ttname"><a href="rewriter__plugin_8cc.html#a0acf7475326cdcd31d690b72033de33a">PLUGIN_NAME</a></div><div class="ttdeci">#define PLUGIN_NAME</div><div class="ttdef"><b>Definition:</b> rewriter_plugin.cc:91</div></div>
<div class="ttc" id="status__var_8h_html_a31d330d2b4fd5e73a189ff69793f6f7dab949c1dd3137b65415362fde48b38bd6"><div class="ttname"><a href="status__var_8h.html#a31d330d2b4fd5e73a189ff69793f6f7dab949c1dd3137b65415362fde48b38bd6">SHOW_BOOL</a></div><div class="ttdef"><b>Definition:</b> status_var.h:31</div></div>
<div class="ttc" id="rewriter__plugin_8cc_html_a38504d0b0ebebc7fa7f81345b50e3459"><div class="ttname"><a href="rewriter__plugin_8cc.html#a38504d0b0ebebc7fa7f81345b50e3459">status_var_number_rewritten_queries</a></div><div class="ttdeci">static std::atomic&lt; long long &gt; status_var_number_rewritten_queries</div><div class="ttdoc">Number of queries that were rewritten. </div><div class="ttdef"><b>Definition:</b> rewriter_plugin.cc:80</div></div>
<div class="ttc" id="status__var_8h_html_ac850811cccd60891a85a93a3929ce245aae7c9d822810b7de4173173e7267f883"><div class="ttname"><a href="status__var_8h.html#ac850811cccd60891a85a93a3929ce245aae7c9d822810b7de4173173e7267f883">SHOW_SCOPE_GLOBAL</a></div><div class="ttdef"><b>Definition:</b> status_var.h:69</div></div>
<div class="ttc" id="rewriter__plugin_8cc_html_a423099b45c5e25451b9a605cb48022da"><div class="ttname"><a href="rewriter__plugin_8cc.html#a423099b45c5e25451b9a605cb48022da">status_var_number_loaded_rules</a></div><div class="ttdeci">static unsigned status_var_number_loaded_rules</div><div class="ttdoc">Number of rules loaded in the in-memory table. </div><div class="ttdef"><b>Definition:</b> rewriter_plugin.cc:86</div></div>
<div class="ttc" id="status__var_8h_html_a31d330d2b4fd5e73a189ff69793f6f7dad0a37d0729bccf4bc41623994914bec5"><div class="ttname"><a href="status__var_8h.html#a31d330d2b4fd5e73a189ff69793f6f7dad0a37d0729bccf4bc41623994914bec5">SHOW_LONGLONG</a></div><div class="ttdoc">shown as unsigned longlong </div><div class="ttdef"><b>Definition:</b> status_var.h:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d998652d2623190ba9a89e54f96e27c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d998652d2623190ba9a89e54f96e27c">&#9670;&nbsp;</a></span>rewriter_plugin_sys_vars</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSYS__VAR.html">SYS_VAR</a>* rewriter_plugin_sys_vars[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {<a class="code" href="include_2mysql_2plugin_8h.html#a17d9f01f0164ad030754420fc6e2b079">MYSQL_SYSVAR</a>(<a class="code" href="mysqlcheck_8cc.html#ad7f42fa1f4826656ebbf9951f5e19098">verbose</a>),</div><div class="line">                                       <a class="code" href="include_2mysql_2plugin_8h.html#a17d9f01f0164ad030754420fc6e2b079">MYSQL_SYSVAR</a>(<a class="code" href="namespacedblwr.html#a9cdc1632b539c1a75bf0307bbf6daad4">enabled</a>), <span class="keyword">nullptr</span>}</div><div class="ttc" id="mysqlcheck_8cc_html_ad7f42fa1f4826656ebbf9951f5e19098"><div class="ttname"><a href="mysqlcheck_8cc.html#ad7f42fa1f4826656ebbf9951f5e19098">verbose</a></div><div class="ttdeci">static uint verbose</div><div class="ttdef"><b>Definition:</b> mysqlcheck.cc:64</div></div>
<div class="ttc" id="namespacedblwr_html_a9cdc1632b539c1a75bf0307bbf6daad4"><div class="ttname"><a href="namespacedblwr.html#a9cdc1632b539c1a75bf0307bbf6daad4">dblwr::enabled</a></div><div class="ttdeci">bool enabled</div><div class="ttdoc">true if enabled. </div><div class="ttdef"><b>Definition:</b> buf0dblwr.cc:80</div></div>
<div class="ttc" id="include_2mysql_2plugin_8h_html_a17d9f01f0164ad030754420fc6e2b079"><div class="ttname"><a href="include_2mysql_2plugin_8h.html#a17d9f01f0164ad030754420fc6e2b079">MYSQL_SYSVAR</a></div><div class="ttdeci">#define MYSQL_SYSVAR(name)</div><div class="ttdef"><b>Definition:</b> plugin.h:281</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a423099b45c5e25451b9a605cb48022da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a423099b45c5e25451b9a605cb48022da">&#9670;&nbsp;</a></span>status_var_number_loaded_rules</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned status_var_number_loaded_rules</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of rules loaded in the in-memory table. </p>

</div>
</div>
<a id="a21749f71e2955ce367aa030bafa6904f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21749f71e2955ce367aa030bafa6904f">&#9670;&nbsp;</a></span>status_var_number_reloads</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long long status_var_number_reloads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of times the in-memory table was reloaded. </p>

</div>
</div>
<a id="a38504d0b0ebebc7fa7f81345b50e3459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38504d0b0ebebc7fa7f81345b50e3459">&#9670;&nbsp;</a></span>status_var_number_rewritten_queries</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;long long&gt; status_var_number_rewritten_queries</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of queries that were rewritten. </p>

</div>
</div>
<a id="aa6bd1b8f259bea448f11418558ff8154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6bd1b8f259bea448f11418558ff8154">&#9670;&nbsp;</a></span>status_var_reload_error</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> status_var_reload_error</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if there was an error during the last reload. </p>

</div>
</div>
<a id="a1678d5de362bfdfdaf889d9c9d0b2c23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1678d5de362bfdfdaf889d9c9d0b2c23">&#9670;&nbsp;</a></span>sys_var_enabled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> sys_var_enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enabled. </p>

</div>
</div>
<a id="a63938c5932020d224bd408f458bbcba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63938c5932020d224bd408f458bbcba5">&#9670;&nbsp;</a></span>sys_var_verbose</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sys_var_verbose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verbose level. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_b4c3aec6cd8f28418150dce663061cfa.html">plugin</a></li><li class="navelem"><a class="el" href="dir_dd6cd78682ad954ecb879070fd48a184.html">rewriter</a></li><li class="navelem"><a class="el" href="rewriter__plugin_8cc.html">rewriter_plugin.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
