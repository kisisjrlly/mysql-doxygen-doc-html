<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MySQL: storage/innobase/include/dict0stats_bg.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mysql.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-mysql-110x55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MySQL
   &#160;<span id="projectnumber">8.0.22</span>
   </div>
   <div id="projectbrief">Source Code Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dict0stats__bg_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dict0stats_bg.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Code used for background table and index stats gathering.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;univ.i&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0event_8h_source.html">os0event.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0thread_8h_source.html">os0thread.h</a>&quot;</code><br />
<code>#include &quot;dict0stats_bg.ic&quot;</code><br />
</div>
<p><a href="dict0stats__bg_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af896626e64a1170547ab3050d29da8f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#af896626e64a1170547ab3050d29da8f7">DICT_STATS_BG_YIELD</a>(trx)</td></tr>
<tr class="memdesc:af896626e64a1170547ab3050d29da8f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yield the data dictionary latch when waiting for the background thread to stop accessing a table.  <a href="#af896626e64a1170547ab3050d29da8f7">More...</a><br /></td></tr>
<tr class="separator:af896626e64a1170547ab3050d29da8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abbd01c787f43e4cd3cb17efff8e9e3ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#abbd01c787f43e4cd3cb17efff8e9e3ba">dict_stats_recalc_pool_add</a> (const <a class="el" href="structdict__table__t.html">dict_table_t</a> *table)</td></tr>
<tr class="memdesc:abbd01c787f43e4cd3cb17efff8e9e3ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a table to the recalc pool, which is processed by the background stats gathering thread.  <a href="#abbd01c787f43e4cd3cb17efff8e9e3ba">More...</a><br /></td></tr>
<tr class="separator:abbd01c787f43e4cd3cb17efff8e9e3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ed29688607989cd5cd27b1896b9c4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#a59ed29688607989cd5cd27b1896b9c4a">dict_stats_recalc_pool_del</a> (const <a class="el" href="structdict__table__t.html">dict_table_t</a> *table)</td></tr>
<tr class="memdesc:a59ed29688607989cd5cd27b1896b9c4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a given table from the auto recalc pool.  <a href="#a59ed29688607989cd5cd27b1896b9c4a">More...</a><br /></td></tr>
<tr class="separator:a59ed29688607989cd5cd27b1896b9c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70f7aa9c4e9a718fe55b4fb6985763b"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#ab70f7aa9c4e9a718fe55b4fb6985763b">dict_stats_stop_bg</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table)</td></tr>
<tr class="memdesc:ab70f7aa9c4e9a718fe55b4fb6985763b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the background collection of statistics to stop for a table.  <a href="#ab70f7aa9c4e9a718fe55b4fb6985763b">More...</a><br /></td></tr>
<tr class="separator:ab70f7aa9c4e9a718fe55b4fb6985763b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab091b3293165204ab3da469c4c187a86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#ab091b3293165204ab3da469c4c187a86">dict_stats_wait_bg_to_stop_using_table</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *table, <a class="el" href="structtrx__t.html">trx_t</a> *trx)</td></tr>
<tr class="memdesc:ab091b3293165204ab3da469c4c187a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until background stats thread has stopped using the specified table.  <a href="#ab091b3293165204ab3da469c4c187a86">More...</a><br /></td></tr>
<tr class="separator:ab091b3293165204ab3da469c4c187a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e3e009575ea5d36ceceb95f19f9b4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#a74e3e009575ea5d36ceceb95f19f9b4f">dict_stats_thread_init</a> ()</td></tr>
<tr class="memdesc:a74e3e009575ea5d36ceceb95f19f9b4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize global variables needed for the operation of dict_stats_thread().  <a href="#a74e3e009575ea5d36ceceb95f19f9b4f">More...</a><br /></td></tr>
<tr class="separator:a74e3e009575ea5d36ceceb95f19f9b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a962109a70afdae393fa82d5781878bfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#a962109a70afdae393fa82d5781878bfe">dict_stats_thread_deinit</a> ()</td></tr>
<tr class="memdesc:a962109a70afdae393fa82d5781878bfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free resources allocated by dict_stats_thread_init(), must be called after dict_stats_thread() has exited.  <a href="#a962109a70afdae393fa82d5781878bfe">More...</a><br /></td></tr>
<tr class="separator:a962109a70afdae393fa82d5781878bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac5e18b6b2ece68a7dc23a7c557a6ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#a7ac5e18b6b2ece68a7dc23a7c557a6ab">dict_stats_disabled_debug_update</a> (<a class="el" href="classTHD.html">THD</a> *thd, <a class="el" href="structSYS__VAR.html">SYS_VAR</a> *var, void *var_ptr, const void *save)</td></tr>
<tr class="memdesc:a7ac5e18b6b2ece68a7dc23a7c557a6ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables dict stats thread.  <a href="#a7ac5e18b6b2ece68a7dc23a7c557a6ab">More...</a><br /></td></tr>
<tr class="separator:a7ac5e18b6b2ece68a7dc23a7c557a6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1eb528b279093894873d0e51a16eca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#a3f1eb528b279093894873d0e51a16eca">dict_stats_thread</a> ()</td></tr>
<tr class="memdesc:a3f1eb528b279093894873d0e51a16eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the thread for background stats gathering.  <a href="#a3f1eb528b279093894873d0e51a16eca">More...</a><br /></td></tr>
<tr class="separator:a3f1eb528b279093894873d0e51a16eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9c049441da959901ab7ba3bfa35d78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#afa9c049441da959901ab7ba3bfa35d78">dict_stats_shutdown</a> ()</td></tr>
<tr class="memdesc:afa9c049441da959901ab7ba3bfa35d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the dict stats thread.  <a href="#afa9c049441da959901ab7ba3bfa35d78">More...</a><br /></td></tr>
<tr class="separator:afa9c049441da959901ab7ba3bfa35d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a075126a43d67e35dec3e4a5be5a5e838"><td class="memItemLeft" align="right" valign="top"><a class="el" href="os0event_8h.html#ae24909be432e4a95bd956a707e4d1d20">os_event_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#a075126a43d67e35dec3e4a5be5a5e838">dict_stats_event</a></td></tr>
<tr class="memdesc:a075126a43d67e35dec3e4a5be5a5e838"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event to wake up the stats thread.  <a href="#a075126a43d67e35dec3e4a5be5a5e838">More...</a><br /></td></tr>
<tr class="separator:a075126a43d67e35dec3e4a5be5a5e838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfc2f571b1ae162da3128ed566c83975"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmysql__pfs__key__t.html">mysql_pfs_key_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#acfc2f571b1ae162da3128ed566c83975">dict_stats_recalc_pool_mutex_key</a></td></tr>
<tr class="separator:acfc2f571b1ae162da3128ed566c83975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c056a7e291cc1e10c211cce0ece8db3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8h.html#a8c056a7e291cc1e10c211cce0ece8db3">innodb_dict_stats_disabled_debug</a></td></tr>
<tr class="memdesc:a8c056a7e291cc1e10c211cce0ece8db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value of MySQL global used to disable dict_stats thread.  <a href="#a8c056a7e291cc1e10c211cce0ece8db3">More...</a><br /></td></tr>
<tr class="separator:a8c056a7e291cc1e10c211cce0ece8db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Code used for background table and index stats gathering. </p>
<p>Created Apr 26, 2012 Vasil Dimov </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af896626e64a1170547ab3050d29da8f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af896626e64a1170547ab3050d29da8f7">&#9670;&nbsp;</a></span>DICT_STATS_BG_YIELD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DICT_STATS_BG_YIELD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">trx</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> {                                     \</div><div class="line">    row_mysql_unlock_data_dictionary(trx); \</div><div class="line">    os_thread_sleep(250000);               \</div><div class="line">    row_mysql_lock_data_dictionary(trx);   \</div><div class="line">  } <span class="keywordflow">while</span> (0)</div></div><!-- fragment -->
<p>Yield the data dictionary latch when waiting for the background thread to stop accessing a table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>transaction holding the data dictionary locks </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7ac5e18b6b2ece68a7dc23a7c557a6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ac5e18b6b2ece68a7dc23a7c557a6ab">&#9670;&nbsp;</a></span>dict_stats_disabled_debug_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_stats_disabled_debug_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classTHD.html">THD</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSYS__VAR.html">SYS_VAR</a> *&#160;</td>
          <td class="paramname"><em>var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>var_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>save</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables dict stats thread. </p>
<p>It's used by: SET GLOBAL innodb_dict_stats_disabled_debug = 1 (0). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>thread handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var</td><td>pointer to system variable </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">var_ptr</td><td>where the formal string goes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">save</td><td>immediate result from check function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abbd01c787f43e4cd3cb17efff8e9e3ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbd01c787f43e4cd3cb17efff8e9e3ba">&#9670;&nbsp;</a></span>dict_stats_recalc_pool_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_stats_recalc_pool_add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a table to the recalc pool, which is processed by the background stats gathering thread. </p>
<p>Only the table id is added to the list, so the table can be closed after being enqueued and it will be opened when needed. If the table does not exist later (has been DROPped), then it will be removed from the pool and skipped. in: table to add</p>
<p>Only the table id is added to the list, so the table can be closed after being enqueued and it will be opened when needed. If the table does not exist later (has been DROPped), then it will be removed from the pool and skipped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: table to add </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59ed29688607989cd5cd27b1896b9c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ed29688607989cd5cd27b1896b9c4a">&#9670;&nbsp;</a></span>dict_stats_recalc_pool_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_stats_recalc_pool_del </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a given table from the auto recalc pool. </p>
<p>dict_stats_recalc_pool_del() in: table to remove</p>
<p>dict_stats_recalc_pool_del() </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: table to remove </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afa9c049441da959901ab7ba3bfa35d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa9c049441da959901ab7ba3bfa35d78">&#9670;&nbsp;</a></span>dict_stats_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_stats_shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown the dict stats thread. </p>

</div>
</div>
<a id="ab70f7aa9c4e9a718fe55b4fb6985763b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70f7aa9c4e9a718fe55b4fb6985763b">&#9670;&nbsp;</a></span>dict_stats_stop_bg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> dict_stats_stop_bg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the background collection of statistics to stop for a table. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>when no background process is active </td></tr>
    <tr><td class="paramname">false</td><td>when it is not safe to modify the table definition </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3f1eb528b279093894873d0e51a16eca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f1eb528b279093894873d0e51a16eca">&#9670;&nbsp;</a></span>dict_stats_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_stats_thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the thread for background stats gathering. </p>
<p>It pops tables, from the auto recalc list and proceeds them, eventually recalculating their statistics. </p>

</div>
</div>
<a id="a962109a70afdae393fa82d5781878bfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a962109a70afdae393fa82d5781878bfe">&#9670;&nbsp;</a></span>dict_stats_thread_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_stats_thread_deinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free resources allocated by dict_stats_thread_init(), must be called after dict_stats_thread() has exited. </p>

</div>
</div>
<a id="a74e3e009575ea5d36ceceb95f19f9b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74e3e009575ea5d36ceceb95f19f9b4f">&#9670;&nbsp;</a></span>dict_stats_thread_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_stats_thread_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize global variables needed for the operation of dict_stats_thread(). </p>
<p>Must be called before dict_stats_thread() is started.</p>
<p>Initialize global variables needed for the operation of dict_stats_thread(). </p>

</div>
</div>
<a id="ab091b3293165204ab3da469c4c187a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab091b3293165204ab3da469c4c187a86">&#9670;&nbsp;</a></span>dict_stats_wait_bg_to_stop_using_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_stats_wait_bg_to_stop_using_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until background stats thread has stopped using the specified table. </p>
<p>The caller must have locked the data dictionary using row_mysql_lock_data_dictionary() and this function may unlock it temporarily and restore the lock before it exits. The background stats thread is guaranteed not to start using the specified table after this function returns and before the caller unlocks the data dictionary because it sets the BG_STAT_IN_PROGRESS bit in table-&gt;stats_bg_flag under dict_sys-&gt;mutex. in/out: transaction to use for unlocking/locking the data dict</p>
<p>The caller must have locked the data dictionary using row_mysql_lock_data_dictionary() and this function may unlock it temporarily and restore the lock before it exits. The background stats thread is guaranteed not to start using the specified table after this function returns and before the caller unlocks the data dictionary because it sets the BG_STAT_IN_PROGRESS bit in table-&gt;stats_bg_flag under dict_sys-&gt;mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
    <tr><td class="paramname">trx</td><td>in/out: transaction to use for unlocking/locking the data dict </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a075126a43d67e35dec3e4a5be5a5e838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a075126a43d67e35dec3e4a5be5a5e838">&#9670;&nbsp;</a></span>dict_stats_event</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="os0event_8h.html#ae24909be432e4a95bd956a707e4d1d20">os_event_t</a> dict_stats_event</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event to wake up the stats thread. </p>

</div>
</div>
<a id="acfc2f571b1ae162da3128ed566c83975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc2f571b1ae162da3128ed566c83975">&#9670;&nbsp;</a></span>dict_stats_recalc_pool_mutex_key</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmysql__pfs__key__t.html">mysql_pfs_key_t</a> dict_stats_recalc_pool_mutex_key</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8c056a7e291cc1e10c211cce0ece8db3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c056a7e291cc1e10c211cce0ece8db3">&#9670;&nbsp;</a></span>innodb_dict_stats_disabled_debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="innodb__memcache_2util-src_2config__parser_8c.html#abb452686968e48b67397da5f97445f5b">bool</a> innodb_dict_stats_disabled_debug</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Value of MySQL global used to disable dict_stats thread. </p>
<p>Value of MySQL global used to disable dict_stats thread. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li><li class="navelem"><a class="el" href="dict0stats__bg_8h.html">dict0stats_bg.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
